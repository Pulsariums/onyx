(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t1={exports:{}},$s={},n1={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),Ly=Symbol.for("react.portal"),zy=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),Uy=Symbol.for("react.profiler"),By=Symbol.for("react.provider"),qy=Symbol.for("react.context"),Vy=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),Oy=Symbol.for("react.memo"),Gy=Symbol.for("react.lazy"),Ld=Symbol.iterator;function $y(t){return t===null||typeof t!="object"?null:(t=Ld&&t[Ld]||t["@@iterator"],typeof t=="function"?t:null)}var r1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i1=Object.assign,o1={};function Hi(t,e,n){this.props=t,this.context=e,this.refs=o1,this.updater=n||r1}Hi.prototype.isReactComponent={};Hi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l1(){}l1.prototype=Hi.prototype;function X0(t,e,n){this.props=t,this.context=e,this.refs=o1,this.updater=n||r1}var Q0=X0.prototype=new l1;Q0.constructor=X0;i1(Q0,Hi.prototype);Q0.isPureReactComponent=!0;var zd=Array.isArray,s1=Object.prototype.hasOwnProperty,Z0={current:null},a1={key:!0,ref:!0,__self:!0,__source:!0};function u1(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)s1.call(e,r)&&!a1.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:il,type:t,key:o,ref:l,props:i,_owner:Z0.current}}function Jy(t,e){return{$$typeof:il,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function j0(t){return typeof t=="object"&&t!==null&&t.$$typeof===il}function Wy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fd=/\/+/g;function Ea(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wy(""+t.key):e.toString(36)}function $l(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case il:case Ly:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Ea(l,0):r,zd(i)?(n="",t!=null&&(n=t.replace(Fd,"$&/")+"/"),$l(i,e,n,"",function(u){return u})):i!=null&&(j0(i)&&(i=Jy(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Fd,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",zd(t))for(var s=0;s<t.length;s++){o=t[s];var a=r+Ea(o,s);l+=$l(o,e,n,a,i)}else if(a=$y(t),typeof a=="function")for(t=a.call(t),s=0;!(o=t.next()).done;)o=o.value,a=r+Ea(o,s++),l+=$l(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function ml(t,e,n){if(t==null)return t;var r=[],i=0;return $l(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Yy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tt={current:null},Jl={transition:null},Ky={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Jl,ReactCurrentOwner:Z0};function c1(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:ml,forEach:function(t,e,n){ml(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ml(t,function(){e++}),e},toArray:function(t){return ml(t,function(e){return e})||[]},only:function(t){if(!j0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Hi;xe.Fragment=zy;xe.Profiler=Uy;xe.PureComponent=X0;xe.StrictMode=Fy;xe.Suspense=Hy;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ky;xe.act=c1;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=i1({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Z0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(a in e)s1.call(e,a)&&!a1.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&s!==void 0?s[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:il,type:t.type,key:i,ref:o,props:r,_owner:l}};xe.createContext=function(t){return t={$$typeof:qy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:By,_context:t},t.Consumer=t};xe.createElement=u1;xe.createFactory=function(t){var e=u1.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:Vy,render:t}};xe.isValidElement=j0;xe.lazy=function(t){return{$$typeof:Gy,_payload:{_status:-1,_result:t},_init:Yy}};xe.memo=function(t,e){return{$$typeof:Oy,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Jl.transition;Jl.transition={};try{t()}finally{Jl.transition=e}};xe.unstable_act=c1;xe.useCallback=function(t,e){return Tt.current.useCallback(t,e)};xe.useContext=function(t){return Tt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Tt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Tt.current.useEffect(t,e)};xe.useId=function(){return Tt.current.useId()};xe.useImperativeHandle=function(t,e,n){return Tt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Tt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Tt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Tt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Tt.current.useReducer(t,e,n)};xe.useRef=function(t){return Tt.current.useRef(t)};xe.useState=function(t){return Tt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Tt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Tt.current.useTransition()};xe.version="18.3.1";n1.exports=xe;var he=n1.exports;const d1=K0(he);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=he,Qy=Symbol.for("react.element"),Zy=Symbol.for("react.fragment"),jy=Object.prototype.hasOwnProperty,e5=Xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t5={key:!0,ref:!0,__self:!0,__source:!0};function f1(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)jy.call(e,r)&&!t5.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Qy,type:t,key:o,ref:l,props:i,_owner:e5.current}}$s.Fragment=Zy;$s.jsx=f1;$s.jsxs=f1;t1.exports=$s;var C=t1.exports,ku={},p1={exports:{}},Wt={},h1={exports:{}},m1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,oe){var A=G.length;G.push(oe);e:for(;0<A;){var X=A-1>>>1,de=G[X];if(0<i(de,oe))G[X]=oe,G[A]=de,A=X;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var oe=G[0],A=G.pop();if(A!==oe){G[0]=A;e:for(var X=0,de=G.length,P=de>>>1;X<P;){var Me=2*(X+1)-1,Se=G[Me],me=Me+1,Ae=G[me];if(0>i(Se,A))me<de&&0>i(Ae,Se)?(G[X]=Ae,G[me]=A,X=me):(G[X]=Se,G[Me]=A,X=Me);else if(me<de&&0>i(Ae,A))G[X]=Ae,G[me]=A,X=me;else break e}}return oe}function i(G,oe){var A=G.sortIndex-oe.sortIndex;return A!==0?A:G.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var a=[],u=[],d=1,p=null,h=3,m=!1,v=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(G){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=G)r(u),oe.sortIndex=oe.expirationTime,e(a,oe);else break;oe=n(u)}}function R(G){if(T=!1,k(G),!v)if(n(a)!==null)v=!0,ie(L);else{var oe=n(u);oe!==null&&pe(R,oe.startTime-G)}}function L(G,oe){v=!1,T&&(T=!1,S(V),V=-1),m=!0;var A=h;try{for(k(oe),p=n(a);p!==null&&(!(p.expirationTime>oe)||G&&!_());){var X=p.callback;if(typeof X=="function"){p.callback=null,h=p.priorityLevel;var de=X(p.expirationTime<=oe);oe=t.unstable_now(),typeof de=="function"?p.callback=de:p===n(a)&&r(a),k(oe)}else r(a);p=n(a)}if(p!==null)var P=!0;else{var Me=n(u);Me!==null&&pe(R,Me.startTime-oe),P=!1}return P}finally{p=null,h=A,m=!1}}var I=!1,U=null,V=-1,F=5,D=-1;function _(){return!(t.unstable_now()-D<F)}function B(){if(U!==null){var G=t.unstable_now();D=G;var oe=!0;try{oe=U(!0,G)}finally{oe?Y():(I=!1,U=null)}}else I=!1}var Y;if(typeof x=="function")Y=function(){x(B)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,te=re.port2;re.port1.onmessage=B,Y=function(){te.postMessage(null)}}else Y=function(){N(B,0)};function ie(G){U=G,I||(I=!0,Y())}function pe(G,oe){V=N(function(){G(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ie(L))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var A=h;h=oe;try{return G()}finally{h=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var A=h;h=G;try{return oe()}finally{h=A}},t.unstable_scheduleCallback=function(G,oe,A){var X=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?X+A:X):A=X,G){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=A+de,G={id:d++,callback:oe,priorityLevel:G,startTime:A,expirationTime:de,sortIndex:-1},A>X?(G.sortIndex=A,e(u,G),n(a)===null&&G===n(u)&&(T?(S(V),V=-1):T=!0,pe(R,A-X))):(G.sortIndex=de,e(a,G),v||m||(v=!0,ie(L))),G},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(G){var oe=h;return function(){var A=h;h=oe;try{return G.apply(this,arguments)}finally{h=A}}}})(m1);h1.exports=m1;var n5=h1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5=he,Jt=n5;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g1=new Set,Fo={};function Qr(t,e){Di(t,e),Di(t+"Capture",e)}function Di(t,e){for(Fo[t]=e,t=0;t<e.length;t++)g1.add(e[t])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=Object.prototype.hasOwnProperty,i5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ud={},Bd={};function o5(t){return Au.call(Bd,t)?!0:Au.call(Ud,t)?!1:i5.test(t)?Bd[t]=!0:(Ud[t]=!0,!1)}function l5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function s5(t,e,n,r){if(e===null||typeof e>"u"||l5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var ec=/[\-:]([a-z])/g;function tc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ec,tc);dt[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ec,tc);dt[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ec,tc);dt[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function nc(t,e,n,r){var i=dt.hasOwnProperty(e)?dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(s5(e,n,i,r)&&(n=null),r||i===null?o5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zn=r5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=Symbol.for("react.element"),ui=Symbol.for("react.portal"),ci=Symbol.for("react.fragment"),rc=Symbol.for("react.strict_mode"),Iu=Symbol.for("react.profiler"),y1=Symbol.for("react.provider"),v1=Symbol.for("react.context"),ic=Symbol.for("react.forward_ref"),bu=Symbol.for("react.suspense"),Mu=Symbol.for("react.suspense_list"),oc=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),x1=Symbol.for("react.offscreen"),qd=Symbol.iterator;function io(t){return t===null||typeof t!="object"?null:(t=qd&&t[qd]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,ka;function yo(t){if(ka===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ka=e&&e[1]||""}return`
`+ka+t}var Aa=!1;function Ia(t,e){if(!t||Aa)return"";Aa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=s);break}}}finally{Aa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yo(t):""}function a5(t){switch(t.tag){case 5:return yo(t.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return t=Ia(t.type,!1),t;case 11:return t=Ia(t.type.render,!1),t;case 1:return t=Ia(t.type,!0),t;default:return""}}function _u(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ci:return"Fragment";case ui:return"Portal";case Iu:return"Profiler";case rc:return"StrictMode";case bu:return"Suspense";case Mu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v1:return(t.displayName||"Context")+".Consumer";case y1:return(t._context.displayName||"Context")+".Provider";case ic:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oc:return e=t.displayName||null,e!==null?e:_u(t.type)||"Memo";case lr:e=t._payload,t=t._init;try{return _u(t(e))}catch{}}return null}function u5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _u(e);case 8:return e===rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function w1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function c5(t){var e=w1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yl(t){t._valueTracker||(t._valueTracker=c5(t))}function S1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=w1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nu(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T1(t,e){e=e.checked,e!=null&&nc(t,"checked",e,!1)}function Ru(t,e){T1(t,e);var n=Tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pu(t,e.type,Tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pu(t,e,n){(e!=="number"||cs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vo=Array.isArray;function Ti(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Du(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Od(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(vo(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tr(n)}}function C1(t,e){var n=Tr(e.value),r=Tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vl,k1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vl=vl||document.createElement("div"),vl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d5=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(t){d5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Co[e]=Co[t]})});function A1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Co.hasOwnProperty(t)&&Co[t]?(""+e).trim():e+"px"}function I1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=A1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var f5=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(t,e){if(e){if(f5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Fu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=null;function lc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bu=null,Ci=null,Ei=null;function $d(t){if(t=sl(t)){if(typeof Bu!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Xs(e),Bu(t.stateNode,t.type,e))}}function b1(t){Ci?Ei?Ei.push(t):Ei=[t]:Ci=t}function M1(){if(Ci){var t=Ci,e=Ei;if(Ei=Ci=null,$d(t),e)for(t=0;t<e.length;t++)$d(e[t])}}function _1(t,e){return t(e)}function N1(){}var ba=!1;function R1(t,e,n){if(ba)return t(e,n);ba=!0;try{return _1(t,e,n)}finally{ba=!1,(Ci!==null||Ei!==null)&&(N1(),M1())}}function Bo(t,e){var n=t.stateNode;if(n===null)return null;var r=Xs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var qu=!1;if(Gn)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){qu=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{qu=!1}function p5(t,e,n,r,i,o,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Eo=!1,ds=null,fs=!1,Vu=null,h5={onError:function(t){Eo=!0,ds=t}};function m5(t,e,n,r,i,o,l,s,a){Eo=!1,ds=null,p5.apply(h5,arguments)}function g5(t,e,n,r,i,o,l,s,a){if(m5.apply(this,arguments),Eo){if(Eo){var u=ds;Eo=!1,ds=null}else throw Error(W(198));fs||(fs=!0,Vu=u)}}function Zr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function P1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jd(t){if(Zr(t)!==t)throw Error(W(188))}function y5(t){var e=t.alternate;if(!e){if(e=Zr(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jd(i),t;if(o===r)return Jd(i),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function D1(t){return t=y5(t),t!==null?L1(t):null}function L1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=L1(t);if(e!==null)return e;t=t.sibling}return null}var z1=Jt.unstable_scheduleCallback,Wd=Jt.unstable_cancelCallback,v5=Jt.unstable_shouldYield,x5=Jt.unstable_requestPaint,Qe=Jt.unstable_now,w5=Jt.unstable_getCurrentPriorityLevel,sc=Jt.unstable_ImmediatePriority,F1=Jt.unstable_UserBlockingPriority,ps=Jt.unstable_NormalPriority,S5=Jt.unstable_LowPriority,U1=Jt.unstable_IdlePriority,Js=null,In=null;function T5(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Js,t,void 0,(t.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:k5,C5=Math.log,E5=Math.LN2;function k5(t){return t>>>=0,t===0?32:31-(C5(t)/E5|0)|0}var xl=64,wl=4194304;function xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=xo(s):(o&=l,o!==0&&(r=xo(o)))}else l=n&~i,l!==0?r=xo(l):o!==0&&(r=xo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mn(e),i=1<<n,r|=t[n],e&=~i;return r}function A5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-mn(o),s=1<<l,a=i[l];a===-1?(!(s&n)||s&r)&&(i[l]=A5(s,e)):a<=e&&(t.expiredLanes|=s),o&=~s}}function Hu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function B1(){var t=xl;return xl<<=1,!(xl&4194240)&&(xl=64),t}function Ma(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mn(e),t[e]=n}function b5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ac(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function q1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V1,uc,H1,O1,G1,Ou=!1,Sl=[],hr=null,mr=null,gr=null,qo=new Map,Vo=new Map,ar=[],M5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yd(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(e.pointerId)}}function lo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=sl(e),e!==null&&uc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _5(t,e,n,r,i){switch(e){case"focusin":return hr=lo(hr,t,e,n,r,i),!0;case"dragenter":return mr=lo(mr,t,e,n,r,i),!0;case"mouseover":return gr=lo(gr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qo.set(o,lo(qo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vo.set(o,lo(Vo.get(o)||null,t,e,n,r,i)),!0}return!1}function $1(t){var e=qr(t.target);if(e!==null){var n=Zr(e);if(n!==null){if(e=n.tag,e===13){if(e=P1(n),e!==null){t.blockedOn=e,G1(t.priority,function(){H1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uu=r,n.target.dispatchEvent(r),Uu=null}else return e=sl(n),e!==null&&uc(e),t.blockedOn=n,!1;e.shift()}return!0}function Kd(t,e,n){Wl(t)&&n.delete(e)}function N5(){Ou=!1,hr!==null&&Wl(hr)&&(hr=null),mr!==null&&Wl(mr)&&(mr=null),gr!==null&&Wl(gr)&&(gr=null),qo.forEach(Kd),Vo.forEach(Kd)}function so(t,e){t.blockedOn===e&&(t.blockedOn=null,Ou||(Ou=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,N5)))}function Ho(t){function e(i){return so(i,t)}if(0<Sl.length){so(Sl[0],t);for(var n=1;n<Sl.length;n++){var r=Sl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hr!==null&&so(hr,t),mr!==null&&so(mr,t),gr!==null&&so(gr,t),qo.forEach(e),Vo.forEach(e),n=0;n<ar.length;n++)r=ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)$1(n),n.blockedOn===null&&ar.shift()}var ki=Zn.ReactCurrentBatchConfig,ms=!0;function R5(t,e,n,r){var i=_e,o=ki.transition;ki.transition=null;try{_e=1,cc(t,e,n,r)}finally{_e=i,ki.transition=o}}function P5(t,e,n,r){var i=_e,o=ki.transition;ki.transition=null;try{_e=4,cc(t,e,n,r)}finally{_e=i,ki.transition=o}}function cc(t,e,n,r){if(ms){var i=Gu(t,e,n,r);if(i===null)Ba(t,e,r,gs,n),Yd(t,r);else if(_5(i,t,e,n,r))r.stopPropagation();else if(Yd(t,r),e&4&&-1<M5.indexOf(t)){for(;i!==null;){var o=sl(i);if(o!==null&&V1(o),o=Gu(t,e,n,r),o===null&&Ba(t,e,r,gs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ba(t,e,r,null,n)}}var gs=null;function Gu(t,e,n,r){if(gs=null,t=lc(r),t=qr(t),t!==null)if(e=Zr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=P1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gs=t,null}function J1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w5()){case sc:return 1;case F1:return 4;case ps:case S5:return 16;case U1:return 536870912;default:return 16}default:return 16}}var cr=null,dc=null,Yl=null;function W1(){if(Yl)return Yl;var t,e=dc,n=e.length,r,i="value"in cr?cr.value:cr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return Yl=i.slice(t,1<r?1-r:void 0)}function Kl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tl(){return!0}function Xd(){return!1}function Yt(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Tl:Xd,this.isPropagationStopped=Xd,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),e}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=Yt(Oi),ll=Ye({},Oi,{view:0,detail:0}),D5=Yt(ll),_a,Na,ao,Ws=Ye({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(_a=t.screenX-ao.screenX,Na=t.screenY-ao.screenY):Na=_a=0,ao=t),_a)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),Qd=Yt(Ws),L5=Ye({},Ws,{dataTransfer:0}),z5=Yt(L5),F5=Ye({},ll,{relatedTarget:0}),Ra=Yt(F5),U5=Ye({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),B5=Yt(U5),q5=Ye({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V5=Yt(q5),H5=Ye({},Oi,{data:0}),Zd=Yt(H5),O5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$5[t])?!!e[t]:!1}function pc(){return J5}var W5=Ye({},ll,{key:function(t){if(t.key){var e=O5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(t){return t.type==="keypress"?Kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y5=Yt(W5),K5=Ye({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jd=Yt(K5),X5=Ye({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),Q5=Yt(X5),Z5=Ye({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),j5=Yt(Z5),ev=Ye({},Ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=Yt(ev),nv=[9,13,27,32],hc=Gn&&"CompositionEvent"in window,ko=null;Gn&&"documentMode"in document&&(ko=document.documentMode);var rv=Gn&&"TextEvent"in window&&!ko,Y1=Gn&&(!hc||ko&&8<ko&&11>=ko),ef=" ",tf=!1;function K1(t,e){switch(t){case"keyup":return nv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var di=!1;function iv(t,e){switch(t){case"compositionend":return X1(e);case"keypress":return e.which!==32?null:(tf=!0,ef);case"textInput":return t=e.data,t===ef&&tf?null:t;default:return null}}function ov(t,e){if(di)return t==="compositionend"||!hc&&K1(t,e)?(t=W1(),Yl=dc=cr=null,di=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y1&&e.locale!=="ko"?null:e.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lv[t.type]:e==="textarea"}function Q1(t,e,n,r){b1(r),e=ys(e,"onChange"),0<e.length&&(n=new fc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ao=null,Oo=null;function sv(t){ag(t,0)}function Ys(t){var e=hi(t);if(S1(e))return t}function av(t,e){if(t==="change")return e}var Z1=!1;if(Gn){var Pa;if(Gn){var Da="oninput"in document;if(!Da){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),Da=typeof rf.oninput=="function"}Pa=Da}else Pa=!1;Z1=Pa&&(!document.documentMode||9<document.documentMode)}function of(){Ao&&(Ao.detachEvent("onpropertychange",j1),Oo=Ao=null)}function j1(t){if(t.propertyName==="value"&&Ys(Oo)){var e=[];Q1(e,Oo,t,lc(t)),R1(sv,e)}}function uv(t,e,n){t==="focusin"?(of(),Ao=e,Oo=n,Ao.attachEvent("onpropertychange",j1)):t==="focusout"&&of()}function cv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ys(Oo)}function dv(t,e){if(t==="click")return Ys(e)}function fv(t,e){if(t==="input"||t==="change")return Ys(e)}function pv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:pv;function Go(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Au.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sf(t,e){var n=lf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lf(n)}}function eg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tg(){for(var t=window,e=cs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cs(t.document)}return e}function mc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hv(t){var e=tg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eg(n.ownerDocument.documentElement,n)){if(r!==null&&mc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=sf(n,o);var l=sf(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mv=Gn&&"documentMode"in document&&11>=document.documentMode,fi=null,$u=null,Io=null,Ju=!1;function af(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ju||fi==null||fi!==cs(r)||(r=fi,"selectionStart"in r&&mc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Io&&Go(Io,r)||(Io=r,r=ys($u,"onSelect"),0<r.length&&(e=new fc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fi)))}function Cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pi={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},La={},ng={};Gn&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function Ks(t){if(La[t])return La[t];if(!pi[t])return t;var e=pi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ng)return La[t]=e[n];return t}var rg=Ks("animationend"),ig=Ks("animationiteration"),og=Ks("animationstart"),lg=Ks("transitionend"),sg=new Map,uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,e){sg.set(t,e),Qr(e,[t])}for(var za=0;za<uf.length;za++){var Fa=uf[za],gv=Fa.toLowerCase(),yv=Fa[0].toUpperCase()+Fa.slice(1);Ir(gv,"on"+yv)}Ir(rg,"onAnimationEnd");Ir(ig,"onAnimationIteration");Ir(og,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(lg,"onTransitionEnd");Di("onMouseEnter",["mouseout","mouseover"]);Di("onMouseLeave",["mouseout","mouseover"]);Di("onPointerEnter",["pointerout","pointerover"]);Di("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vv=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function cf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,g5(r,e,void 0,t),t.currentTarget=null}function ag(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;cf(i,s,u),o=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;cf(i,s,u),o=a}}}if(fs)throw t=Vu,fs=!1,Vu=null,t}function Fe(t,e){var n=e[Qu];n===void 0&&(n=e[Qu]=new Set);var r=t+"__bubble";n.has(r)||(ug(e,t,2,!1),n.add(r))}function Ua(t,e,n){var r=0;e&&(r|=4),ug(n,t,r,e)}var El="_reactListening"+Math.random().toString(36).slice(2);function $o(t){if(!t[El]){t[El]=!0,g1.forEach(function(n){n!=="selectionchange"&&(vv.has(n)||Ua(n,!1,t),Ua(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[El]||(e[El]=!0,Ua("selectionchange",!1,e))}}function ug(t,e,n,r){switch(J1(e)){case 1:var i=R5;break;case 4:i=P5;break;default:i=cc}n=i.bind(null,e,n,t),i=void 0,!qu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ba(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=qr(s),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}s=s.parentNode}}r=r.return}R1(function(){var u=o,d=lc(n),p=[];e:{var h=sg.get(t);if(h!==void 0){var m=fc,v=t;switch(t){case"keypress":if(Kl(n)===0)break e;case"keydown":case"keyup":m=Y5;break;case"focusin":v="focus",m=Ra;break;case"focusout":v="blur",m=Ra;break;case"beforeblur":case"afterblur":m=Ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=z5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Q5;break;case rg:case ig:case og:m=B5;break;case lg:m=j5;break;case"scroll":m=D5;break;case"wheel":m=tv;break;case"copy":case"cut":case"paste":m=V5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=jd}var T=(e&4)!==0,N=!T&&t==="scroll",S=T?h!==null?h+"Capture":null:h;T=[];for(var x=u,k;x!==null;){k=x;var R=k.stateNode;if(k.tag===5&&R!==null&&(k=R,S!==null&&(R=Bo(x,S),R!=null&&T.push(Jo(x,R,k)))),N)break;x=x.return}0<T.length&&(h=new m(h,v,null,n,d),p.push({event:h,listeners:T}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Uu&&(v=n.relatedTarget||n.fromElement)&&(qr(v)||v[$n]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?qr(v):null,v!==null&&(N=Zr(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(T=Qd,R="onMouseLeave",S="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(T=jd,R="onPointerLeave",S="onPointerEnter",x="pointer"),N=m==null?h:hi(m),k=v==null?h:hi(v),h=new T(R,x+"leave",m,n,d),h.target=N,h.relatedTarget=k,R=null,qr(d)===u&&(T=new T(S,x+"enter",v,n,d),T.target=k,T.relatedTarget=N,R=T),N=R,m&&v)t:{for(T=m,S=v,x=0,k=T;k;k=li(k))x++;for(k=0,R=S;R;R=li(R))k++;for(;0<x-k;)T=li(T),x--;for(;0<k-x;)S=li(S),k--;for(;x--;){if(T===S||S!==null&&T===S.alternate)break t;T=li(T),S=li(S)}T=null}else T=null;m!==null&&df(p,h,m,T,!1),v!==null&&N!==null&&df(p,N,v,T,!0)}}e:{if(h=u?hi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var L=av;else if(nf(h))if(Z1)L=fv;else{L=cv;var I=uv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(L=dv);if(L&&(L=L(t,u))){Q1(p,L,n,d);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Pu(h,"number",h.value)}switch(I=u?hi(u):window,t){case"focusin":(nf(I)||I.contentEditable==="true")&&(fi=I,$u=u,Io=null);break;case"focusout":Io=$u=fi=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,af(p,n,d);break;case"selectionchange":if(mv)break;case"keydown":case"keyup":af(p,n,d)}var U;if(hc)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else di?K1(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(Y1&&n.locale!=="ko"&&(di||V!=="onCompositionStart"?V==="onCompositionEnd"&&di&&(U=W1()):(cr=d,dc="value"in cr?cr.value:cr.textContent,di=!0)),I=ys(u,V),0<I.length&&(V=new Zd(V,t,null,n,d),p.push({event:V,listeners:I}),U?V.data=U:(U=X1(n),U!==null&&(V.data=U)))),(U=rv?iv(t,n):ov(t,n))&&(u=ys(u,"onBeforeInput"),0<u.length&&(d=new Zd("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=U))}ag(p,e)})}function Jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ys(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bo(t,n),o!=null&&r.unshift(Jo(t,o,i)),o=Bo(t,e),o!=null&&r.push(Jo(t,o,i))),t=t.return}return r}function li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function df(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=Bo(n,o),a!=null&&l.unshift(Jo(n,a,s))):i||(a=Bo(n,o),a!=null&&l.push(Jo(n,a,s)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var xv=/\r\n?/g,wv=/\u0000|\uFFFD/g;function ff(t){return(typeof t=="string"?t:""+t).replace(xv,`
`).replace(wv,"")}function kl(t,e,n){if(e=ff(e),ff(t)!==e&&n)throw Error(W(425))}function vs(){}var Wu=null,Yu=null;function Ku(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,pf=typeof Promise=="function"?Promise:void 0,Tv=typeof queueMicrotask=="function"?queueMicrotask:typeof pf<"u"?function(t){return pf.resolve(null).then(t).catch(Cv)}:Xu;function Cv(t){setTimeout(function(){throw t})}function qa(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ho(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ho(e)}function yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Gi,Wo="__reactProps$"+Gi,$n="__reactContainer$"+Gi,Qu="__reactEvents$"+Gi,Ev="__reactListeners$"+Gi,kv="__reactHandles$"+Gi;function qr(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[Cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hf(t);t!==null;){if(n=t[Cn])return n;t=hf(t)}return e}t=n,n=t.parentNode}return null}function sl(t){return t=t[Cn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Xs(t){return t[Wo]||null}var Zu=[],mi=-1;function br(t){return{current:t}}function Be(t){0>mi||(t.current=Zu[mi],Zu[mi]=null,mi--)}function Le(t,e){mi++,Zu[mi]=t.current,t.current=e}var Cr={},gt=br(Cr),Nt=br(!1),Jr=Cr;function Li(t,e){var n=t.type.contextTypes;if(!n)return Cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(t){return t=t.childContextTypes,t!=null}function xs(){Be(Nt),Be(gt)}function mf(t,e,n){if(gt.current!==Cr)throw Error(W(168));Le(gt,e),Le(Nt,n)}function cg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,u5(t)||"Unknown",i));return Ye({},n,r)}function ws(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,Jr=gt.current,Le(gt,t),Le(Nt,Nt.current),!0}function gf(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=cg(t,e,Jr),r.__reactInternalMemoizedMergedChildContext=t,Be(Nt),Be(gt),Le(gt,t)):Be(Nt),Le(Nt,n)}var Fn=null,Qs=!1,Va=!1;function dg(t){Fn===null?Fn=[t]:Fn.push(t)}function Av(t){Qs=!0,dg(t)}function Mr(){if(!Va&&Fn!==null){Va=!0;var t=0,e=_e;try{var n=Fn;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fn=null,Qs=!1}catch(i){throw Fn!==null&&(Fn=Fn.slice(t+1)),z1(sc,Mr),i}finally{_e=e,Va=!1}}return null}var gi=[],yi=0,Ss=null,Ts=0,Xt=[],Qt=0,Wr=null,Bn=1,qn="";function Fr(t,e){gi[yi++]=Ts,gi[yi++]=Ss,Ss=t,Ts=e}function fg(t,e,n){Xt[Qt++]=Bn,Xt[Qt++]=qn,Xt[Qt++]=Wr,Wr=t;var r=Bn;t=qn;var i=32-mn(r)-1;r&=~(1<<i),n+=1;var o=32-mn(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Bn=1<<32-mn(e)+i|n<<i|r,qn=o+t}else Bn=1<<o|n<<i|r,qn=t}function gc(t){t.return!==null&&(Fr(t,1),fg(t,1,0))}function yc(t){for(;t===Ss;)Ss=gi[--yi],gi[yi]=null,Ts=gi[--yi],gi[yi]=null;for(;t===Wr;)Wr=Xt[--Qt],Xt[Qt]=null,qn=Xt[--Qt],Xt[Qt]=null,Bn=Xt[--Qt],Xt[Qt]=null}var Gt=null,Ht=null,He=!1,hn=null;function pg(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Ht=yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wr!==null?{id:Bn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,Ht=null,!0):!1;default:return!1}}function ju(t){return(t.mode&1)!==0&&(t.flags&128)===0}function e0(t){if(He){var e=Ht;if(e){var n=e;if(!yf(t,e)){if(ju(t))throw Error(W(418));e=yr(n.nextSibling);var r=Gt;e&&yf(t,e)?pg(r,n):(t.flags=t.flags&-4097|2,He=!1,Gt=t)}}else{if(ju(t))throw Error(W(418));t.flags=t.flags&-4097|2,He=!1,Gt=t}}}function vf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function Al(t){if(t!==Gt)return!1;if(!He)return vf(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ku(t.type,t.memoizedProps)),e&&(e=Ht)){if(ju(t))throw hg(),Error(W(418));for(;e;)pg(t,e),e=yr(e.nextSibling)}if(vf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Gt?yr(t.stateNode.nextSibling):null;return!0}function hg(){for(var t=Ht;t;)t=yr(t.nextSibling)}function zi(){Ht=Gt=null,He=!1}function vc(t){hn===null?hn=[t]:hn.push(t)}var Iv=Zn.ReactCurrentBatchConfig;function uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Il(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xf(t){var e=t._init;return e(t._payload)}function mg(t){function e(S,x){if(t){var k=S.deletions;k===null?(S.deletions=[x],S.flags|=16):k.push(x)}}function n(S,x){if(!t)return null;for(;x!==null;)e(S,x),x=x.sibling;return null}function r(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function i(S,x){return S=Sr(S,x),S.index=0,S.sibling=null,S}function o(S,x,k){return S.index=k,t?(k=S.alternate,k!==null?(k=k.index,k<x?(S.flags|=2,x):k):(S.flags|=2,x)):(S.flags|=1048576,x)}function l(S){return t&&S.alternate===null&&(S.flags|=2),S}function s(S,x,k,R){return x===null||x.tag!==6?(x=Ya(k,S.mode,R),x.return=S,x):(x=i(x,k),x.return=S,x)}function a(S,x,k,R){var L=k.type;return L===ci?d(S,x,k.props.children,R,k.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===lr&&xf(L)===x.type)?(R=i(x,k.props),R.ref=uo(S,x,k),R.return=S,R):(R=ns(k.type,k.key,k.props,null,S.mode,R),R.ref=uo(S,x,k),R.return=S,R)}function u(S,x,k,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Ka(k,S.mode,R),x.return=S,x):(x=i(x,k.children||[]),x.return=S,x)}function d(S,x,k,R,L){return x===null||x.tag!==7?(x=$r(k,S.mode,R,L),x.return=S,x):(x=i(x,k),x.return=S,x)}function p(S,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ya(""+x,S.mode,k),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gl:return k=ns(x.type,x.key,x.props,null,S.mode,k),k.ref=uo(S,null,x),k.return=S,k;case ui:return x=Ka(x,S.mode,k),x.return=S,x;case lr:var R=x._init;return p(S,R(x._payload),k)}if(vo(x)||io(x))return x=$r(x,S.mode,k,null),x.return=S,x;Il(S,x)}return null}function h(S,x,k,R){var L=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return L!==null?null:s(S,x,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case gl:return k.key===L?a(S,x,k,R):null;case ui:return k.key===L?u(S,x,k,R):null;case lr:return L=k._init,h(S,x,L(k._payload),R)}if(vo(k)||io(k))return L!==null?null:d(S,x,k,R,null);Il(S,k)}return null}function m(S,x,k,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return S=S.get(k)||null,s(x,S,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case gl:return S=S.get(R.key===null?k:R.key)||null,a(x,S,R,L);case ui:return S=S.get(R.key===null?k:R.key)||null,u(x,S,R,L);case lr:var I=R._init;return m(S,x,k,I(R._payload),L)}if(vo(R)||io(R))return S=S.get(k)||null,d(x,S,R,L,null);Il(x,R)}return null}function v(S,x,k,R){for(var L=null,I=null,U=x,V=x=0,F=null;U!==null&&V<k.length;V++){U.index>V?(F=U,U=null):F=U.sibling;var D=h(S,U,k[V],R);if(D===null){U===null&&(U=F);break}t&&U&&D.alternate===null&&e(S,U),x=o(D,x,V),I===null?L=D:I.sibling=D,I=D,U=F}if(V===k.length)return n(S,U),He&&Fr(S,V),L;if(U===null){for(;V<k.length;V++)U=p(S,k[V],R),U!==null&&(x=o(U,x,V),I===null?L=U:I.sibling=U,I=U);return He&&Fr(S,V),L}for(U=r(S,U);V<k.length;V++)F=m(U,S,V,k[V],R),F!==null&&(t&&F.alternate!==null&&U.delete(F.key===null?V:F.key),x=o(F,x,V),I===null?L=F:I.sibling=F,I=F);return t&&U.forEach(function(_){return e(S,_)}),He&&Fr(S,V),L}function T(S,x,k,R){var L=io(k);if(typeof L!="function")throw Error(W(150));if(k=L.call(k),k==null)throw Error(W(151));for(var I=L=null,U=x,V=x=0,F=null,D=k.next();U!==null&&!D.done;V++,D=k.next()){U.index>V?(F=U,U=null):F=U.sibling;var _=h(S,U,D.value,R);if(_===null){U===null&&(U=F);break}t&&U&&_.alternate===null&&e(S,U),x=o(_,x,V),I===null?L=_:I.sibling=_,I=_,U=F}if(D.done)return n(S,U),He&&Fr(S,V),L;if(U===null){for(;!D.done;V++,D=k.next())D=p(S,D.value,R),D!==null&&(x=o(D,x,V),I===null?L=D:I.sibling=D,I=D);return He&&Fr(S,V),L}for(U=r(S,U);!D.done;V++,D=k.next())D=m(U,S,V,D.value,R),D!==null&&(t&&D.alternate!==null&&U.delete(D.key===null?V:D.key),x=o(D,x,V),I===null?L=D:I.sibling=D,I=D);return t&&U.forEach(function(B){return e(S,B)}),He&&Fr(S,V),L}function N(S,x,k,R){if(typeof k=="object"&&k!==null&&k.type===ci&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case gl:e:{for(var L=k.key,I=x;I!==null;){if(I.key===L){if(L=k.type,L===ci){if(I.tag===7){n(S,I.sibling),x=i(I,k.props.children),x.return=S,S=x;break e}}else if(I.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===lr&&xf(L)===I.type){n(S,I.sibling),x=i(I,k.props),x.ref=uo(S,I,k),x.return=S,S=x;break e}n(S,I);break}else e(S,I);I=I.sibling}k.type===ci?(x=$r(k.props.children,S.mode,R,k.key),x.return=S,S=x):(R=ns(k.type,k.key,k.props,null,S.mode,R),R.ref=uo(S,x,k),R.return=S,S=R)}return l(S);case ui:e:{for(I=k.key;x!==null;){if(x.key===I)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(S,x.sibling),x=i(x,k.children||[]),x.return=S,S=x;break e}else{n(S,x);break}else e(S,x);x=x.sibling}x=Ka(k,S.mode,R),x.return=S,S=x}return l(S);case lr:return I=k._init,N(S,x,I(k._payload),R)}if(vo(k))return v(S,x,k,R);if(io(k))return T(S,x,k,R);Il(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(S,x.sibling),x=i(x,k),x.return=S,S=x):(n(S,x),x=Ya(k,S.mode,R),x.return=S,S=x),l(S)):n(S,x)}return N}var Fi=mg(!0),gg=mg(!1),Cs=br(null),Es=null,vi=null,xc=null;function wc(){xc=vi=Es=null}function Sc(t){var e=Cs.current;Be(Cs),t._currentValue=e}function t0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ai(t,e){Es=t,xc=vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(xc!==t)if(t={context:t,memoizedValue:e,next:null},vi===null){if(Es===null)throw Error(W(308));vi=t,Es.dependencies={lanes:0,firstContext:t}}else vi=vi.next=t;return e}var Vr=null;function Tc(t){Vr===null?Vr=[t]:Vr.push(t)}function yg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tc(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jn(t,r)}function Jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sr=!1;function Cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jn(t,n)}return i=r.interleaved,i===null?(e.next=e,Tc(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jn(t,n)}function Xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ac(t,n)}}function wf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ks(t,e,n,r){var i=t.updateQueue;sr=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==l&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=a))}if(o!==null){var p=i.baseState;l=0,d=u=a=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,T=s;switch(h=e,m=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){p=v.call(m,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,h=typeof v=="function"?v.call(m,p,h):v,h==null)break e;p=Ye({},p,h);break e;case 2:sr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,a=p):d=d.next=m,l|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(a=p),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Kr|=l,t.lanes=l,t.memoizedState=p}}function Sf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var al={},bn=br(al),Yo=br(al),Ko=br(al);function Hr(t){if(t===al)throw Error(W(174));return t}function Ec(t,e){switch(Le(Ko,e),Le(Yo,t),Le(bn,al),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lu(e,t)}Be(bn),Le(bn,e)}function Ui(){Be(bn),Be(Yo),Be(Ko)}function xg(t){Hr(Ko.current);var e=Hr(bn.current),n=Lu(e,t.type);e!==n&&(Le(Yo,t),Le(bn,n))}function kc(t){Yo.current===t&&(Be(bn),Be(Yo))}var $e=br(0);function As(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ha=[];function Ac(){for(var t=0;t<Ha.length;t++)Ha[t]._workInProgressVersionPrimary=null;Ha.length=0}var Ql=Zn.ReactCurrentDispatcher,Oa=Zn.ReactCurrentBatchConfig,Yr=0,We=null,nt=null,lt=null,Is=!1,bo=!1,Xo=0,bv=0;function ft(){throw Error(W(321))}function Ic(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function bc(t,e,n,r,i,o){if(Yr=o,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ql.current=t===null||t.memoizedState===null?Rv:Pv,t=n(r,i),bo){o=0;do{if(bo=!1,Xo=0,25<=o)throw Error(W(301));o+=1,lt=nt=null,e.updateQueue=null,Ql.current=Dv,t=n(r,i)}while(bo)}if(Ql.current=bs,e=nt!==null&&nt.next!==null,Yr=0,lt=nt=We=null,Is=!1,e)throw Error(W(300));return t}function Mc(){var t=Xo!==0;return Xo=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?We.memoizedState=lt=t:lt=lt.next=t,lt}function on(){if(nt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=lt===null?We.memoizedState:lt.next;if(e!==null)lt=e,nt=t;else{if(t===null)throw Error(W(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?We.memoizedState=lt=t:lt=lt.next=t}return lt}function Qo(t,e){return typeof e=="function"?e(t):e}function Ga(t){var e=on(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,a=null,u=o;do{var d=u.lane;if((Yr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=p,l=r):a=a.next=p,We.lanes|=d,Kr|=d}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=s,yn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,We.lanes|=o,Kr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $a(t){var e=on(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);yn(o,e.memoizedState)||(_t=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function wg(){}function Sg(t,e){var n=We,r=on(),i=e(),o=!yn(r.memoizedState,i);if(o&&(r.memoizedState=i,_t=!0),r=r.queue,_c(Eg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Zo(9,Cg.bind(null,n,r,i,e),void 0,null),st===null)throw Error(W(349));Yr&30||Tg(n,e,i)}return i}function Tg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cg(t,e,n,r){e.value=n,e.getSnapshot=r,kg(e)&&Ag(t)}function Eg(t,e,n){return n(function(){kg(e)&&Ag(t)})}function kg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function Ag(t){var e=Jn(t,1);e!==null&&gn(e,t,1,-1)}function Tf(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},e.queue=t,t=t.dispatch=Nv.bind(null,We,t),[e.memoizedState,t]}function Zo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ig(){return on().memoizedState}function Zl(t,e,n,r){var i=wn();We.flags|=t,i.memoizedState=Zo(1|e,n,void 0,r===void 0?null:r)}function Zs(t,e,n,r){var i=on();r=r===void 0?null:r;var o=void 0;if(nt!==null){var l=nt.memoizedState;if(o=l.destroy,r!==null&&Ic(r,l.deps)){i.memoizedState=Zo(e,n,o,r);return}}We.flags|=t,i.memoizedState=Zo(1|e,n,o,r)}function Cf(t,e){return Zl(8390656,8,t,e)}function _c(t,e){return Zs(2048,8,t,e)}function bg(t,e){return Zs(4,2,t,e)}function Mg(t,e){return Zs(4,4,t,e)}function _g(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ng(t,e,n){return n=n!=null?n.concat([t]):null,Zs(4,4,_g.bind(null,e,t),n)}function Nc(){}function Rg(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ic(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pg(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ic(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Dg(t,e,n){return Yr&21?(yn(n,e)||(n=B1(),We.lanes|=n,Kr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function Mv(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Oa.transition;Oa.transition={};try{t(!1),e()}finally{_e=n,Oa.transition=r}}function Lg(){return on().memoizedState}function _v(t,e,n){var r=wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zg(t))Fg(e,n);else if(n=yg(t,e,n,r),n!==null){var i=St();gn(n,t,r,i),Ug(n,e,r)}}function Nv(t,e,n){var r=wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zg(t))Fg(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,yn(s,l)){var a=e.interleaved;a===null?(i.next=i,Tc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=yg(t,e,i,r),n!==null&&(i=St(),gn(n,t,r,i),Ug(n,e,r))}}function zg(t){var e=t.alternate;return t===We||e!==null&&e===We}function Fg(t,e){bo=Is=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ug(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ac(t,n)}}var bs={readContext:rn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},Rv={readContext:rn,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:Cf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zl(4194308,4,_g.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zl(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_v.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:Tf,useDebugValue:Nc,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=Tf(!1),e=t[0];return t=Mv.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=wn();if(He){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),st===null)throw Error(W(349));Yr&30||Tg(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Cf(Eg.bind(null,r,o,t),[t]),r.flags|=2048,Zo(9,Cg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=wn(),e=st.identifierPrefix;if(He){var n=qn,r=Bn;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pv={readContext:rn,useCallback:Rg,useContext:rn,useEffect:_c,useImperativeHandle:Ng,useInsertionEffect:bg,useLayoutEffect:Mg,useMemo:Pg,useReducer:Ga,useRef:Ig,useState:function(){return Ga(Qo)},useDebugValue:Nc,useDeferredValue:function(t){var e=on();return Dg(e,nt.memoizedState,t)},useTransition:function(){var t=Ga(Qo)[0],e=on().memoizedState;return[t,e]},useMutableSource:wg,useSyncExternalStore:Sg,useId:Lg,unstable_isNewReconciler:!1},Dv={readContext:rn,useCallback:Rg,useContext:rn,useEffect:_c,useImperativeHandle:Ng,useInsertionEffect:bg,useLayoutEffect:Mg,useMemo:Pg,useReducer:$a,useRef:Ig,useState:function(){return $a(Qo)},useDebugValue:Nc,useDeferredValue:function(t){var e=on();return nt===null?e.memoizedState=t:Dg(e,nt.memoizedState,t)},useTransition:function(){var t=$a(Qo)[0],e=on().memoizedState;return[t,e]},useMutableSource:wg,useSyncExternalStore:Sg,useId:Lg,unstable_isNewReconciler:!1};function dn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function n0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var js={isMounted:function(t){return(t=t._reactInternals)?Zr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),i=wr(t),o=Vn(r,i);o.payload=e,n!=null&&(o.callback=n),e=vr(t,o,i),e!==null&&(gn(e,t,i,r),Xl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),i=wr(t),o=Vn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vr(t,o,i),e!==null&&(gn(e,t,i,r),Xl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=wr(t),i=Vn(n,r);i.tag=2,e!=null&&(i.callback=e),e=vr(t,i,r),e!==null&&(gn(e,t,r,n),Xl(e,t,r))}};function Ef(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Go(n,r)||!Go(i,o):!0}function Bg(t,e,n){var r=!1,i=Cr,o=e.contextType;return typeof o=="object"&&o!==null?o=rn(o):(i=Rt(e)?Jr:gt.current,r=e.contextTypes,o=(r=r!=null)?Li(t,i):Cr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=js,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function kf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&js.enqueueReplaceState(e,e.state,null)}function r0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Cc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rn(o):(o=Rt(e)?Jr:gt.current,i.context=Li(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(n0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&js.enqueueReplaceState(i,i.state,null),ks(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bi(t,e){try{var n="",r=e;do n+=a5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ja(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function i0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Lv=typeof WeakMap=="function"?WeakMap:Map;function qg(t,e,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_s||(_s=!0,h0=r),i0(t,e)},n}function Vg(t,e,n){n=Vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){i0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){i0(t,e),typeof r!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Af(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Lv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Kv.bind(null,t,e,n),e.then(t,t))}function If(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vn(-1,1),e.tag=2,vr(n,e,1))),n.lanes|=1),t)}var zv=Zn.ReactCurrentOwner,_t=!1;function xt(t,e,n,r){e.child=t===null?gg(e,null,n,r):Fi(e,t.child,n,r)}function Mf(t,e,n,r,i){n=n.render;var o=e.ref;return Ai(e,i),r=bc(t,e,n,r,o,i),n=Mc(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(He&&n&&gc(e),e.flags|=1,xt(t,e,r,i),e.child)}function _f(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Bc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Hg(t,e,o,r,i)):(t=ns(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Go,n(l,r)&&t.ref===e.ref)return Wn(t,e,i)}return e.flags|=1,t=Sr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Hg(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Go(o,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Wn(t,e,i)}return o0(t,e,n,r,i)}function Og(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(wi,Bt),Bt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(wi,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(wi,Bt),Bt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Le(wi,Bt),Bt|=r;return xt(t,e,i,n),e.child}function Gg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function o0(t,e,n,r,i){var o=Rt(n)?Jr:gt.current;return o=Li(e,o),Ai(e,i),n=bc(t,e,n,r,o,i),r=Mc(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(He&&r&&gc(e),e.flags|=1,xt(t,e,n,i),e.child)}function Nf(t,e,n,r,i){if(Rt(n)){var o=!0;ws(e)}else o=!1;if(Ai(e,i),e.stateNode===null)jl(t,e),Bg(e,n,r),r0(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,s=e.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=Rt(n)?Jr:gt.current,u=Li(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&kf(e,l,r,u),sr=!1;var h=e.memoizedState;l.state=h,ks(e,r,l,i),a=e.memoizedState,s!==r||h!==a||Nt.current||sr?(typeof d=="function"&&(n0(e,n,d,r),a=e.memoizedState),(s=sr||Ef(e,n,s,r,h,a,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,vg(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:dn(e.type,s),l.props=u,p=e.pendingProps,h=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=rn(a):(a=Rt(n)?Jr:gt.current,a=Li(e,a));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||h!==a)&&kf(e,l,r,a),sr=!1,h=e.memoizedState,l.state=h,ks(e,r,l,i);var v=e.memoizedState;s!==p||h!==v||Nt.current||sr?(typeof m=="function"&&(n0(e,n,m,r),v=e.memoizedState),(u=sr||Ef(e,n,u,r,h,v,a)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),l.props=r,l.state=v,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return l0(t,e,n,r,o,i)}function l0(t,e,n,r,i,o){Gg(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&gf(e,n,!1),Wn(t,e,o);r=e.stateNode,zv.current=e;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Fi(e,t.child,null,o),e.child=Fi(e,null,s,o)):xt(t,e,s,o),e.memoizedState=r.state,i&&gf(e,n,!0),e.child}function $g(t){var e=t.stateNode;e.pendingContext?mf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mf(t,e.context,!1),Ec(t,e.containerInfo)}function Rf(t,e,n,r,i){return zi(),vc(i),e.flags|=256,xt(t,e,n,r),e.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function a0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jg(t,e,n){var r=e.pendingProps,i=$e.current,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le($e,i&1),t===null)return e0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=na(l,r,0,null),t=$r(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=a0(n),e.memoizedState=s0,t):Rc(e,l));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Fv(t,e,l,r,s,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Sr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Sr(s,o):(o=$r(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?a0(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=s0,r}return o=t.child,t=o.sibling,r=Sr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rc(t,e){return e=na({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bl(t,e,n,r){return r!==null&&vc(r),Fi(e,t.child,null,n),t=Rc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fv(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Ja(Error(W(422))),bl(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=na({mode:"visible",children:r.children},i,0,null),o=$r(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Fi(e,t.child,null,l),e.child.memoizedState=a0(l),e.memoizedState=s0,o);if(!(e.mode&1))return bl(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(W(419)),r=Ja(o,r,void 0),bl(t,e,l,r)}if(s=(l&t.childLanes)!==0,_t||s){if(r=st,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jn(t,i),gn(r,t,i,-1))}return Uc(),r=Ja(Error(W(421))),bl(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Xv.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ht=yr(i.nextSibling),Gt=e,He=!0,hn=null,t!==null&&(Xt[Qt++]=Bn,Xt[Qt++]=qn,Xt[Qt++]=Wr,Bn=t.id,qn=t.overflow,Wr=e),e=Rc(e,r.children),e.flags|=4096,e)}function Pf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),t0(t.return,e,n)}function Wa(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wg(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pf(t,n,e);else if(t.tag===19)Pf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&As(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wa(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&As(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wa(e,!0,n,null,o);break;case"together":Wa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Uv(t,e,n){switch(e.tag){case 3:$g(e),zi();break;case 5:xg(e);break;case 1:Rt(e.type)&&ws(e);break;case 4:Ec(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(Cs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?Jg(t,e,n):(Le($e,$e.current&1),t=Wn(t,e,n),t!==null?t.sibling:null);Le($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,Og(t,e,n)}return Wn(t,e,n)}var Yg,u0,Kg,Xg;Yg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};u0=function(){};Kg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hr(bn.current);var o=null;switch(n){case"input":i=Nu(t,i),r=Nu(t,r),o=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),o=[];break;case"textarea":i=Du(t,i),r=Du(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vs)}zu(n,r);var l;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Fe("scroll",t),o||s===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Xg=function(t,e,n,r){n!==r&&(e.flags|=4)};function co(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Bv(t,e,n){var r=e.pendingProps;switch(yc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Rt(e.type)&&xs(),pt(e),null;case 3:return r=e.stateNode,Ui(),Be(Nt),Be(gt),Ac(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Al(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(y0(hn),hn=null))),u0(t,e),pt(e),null;case 5:kc(e);var i=Hr(Ko.current);if(n=e.type,t!==null&&e.stateNode!=null)Kg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return pt(e),null}if(t=Hr(bn.current),Al(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cn]=e,r[Wo]=o,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<wo.length;i++)Fe(wo[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Vd(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":Od(r,o),Fe("invalid",r)}zu(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&kl(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&kl(r.textContent,s,t),i=["children",""+s]):Fo.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&Fe("scroll",r)}switch(n){case"input":yl(r),Hd(r,o,!0);break;case"textarea":yl(r),Gd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=vs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Cn]=e,t[Wo]=r,Yg(t,e,!1,!1),e.stateNode=t;e:{switch(l=Fu(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<wo.length;i++)Fe(wo[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":Vd(t,r),i=Nu(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":Od(t,r),i=Du(t,r),Fe("invalid",t);break;default:i=r}zu(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?I1(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&k1(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Uo(t,a):typeof a=="number"&&Uo(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Fe("scroll",t):a!=null&&nc(t,o,a,l))}switch(n){case"input":yl(t),Hd(t,r,!1);break;case"textarea":yl(t),Gd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ti(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ti(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)Xg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Hr(Ko.current),Hr(bn.current),Al(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cn]=e,(o=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:kl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=e,e.stateNode=r}return pt(e),null;case 13:if(Be($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Ht!==null&&e.mode&1&&!(e.flags&128))hg(),zi(),e.flags|=98560,o=!1;else if(o=Al(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Cn]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),o=!1}else hn!==null&&(y0(hn),hn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?rt===0&&(rt=3):Uc())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return Ui(),u0(t,e),t===null&&$o(e.stateNode.containerInfo),pt(e),null;case 10:return Sc(e.type._context),pt(e),null;case 17:return Rt(e.type)&&xs(),pt(e),null;case 19:if(Be($e),o=e.memoizedState,o===null)return pt(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)co(o,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=As(t),l!==null){for(e.flags|=128,co(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le($e,$e.current&1|2),e.child}t=t.sibling}o.tail!==null&&Qe()>qi&&(e.flags|=128,r=!0,co(o,!1),e.lanes=4194304)}else{if(!r)if(t=As(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),co(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!He)return pt(e),null}else 2*Qe()-o.renderingStartTime>qi&&n!==1073741824&&(e.flags|=128,r=!0,co(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qe(),e.sibling=null,n=$e.current,Le($e,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return Fc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function qv(t,e){switch(yc(e),e.tag){case 1:return Rt(e.type)&&xs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ui(),Be(Nt),Be(gt),Ac(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kc(e),null;case 13:if(Be($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be($e),null;case 4:return Ui(),null;case 10:return Sc(e.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var Ml=!1,ht=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,le=null;function xi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function c0(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var Df=!1;function Hv(t,e){if(Wu=ms,t=tg(),mc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,d=0,p=t,h=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(s=l+i),p!==o||r!==0&&p.nodeType!==3||(a=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===t)break t;if(h===n&&++u===i&&(s=l),h===o&&++d===r&&(a=l),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:t,selectionRange:n},ms=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,N=v.memoizedState,S=e.stateNode,x=S.getSnapshotBeforeUpdate(e.elementType===e.type?T:dn(e.type,T),N);S.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(R){Xe(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return v=Df,Df=!1,v}function Mo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&c0(e,n,o)}i=i.next}while(i!==r)}}function ea(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function d0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qg(t){var e=t.alternate;e!==null&&(t.alternate=null,Qg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cn],delete e[Wo],delete e[Qu],delete e[Ev],delete e[kv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zg(t){return t.tag===5||t.tag===3||t.tag===4}function Lf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function f0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vs));else if(r!==4&&(t=t.child,t!==null))for(f0(t,e,n),t=t.sibling;t!==null;)f0(t,e,n),t=t.sibling}function p0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(p0(t,e,n),t=t.sibling;t!==null;)p0(t,e,n),t=t.sibling}var ut=null,fn=!1;function nr(t,e,n){for(n=n.child;n!==null;)jg(t,e,n),n=n.sibling}function jg(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Js,n)}catch{}switch(n.tag){case 5:ht||xi(n,e);case 6:var r=ut,i=fn;ut=null,nr(t,e,n),ut=r,fn=i,ut!==null&&(fn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(fn?(t=ut,n=n.stateNode,t.nodeType===8?qa(t.parentNode,n):t.nodeType===1&&qa(t,n),Ho(t)):qa(ut,n.stateNode));break;case 4:r=ut,i=fn,ut=n.stateNode.containerInfo,fn=!0,nr(t,e,n),ut=r,fn=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&c0(n,e,l),i=i.next}while(i!==r)}nr(t,e,n);break;case 1:if(!ht&&(xi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Xe(n,e,s)}nr(t,e,n);break;case 21:nr(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,nr(t,e,n),ht=r):nr(t,e,n);break;default:nr(t,e,n)}}function zf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vv),e.forEach(function(r){var i=Qv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,s=l;e:for(;s!==null;){switch(s.tag){case 5:ut=s.stateNode,fn=!1;break e;case 3:ut=s.stateNode.containerInfo,fn=!0;break e;case 4:ut=s.stateNode.containerInfo,fn=!0;break e}s=s.return}if(ut===null)throw Error(W(160));jg(o,l,i),ut=null,fn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e4(e,t),e=e.sibling}function e4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),xn(t),r&4){try{Mo(3,t,t.return),ea(3,t)}catch(T){Xe(t,t.return,T)}try{Mo(5,t,t.return)}catch(T){Xe(t,t.return,T)}}break;case 1:cn(e,t),xn(t),r&512&&n!==null&&xi(n,n.return);break;case 5:if(cn(e,t),xn(t),r&512&&n!==null&&xi(n,n.return),t.flags&32){var i=t.stateNode;try{Uo(i,"")}catch(T){Xe(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,s=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&T1(i,o),Fu(s,l);var u=Fu(s,o);for(l=0;l<a.length;l+=2){var d=a[l],p=a[l+1];d==="style"?I1(i,p):d==="dangerouslySetInnerHTML"?k1(i,p):d==="children"?Uo(i,p):nc(i,d,p,u)}switch(s){case"input":Ru(i,o);break;case"textarea":C1(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ti(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ti(i,!!o.multiple,o.defaultValue,!0):Ti(i,!!o.multiple,o.multiple?[]:"",!1))}i[Wo]=o}catch(T){Xe(t,t.return,T)}}break;case 6:if(cn(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){Xe(t,t.return,T)}}break;case 3:if(cn(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ho(e.containerInfo)}catch(T){Xe(t,t.return,T)}break;case 4:cn(e,t),xn(t);break;case 13:cn(e,t),xn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lc=Qe())),r&4&&zf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(u=ht)||d,cn(e,t),ht=u):cn(e,t),xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(le=t,d=t.child;d!==null;){for(p=le=d;le!==null;){switch(h=le,m=h.child,h.tag){case 0:case 11:case 14:case 15:Mo(4,h,h.return);break;case 1:xi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){Xe(r,n,T)}}break;case 5:xi(h,h.return);break;case 22:if(h.memoizedState!==null){Uf(p);continue}}m!==null?(m.return=h,le=m):Uf(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,a=p.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=A1("display",l))}catch(T){Xe(t,t.return,T)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(T){Xe(t,t.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:cn(e,t),xn(t),r&4&&zf(t);break;case 21:break;default:cn(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zg(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uo(i,""),r.flags&=-33);var o=Lf(t);p0(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Lf(t);f0(t,s,l);break;default:throw Error(W(161))}}catch(a){Xe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ov(t,e,n){le=t,t4(t)}function t4(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Ml;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||ht;s=Ml;var u=ht;if(Ml=l,(ht=a)&&!u)for(le=i;le!==null;)l=le,a=l.child,l.tag===22&&l.memoizedState!==null?Bf(i):a!==null?(a.return=l,le=a):Bf(i);for(;o!==null;)le=o,t4(o),o=o.sibling;le=i,Ml=s,ht=u}Ff(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):Ff(t)}}function Ff(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||ea(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Sf(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sf(e,l,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ho(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ht||e.flags&512&&d0(e)}catch(h){Xe(e,e.return,h)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function Uf(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function Bf(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ea(4,e)}catch(a){Xe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Xe(e,i,a)}}var o=e.return;try{d0(e)}catch(a){Xe(e,o,a)}break;case 5:var l=e.return;try{d0(e)}catch(a){Xe(e,l,a)}}}catch(a){Xe(e,e.return,a)}if(e===t){le=null;break}var s=e.sibling;if(s!==null){s.return=e.return,le=s;break}le=e.return}}var Gv=Math.ceil,Ms=Zn.ReactCurrentDispatcher,Pc=Zn.ReactCurrentOwner,tn=Zn.ReactCurrentBatchConfig,Te=0,st=null,et=null,ct=0,Bt=0,wi=br(0),rt=0,jo=null,Kr=0,ta=0,Dc=0,_o=null,Mt=null,Lc=0,qi=1/0,zn=null,_s=!1,h0=null,xr=null,_l=!1,dr=null,Ns=0,No=0,m0=null,es=-1,ts=0;function St(){return Te&6?Qe():es!==-1?es:es=Qe()}function wr(t){return t.mode&1?Te&2&&ct!==0?ct&-ct:Iv.transition!==null?(ts===0&&(ts=B1()),ts):(t=_e,t!==0||(t=window.event,t=t===void 0?16:J1(t.type)),t):1}function gn(t,e,n,r){if(50<No)throw No=0,m0=null,Error(W(185));ol(t,n,r),(!(Te&2)||t!==st)&&(t===st&&(!(Te&2)&&(ta|=n),rt===4&&ur(t,ct)),Pt(t,r),n===1&&Te===0&&!(e.mode&1)&&(qi=Qe()+500,Qs&&Mr()))}function Pt(t,e){var n=t.callbackNode;I5(t,e);var r=hs(t,t===st?ct:0);if(r===0)n!==null&&Wd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wd(n),e===1)t.tag===0?Av(qf.bind(null,t)):dg(qf.bind(null,t)),Tv(function(){!(Te&6)&&Mr()}),n=null;else{switch(q1(r)){case 1:n=sc;break;case 4:n=F1;break;case 16:n=ps;break;case 536870912:n=U1;break;default:n=ps}n=u4(n,n4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n4(t,e){if(es=-1,ts=0,Te&6)throw Error(W(327));var n=t.callbackNode;if(Ii()&&t.callbackNode!==n)return null;var r=hs(t,t===st?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rs(t,r);else{e=r;var i=Te;Te|=2;var o=i4();(st!==t||ct!==e)&&(zn=null,qi=Qe()+500,Gr(t,e));do try{Wv();break}catch(s){r4(t,s)}while(!0);wc(),Ms.current=o,Te=i,et!==null?e=0:(st=null,ct=0,e=rt)}if(e!==0){if(e===2&&(i=Hu(t),i!==0&&(r=i,e=g0(t,i))),e===1)throw n=jo,Gr(t,0),ur(t,r),Pt(t,Qe()),n;if(e===6)ur(t,r);else{if(i=t.current.alternate,!(r&30)&&!$v(i)&&(e=Rs(t,r),e===2&&(o=Hu(t),o!==0&&(r=o,e=g0(t,o))),e===1))throw n=jo,Gr(t,0),ur(t,r),Pt(t,Qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ur(t,Mt,zn);break;case 3:if(ur(t,r),(r&130023424)===r&&(e=Lc+500-Qe(),10<e)){if(hs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xu(Ur.bind(null,t,Mt,zn),e);break}Ur(t,Mt,zn);break;case 4:if(ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-mn(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gv(r/1960))-r,10<r){t.timeoutHandle=Xu(Ur.bind(null,t,Mt,zn),r);break}Ur(t,Mt,zn);break;case 5:Ur(t,Mt,zn);break;default:throw Error(W(329))}}}return Pt(t,Qe()),t.callbackNode===n?n4.bind(null,t):null}function g0(t,e){var n=_o;return t.current.memoizedState.isDehydrated&&(Gr(t,e).flags|=256),t=Rs(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&y0(e)),t}function y0(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function $v(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ur(t,e){for(e&=~Dc,e&=~ta,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mn(e),r=1<<n;t[n]=-1,e&=~r}}function qf(t){if(Te&6)throw Error(W(327));Ii();var e=hs(t,0);if(!(e&1))return Pt(t,Qe()),null;var n=Rs(t,e);if(t.tag!==0&&n===2){var r=Hu(t);r!==0&&(e=r,n=g0(t,r))}if(n===1)throw n=jo,Gr(t,0),ur(t,e),Pt(t,Qe()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ur(t,Mt,zn),Pt(t,Qe()),null}function zc(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(qi=Qe()+500,Qs&&Mr())}}function Xr(t){dr!==null&&dr.tag===0&&!(Te&6)&&Ii();var e=Te;Te|=1;var n=tn.transition,r=_e;try{if(tn.transition=null,_e=1,t)return t()}finally{_e=r,tn.transition=n,Te=e,!(Te&6)&&Mr()}}function Fc(){Bt=wi.current,Be(wi)}function Gr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Sv(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(yc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xs();break;case 3:Ui(),Be(Nt),Be(gt),Ac();break;case 5:kc(r);break;case 4:Ui();break;case 13:Be($e);break;case 19:Be($e);break;case 10:Sc(r.type._context);break;case 22:case 23:Fc()}n=n.return}if(st=t,et=t=Sr(t.current,null),ct=Bt=e,rt=0,jo=null,Dc=ta=Kr=0,Mt=_o=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Vr=null}return t}function r4(t,e){do{var n=et;try{if(wc(),Ql.current=bs,Is){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Is=!1}if(Yr=0,lt=nt=We=null,bo=!1,Xo=0,Pc.current=null,n===null||n.return===null){rt=1,jo=e,et=null;break}e:{var o=t,l=n.return,s=n,a=e;if(e=ct,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=If(l);if(m!==null){m.flags&=-257,bf(m,l,s,o,e),m.mode&1&&Af(o,u,e),e=m,a=u;var v=e.updateQueue;if(v===null){var T=new Set;T.add(a),e.updateQueue=T}else v.add(a);break e}else{if(!(e&1)){Af(o,u,e),Uc();break e}a=Error(W(426))}}else if(He&&s.mode&1){var N=If(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),bf(N,l,s,o,e),vc(Bi(a,s));break e}}o=a=Bi(a,s),rt!==4&&(rt=2),_o===null?_o=[o]:_o.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=qg(o,a,e);wf(o,S);break e;case 1:s=a;var x=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(xr===null||!xr.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=Vg(o,s,e);wf(o,R);break e}}o=o.return}while(o!==null)}l4(n)}catch(L){e=L,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function i4(){var t=Ms.current;return Ms.current=bs,t===null?bs:t}function Uc(){(rt===0||rt===3||rt===2)&&(rt=4),st===null||!(Kr&268435455)&&!(ta&268435455)||ur(st,ct)}function Rs(t,e){var n=Te;Te|=2;var r=i4();(st!==t||ct!==e)&&(zn=null,Gr(t,e));do try{Jv();break}catch(i){r4(t,i)}while(!0);if(wc(),Te=n,Ms.current=r,et!==null)throw Error(W(261));return st=null,ct=0,rt}function Jv(){for(;et!==null;)o4(et)}function Wv(){for(;et!==null&&!v5();)o4(et)}function o4(t){var e=a4(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?l4(t):et=e,Pc.current=null}function l4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qv(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,et=null;return}}else if(n=Bv(n,e,Bt),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);rt===0&&(rt=5)}function Ur(t,e,n){var r=_e,i=tn.transition;try{tn.transition=null,_e=1,Yv(t,e,n,r)}finally{tn.transition=i,_e=r}return null}function Yv(t,e,n,r){do Ii();while(dr!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(b5(t,o),t===st&&(et=st=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_l||(_l=!0,u4(ps,function(){return Ii(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=tn.transition,tn.transition=null;var l=_e;_e=1;var s=Te;Te|=4,Pc.current=null,Hv(t,n),e4(n,t),hv(Yu),ms=!!Wu,Yu=Wu=null,t.current=n,Ov(n),x5(),Te=s,_e=l,tn.transition=o}else t.current=n;if(_l&&(_l=!1,dr=t,Ns=i),o=t.pendingLanes,o===0&&(xr=null),T5(n.stateNode),Pt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_s)throw _s=!1,t=h0,h0=null,t;return Ns&1&&t.tag!==0&&Ii(),o=t.pendingLanes,o&1?t===m0?No++:(No=0,m0=t):No=0,Mr(),null}function Ii(){if(dr!==null){var t=q1(Ns),e=tn.transition,n=_e;try{if(tn.transition=null,_e=16>t?16:t,dr===null)var r=!1;else{if(t=dr,dr=null,Ns=0,Te&6)throw Error(W(331));var i=Te;for(Te|=4,le=t.current;le!==null;){var o=le,l=o.child;if(le.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Mo(8,d,o)}var p=d.child;if(p!==null)p.return=d,le=p;else for(;le!==null;){d=le;var h=d.sibling,m=d.return;if(Qg(d),d===u){le=null;break}if(h!==null){h.return=m,le=h;break}le=m}}}var v=o.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var N=T.sibling;T.sibling=null,T=N}while(T!==null)}}le=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,le=l;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Mo(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,le=S;break e}le=o.return}}var x=t.current;for(le=x;le!==null;){l=le;var k=l.child;if(l.subtreeFlags&2064&&k!==null)k.return=l,le=k;else e:for(l=x;le!==null;){if(s=le,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ea(9,s)}}catch(L){Xe(s,s.return,L)}if(s===l){le=null;break e}var R=s.sibling;if(R!==null){R.return=s.return,le=R;break e}le=s.return}}if(Te=i,Mr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Js,t)}catch{}r=!0}return r}finally{_e=n,tn.transition=e}}return!1}function Vf(t,e,n){e=Bi(n,e),e=qg(t,e,1),t=vr(t,e,1),e=St(),t!==null&&(ol(t,1,e),Pt(t,e))}function Xe(t,e,n){if(t.tag===3)Vf(t,t,n);else for(;e!==null;){if(e.tag===3){Vf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xr===null||!xr.has(r))){t=Bi(n,t),t=Vg(e,t,1),e=vr(e,t,1),t=St(),e!==null&&(ol(e,1,t),Pt(e,t));break}}e=e.return}}function Kv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ct&n)===n&&(rt===4||rt===3&&(ct&130023424)===ct&&500>Qe()-Lc?Gr(t,0):Dc|=n),Pt(t,e)}function s4(t,e){e===0&&(t.mode&1?(e=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):e=1);var n=St();t=Jn(t,e),t!==null&&(ol(t,e,n),Pt(t,n))}function Xv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),s4(t,n)}function Qv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),s4(t,n)}var a4;a4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,Uv(t,e,n);_t=!!(t.flags&131072)}else _t=!1,He&&e.flags&1048576&&fg(e,Ts,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jl(t,e),t=e.pendingProps;var i=Li(e,gt.current);Ai(e,n),i=bc(null,e,r,t,i,n);var o=Mc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rt(r)?(o=!0,ws(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cc(e),i.updater=js,e.stateNode=i,i._reactInternals=e,r0(e,r,t,n),e=l0(null,e,r,!0,o,n)):(e.tag=0,He&&o&&gc(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jv(r),t=dn(r,t),i){case 0:e=o0(null,e,r,t,n);break e;case 1:e=Nf(null,e,r,t,n);break e;case 11:e=Mf(null,e,r,t,n);break e;case 14:e=_f(null,e,r,dn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),o0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Nf(t,e,r,i,n);case 3:e:{if($g(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,i=o.element,vg(t,e),ks(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Bi(Error(W(423)),e),e=Rf(t,e,r,n,i);break e}else if(r!==i){i=Bi(Error(W(424)),e),e=Rf(t,e,r,n,i);break e}else for(Ht=yr(e.stateNode.containerInfo.firstChild),Gt=e,He=!0,hn=null,n=gg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zi(),r===i){e=Wn(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return xg(e),t===null&&e0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,Ku(r,i)?l=null:o!==null&&Ku(r,o)&&(e.flags|=32),Gg(t,e),xt(t,e,l,n),e.child;case 6:return t===null&&e0(e),null;case 13:return Jg(t,e,n);case 4:return Ec(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fi(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Mf(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,Le(Cs,r._currentValue),r._currentValue=l,o!==null)if(yn(o.value,l)){if(o.children===i.children&&!Nt.current){e=Wn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Vn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),t0(o.return,n,e),s.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(W(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),t0(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ai(e,n),i=rn(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=dn(r,e.pendingProps),i=dn(r.type,i),_f(t,e,r,i,n);case 15:return Hg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),jl(t,e),e.tag=1,Rt(r)?(t=!0,ws(e)):t=!1,Ai(e,n),Bg(e,r,i),r0(e,r,i,n),l0(null,e,r,!0,t,n);case 19:return Wg(t,e,n);case 22:return Og(t,e,n)}throw Error(W(156,e.tag))};function u4(t,e){return z1(t,e)}function Zv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new Zv(t,e,n,r)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jv(t){if(typeof t=="function")return Bc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ic)return 11;if(t===oc)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ns(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")Bc(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ci:return $r(n.children,i,o,e);case rc:l=8,i|=8;break;case Iu:return t=jt(12,n,e,i|2),t.elementType=Iu,t.lanes=o,t;case bu:return t=jt(13,n,e,i),t.elementType=bu,t.lanes=o,t;case Mu:return t=jt(19,n,e,i),t.elementType=Mu,t.lanes=o,t;case x1:return na(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y1:l=10;break e;case v1:l=9;break e;case ic:l=11;break e;case oc:l=14;break e;case lr:l=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=jt(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function $r(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function na(t,e,n,r){return t=jt(22,t,r,e),t.elementType=x1,t.lanes=n,t.stateNode={isHidden:!1},t}function Ya(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function Ka(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qc(t,e,n,r,i,o,l,s,a){return t=new e3(t,e,n,s,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=jt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(o),t}function t3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function c4(t){if(!t)return Cr;t=t._reactInternals;e:{if(Zr(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Rt(n))return cg(t,n,e)}return e}function d4(t,e,n,r,i,o,l,s,a){return t=qc(n,r,!0,t,i,o,l,s,a),t.context=c4(null),n=t.current,r=St(),i=wr(n),o=Vn(r,i),o.callback=e??null,vr(n,o,i),t.current.lanes=i,ol(t,i,r),Pt(t,r),t}function ra(t,e,n,r){var i=e.current,o=St(),l=wr(i);return n=c4(n),e.context===null?e.context=n:e.pendingContext=n,e=Vn(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vr(i,e,l),t!==null&&(gn(t,i,l,o),Xl(t,i,l)),l}function Ps(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vc(t,e){Hf(t,e),(t=t.alternate)&&Hf(t,e)}function n3(){return null}var f4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hc(t){this._internalRoot=t}ia.prototype.render=Hc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));ra(t,e,null,null)};ia.prototype.unmount=Hc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xr(function(){ra(null,t,null,null)}),e[$n]=null}};function ia(t){this._internalRoot=t}ia.prototype.unstable_scheduleHydration=function(t){if(t){var e=O1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ar.length&&e!==0&&e<ar[n].priority;n++);ar.splice(n,0,t),n===0&&$1(t)}};function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Of(){}function r3(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ps(l);o.call(u)}}var l=d4(e,r,t,0,null,!1,!1,"",Of);return t._reactRootContainer=l,t[$n]=l.current,$o(t.nodeType===8?t.parentNode:t),Xr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Ps(a);s.call(u)}}var a=qc(t,0,!1,null,null,!1,!1,"",Of);return t._reactRootContainer=a,t[$n]=a.current,$o(t.nodeType===8?t.parentNode:t),Xr(function(){ra(e,a,n,r)}),a}function la(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=Ps(l);s.call(a)}}ra(e,l,t,i)}else l=r3(n,e,t,i,r);return Ps(l)}V1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xo(e.pendingLanes);n!==0&&(ac(e,n|1),Pt(e,Qe()),!(Te&6)&&(qi=Qe()+500,Mr()))}break;case 13:Xr(function(){var r=Jn(t,1);if(r!==null){var i=St();gn(r,t,1,i)}}),Vc(t,1)}};uc=function(t){if(t.tag===13){var e=Jn(t,134217728);if(e!==null){var n=St();gn(e,t,134217728,n)}Vc(t,134217728)}};H1=function(t){if(t.tag===13){var e=wr(t),n=Jn(t,e);if(n!==null){var r=St();gn(n,t,e,r)}Vc(t,e)}};O1=function(){return _e};G1=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Bu=function(t,e,n){switch(e){case"input":if(Ru(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xs(r);if(!i)throw Error(W(90));S1(r),Ru(r,i)}}}break;case"textarea":C1(t,n);break;case"select":e=n.value,e!=null&&Ti(t,!!n.multiple,e,!1)}};_1=zc;N1=Xr;var i3={usingClientEntryPoint:!1,Events:[sl,hi,Xs,b1,M1,zc]},fo={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o3={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D1(t),t===null?null:t.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||n3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Js=Nl.inject(o3),In=Nl}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i3;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(e))throw Error(W(200));return t3(t,e,null,n)};Wt.createRoot=function(t,e){if(!Oc(t))throw Error(W(299));var n=!1,r="",i=f4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qc(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,$o(t.nodeType===8?t.parentNode:t),new Hc(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=D1(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return Xr(t)};Wt.hydrate=function(t,e,n){if(!oa(e))throw Error(W(200));return la(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!Oc(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=f4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=d4(e,null,t,1,n??null,i,!1,o,l),t[$n]=e.current,$o(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ia(e)};Wt.render=function(t,e,n){if(!oa(e))throw Error(W(200));return la(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!oa(t))throw Error(W(40));return t._reactRootContainer?(Xr(function(){la(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};Wt.unstable_batchedUpdates=zc;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oa(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return la(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function p4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p4)}catch(t){console.error(t)}}p4(),p1.exports=Wt;var l3=p1.exports,Gf=l3;ku.createRoot=Gf.createRoot,ku.hydrateRoot=Gf.hydrateRoot;var at=[];for(var Xa=0;Xa<256;++Xa)at.push((Xa+256).toString(16).slice(1));function s3(t,e=0){return(at[t[e+0]]+at[t[e+1]]+at[t[e+2]]+at[t[e+3]]+"-"+at[t[e+4]]+at[t[e+5]]+"-"+at[t[e+6]]+at[t[e+7]]+"-"+at[t[e+8]]+at[t[e+9]]+"-"+at[t[e+10]]+at[t[e+11]]+at[t[e+12]]+at[t[e+13]]+at[t[e+14]]+at[t[e+15]]).toLowerCase()}var Rl,a3=new Uint8Array(16);function u3(){if(!Rl&&(Rl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Rl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rl(a3)}var c3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const $f={randomUUID:c3};function po(t,e,n){if($f.randomUUID&&!t)return $f.randomUUID();t=t||{};var r=t.random||(t.rng||u3)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,s3(r)}/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h4=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=he.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...s},a)=>he.createElement("svg",{ref:a,...f3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:h4("lucide",i),...s},[...l.map(([u,d])=>he.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=he.forwardRef(({className:r,...i},o)=>he.createElement(p3,{ref:o,iconNode:e,className:h4(`lucide-${d3(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=Pe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=Pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=Pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=Pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=Pe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=Pe("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=Pe("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=Pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=Pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=Pe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Pe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Pe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jf={Settings:R3,Plus:b3,MessageSquare:k3,Trash2:U3,Menu:E3,X:q3,Send:N3,Image:T3,Bot:h3,User:B3,Code2:v3,PenTool:A3,Sparkles:P3,ChevronRight:y3,Save:_3,Copy:x3,Check:g3,Star:L3,Pin:I3,Brain:m3,ToggleLeft:z3,ToggleRight:F3,RefreshCw:M3,Globe:S3,Lightbulb:C3,Crown:w3,Square:D3},ae=({name:t,size:e=20,className:n})=>{const r=Jf[t]||Jf.Sparkles;return C.jsx(r,{size:e,className:n})},V3=({isOpen:t,onClose:e,sessions:n,currentSessionId:r,onSelectSession:i,onNewSession:o,onDeleteSession:l,onOpenSettings:s,useMemoryForNewChats:a,onToggleMemoryUsage:u})=>C.jsxs(C.Fragment,{children:[t&&C.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden backdrop-blur-sm",onClick:e}),C.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-[280px] z-50
        bg-onyx-surface border-r border-onyx-border
        transform transition-transform duration-300 ease-in-out
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:static lg:h-screen
      `,children:[C.jsxs("div",{className:"p-6 pb-2",children:[C.jsxs("div",{className:"flex items-center justify-between mb-8",children:[C.jsx("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent",children:"Onyx Chat"}),C.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-onyx-surfaceLight text-onyx-textMuted hover:text-white transition-colors",children:C.jsx(ae,{name:"Settings",size:20})})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("button",{onClick:()=>{o(),window.innerWidth<1024&&e()},className:"w-full py-3 px-4 bg-onyx-accent hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all active:scale-95 shadow-lg shadow-blue-900/20",children:[C.jsx(ae,{name:"Plus",size:20}),C.jsx("span",{children:"New Chat"})]}),C.jsxs("button",{onClick:u,className:"w-full flex items-center justify-between px-3 py-2 rounded-lg bg-onyx-surfaceLight/50 hover:bg-onyx-surfaceLight transition-colors group",title:"Include 'Know Me' global memory in new chats",children:[C.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-onyx-textMuted group-hover:text-white",children:[C.jsx(ae,{name:"Brain",size:14,className:a?"text-pink-400":""}),C.jsx("span",{children:"Global Memory"})]}),C.jsx(ae,{name:a?"ToggleRight":"ToggleLeft",size:24,className:a?"text-onyx-accent":"text-onyx-textMuted"})]})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 space-y-1",children:[C.jsx("div",{className:"text-xs font-semibold text-onyx-textMuted uppercase tracking-wider mb-3 px-2",children:"History"}),n.length===0?C.jsx("div",{className:"text-center py-10 text-onyx-textMuted opacity-50",children:C.jsx("p",{children:"No chats yet."})}):n.map(d=>C.jsxs("div",{onClick:()=>{i(d.id),window.innerWidth<1024&&e()},className:`
                  group relative flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all duration-200
                  ${r===d.id?"bg-onyx-surfaceLight text-white shadow-md":"text-onyx-textMuted hover:bg-onyx-surfaceLight/50 hover:text-white"}
                `,children:[C.jsx(ae,{name:"MessageSquare",size:18,className:"opacity-70"}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("div",{className:"truncate text-sm font-medium",children:d.title||"Untitled Chat"}),d.memoryContext&&C.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[C.jsx(ae,{name:"Brain",size:10,className:"text-pink-400/70"}),C.jsx("span",{className:"text-[10px] text-pink-400/70",children:"Context Active"})]})]}),C.jsx("button",{onClick:p=>l(d.id,p),className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-500/20 hover:text-red-400 rounded-lg transition-all",children:C.jsx(ae,{name:"Trash2",size:14})})]},d.id))]}),C.jsx("div",{className:"p-4 border-t border-onyx-border text-xs text-onyx-textMuted text-center",children:"Powered by Gemini 2.5 & 3.0"})]})]});function Wf(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const l=n.slice(i,r).trim();(l||!o)&&e.push(l),i=r+1,r=n.indexOf(",",i)}return e}function H3(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const O3=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,G3=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$3={};function Yf(t,e){return($3.jsx?G3:O3).test(t)}const J3=/[ \t\n\f\r]/g;function W3(t){return typeof t=="object"?t.type==="text"?Kf(t.value):!1:Kf(t)}function Kf(t){return t.replace(J3,"")===""}class ul{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}ul.prototype.normal={};ul.prototype.property={};ul.prototype.space=void 0;function m4(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new ul(n,r,e)}function el(t){return t.toLowerCase()}class Lt{constructor(e,n){this.attribute=n,this.property=e}}Lt.prototype.attribute="";Lt.prototype.booleanish=!1;Lt.prototype.boolean=!1;Lt.prototype.commaOrSpaceSeparated=!1;Lt.prototype.commaSeparated=!1;Lt.prototype.defined=!1;Lt.prototype.mustUseProperty=!1;Lt.prototype.number=!1;Lt.prototype.overloadedBoolean=!1;Lt.prototype.property="";Lt.prototype.spaceSeparated=!1;Lt.prototype.space=void 0;let Y3=0;const ye=jr(),je=jr(),v0=jr(),K=jr(),De=jr(),bi=jr(),Ut=jr();function jr(){return 2**++Y3}const x0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ye,booleanish:je,commaOrSpaceSeparated:Ut,commaSeparated:bi,number:K,overloadedBoolean:v0,spaceSeparated:De},Symbol.toStringTag,{value:"Module"})),Qa=Object.keys(x0);class Gc extends Lt{constructor(e,n,r,i){let o=-1;if(super(e,n),Xf(this,"space",i),typeof r=="number")for(;++o<Qa.length;){const l=Qa[o];Xf(this,Qa[o],(r&x0[l])===x0[l])}}}Gc.prototype.defined=!0;function Xf(t,e,n){n&&(t[e]=n)}function $i(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new Gc(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[el(r)]=r,n[el(o.attribute)]=r}return new ul(e,n,t.space)}const g4=$i({properties:{ariaActiveDescendant:null,ariaAtomic:je,ariaAutoComplete:null,ariaBusy:je,ariaChecked:je,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:De,ariaCurrent:null,ariaDescribedBy:De,ariaDetails:null,ariaDisabled:je,ariaDropEffect:De,ariaErrorMessage:null,ariaExpanded:je,ariaFlowTo:De,ariaGrabbed:je,ariaHasPopup:null,ariaHidden:je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:De,ariaLevel:K,ariaLive:null,ariaModal:je,ariaMultiLine:je,ariaMultiSelectable:je,ariaOrientation:null,ariaOwns:De,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:je,ariaReadOnly:je,ariaRelevant:null,ariaRequired:je,ariaRoleDescription:De,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:je,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function y4(t,e){return e in t?t[e]:e}function v4(t,e){return y4(t,e.toLowerCase())}const K3=$i({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bi,acceptCharset:De,accessKey:De,action:null,allow:null,allowFullScreen:ye,allowPaymentRequest:ye,allowUserMedia:ye,alt:null,as:null,async:ye,autoCapitalize:null,autoComplete:De,autoFocus:ye,autoPlay:ye,blocking:De,capture:null,charSet:null,checked:ye,cite:null,className:De,cols:K,colSpan:null,content:null,contentEditable:je,controls:ye,controlsList:De,coords:K|bi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ye,defer:ye,dir:null,dirName:null,disabled:ye,download:v0,draggable:je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ye,formTarget:null,headers:De,height:K,hidden:v0,high:K,href:null,hrefLang:null,htmlFor:De,httpEquiv:De,id:null,imageSizes:null,imageSrcSet:null,inert:ye,inputMode:null,integrity:null,is:null,isMap:ye,itemId:null,itemProp:De,itemRef:De,itemScope:ye,itemType:De,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ye,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:ye,muted:ye,name:null,nonce:null,noModule:ye,noValidate:ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ye,optimum:K,pattern:null,ping:De,placeholder:null,playsInline:ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ye,referrerPolicy:null,rel:De,required:ye,reversed:ye,rows:K,rowSpan:K,sandbox:De,scope:null,scoped:ye,seamless:ye,selected:ye,shadowRootClonable:ye,shadowRootDelegatesFocus:ye,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:ye,useMap:null,value:je,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:De,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ye,declare:ye,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:ye,noHref:ye,noShade:ye,noWrap:ye,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:je,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ye,disableRemotePlayback:ye,prefix:null,property:null,results:K,security:null,unselectable:null},space:"html",transform:v4}),X3=$i({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ut,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:De,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bi,g2:bi,glyphName:bi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:Ut,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:De,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ut,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ut,rev:Ut,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ut,requiredFeatures:Ut,requiredFonts:Ut,requiredFormats:Ut,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:Ut,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ut,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ut,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:y4}),x4=$i({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),w4=$i({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:v4}),S4=$i({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Q3={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Z3=/[A-Z]/g,Qf=/-[a-z]/g,j3=/^data[-\w.:]+$/i;function T4(t,e){const n=el(e);let r=e,i=Lt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&j3.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Qf,t6);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Qf.test(o)){let l=o.replace(Z3,e6);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}i=Gc}return new i(r,e)}function e6(t){return"-"+t.toLowerCase()}function t6(t){return t.charAt(1).toUpperCase()}const C4=m4([g4,K3,x4,w4,S4],"html"),sa=m4([g4,X3,x4,w4,S4],"svg");function Zf(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function n6(t){return t.join(" ").trim()}var $c={},jf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r6=/\n/g,i6=/^\s*/,o6=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l6=/^:\s*/,s6=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a6=/^[;\s]*/,u6=/^\s+|\s+$/g,c6=`
`,ep="/",tp="*",Br="",d6="comment",f6="declaration";function p6(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var T=v.match(r6);T&&(n+=T.length);var N=v.lastIndexOf(c6);r=~N?v.length-N:r+v.length}function o(){var v={line:n,column:r};return function(T){return T.position=new l(v),u(),T}}function l(v){this.start=v,this.end={line:n,column:r},this.source=e.source}l.prototype.content=t;function s(v){var T=new Error(e.source+":"+n+":"+r+": "+v);if(T.reason=v,T.filename=e.source,T.line=n,T.column=r,T.source=t,!e.silent)throw T}function a(v){var T=v.exec(t);if(T){var N=T[0];return i(N),t=t.slice(N.length),T}}function u(){a(i6)}function d(v){var T;for(v=v||[];T=p();)T!==!1&&v.push(T);return v}function p(){var v=o();if(!(ep!=t.charAt(0)||tp!=t.charAt(1))){for(var T=2;Br!=t.charAt(T)&&(tp!=t.charAt(T)||ep!=t.charAt(T+1));)++T;if(T+=2,Br===t.charAt(T-1))return s("End of comment missing");var N=t.slice(2,T-2);return r+=2,i(N),t=t.slice(T),r+=2,v({type:d6,comment:N})}}function h(){var v=o(),T=a(o6);if(T){if(p(),!a(l6))return s("property missing ':'");var N=a(s6),S=v({type:f6,property:np(T[0].replace(jf,Br)),value:N?np(N[0].replace(jf,Br)):Br});return a(a6),S}}function m(){var v=[];d(v);for(var T;T=h();)T!==!1&&(v.push(T),d(v));return v}return u(),m()}function np(t){return t?t.replace(u6,Br):Br}var h6=p6,m6=us&&us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($c,"__esModule",{value:!0});$c.default=y6;const g6=m6(h6);function y6(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,g6.default)(t),i=typeof e=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:l,value:s}=o;i?e(l,s,o):s&&(n=n||{},n[l]=s)}),n}var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.camelCase=void 0;var v6=/^--[a-zA-Z0-9_-]+$/,x6=/-([a-z])/g,w6=/^[^-]+$/,S6=/^-(webkit|moz|ms|o|khtml)-/,T6=/^-(ms)-/,C6=function(t){return!t||w6.test(t)||v6.test(t)},E6=function(t,e){return e.toUpperCase()},rp=function(t,e){return"".concat(e,"-")},k6=function(t,e){return e===void 0&&(e={}),C6(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(T6,rp):t=t.replace(S6,rp),t.replace(x6,E6))};aa.camelCase=k6;var A6=us&&us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},I6=A6($c),b6=aa;function w0(t,e){var n={};return!t||typeof t!="string"||(0,I6.default)(t,function(r,i){r&&i&&(n[(0,b6.camelCase)(r,e)]=i)}),n}w0.default=w0;var M6=w0;const _6=K0(M6),E4=k4("end"),Jc=k4("start");function k4(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function N6(t){const e=Jc(t),n=E4(t);if(e&&n)return{start:e,end:n}}function Ro(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?ip(t.position):"start"in t||"end"in t?ip(t):"line"in t||"column"in t?S0(t):""}function S0(t){return op(t&&t.line)+":"+op(t&&t.column)}function ip(t){return S0(t&&t.start)+"-"+S0(t&&t.end)}function op(t){return t&&typeof t=="number"?t:1}class yt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(l=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Ro(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}yt.prototype.file="";yt.prototype.name="";yt.prototype.reason="";yt.prototype.message="";yt.prototype.stack="";yt.prototype.column=void 0;yt.prototype.line=void 0;yt.prototype.ancestors=void 0;yt.prototype.cause=void 0;yt.prototype.fatal=void 0;yt.prototype.place=void 0;yt.prototype.ruleId=void 0;yt.prototype.source=void 0;const Wc={}.hasOwnProperty,R6=new Map,P6=/[A-Z]/g,D6=new Set(["table","tbody","thead","tfoot","tr"]),L6=new Set(["td","th"]),A4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function z6(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=G6(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=O6(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?sa:C4,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=I4(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function I4(t,e,n){if(e.type==="element")return F6(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return U6(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return q6(t,e,n);if(e.type==="mdxjsEsm")return B6(t,e);if(e.type==="root")return V6(t,e,n);if(e.type==="text")return H6(t,e)}function F6(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=sa,t.schema=i),t.ancestors.push(e);const o=M4(t,e.tagName,!1),l=$6(t,e);let s=Kc(t,e);return D6.has(e.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!W3(a):!0})),b4(t,l,o,e),Yc(l,s),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function U6(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}tl(t,e.position)}function B6(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);tl(t,e.position)}function q6(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=sa,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:M4(t,e.name,!0),l=J6(t,e),s=Kc(t,e);return b4(t,l,o,e),Yc(l,s),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function V6(t,e,n){const r={};return Yc(r,Kc(t,e)),t.create(e,t.Fragment,r,n)}function H6(t,e){return e.value}function b4(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Yc(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function O6(t,e,n){return r;function r(i,o,l,s){const u=Array.isArray(l.children)?n:e;return s?u(o,l,s):u(o,l)}}function G6(t,e){return n;function n(r,i,o,l){const s=Array.isArray(o.children),a=Jc(r);return e(i,o,l,s,{columnNumber:a?a.column-1:void 0,fileName:t,lineNumber:a?a.line:void 0},void 0)}}function $6(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Wc.call(e.properties,i)){const o=W6(t,i,e.properties[i]);if(o){const[l,s]=o;t.tableCellAlignToStyle&&l==="align"&&typeof s=="string"&&L6.has(e.tagName)?r=s:n[l]=s}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function J6(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const s=l.properties[0];s.type,Object.assign(n,t.evaluater.evaluateExpression(s.argument))}else tl(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const s=r.value.data.estree.body[0];s.type,o=t.evaluater.evaluateExpression(s.expression)}else tl(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Kc(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:R6;for(;++r<e.children.length;){const o=e.children[r];let l;if(t.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const u=i.get(a)||0;l=a+"-"+u,i.set(a,u+1)}}const s=I4(t,o,l);s!==void 0&&n.push(s)}return n}function W6(t,e,n){const r=T4(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?H3(n):n6(n)),r.property==="style"){let i=typeof n=="object"?n:Y6(t,String(n));return t.stylePropertyNameCase==="css"&&(i=K6(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Q3[r.property]||r.property:r.attribute,n]}}function Y6(t,e){try{return _6(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new yt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=A4+"#cannot-parse-style-attribute",i}}function M4(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,l;for(;++o<i.length;){const s=Yf(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=l}else r=Yf(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Wc.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);tl(t)}function tl(t,e){const n=new yt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=A4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function K6(t){const e={};let n;for(n in t)Wc.call(t,n)&&(e[X6(n)]=t[n]);return e}function X6(t){let e=t.replace(P6,Q6);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Q6(t){return"-"+t.toLowerCase()}const Za={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Z6={};function j6(t,e){const n=Z6,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return _4(t,r,i)}function _4(t,e,n){if(e7(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return lp(t.children,e,n)}return Array.isArray(t)?lp(t,e,n):""}function lp(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=_4(t[i],e,n);return r.join("")}function e7(t){return!!(t&&typeof t=="object")}const sp=document.createElement("i");function Xc(t){const e="&"+t+";";sp.innerHTML=e;const n=sp.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Mn(t,e,n,r){const i=t.length;let o=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}function Zt(t,e){return t.length>0?(Mn(t,t.length,0,e),t):e}const ap={}.hasOwnProperty;function t7(t){const e={};let n=-1;for(;++n<t.length;)n7(e,t[n]);return e}function n7(t,e){let n;for(n in e){const i=(ap.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let l;if(o)for(l in o){ap.call(i,l)||(i[l]=[]);const s=o[l];r7(i[l],Array.isArray(s)?s:s?[s]:[])}}}function r7(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Mn(t,0,0,r)}function N4(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Mi(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const En=_r(/[A-Za-z]/),Ot=_r(/[\dA-Za-z]/),i7=_r(/[#-'*+\--9=?A-Z^-~]/);function T0(t){return t!==null&&(t<32||t===127)}const C0=_r(/\d/),o7=_r(/[\dA-Fa-f]/),l7=_r(/[!-/:-@[-`{-~]/);function se(t){return t!==null&&t<-2}function Dt(t){return t!==null&&(t<0||t===32)}function Ie(t){return t===-2||t===-1||t===32}const s7=_r(new RegExp("\\p{P}|\\p{S}","u")),a7=_r(/\s/);function _r(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Ji(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let l="";if(o===37&&Ot(t.charCodeAt(n+1))&&Ot(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(l=String.fromCharCode(o,s),i=1):l=""}else l=String.fromCharCode(o);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function be(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(a){return Ie(a)?(t.enter(n),s(a)):e(a)}function s(a){return Ie(a)&&o++<i?(t.consume(a),s):(t.exit(n),e(a))}}const u7={tokenize:c7};function c7(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),be(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const a=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,l(s)}function l(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return se(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),l)}}const d7={tokenize:f7},up={tokenize:p7};function f7(t){const e=this,n=[];let r=0,i,o,l;return s;function s(k){if(r<n.length){const R=n[r];return e.containerState=R[1],t.attempt(R[0].continuation,a,u)(k)}return u(k)}function a(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const R=e.events.length;let L=R,I;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){I=e.events[L][1].end;break}S(r);let U=R;for(;U<e.events.length;)e.events[U][1].end={...I},U++;return Mn(e.events,L+1,0,e.events.slice(R)),e.events.length=U,u(k)}return s(k)}function u(k){if(r===n.length){if(!i)return h(k);if(i.currentConstruct&&i.currentConstruct.concrete)return v(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(up,d,p)(k)}function d(k){return i&&x(),S(r),h(k)}function p(k){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,v(k)}function h(k){return e.containerState={},t.attempt(up,m,v)(k)}function m(k){return r++,n.push([e.currentConstruct,e.containerState]),h(k)}function v(k){if(k===null){i&&x(),S(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),T(k)}function T(k){if(k===null){N(t.exit("chunkFlow"),!0),S(0),t.consume(k);return}return se(k)?(t.consume(k),N(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(k),T)}function N(k,R){const L=e.sliceStream(k);if(R&&L.push(null),k.previous=o,o&&(o.next=k),o=k,i.defineSkip(k.start),i.write(L),e.parser.lazy[k.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<l&&(!i.events[I][1].end||i.events[I][1].end.offset>l))return;const U=e.events.length;let V=U,F,D;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){if(F){D=e.events[V][1].end;break}F=!0}for(S(r),I=U;I<e.events.length;)e.events[I][1].end={...D},I++;Mn(e.events,V+1,0,e.events.slice(U)),e.events.length=I}}function S(k){let R=n.length;for(;R-- >k;){const L=n[R];e.containerState=L[1],L[0].exit.call(e,t)}n.length=k}function x(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function p7(t,e,n){return be(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function cp(t){if(t===null||Dt(t)||a7(t))return 1;if(s7(t))return 2}function Qc(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const E0={name:"attention",resolveAll:h7,tokenize:m7};function h7(t,e){let n=-1,r,i,o,l,s,a,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;a=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},h={...t[n][1].start};dp(p,-a),dp(h,a),l={type:a>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},o={type:a>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...l.start},end:{...s.end}},t[r][1].end={...l.start},t[n][1].start={...s.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Zt(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Zt(u,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",o,e]]),u=Zt(u,Qc(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Zt(u,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=Zt(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,Mn(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function m7(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=cp(r);let o;return l;function l(a){return o=a,t.enter("attentionSequence"),s(a)}function s(a){if(a===o)return t.consume(a),s;const u=t.exit("attentionSequence"),d=cp(a),p=!d||d===2&&i||n.includes(a),h=!i||i===2&&d||n.includes(r);return u._open=!!(o===42?p:p&&(i||!h)),u._close=!!(o===42?h:h&&(d||!p)),e(a)}}function dp(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const g7={name:"autolink",tokenize:y7};function y7(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(m){return En(m)?(t.consume(m),l):m===64?n(m):u(m)}function l(m){return m===43||m===45||m===46||Ot(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(t.consume(m),r=0,a):(m===43||m===45||m===46||Ot(m))&&r++<32?(t.consume(m),s):(r=0,u(m))}function a(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||T0(m)?n(m):(t.consume(m),a)}function u(m){return m===64?(t.consume(m),d):i7(m)?(t.consume(m),u):n(m)}function d(m){return Ot(m)?p(m):n(m)}function p(m){return m===46?(t.consume(m),r=0,d):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):h(m)}function h(m){if((m===45||Ot(m))&&r++<63){const v=m===45?h:p;return t.consume(m),v}return n(m)}}const ua={partial:!0,tokenize:v7};function v7(t,e,n){return r;function r(o){return Ie(o)?be(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||se(o)?e(o):n(o)}}const R4={continuation:{tokenize:w7},exit:S7,name:"blockQuote",tokenize:x7};function x7(t,e,n){const r=this;return i;function i(l){if(l===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Ie(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function w7(t,e,n){const r=this;return i;function i(l){return Ie(l)?be(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(R4,e,n)(l)}}function S7(t){t.exit("blockQuote")}const P4={name:"characterEscape",tokenize:T7};function T7(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return l7(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const D4={name:"characterReference",tokenize:C7};function C7(t,e,n){const r=this;let i=0,o,l;return s;function s(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),a}function a(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,l=Ot,d(p))}function u(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=o7,d):(t.enter("characterReferenceValue"),o=7,l=C0,d(p))}function d(p){if(p===59&&i){const h=t.exit("characterReferenceValue");return l===Ot&&!Xc(r.sliceSerialize(h))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(p)&&i++<o?(t.consume(p),d):n(p)}}const fp={partial:!0,tokenize:k7},pp={concrete:!0,name:"codeFenced",tokenize:E7};function E7(t,e,n){const r=this,i={partial:!0,tokenize:L};let o=0,l=0,s;return a;function a(I){return u(I)}function u(I){const U=r.events[r.events.length-1];return o=U&&U[1].type==="linePrefix"?U[2].sliceSerialize(U[1],!0).length:0,s=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(I)}function d(I){return I===s?(l++,t.consume(I),d):l<3?n(I):(t.exit("codeFencedFenceSequence"),Ie(I)?be(t,p,"whitespace")(I):p(I))}function p(I){return I===null||se(I)?(t.exit("codeFencedFence"),r.interrupt?e(I):t.check(fp,T,R)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(I))}function h(I){return I===null||se(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(I)):Ie(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),be(t,m,"whitespace")(I)):I===96&&I===s?n(I):(t.consume(I),h)}function m(I){return I===null||se(I)?p(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(I))}function v(I){return I===null||se(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(I)):I===96&&I===s?n(I):(t.consume(I),v)}function T(I){return t.attempt(i,R,N)(I)}function N(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),S}function S(I){return o>0&&Ie(I)?be(t,x,"linePrefix",o+1)(I):x(I)}function x(I){return I===null||se(I)?t.check(fp,T,R)(I):(t.enter("codeFlowValue"),k(I))}function k(I){return I===null||se(I)?(t.exit("codeFlowValue"),x(I)):(t.consume(I),k)}function R(I){return t.exit("codeFenced"),e(I)}function L(I,U,V){let F=0;return D;function D(te){return I.enter("lineEnding"),I.consume(te),I.exit("lineEnding"),_}function _(te){return I.enter("codeFencedFence"),Ie(te)?be(I,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):B(te)}function B(te){return te===s?(I.enter("codeFencedFenceSequence"),Y(te)):V(te)}function Y(te){return te===s?(F++,I.consume(te),Y):F>=l?(I.exit("codeFencedFenceSequence"),Ie(te)?be(I,re,"whitespace")(te):re(te)):V(te)}function re(te){return te===null||se(te)?(I.exit("codeFencedFence"),U(te)):V(te)}}}function k7(t,e,n){const r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const ja={name:"codeIndented",tokenize:I7},A7={partial:!0,tokenize:b7};function I7(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),be(t,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?a(u):se(u)?t.attempt(A7,l,a)(u):(t.enter("codeFlowValue"),s(u))}function s(u){return u===null||se(u)?(t.exit("codeFlowValue"),l(u)):(t.consume(u),s)}function a(u){return t.exit("codeIndented"),e(u)}}function b7(t,e,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):se(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):be(t,o,"linePrefix",5)(l)}function o(l){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(l):se(l)?i(l):n(l)}}const M7={name:"codeText",previous:N7,resolve:_7,tokenize:R7};function _7(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function N7(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function R7(t,e,n){let r=0,i,o;return l;function l(p){return t.enter("codeText"),t.enter("codeTextSequence"),s(p)}function s(p){return p===96?(t.consume(p),r++,s):(t.exit("codeTextSequence"),a(p))}function a(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),a):p===96?(o=t.enter("codeTextSequence"),i=0,d(p)):se(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),a):(t.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||se(p)?(t.exit("codeTextData"),a(p)):(t.consume(p),u)}function d(p){return p===96?(t.consume(p),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(o.type="codeTextData",u(p))}}class P7{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ho(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ho(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ho(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ho(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ho(this.left,n.reverse())}}}function ho(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function L4(t){const e={};let n=-1,r,i,o,l,s,a,u;const d=new P7(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,D7(d,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=d.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(r),d.splice(i,n-i+1,s))}}return Mn(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function D7(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const s=l.events,a=[],u={};let d,p,h=-1,m=n,v=0,T=0;const N=[T];for(;m;){for(;t.get(++i)[1]!==m;);o.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),p&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(T=h+1,N.push(T),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):N.pop(),h=N.length;h--;){const S=s.slice(N[h],N[h+1]),x=o.pop();a.push([x,x+S.length-1]),t.splice(x,2,S)}for(a.reverse(),h=-1;++h<a.length;)u[v+a[h][0]]=v+a[h][1],v+=a[h][1]-a[h][0]-1;return u}const L7={resolve:F7,tokenize:U7},z7={partial:!0,tokenize:B7};function F7(t){return L4(t),t}function U7(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):se(s)?t.check(z7,l,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function l(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function B7(t,e,n){const r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),be(t,o,"linePrefix")}function o(l){if(l===null||se(l))return n(l);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function z4(t,e,n,r,i,o,l,s,a){const u=a||Number.POSITIVE_INFINITY;let d=0;return p;function p(S){return S===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(S),t.exit(o),h):S===null||S===32||S===41||T0(S)?n(S):(t.enter(r),t.enter(l),t.enter(s),t.enter("chunkString",{contentType:"string"}),T(S))}function h(S){return S===62?(t.enter(o),t.consume(S),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===62?(t.exit("chunkString"),t.exit(s),h(S)):S===null||S===60||se(S)?n(S):(t.consume(S),S===92?v:m)}function v(S){return S===60||S===62||S===92?(t.consume(S),m):m(S)}function T(S){return!d&&(S===null||S===41||Dt(S))?(t.exit("chunkString"),t.exit(s),t.exit(l),t.exit(r),e(S)):d<u&&S===40?(t.consume(S),d++,T):S===41?(t.consume(S),d--,T):S===null||S===32||S===40||T0(S)?n(S):(t.consume(S),S===92?N:T)}function N(S){return S===40||S===41||S===92?(t.consume(S),T):T(S)}}function F4(t,e,n,r,i,o){const l=this;let s=0,a;return u;function u(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(o),d}function d(m){return s>999||m===null||m===91||m===93&&!a||m===94&&!s&&"_hiddenFootnoteSupport"in l.parser.constructs?n(m):m===93?(t.exit(o),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):se(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||se(m)||s++>999?(t.exit("chunkString"),d(m)):(t.consume(m),a||(a=!Ie(m)),m===92?h:p)}function h(m){return m===91||m===92||m===93?(t.consume(m),s++,p):p(m)}}function U4(t,e,n,r,i,o){let l;return s;function s(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),l=h===40?41:h,a):n(h)}function a(h){return h===l?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(o),u(h))}function u(h){return h===l?(t.exit(o),a(l)):h===null?n(h):se(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),be(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===l||h===null||se(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?p:d)}function p(h){return h===l||h===92?(t.consume(h),d):d(h)}}function Po(t,e){let n;return r;function r(i){return se(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ie(i)?be(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const q7={name:"definition",tokenize:H7},V7={partial:!0,tokenize:O7};function H7(t,e,n){const r=this;let i;return o;function o(m){return t.enter("definition"),l(m)}function l(m){return F4.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=Mi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),a):n(m)}function a(m){return Dt(m)?Po(t,u)(m):u(m)}function u(m){return z4(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return t.attempt(V7,p,p)(m)}function p(m){return Ie(m)?be(t,h,"whitespace")(m):h(m)}function h(m){return m===null||se(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function O7(t,e,n){return r;function r(s){return Dt(s)?Po(t,i)(s):n(s)}function i(s){return U4(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Ie(s)?be(t,l,"whitespace")(s):l(s)}function l(s){return s===null||se(s)?e(s):n(s)}}const G7={name:"hardBreakEscape",tokenize:$7};function $7(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return se(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const J7={name:"headingAtx",resolve:W7,tokenize:Y7};function W7(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Mn(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function Y7(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),o(d)}function o(d){return t.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&r++<6?(t.consume(d),l):d===null||Dt(d)?(t.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(t.enter("atxHeadingSequence"),a(d)):d===null||se(d)?(t.exit("atxHeading"),e(d)):Ie(d)?be(t,s,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function a(d){return d===35?(t.consume(d),a):(t.exit("atxHeadingSequence"),s(d))}function u(d){return d===null||d===35||Dt(d)?(t.exit("atxHeadingText"),s(d)):(t.consume(d),u)}}const K7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hp=["pre","script","style","textarea"],X7={concrete:!0,name:"htmlFlow",resolveTo:j7,tokenize:e8},Q7={partial:!0,tokenize:n8},Z7={partial:!0,tokenize:t8};function j7(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function e8(t,e,n){const r=this;let i,o,l,s,a;return u;function u(P){return d(P)}function d(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),p}function p(P){return P===33?(t.consume(P),h):P===47?(t.consume(P),o=!0,T):P===63?(t.consume(P),i=3,r.interrupt?e:A):En(P)?(t.consume(P),l=String.fromCharCode(P),N):n(P)}function h(P){return P===45?(t.consume(P),i=2,m):P===91?(t.consume(P),i=5,s=0,v):En(P)?(t.consume(P),i=4,r.interrupt?e:A):n(P)}function m(P){return P===45?(t.consume(P),r.interrupt?e:A):n(P)}function v(P){const Me="CDATA[";return P===Me.charCodeAt(s++)?(t.consume(P),s===Me.length?r.interrupt?e:B:v):n(P)}function T(P){return En(P)?(t.consume(P),l=String.fromCharCode(P),N):n(P)}function N(P){if(P===null||P===47||P===62||Dt(P)){const Me=P===47,Se=l.toLowerCase();return!Me&&!o&&hp.includes(Se)?(i=1,r.interrupt?e(P):B(P)):K7.includes(l.toLowerCase())?(i=6,Me?(t.consume(P),S):r.interrupt?e(P):B(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):o?x(P):k(P))}return P===45||Ot(P)?(t.consume(P),l+=String.fromCharCode(P),N):n(P)}function S(P){return P===62?(t.consume(P),r.interrupt?e:B):n(P)}function x(P){return Ie(P)?(t.consume(P),x):D(P)}function k(P){return P===47?(t.consume(P),D):P===58||P===95||En(P)?(t.consume(P),R):Ie(P)?(t.consume(P),k):D(P)}function R(P){return P===45||P===46||P===58||P===95||Ot(P)?(t.consume(P),R):L(P)}function L(P){return P===61?(t.consume(P),I):Ie(P)?(t.consume(P),L):k(P)}function I(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),a=P,U):Ie(P)?(t.consume(P),I):V(P)}function U(P){return P===a?(t.consume(P),a=null,F):P===null||se(P)?n(P):(t.consume(P),U)}function V(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||Dt(P)?L(P):(t.consume(P),V)}function F(P){return P===47||P===62||Ie(P)?k(P):n(P)}function D(P){return P===62?(t.consume(P),_):n(P)}function _(P){return P===null||se(P)?B(P):Ie(P)?(t.consume(P),_):n(P)}function B(P){return P===45&&i===2?(t.consume(P),ie):P===60&&i===1?(t.consume(P),pe):P===62&&i===4?(t.consume(P),X):P===63&&i===3?(t.consume(P),A):P===93&&i===5?(t.consume(P),oe):se(P)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Q7,de,Y)(P)):P===null||se(P)?(t.exit("htmlFlowData"),Y(P)):(t.consume(P),B)}function Y(P){return t.check(Z7,re,de)(P)}function re(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),te}function te(P){return P===null||se(P)?Y(P):(t.enter("htmlFlowData"),B(P))}function ie(P){return P===45?(t.consume(P),A):B(P)}function pe(P){return P===47?(t.consume(P),l="",G):B(P)}function G(P){if(P===62){const Me=l.toLowerCase();return hp.includes(Me)?(t.consume(P),X):B(P)}return En(P)&&l.length<8?(t.consume(P),l+=String.fromCharCode(P),G):B(P)}function oe(P){return P===93?(t.consume(P),A):B(P)}function A(P){return P===62?(t.consume(P),X):P===45&&i===2?(t.consume(P),A):B(P)}function X(P){return P===null||se(P)?(t.exit("htmlFlowData"),de(P)):(t.consume(P),X)}function de(P){return t.exit("htmlFlow"),e(P)}}function t8(t,e,n){const r=this;return i;function i(l){return se(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function n8(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(ua,e,n)}}const r8={name:"htmlText",tokenize:i8};function i8(t,e,n){const r=this;let i,o,l;return s;function s(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),a}function a(A){return A===33?(t.consume(A),u):A===47?(t.consume(A),L):A===63?(t.consume(A),k):En(A)?(t.consume(A),V):n(A)}function u(A){return A===45?(t.consume(A),d):A===91?(t.consume(A),o=0,v):En(A)?(t.consume(A),x):n(A)}function d(A){return A===45?(t.consume(A),m):n(A)}function p(A){return A===null?n(A):A===45?(t.consume(A),h):se(A)?(l=p,pe(A)):(t.consume(A),p)}function h(A){return A===45?(t.consume(A),m):p(A)}function m(A){return A===62?ie(A):A===45?h(A):p(A)}function v(A){const X="CDATA[";return A===X.charCodeAt(o++)?(t.consume(A),o===X.length?T:v):n(A)}function T(A){return A===null?n(A):A===93?(t.consume(A),N):se(A)?(l=T,pe(A)):(t.consume(A),T)}function N(A){return A===93?(t.consume(A),S):T(A)}function S(A){return A===62?ie(A):A===93?(t.consume(A),S):T(A)}function x(A){return A===null||A===62?ie(A):se(A)?(l=x,pe(A)):(t.consume(A),x)}function k(A){return A===null?n(A):A===63?(t.consume(A),R):se(A)?(l=k,pe(A)):(t.consume(A),k)}function R(A){return A===62?ie(A):k(A)}function L(A){return En(A)?(t.consume(A),I):n(A)}function I(A){return A===45||Ot(A)?(t.consume(A),I):U(A)}function U(A){return se(A)?(l=U,pe(A)):Ie(A)?(t.consume(A),U):ie(A)}function V(A){return A===45||Ot(A)?(t.consume(A),V):A===47||A===62||Dt(A)?F(A):n(A)}function F(A){return A===47?(t.consume(A),ie):A===58||A===95||En(A)?(t.consume(A),D):se(A)?(l=F,pe(A)):Ie(A)?(t.consume(A),F):ie(A)}function D(A){return A===45||A===46||A===58||A===95||Ot(A)?(t.consume(A),D):_(A)}function _(A){return A===61?(t.consume(A),B):se(A)?(l=_,pe(A)):Ie(A)?(t.consume(A),_):F(A)}function B(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),i=A,Y):se(A)?(l=B,pe(A)):Ie(A)?(t.consume(A),B):(t.consume(A),re)}function Y(A){return A===i?(t.consume(A),i=void 0,te):A===null?n(A):se(A)?(l=Y,pe(A)):(t.consume(A),Y)}function re(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Dt(A)?F(A):(t.consume(A),re)}function te(A){return A===47||A===62||Dt(A)?F(A):n(A)}function ie(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function pe(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),G}function G(A){return Ie(A)?be(t,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):oe(A)}function oe(A){return t.enter("htmlTextData"),l(A)}}const Zc={name:"labelEnd",resolveAll:a8,resolveTo:u8,tokenize:c8},o8={tokenize:d8},l8={tokenize:f8},s8={tokenize:p8};function a8(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Mn(t,0,t.length,n),t}function u8(t,e){let n=t.length,r=0,i,o,l,s;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const a={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},d={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return s=[["enter",a,e],["enter",u,e]],s=Zt(s,t.slice(o+1,o+r+3)),s=Zt(s,[["enter",d,e]]),s=Zt(s,Qc(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),s=Zt(s,[["exit",d,e],t[l-2],t[l-1],["exit",u,e]]),s=Zt(s,t.slice(l+1)),s=Zt(s,[["exit",a,e]]),Mn(t,o,t.length,s),t}function c8(t,e,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(h){return o?o._inactive?p(h):(l=r.parser.defined.includes(Mi(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),a):n(h)}function a(h){return h===40?t.attempt(o8,d,l?d:p)(h):h===91?t.attempt(l8,d,l?u:p)(h):l?d(h):p(h)}function u(h){return t.attempt(s8,d,p)(h)}function d(h){return e(h)}function p(h){return o._balanced=!0,n(h)}}function d8(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Dt(p)?Po(t,o)(p):o(p)}function o(p){return p===41?d(p):z4(t,l,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return Dt(p)?Po(t,a)(p):d(p)}function s(p){return n(p)}function a(p){return p===34||p===39||p===40?U4(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function u(p){return Dt(p)?Po(t,d)(p):d(p)}function d(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function f8(t,e,n){const r=this;return i;function i(s){return F4.call(r,t,o,l,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(Mi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function l(s){return n(s)}}function p8(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const h8={name:"labelStartImage",resolveAll:Zc.resolveAll,tokenize:m8};function m8(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),l):n(s)}function l(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const g8={name:"labelStartLink",resolveAll:Zc.resolveAll,tokenize:y8};function y8(t,e,n){const r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const eu={name:"lineEnding",tokenize:v8};function v8(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),be(t,e,"linePrefix")}}const rs={name:"thematicBreak",tokenize:x8};function x8(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),l(u)}function l(u){return i=u,s(u)}function s(u){return u===i?(t.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||se(u))?(t.exit("thematicBreak"),e(u)):n(u)}function a(u){return u===i?(t.consume(u),r++,a):(t.exit("thematicBreakSequence"),Ie(u)?be(t,s,"whitespace")(u):s(u))}}const At={continuation:{tokenize:C8},exit:k8,name:"list",tokenize:T8},w8={partial:!0,tokenize:A8},S8={partial:!0,tokenize:E8};function T8(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return s;function s(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:C0(m)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(rs,n,u)(m):u(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),a(m)}return n(m)}function a(m){return C0(m)&&++l<10?(t.consume(m),a):(!r.interrupt||l<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),u(m)):n(m)}function u(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(ua,r.interrupt?n:d,t.attempt(w8,h,p))}function d(m){return r.containerState.initialBlankLine=!0,o++,h(m)}function p(m){return Ie(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function C8(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ua,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,be(t,e,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Ie(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(S8,e,l)(s))}function l(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,be(t,t.attempt(At,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function E8(t,e,n){const r=this;return be(t,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function k8(t){t.exit(this.containerState.type)}function A8(t,e,n){const r=this;return be(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!Ie(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const mp={name:"setextUnderline",resolveTo:I8,tokenize:b8};function I8(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function b8(t,e,n){const r=this;let i;return o;function o(u){let d=r.events.length,p;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){p=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return t.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(t.consume(u),s):(t.exit("setextHeadingLineSequence"),Ie(u)?be(t,a,"lineSuffix")(u):a(u))}function a(u){return u===null||se(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const M8={tokenize:_8};function _8(t){const e=this,n=t.attempt(ua,r,t.attempt(this.parser.constructs.flowInitial,i,be(t,t.attempt(this.parser.constructs.flow,i,t.attempt(L7,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const N8={resolveAll:q4()},R8=B4("string"),P8=B4("text");function B4(t){return{resolveAll:q4(t==="text"?D8:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,l,s);return l;function l(d){return u(d)?o(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),a}function a(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),a)}function u(d){if(d===null)return!0;const p=i[d];let h=-1;if(p)for(;++h<p.length;){const m=p[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function q4(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function D8(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,l=-1,s=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)s++,l--;if(l)break;l=-1}else if(u===-2)a=!0,s++;else if(u!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(s=0),s){const u={type:n===t.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const L8={42:At,43:At,45:At,48:At,49:At,50:At,51:At,52:At,53:At,54:At,55:At,56:At,57:At,62:R4},z8={91:q7},F8={[-2]:ja,[-1]:ja,32:ja},U8={35:J7,42:rs,45:[mp,rs],60:X7,61:mp,95:rs,96:pp,126:pp},B8={38:D4,92:P4},q8={[-5]:eu,[-4]:eu,[-3]:eu,33:h8,38:D4,42:E0,60:[g7,r8],91:g8,92:[G7,P4],93:Zc,95:E0,96:M7},V8={null:[E0,N8]},H8={null:[42,95]},O8={null:[]},G8=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:H8,contentInitial:z8,disable:O8,document:L8,flow:U8,flowInitial:F8,insideSpan:V8,string:B8,text:q8},Symbol.toStringTag,{value:"Module"}));function $8(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],s=[];const a={attempt:U(L),check:U(I),consume:x,enter:k,exit:R,interrupt:U(I,{interrupt:!0})},u={code:null,containerState:{},defineSkip:T,events:[],now:v,parser:t,previous:null,sliceSerialize:h,sliceStream:m,write:p};let d=e.tokenize.call(u,a);return e.resolveAll&&o.push(e),u;function p(_){return l=Zt(l,_),N(),l[l.length-1]!==null?[]:(V(e,0),u.events=Qc(o,u.events,u),u.events)}function h(_,B){return W8(m(_),B)}function m(_){return J8(l,_)}function v(){const{_bufferIndex:_,_index:B,line:Y,column:re,offset:te}=r;return{_bufferIndex:_,_index:B,line:Y,column:re,offset:te}}function T(_){i[_.line]=_.column,D()}function N(){let _;for(;r._index<l.length;){const B=l[r._index];if(typeof B=="string")for(_=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_&&r._bufferIndex<B.length;)S(B.charCodeAt(r._bufferIndex));else S(B)}}function S(_){d=d(_)}function x(_){se(_)?(r.line++,r.column=1,r.offset+=_===-3?2:1,D()):_!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=_}function k(_,B){const Y=B||{};return Y.type=_,Y.start=v(),u.events.push(["enter",Y,u]),s.push(Y),Y}function R(_){const B=s.pop();return B.end=v(),u.events.push(["exit",B,u]),B}function L(_,B){V(_,B.from)}function I(_,B){B.restore()}function U(_,B){return Y;function Y(re,te,ie){let pe,G,oe,A;return Array.isArray(re)?de(re):"tokenize"in re?de([re]):X(re);function X(me){return Ae;function Ae(qe){const ot=qe!==null&&me[qe],Ve=qe!==null&&me.null,kt=[...Array.isArray(ot)?ot:ot?[ot]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return de(kt)(qe)}}function de(me){return pe=me,G=0,me.length===0?ie:P(me[G])}function P(me){return Ae;function Ae(qe){return A=F(),oe=me,me.partial||(u.currentConstruct=me),me.name&&u.parser.constructs.disable.null.includes(me.name)?Se():me.tokenize.call(B?Object.assign(Object.create(u),B):u,a,Me,Se)(qe)}}function Me(me){return _(oe,A),te}function Se(me){return A.restore(),++G<pe.length?P(pe[G]):ie}}}function V(_,B){_.resolveAll&&!o.includes(_)&&o.push(_),_.resolve&&Mn(u.events,B,u.events.length-B,_.resolve(u.events.slice(B),u)),_.resolveTo&&(u.events=_.resolveTo(u.events,u))}function F(){const _=v(),B=u.previous,Y=u.currentConstruct,re=u.events.length,te=Array.from(s);return{from:re,restore:ie};function ie(){r=_,u.previous=B,u.currentConstruct=Y,u.events.length=re,s=te,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function J8(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let l;if(n===i)l=[t[n].slice(r,o)];else{if(l=t.slice(n,i),r>-1){const s=l[0];typeof s=="string"?l[0]=s.slice(r):l.shift()}o>0&&l.push(t[i].slice(0,o))}return l}function W8(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function Y8(t){const r={constructs:t7([G8,...(t||{}).extensions||[]]),content:i(u7),defined:[],document:i(d7),flow:i(M8),lazy:{},string:i(R8),text:i(P8)};return r;function i(o){return l;function l(s){return $8(r,o,s)}}}function K8(t){for(;!L4(t););return t}const gp=/[\0\t\n\r]/g;function X8(){let t=1,e="",n=!0,r;return i;function i(o,l,s){const a=[];let u,d,p,h,m;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,e="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(gp.lastIndex=p,u=gp.exec(o),h=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(h),!u){e=o.slice(p);break}if(m===10&&p===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),p<h&&(a.push(o.slice(p,h)),t+=h-p),m){case 0:{a.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,a.push(-2);t++<d;)a.push(-1);break}case 10:{a.push(-4),t=1;break}default:r=!0,t=1}p=h+1}return s&&(r&&a.push(-5),e&&a.push(e),a.push(null)),a}}const Q8=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Z8(t){return t.replace(Q8,j8)}function j8(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return N4(n.slice(o?2:1),o?16:10)}return Xc(n)||t}const V4={}.hasOwnProperty;function ex(t,e,n){return typeof e!="string"&&(n=e,e=void 0),tx(n)(K8(Y8(n).document().write(X8()(t,e,!0))))}function tx(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Pr),autolinkProtocol:F,autolinkEmail:F,atxHeading:o(eo),blockQuote:o(Ve),characterEscape:F,characterReference:F,codeFenced:o(kt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(kt,l),codeText:o(an,l),codeTextData:F,data:F,codeFlowValue:F,definition:o(Zi),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(ji),hardBreakEscape:o(to),hardBreakTrailing:o(to),htmlFlow:o(ri,l),htmlFlowData:F,htmlText:o(ri,l),htmlTextData:F,image:o(ii),label:l,link:o(Pr),listItem:o(_y),listItemValue:h,listOrdered:o(Dd,p),listUnordered:o(Dd),paragraph:o(Ny),reference:P,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(eo),strong:o(Ry),thematicBreak:o(Dy)},exit:{atxHeading:a(),atxHeadingSequence:L,autolink:a(),autolinkEmail:ot,autolinkProtocol:qe,blockQuote:a(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:me,characterReference:Ae,codeFenced:a(N),codeFencedFence:T,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:D,codeIndented:a(S),codeText:a(te),codeTextData:D,data:D,definition:a(),definitionDestinationString:R,definitionLabelString:x,definitionTitleString:k,emphasis:a(),hardBreakEscape:a(B),hardBreakTrailing:a(B),htmlFlow:a(Y),htmlFlowData:D,htmlText:a(re),htmlTextData:D,image:a(pe),label:oe,labelText:G,lineEnding:_,link:a(ie),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Me,resourceDestinationString:A,resourceTitleString:X,resource:de,setextHeading:a(V),setextHeadingLineSequence:U,setextHeadingText:I,strong:a(),thematicBreak:a()}};H4(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(H){let Z={type:"root",children:[]};const ge={stack:[Z],tokenStack:[],config:e,enter:s,exit:u,buffer:l,resume:d,data:n},we=[];let Ne=-1;for(;++Ne<H.length;)if(H[Ne][1].type==="listOrdered"||H[Ne][1].type==="listUnordered")if(H[Ne][0]==="enter")we.push(Ne);else{const un=we.pop();Ne=i(H,un,Ne)}for(Ne=-1;++Ne<H.length;){const un=e[H[Ne][0]];V4.call(un,H[Ne][1].type)&&un[H[Ne][1].type].call(Object.assign({sliceSerialize:H[Ne][2].sliceSerialize},ge),H[Ne][1])}if(ge.tokenStack.length>0){const un=ge.tokenStack[ge.tokenStack.length-1];(un[1]||yp).call(ge,void 0,un[0])}for(Z.position={start:rr(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:rr(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},Ne=-1;++Ne<e.transforms.length;)Z=e.transforms[Ne](Z)||Z;return Z}function i(H,Z,ge){let we=Z-1,Ne=-1,un=!1,Dr,Pn,no,ro;for(;++we<=ge;){const Ft=H[we];switch(Ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ft[0]==="enter"?Ne++:Ne--,ro=void 0;break}case"lineEndingBlank":{Ft[0]==="enter"&&(Dr&&!ro&&!Ne&&!no&&(no=we),ro=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ro=void 0}if(!Ne&&Ft[0]==="enter"&&Ft[1].type==="listItemPrefix"||Ne===-1&&Ft[0]==="exit"&&(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered")){if(Dr){let oi=we;for(Pn=void 0;oi--;){const Dn=H[oi];if(Dn[1].type==="lineEnding"||Dn[1].type==="lineEndingBlank"){if(Dn[0]==="exit")continue;Pn&&(H[Pn][1].type="lineEndingBlank",un=!0),Dn[1].type="lineEnding",Pn=oi}else if(!(Dn[1].type==="linePrefix"||Dn[1].type==="blockQuotePrefix"||Dn[1].type==="blockQuotePrefixWhitespace"||Dn[1].type==="blockQuoteMarker"||Dn[1].type==="listItemIndent"))break}no&&(!Pn||no<Pn)&&(Dr._spread=!0),Dr.end=Object.assign({},Pn?H[Pn][1].start:Ft[1].end),H.splice(Pn||we,0,["exit",Dr,Ft[2]]),we++,ge++}if(Ft[1].type==="listItemPrefix"){const oi={type:"listItem",_spread:!1,start:Object.assign({},Ft[1].start),end:void 0};Dr=oi,H.splice(we,0,["enter",oi,Ft[2]]),we++,ge++,no=void 0,ro=!0}}}return H[Z][1]._spread=un,ge}function o(H,Z){return ge;function ge(we){s.call(this,H(we),we),Z&&Z.call(this,we)}}function l(){this.stack.push({type:"fragment",children:[]})}function s(H,Z,ge){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([Z,ge||void 0]),H.position={start:rr(Z.start),end:void 0}}function a(H){return Z;function Z(ge){H&&H.call(this,ge),u.call(this,ge)}}function u(H,Z){const ge=this.stack.pop(),we=this.tokenStack.pop();if(we)we[0].type!==H.type&&(Z?Z.call(this,H,we[0]):(we[1]||yp).call(this,H,we[0]));else throw new Error("Cannot close `"+H.type+"` ("+Ro({start:H.start,end:H.end})+"): its not open");ge.position.end=rr(H.end)}function d(){return j6(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(H){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function m(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=H}function v(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=H}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H.replace(/(\r?\n|\r)$/g,"")}function x(H){const Z=this.resume(),ge=this.stack[this.stack.length-1];ge.label=Z,ge.identifier=Mi(this.sliceSerialize(H)).toLowerCase()}function k(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.title=H}function R(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.url=H}function L(H){const Z=this.stack[this.stack.length-1];if(!Z.depth){const ge=this.sliceSerialize(H).length;Z.depth=ge}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function U(H){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function F(H){const ge=this.stack[this.stack.length-1].children;let we=ge[ge.length-1];(!we||we.type!=="text")&&(we=Py(),we.position={start:rr(H.start),end:void 0},ge.push(we)),this.stack.push(we)}function D(H){const Z=this.stack.pop();Z.value+=this.sliceSerialize(H),Z.position.end=rr(H.end)}function _(H){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=Z.children[Z.children.length-1];ge.position.end=rr(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Z.type)&&(F.call(this,H),D.call(this,H))}function B(){this.data.atHardBreak=!0}function Y(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H}function re(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H}function te(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H}function ie(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=Z,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function pe(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=Z,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function G(H){const Z=this.sliceSerialize(H),ge=this.stack[this.stack.length-2];ge.label=Z8(Z),ge.identifier=Mi(Z).toLowerCase()}function oe(){const H=this.stack[this.stack.length-1],Z=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const we=H.children;ge.children=we}else ge.alt=Z}function A(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.url=H}function X(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.title=H}function de(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function Me(H){const Z=this.resume(),ge=this.stack[this.stack.length-1];ge.label=Z,ge.identifier=Mi(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function Se(H){this.data.characterReferenceType=H.type}function me(H){const Z=this.sliceSerialize(H),ge=this.data.characterReferenceType;let we;ge?(we=N4(Z,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):we=Xc(Z);const Ne=this.stack[this.stack.length-1];Ne.value+=we}function Ae(H){const Z=this.stack.pop();Z.position.end=rr(H.end)}function qe(H){D.call(this,H);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(H)}function ot(H){D.call(this,H);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(H)}function Ve(){return{type:"blockquote",children:[]}}function kt(){return{type:"code",lang:null,meta:null,value:""}}function an(){return{type:"inlineCode",value:""}}function Zi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ji(){return{type:"emphasis",children:[]}}function eo(){return{type:"heading",depth:0,children:[]}}function to(){return{type:"break"}}function ri(){return{type:"html",value:""}}function ii(){return{type:"image",title:null,url:"",alt:null}}function Pr(){return{type:"link",title:null,url:"",children:[]}}function Dd(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function _y(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function Ny(){return{type:"paragraph",children:[]}}function Ry(){return{type:"strong",children:[]}}function Py(){return{type:"text",value:""}}function Dy(){return{type:"thematicBreak"}}}function rr(t){return{line:t.line,column:t.column,offset:t.offset}}function H4(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?H4(t,r):nx(t,r)}}function nx(t,e){let n;for(n in e)if(V4.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function yp(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ro({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ro({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ro({start:e.start,end:e.end})+") is still open")}function rx(t){const e=this;e.parser=n;function n(r){return ex(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ix(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function ox(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function lx(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function sx(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ax(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ux(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Ji(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let l,s=t.footnoteCounts.get(r);s===void 0?(s=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=o+1,s+=1,t.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,u),t.applyData(e,u)}function cx(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function dx(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function O4(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function fx(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return O4(t,e);const i={src:Ji(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function px(t,e){const n={src:Ji(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function hx(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function mx(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return O4(t,e);const i={href:Ji(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function gx(t,e){const n={href:Ji(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function yx(t,e,n){const r=t.all(e),i=n?vx(n):G4(e),o={},l=[];if(typeof e.checked=="boolean"){const d=r[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?l.push(...d.children):l.push(d)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:l};return t.patch(e,u),t.applyData(e,u)}function vx(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=G4(n[r])}return e}function G4(t){const e=t.spread;return e??t.children.length>1}function xx(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function wx(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Sx(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Tx(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Cx(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=Jc(e.children[1]),a=E4(e.children[e.children.length-1]);s&&a&&(l.position={start:s,end:a}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function Ex(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,s=l?l.length:e.children.length;let a=-1;const u=[];for(;++a<s;){const p=e.children[a],h={},m=l?l[a]:void 0;m&&(h.align=m);let v={type:"element",tagName:o,properties:h,children:[]};p&&(v.children=t.all(p),t.patch(p,v),v=t.applyData(p,v)),u.push(v)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function kx(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const vp=9,xp=32;function Ax(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(wp(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(wp(e.slice(i),i>0,!1)),o.join("")}function wp(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===vp||o===xp;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===vp||o===xp;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Ix(t,e){const n={type:"text",value:Ax(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function bx(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Mx={blockquote:ix,break:ox,code:lx,delete:sx,emphasis:ax,footnoteReference:ux,heading:cx,html:dx,imageReference:fx,image:px,inlineCode:hx,linkReference:mx,link:gx,listItem:yx,list:xx,paragraph:wx,root:Sx,strong:Tx,table:Cx,tableCell:kx,tableRow:Ex,text:Ix,thematicBreak:bx,toml:Pl,yaml:Pl,definition:Pl,footnoteDefinition:Pl};function Pl(){}const $4=-1,ca=0,Do=1,Ds=2,jc=3,ed=4,td=5,nd=6,J4=7,W4=8,Sp=typeof self=="object"?self:globalThis,_x=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,l]=e[i];switch(o){case ca:case $4:return n(l,i);case Do:{const s=n([],i);for(const a of l)s.push(r(a));return s}case Ds:{const s=n({},i);for(const[a,u]of l)s[r(a)]=r(u);return s}case jc:return n(new Date(l),i);case ed:{const{source:s,flags:a}=l;return n(new RegExp(s,a),i)}case td:{const s=n(new Map,i);for(const[a,u]of l)s.set(r(a),r(u));return s}case nd:{const s=n(new Set,i);for(const a of l)s.add(r(a));return s}case J4:{const{name:s,message:a}=l;return n(new Sp[s](a),i)}case W4:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:s}=new Uint8Array(l);return n(new DataView(s),l)}}return n(new Sp[o](l),i)};return r},Tp=t=>_x(new Map,t)(0),si="",{toString:Nx}={},{keys:Rx}=Object,mo=t=>{const e=typeof t;if(e!=="object"||!t)return[ca,e];const n=Nx.call(t).slice(8,-1);switch(n){case"Array":return[Do,si];case"Object":return[Ds,si];case"Date":return[jc,si];case"RegExp":return[ed,si];case"Map":return[td,si];case"Set":return[nd,si];case"DataView":return[Do,n]}return n.includes("Array")?[Do,n]:n.includes("Error")?[J4,n]:[Ds,n]},Dl=([t,e])=>t===ca&&(e==="function"||e==="symbol"),Px=(t,e,n,r)=>{const i=(l,s)=>{const a=r.push(l)-1;return n.set(s,a),a},o=l=>{if(n.has(l))return n.get(l);let[s,a]=mo(l);switch(s){case ca:{let d=l;switch(a){case"bigint":s=W4,d=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+a);d=null;break;case"undefined":return i([$4],l)}return i([s,d],l)}case Do:{if(a){let h=l;return a==="DataView"?h=new Uint8Array(l.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(l)),i([a,[...h]],l)}const d=[],p=i([s,d],l);for(const h of l)d.push(o(h));return p}case Ds:{if(a)switch(a){case"BigInt":return i([a,l.toString()],l);case"Boolean":case"Number":case"String":return i([a,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const d=[],p=i([s,d],l);for(const h of Rx(l))(t||!Dl(mo(l[h])))&&d.push([o(h),o(l[h])]);return p}case jc:return i([s,l.toISOString()],l);case ed:{const{source:d,flags:p}=l;return i([s,{source:d,flags:p}],l)}case td:{const d=[],p=i([s,d],l);for(const[h,m]of l)(t||!(Dl(mo(h))||Dl(mo(m))))&&d.push([o(h),o(m)]);return p}case nd:{const d=[],p=i([s,d],l);for(const h of l)(t||!Dl(mo(h)))&&d.push(o(h));return p}}const{message:u}=l;return i([s,{name:a,message:u}],l)};return o},Cp=(t,{json:e,lossy:n}={})=>{const r=[];return Px(!(e||n),!!e,new Map,r)(t),r},Ls=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Tp(Cp(t,e)):structuredClone(t):(t,e)=>Tp(Cp(t,e));function Dx(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Lx(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function zx(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Dx,r=t.options.footnoteBackLabel||Lx,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[a]);if(!u)continue;const d=t.all(u),p=String(u.identifier).toUpperCase(),h=Ji(p.toLowerCase());let m=0;const v=[],T=t.footnoteCounts.get(p);for(;T!==void 0&&++m<=T;){v.length>0&&v.push({type:"text",value:" "});let x=typeof n=="string"?n:n(a,m);typeof x=="string"&&(x={type:"text",value:x}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const N=d[d.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const x=N.children[N.children.length-1];x&&x.type==="text"?x.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...v)}else d.push(...v);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(d,!0)};t.patch(u,S),s.push(S)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Ls(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const rd=function(t){if(t==null)return qx;if(typeof t=="function")return da(t);if(typeof t=="object")return Array.isArray(t)?Fx(t):Ux(t);if(typeof t=="string")return Bx(t);throw new Error("Expected function, string, or object as test")};function Fx(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=rd(t[n]);return da(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function Ux(t){const e=t;return da(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function Bx(t){return da(e);function e(n){return n&&n.type===t}}function da(t){return e;function e(n,r,i){return!!(Vx(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function qx(){return!0}function Vx(t){return t!==null&&typeof t=="object"&&"type"in t}const Y4=[],Hx=!0,Ep=!1,K4="skip";function X4(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=rd(i),l=r?-1:1;s(t,void 0,[])();function s(a,u,d){const p=a&&typeof a=="object"?a:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=Y4,v,T,N;if((!e||o(a,u,d[d.length-1]||void 0))&&(m=Ox(n(a,d)),m[0]===Ep))return m;if("children"in a&&a.children){const S=a;if(S.children&&m[0]!==K4)for(T=(r?S.children.length:-1)+l,N=d.concat(S);T>-1&&T<S.children.length;){const x=S.children[T];if(v=s(x,T,N)(),v[0]===Ep)return v;T=typeof v[1]=="number"?v[1]:T+l}}return m}}}function Ox(t){return Array.isArray(t)?t:typeof t=="number"?[Hx,t]:t==null?Y4:[t]}function Q4(t,e,n,r){let i,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,i=n):(o=e,l=n,i=r),X4(t,o,s,i);function s(a,u){const d=u[u.length-1],p=d?d.children.indexOf(a):void 0;return l(a,p,d)}}const k0={}.hasOwnProperty,Gx={};function $x(t,e){const n=e||Gx,r=new Map,i=new Map,o=new Map,l={...Mx,...n.handlers},s={all:u,applyData:Wx,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:a,options:n,patch:Jx,wrap:Kx};return Q4(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();p.has(h)||p.set(h,d)}}),s;function a(d,p){const h=d.type,m=s.handlers[h];if(k0.call(s.handlers,h)&&m)return m(s,d,p);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in d){const{children:T,...N}=d,S=Ls(N);return S.children=s.all(d),S}return Ls(d)}return(s.options.unknownHandler||Yx)(s,d,p)}function u(d){const p=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const v=s.one(h[m],d);if(v){if(m&&h[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=kp(v.value)),!Array.isArray(v)&&v.type==="element")){const T=v.children[0];T&&T.type==="text"&&(T.value=kp(T.value))}Array.isArray(v)?p.push(...v):p.push(v)}}}return p}}function Jx(t,e){t.position&&(e.position=N6(t))}function Wx(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,Ls(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Yx(t,e){const n=e.data||{},r="value"in e&&!(k0.call(n,"hProperties")||k0.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Kx(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function kp(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Ap(t,e){const n=$x(t,e),r=n.one(t,void 0),i=zx(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Xx(t,e){return t&&"run"in t?async function(n,r){const i=Ap(n,{file:r,...e});await t.run(i,r)}:function(n,r){return Ap(n,{file:r,...t||e})}}function Ip(t){if(t)throw t}var is=Object.prototype.hasOwnProperty,Z4=Object.prototype.toString,bp=Object.defineProperty,Mp=Object.getOwnPropertyDescriptor,_p=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Z4.call(e)==="[object Array]"},Np=function(e){if(!e||Z4.call(e)!=="[object Object]")return!1;var n=is.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&is.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||is.call(e,i)},Rp=function(e,n){bp&&n.name==="__proto__"?bp(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Pp=function(e,n){if(n==="__proto__")if(is.call(e,n)){if(Mp)return Mp(e,n).value}else return;return e[n]},Qx=function t(){var e,n,r,i,o,l,s=arguments[0],a=1,u=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(e=arguments[a],e!=null)for(n in e)r=Pp(s,n),i=Pp(e,n),s!==i&&(d&&i&&(Np(i)||(o=_p(i)))?(o?(o=!1,l=r&&_p(r)?r:[]):l=r&&Np(r)?r:{},Rp(s,{name:n,newValue:t(d,l,i)})):typeof i<"u"&&Rp(s,{name:n,newValue:i}));return s};const tu=K0(Qx);function A0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Zx(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);s(null,...i);function s(a,...u){const d=t[++o];let p=-1;if(a){l(a);return}for(;++p<i.length;)(u[p]===null||u[p]===void 0)&&(u[p]=i[p]);i=u,d?jx(d,s)(...u):l(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function jx(t,e){let n;return r;function r(...l){const s=t.length>l.length;let a;s&&l.push(i);try{a=t.apply(this,l)}catch(u){const d=u;if(s&&n)throw d;return i(d)}s||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(l,...s){n||(n=!0,e(l,...s))}function o(l){i(null,l)}}const Sn={basename:e9,dirname:t9,extname:n9,join:r9,sep:"/"};function e9(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');cl(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function t9(t){if(cl(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function n9(t){cl(t);let e=t.length,n=-1,r=0,i=-1,o=0,l;for(;e--;){const s=t.codePointAt(e);if(s===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function r9(...t){let e=-1,n;for(;++e<t.length;)cl(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":i9(n)}function i9(t){cl(t);const e=t.codePointAt(0)===47;let n=o9(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function o9(t,e){let n="",r=0,i=-1,o=0,l=-1,s,a;for(;++l<=t.length;){if(l<t.length)s=t.codePointAt(l);else{if(s===47)break;s=47}if(s===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,o=0}else s===46&&o>-1?o++:o=-1}return n}function cl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const l9={cwd:s9};function s9(){return"/"}function I0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function a9(t){if(typeof t=="string")t=new URL(t);else if(!I0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return u9(t)}function u9(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const nu=["history","path","basename","stem","extname","dirname"];class j4{constructor(e){let n;e?I0(e)?n={path:e}:typeof e=="string"||c9(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":l9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<nu.length;){const o=nu[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)nu.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Sn.basename(this.path):void 0}set basename(e){iu(e,"basename"),ru(e,"basename"),this.path=Sn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Sn.dirname(this.path):void 0}set dirname(e){Dp(this.basename,"dirname"),this.path=Sn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Sn.extname(this.path):void 0}set extname(e){if(ru(e,"extname"),Dp(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Sn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){I0(e)&&(e=a9(e)),iu(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Sn.basename(this.path,this.extname):void 0}set stem(e){iu(e,"stem"),ru(e,"stem"),this.path=Sn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new yt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ru(t,e){if(t&&t.includes(Sn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Sn.sep+"`")}function iu(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Dp(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function c9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const d9=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},f9={}.hasOwnProperty;class id extends d9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Zx()}copy(){const e=new id;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(tu(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(su("data",this.frozen),this.namespace[e]=n,this):f9.call(this.namespace,e)&&this.namespace[e]||void 0:e?(su("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ll(e),r=this.parser||this.Parser;return ou("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ou("process",this.parser||this.Parser),lu("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const s=Ll(e),a=r.parse(s);r.run(a,s,function(d,p,h){if(d||!p||!h)return u(d);const m=p,v=r.stringify(m,h);m9(v)?h.value=v:h.result=v,u(d,h)});function u(d,p){d||!p?l(d):o?o(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),ou("processSync",this.parser||this.Parser),lu("processSync",this.compiler||this.Compiler),this.process(e,i),zp("processSync","process",n),r;function i(o,l){n=!0,Ip(o),r=l}}run(e,n,r){Lp(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,s){const a=Ll(n);i.run(e,a,u);function u(d,p,h){const m=p||e;d?s(d):l?l(m):r(void 0,m,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),zp("runSync","run",r),i;function o(l,s){Ip(l),i=s,r=!0}}stringify(e,n){this.freeze();const r=Ll(n),i=this.compiler||this.Compiler;return lu("stringify",i),Lp(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(su("use",this.frozen),e!=null)if(typeof e=="function")a(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...p]=u;a(d,p)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=tu(!0,i.settings,u.settings))}function s(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const p=u[d];o(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,d){let p=-1,h=-1;for(;++p<r.length;)if(r[p][0]===u){h=p;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[m,...v]=d;const T=r[h][1];A0(T)&&A0(m)&&(m=tu(!0,T,m)),r[h]=[u,m,...v]}}}}const p9=new id().freeze();function ou(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function lu(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function su(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Lp(t){if(!A0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function zp(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ll(t){return h9(t)?t:new j4(t)}function h9(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function m9(t){return typeof t=="string"||g9(t)}function g9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const y9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Fp=[],Up={allowDangerousHtml:!0},v9=/^(https?|ircs?|mailto|xmpp)$/i,x9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function w9(t){const e=S9(t),n=T9(t);return C9(e.runSync(e.parse(n),n),t)}function S9(t){const e=t.rehypePlugins||Fp,n=t.remarkPlugins||Fp,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Up}:Up;return p9().use(rx).use(n).use(Xx,r).use(e)}function T9(t){const e=t.children||"",n=new j4;return typeof e=="string"&&(n.value=e),n}function C9(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,l=e.skipHtml,s=e.unwrapDisallowed,a=e.urlTransform||E9;for(const d of x9)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+y9+d.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),Q4(t,u),z6(t,{Fragment:C.Fragment,components:i,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function u(d,p,h){if(d.type==="raw"&&h&&typeof p=="number")return l?h.children.splice(p,1):h.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let m;for(m in Za)if(Object.hasOwn(Za,m)&&Object.hasOwn(d.properties,m)){const v=d.properties[m],T=Za[m];(T===null||T.includes(d.tagName))&&(d.properties[m]=a(String(v||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof p=="number"&&(m=!r(d,p,h)),m&&h&&typeof p=="number")return s&&d.children?h.children.splice(p,1,...d.children):h.children.splice(p,1),p}}}function E9(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||v9.test(t.slice(0,e))?t:""}function k9(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,l=0;for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+e.length,r=n.indexOf(e,i);return l}function A9(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:o},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:s,mathText:l,mathTextData:s}};function t(a){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},a)}function e(){this.buffer()}function n(){const a=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=a}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(a){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(a),d.value=u;const p=d.data.hChildren[0];p.type,p.tagName,p.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function o(a){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},a),this.buffer()}function l(a){const u=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(a),d.value=u,d.data.hChildren.push({type:"text",value:u})}function s(a){this.config.enter.data.call(this,a),this.config.exit.data.call(this,a)}}function I9(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(o,l,s,a){const u=o.value||"",d=s.createTracker(a),p="$".repeat(Math.max(k9(u,"$")+1,2)),h=s.enter("mathFlow");let m=d.move(p);if(o.meta){const v=s.enter("mathFlowMeta");m+=d.move(s.safe(o.meta,{after:`
`,before:m,encode:["$"],...d.current()})),v()}return m+=d.move(`
`),u&&(m+=d.move(u+`
`)),m+=d.move(p),h(),m}function r(o,l,s){let a=o.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(a);)u++;const d="$".repeat(u);/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^\$|\$$/.test(a))&&(a=" "+a+" ");let p=-1;for(;++p<s.unsafe.length;){const h=s.unsafe[p];if(!h.atBreak)continue;const m=s.compilePattern(h);let v;for(;v=m.exec(a);){let T=v.index;a.codePointAt(T)===10&&a.codePointAt(T-1)===13&&T--,a=a.slice(0,T)+" "+a.slice(v.index+1)}}return d+a+d}function i(){return"$"}}const b9={tokenize:M9,concrete:!0,name:"mathFlow"},Bp={tokenize:_9,partial:!0};function M9(t,e,n){const r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let l=0;return s;function s(x){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),a(x)}function a(x){return x===36?(t.consume(x),l++,a):l<2?n(x):(t.exit("mathFlowFenceSequence"),be(t,u,"whitespace")(x))}function u(x){return x===null||se(x)?p(x):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),d(x))}function d(x){return x===null||se(x)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),p(x)):x===36?n(x):(t.consume(x),d)}function p(x){return t.exit("mathFlowFence"),r.interrupt?e(x):t.attempt(Bp,h,N)(x)}function h(x){return t.attempt({tokenize:S,partial:!0},N,m)(x)}function m(x){return(o?be(t,v,"linePrefix",o+1):v)(x)}function v(x){return x===null?N(x):se(x)?t.attempt(Bp,h,N)(x):(t.enter("mathFlowValue"),T(x))}function T(x){return x===null||se(x)?(t.exit("mathFlowValue"),v(x)):(t.consume(x),T)}function N(x){return t.exit("mathFlow"),e(x)}function S(x,k,R){let L=0;return be(x,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function I(F){return x.enter("mathFlowFence"),x.enter("mathFlowFenceSequence"),U(F)}function U(F){return F===36?(L++,x.consume(F),U):L<l?R(F):(x.exit("mathFlowFenceSequence"),be(x,V,"whitespace")(F))}function V(F){return F===null||se(F)?(x.exit("mathFlowFence"),k(F)):R(F)}}}function _9(t,e,n){const r=this;return i;function i(l){return l===null?e(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function N9(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:R9,previous:P9,name:"mathText"};function r(i,o,l){let s=0,a,u;return d;function d(T){return i.enter("mathText"),i.enter("mathTextSequence"),p(T)}function p(T){return T===36?(i.consume(T),s++,p):s<2&&!n?l(T):(i.exit("mathTextSequence"),h(T))}function h(T){return T===null?l(T):T===36?(u=i.enter("mathTextSequence"),a=0,v(T)):T===32?(i.enter("space"),i.consume(T),i.exit("space"),h):se(T)?(i.enter("lineEnding"),i.consume(T),i.exit("lineEnding"),h):(i.enter("mathTextData"),m(T))}function m(T){return T===null||T===32||T===36||se(T)?(i.exit("mathTextData"),h(T)):(i.consume(T),m)}function v(T){return T===36?(i.consume(T),a++,v):a===s?(i.exit("mathTextSequence"),i.exit("mathText"),o(T)):(u.type="mathTextData",m(T))}}}function R9(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function P9(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function D9(t){return{flow:{36:b9},text:{36:N9(t)}}}class bt{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new bt(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class $t{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new $t(n,bt.range(this,e))}}class J{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,o,l=n&&n.loc;if(l&&l.start<=l.end){var s=l.lexer.input;i=l.start,o=l.end,i===s.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var a=s.slice(i,o).replace(/[^]/g,"$&"),u;i>15?u=""+s.slice(i-15,i):u=s.slice(0,i);var d;o+15<s.length?d=s.slice(o,o+15)+"":d=s.slice(o),r+=u+a+d}var p=new Error(r);return p.name="ParseError",p.__proto__=J.prototype,p.position=i,i!=null&&o!=null&&(p.length=o-i),p.rawMessage=e,p}}J.prototype.__proto__=Error.prototype;var L9=function(e,n){return e===void 0?n:e},z9=/([A-Z])/g,F9=function(e){return e.replace(z9,"-$1").toLowerCase()},U9={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},B9=/[&><"']/g;function q9(t){return String(t).replace(B9,e=>U9[e])}var e2=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},V9=function(e){var n=e2(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},H9=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},O9=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ee={deflt:L9,escape:q9,hyphenate:F9,getBaseElem:e2,isCharacterBox:V9,protocolFromUrl:O9},os={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function G9(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class od{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in os)if(os.hasOwnProperty(n)){var r=os[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:G9(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new J("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Ee.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class ir{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return Tn[$9[this.id]]}sub(){return Tn[J9[this.id]]}fracNum(){return Tn[W9[this.id]]}fracDen(){return Tn[Y9[this.id]]}cramp(){return Tn[K9[this.id]]}text(){return Tn[X9[this.id]]}isTight(){return this.size>=2}}var ld=0,zs=1,_i=2,Hn=3,nl=4,en=5,Vi=6,wt=7,Tn=[new ir(ld,0,!1),new ir(zs,0,!0),new ir(_i,1,!1),new ir(Hn,1,!0),new ir(nl,2,!1),new ir(en,2,!0),new ir(Vi,3,!1),new ir(wt,3,!0)],$9=[nl,en,nl,en,Vi,wt,Vi,wt],J9=[en,en,en,en,wt,wt,wt,wt],W9=[_i,Hn,nl,en,Vi,wt,Vi,wt],Y9=[Hn,Hn,en,en,wt,wt,wt,wt],K9=[zs,zs,Hn,Hn,en,en,wt,wt],X9=[ld,zs,_i,Hn,_i,Hn,_i,Hn],ce={DISPLAY:Tn[ld],TEXT:Tn[_i],SCRIPT:Tn[nl],SCRIPTSCRIPT:Tn[Vi]},b0=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Q9(t){for(var e=0;e<b0.length;e++)for(var n=b0[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var ls=[];b0.forEach(t=>t.blocks.forEach(e=>ls.push(...e)));function t2(t){for(var e=0;e<ls.length;e+=2)if(t>=ls[e]&&t<=ls[e+1])return!0;return!1}var ai=80,Z9=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},j9=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},ew=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},tw=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},nw=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},rw=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},iw=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},ow=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=Z9(n,ai);break;case"sqrtSize1":i=j9(n,ai);break;case"sqrtSize2":i=ew(n,ai);break;case"sqrtSize3":i=tw(n,ai);break;case"sqrtSize4":i=nw(n,ai);break;case"sqrtTall":i=iw(n,ai,r)}return i},lw=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},qp={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},sw=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class dl{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var kn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},zl={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Vp={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function aw(t,e){kn[t]=e}function sd(t,e,n){if(!kn[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=kn[e][r];if(!i&&t[0]in Vp&&(r=Vp[t[0]].charCodeAt(0),i=kn[e][r]),!i&&n==="text"&&t2(r)&&(i=kn[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var au={};function uw(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!au[e]){var n=au[e]={cssEmPerMu:zl.quad[e]/18};for(var r in zl)zl.hasOwnProperty(r)&&(n[r]=zl[r][e])}return au[e]}var cw=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Hp=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Op=function(e,n){return n.size<2?e:cw[e-1][n.size-1]};class Un{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Un.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Hp[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Un(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Op(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Hp[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=Op(Un.BASESIZE,e);return this.size===n&&this.textSize===Un.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Un.BASESIZE?["sizing","reset-size"+this.size,"size"+Un.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=uw(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Un.BASESIZE=6;var M0={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},dw={ex:!0,em:!0,mu:!0},n2=function(e){return typeof e!="string"&&(e=e.unit),e in M0||e in dw||e==="ex"},Je=function(e,n){var r;if(e.unit in M0)r=M0[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new J("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Q=function(e){return+e.toFixed(4)+"em"},Er=function(e){return e.filter(n=>n).join(" ")},r2=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},i2=function(e){var n=document.createElement(e);n.className=Er(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},fw=/[\s"'>/=\x00-\x1f]/,o2=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Ee.escape(Er(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ee.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Ee.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(fw.test(o))throw new J("Invalid attribute name '"+o+"'");n+=" "+o+'="'+Ee.escape(this.attributes[o])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class fl{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,r2.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return i2.call(this,"span")}toMarkup(){return o2.call(this,"span")}}class ad{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,r2.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return i2.call(this,"a")}toMarkup(){return o2.call(this,"a")}}class pw{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Ee.escape(this.src)+'"'+(' alt="'+Ee.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ee.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Ee.escape(n)+'"'),e+="'/>",e}}var hw={:"",:"",:"",:""};class ln{constructor(e,n,r,i,o,l,s,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=l||0,this.classes=s||[],this.style=a||{},this.maxFontSize=0;var u=Q9(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=hw[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Q(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Er(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Ee.escape(Er(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ee.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Ee.escape(r)+'"');var o=Ee.escape(this.text);return e?(n+=">",n+=o,n+="</span>",n):o}}class Yn{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ee.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class kr{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",qp[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ee.escape(this.alternate)+'"/>':'<path d="'+Ee.escape(qp[this.pathName])+'"/>'}}class _0{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ee.escape(this.attributes[n])+'"');return e+="/>",e}}function Gp(t){if(t instanceof ln)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function mw(t){if(t instanceof fl)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var gw={bin:1,close:1,inner:1,open:1,punct:1,rel:1},yw={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ze={math:{},text:{}};function g(t,e,n,r,i,o){ze[t][i]={font:e,group:n,replace:r},o&&r&&(ze[t][r]=ze[t][i])}var y="math",O="text",w="main",b="ams",Oe="accent-token",ne="bin",Et="close",Wi="inner",ue="mathord",tt="op-token",Kt="open",fa="punct",M="rel",jn="spacing",z="textord";g(y,w,M,"","\\equiv",!0);g(y,w,M,"","\\prec",!0);g(y,w,M,"","\\succ",!0);g(y,w,M,"","\\sim",!0);g(y,w,M,"","\\perp");g(y,w,M,"","\\preceq",!0);g(y,w,M,"","\\succeq",!0);g(y,w,M,"","\\simeq",!0);g(y,w,M,"","\\mid",!0);g(y,w,M,"","\\ll",!0);g(y,w,M,"","\\gg",!0);g(y,w,M,"","\\asymp",!0);g(y,w,M,"","\\parallel");g(y,w,M,"","\\bowtie",!0);g(y,w,M,"","\\smile",!0);g(y,w,M,"","\\sqsubseteq",!0);g(y,w,M,"","\\sqsupseteq",!0);g(y,w,M,"","\\doteq",!0);g(y,w,M,"","\\frown",!0);g(y,w,M,"","\\ni",!0);g(y,w,M,"","\\propto",!0);g(y,w,M,"","\\vdash",!0);g(y,w,M,"","\\dashv",!0);g(y,w,M,"","\\owns");g(y,w,fa,".","\\ldotp");g(y,w,fa,"","\\cdotp");g(y,w,z,"#","\\#");g(O,w,z,"#","\\#");g(y,w,z,"&","\\&");g(O,w,z,"&","\\&");g(y,w,z,"","\\aleph",!0);g(y,w,z,"","\\forall",!0);g(y,w,z,"","\\hbar",!0);g(y,w,z,"","\\exists",!0);g(y,w,z,"","\\nabla",!0);g(y,w,z,"","\\flat",!0);g(y,w,z,"","\\ell",!0);g(y,w,z,"","\\natural",!0);g(y,w,z,"","\\clubsuit",!0);g(y,w,z,"","\\wp",!0);g(y,w,z,"","\\sharp",!0);g(y,w,z,"","\\diamondsuit",!0);g(y,w,z,"","\\Re",!0);g(y,w,z,"","\\heartsuit",!0);g(y,w,z,"","\\Im",!0);g(y,w,z,"","\\spadesuit",!0);g(y,w,z,"","\\S",!0);g(O,w,z,"","\\S");g(y,w,z,"","\\P",!0);g(O,w,z,"","\\P");g(y,w,z,"","\\dag");g(O,w,z,"","\\dag");g(O,w,z,"","\\textdagger");g(y,w,z,"","\\ddag");g(O,w,z,"","\\ddag");g(O,w,z,"","\\textdaggerdbl");g(y,w,Et,"","\\rmoustache",!0);g(y,w,Kt,"","\\lmoustache",!0);g(y,w,Et,"","\\rgroup",!0);g(y,w,Kt,"","\\lgroup",!0);g(y,w,ne,"","\\mp",!0);g(y,w,ne,"","\\ominus",!0);g(y,w,ne,"","\\uplus",!0);g(y,w,ne,"","\\sqcap",!0);g(y,w,ne,"","\\ast");g(y,w,ne,"","\\sqcup",!0);g(y,w,ne,"","\\bigcirc",!0);g(y,w,ne,"","\\bullet",!0);g(y,w,ne,"","\\ddagger");g(y,w,ne,"","\\wr",!0);g(y,w,ne,"","\\amalg");g(y,w,ne,"&","\\And");g(y,w,M,"","\\longleftarrow",!0);g(y,w,M,"","\\Leftarrow",!0);g(y,w,M,"","\\Longleftarrow",!0);g(y,w,M,"","\\longrightarrow",!0);g(y,w,M,"","\\Rightarrow",!0);g(y,w,M,"","\\Longrightarrow",!0);g(y,w,M,"","\\leftrightarrow",!0);g(y,w,M,"","\\longleftrightarrow",!0);g(y,w,M,"","\\Leftrightarrow",!0);g(y,w,M,"","\\Longleftrightarrow",!0);g(y,w,M,"","\\mapsto",!0);g(y,w,M,"","\\longmapsto",!0);g(y,w,M,"","\\nearrow",!0);g(y,w,M,"","\\hookleftarrow",!0);g(y,w,M,"","\\hookrightarrow",!0);g(y,w,M,"","\\searrow",!0);g(y,w,M,"","\\leftharpoonup",!0);g(y,w,M,"","\\rightharpoonup",!0);g(y,w,M,"","\\swarrow",!0);g(y,w,M,"","\\leftharpoondown",!0);g(y,w,M,"","\\rightharpoondown",!0);g(y,w,M,"","\\nwarrow",!0);g(y,w,M,"","\\rightleftharpoons",!0);g(y,b,M,"","\\nless",!0);g(y,b,M,"","\\@nleqslant");g(y,b,M,"","\\@nleqq");g(y,b,M,"","\\lneq",!0);g(y,b,M,"","\\lneqq",!0);g(y,b,M,"","\\@lvertneqq");g(y,b,M,"","\\lnsim",!0);g(y,b,M,"","\\lnapprox",!0);g(y,b,M,"","\\nprec",!0);g(y,b,M,"","\\npreceq",!0);g(y,b,M,"","\\precnsim",!0);g(y,b,M,"","\\precnapprox",!0);g(y,b,M,"","\\nsim",!0);g(y,b,M,"","\\@nshortmid");g(y,b,M,"","\\nmid",!0);g(y,b,M,"","\\nvdash",!0);g(y,b,M,"","\\nvDash",!0);g(y,b,M,"","\\ntriangleleft");g(y,b,M,"","\\ntrianglelefteq",!0);g(y,b,M,"","\\subsetneq",!0);g(y,b,M,"","\\@varsubsetneq");g(y,b,M,"","\\subsetneqq",!0);g(y,b,M,"","\\@varsubsetneqq");g(y,b,M,"","\\ngtr",!0);g(y,b,M,"","\\@ngeqslant");g(y,b,M,"","\\@ngeqq");g(y,b,M,"","\\gneq",!0);g(y,b,M,"","\\gneqq",!0);g(y,b,M,"","\\@gvertneqq");g(y,b,M,"","\\gnsim",!0);g(y,b,M,"","\\gnapprox",!0);g(y,b,M,"","\\nsucc",!0);g(y,b,M,"","\\nsucceq",!0);g(y,b,M,"","\\succnsim",!0);g(y,b,M,"","\\succnapprox",!0);g(y,b,M,"","\\ncong",!0);g(y,b,M,"","\\@nshortparallel");g(y,b,M,"","\\nparallel",!0);g(y,b,M,"","\\nVDash",!0);g(y,b,M,"","\\ntriangleright");g(y,b,M,"","\\ntrianglerighteq",!0);g(y,b,M,"","\\@nsupseteqq");g(y,b,M,"","\\supsetneq",!0);g(y,b,M,"","\\@varsupsetneq");g(y,b,M,"","\\supsetneqq",!0);g(y,b,M,"","\\@varsupsetneqq");g(y,b,M,"","\\nVdash",!0);g(y,b,M,"","\\precneqq",!0);g(y,b,M,"","\\succneqq",!0);g(y,b,M,"","\\@nsubseteqq");g(y,b,ne,"","\\unlhd");g(y,b,ne,"","\\unrhd");g(y,b,M,"","\\nleftarrow",!0);g(y,b,M,"","\\nrightarrow",!0);g(y,b,M,"","\\nLeftarrow",!0);g(y,b,M,"","\\nRightarrow",!0);g(y,b,M,"","\\nleftrightarrow",!0);g(y,b,M,"","\\nLeftrightarrow",!0);g(y,b,M,"","\\vartriangle");g(y,b,z,"","\\hslash");g(y,b,z,"","\\triangledown");g(y,b,z,"","\\lozenge");g(y,b,z,"","\\circledS");g(y,b,z,"","\\circledR");g(O,b,z,"","\\circledR");g(y,b,z,"","\\measuredangle",!0);g(y,b,z,"","\\nexists");g(y,b,z,"","\\mho");g(y,b,z,"","\\Finv",!0);g(y,b,z,"","\\Game",!0);g(y,b,z,"","\\backprime");g(y,b,z,"","\\blacktriangle");g(y,b,z,"","\\blacktriangledown");g(y,b,z,"","\\blacksquare");g(y,b,z,"","\\blacklozenge");g(y,b,z,"","\\bigstar");g(y,b,z,"","\\sphericalangle",!0);g(y,b,z,"","\\complement",!0);g(y,b,z,"","\\eth",!0);g(O,w,z,"","");g(y,b,z,"","\\diagup");g(y,b,z,"","\\diagdown");g(y,b,z,"","\\square");g(y,b,z,"","\\Box");g(y,b,z,"","\\Diamond");g(y,b,z,"","\\yen",!0);g(O,b,z,"","\\yen",!0);g(y,b,z,"","\\checkmark",!0);g(O,b,z,"","\\checkmark");g(y,b,z,"","\\beth",!0);g(y,b,z,"","\\daleth",!0);g(y,b,z,"","\\gimel",!0);g(y,b,z,"","\\digamma",!0);g(y,b,z,"","\\varkappa");g(y,b,Kt,"","\\@ulcorner",!0);g(y,b,Et,"","\\@urcorner",!0);g(y,b,Kt,"","\\@llcorner",!0);g(y,b,Et,"","\\@lrcorner",!0);g(y,b,M,"","\\leqq",!0);g(y,b,M,"","\\leqslant",!0);g(y,b,M,"","\\eqslantless",!0);g(y,b,M,"","\\lesssim",!0);g(y,b,M,"","\\lessapprox",!0);g(y,b,M,"","\\approxeq",!0);g(y,b,ne,"","\\lessdot");g(y,b,M,"","\\lll",!0);g(y,b,M,"","\\lessgtr",!0);g(y,b,M,"","\\lesseqgtr",!0);g(y,b,M,"","\\lesseqqgtr",!0);g(y,b,M,"","\\doteqdot");g(y,b,M,"","\\risingdotseq",!0);g(y,b,M,"","\\fallingdotseq",!0);g(y,b,M,"","\\backsim",!0);g(y,b,M,"","\\backsimeq",!0);g(y,b,M,"","\\subseteqq",!0);g(y,b,M,"","\\Subset",!0);g(y,b,M,"","\\sqsubset",!0);g(y,b,M,"","\\preccurlyeq",!0);g(y,b,M,"","\\curlyeqprec",!0);g(y,b,M,"","\\precsim",!0);g(y,b,M,"","\\precapprox",!0);g(y,b,M,"","\\vartriangleleft");g(y,b,M,"","\\trianglelefteq");g(y,b,M,"","\\vDash",!0);g(y,b,M,"","\\Vvdash",!0);g(y,b,M,"","\\smallsmile");g(y,b,M,"","\\smallfrown");g(y,b,M,"","\\bumpeq",!0);g(y,b,M,"","\\Bumpeq",!0);g(y,b,M,"","\\geqq",!0);g(y,b,M,"","\\geqslant",!0);g(y,b,M,"","\\eqslantgtr",!0);g(y,b,M,"","\\gtrsim",!0);g(y,b,M,"","\\gtrapprox",!0);g(y,b,ne,"","\\gtrdot");g(y,b,M,"","\\ggg",!0);g(y,b,M,"","\\gtrless",!0);g(y,b,M,"","\\gtreqless",!0);g(y,b,M,"","\\gtreqqless",!0);g(y,b,M,"","\\eqcirc",!0);g(y,b,M,"","\\circeq",!0);g(y,b,M,"","\\triangleq",!0);g(y,b,M,"","\\thicksim");g(y,b,M,"","\\thickapprox");g(y,b,M,"","\\supseteqq",!0);g(y,b,M,"","\\Supset",!0);g(y,b,M,"","\\sqsupset",!0);g(y,b,M,"","\\succcurlyeq",!0);g(y,b,M,"","\\curlyeqsucc",!0);g(y,b,M,"","\\succsim",!0);g(y,b,M,"","\\succapprox",!0);g(y,b,M,"","\\vartriangleright");g(y,b,M,"","\\trianglerighteq");g(y,b,M,"","\\Vdash",!0);g(y,b,M,"","\\shortmid");g(y,b,M,"","\\shortparallel");g(y,b,M,"","\\between",!0);g(y,b,M,"","\\pitchfork",!0);g(y,b,M,"","\\varpropto");g(y,b,M,"","\\blacktriangleleft");g(y,b,M,"","\\therefore",!0);g(y,b,M,"","\\backepsilon");g(y,b,M,"","\\blacktriangleright");g(y,b,M,"","\\because",!0);g(y,b,M,"","\\llless");g(y,b,M,"","\\gggtr");g(y,b,ne,"","\\lhd");g(y,b,ne,"","\\rhd");g(y,b,M,"","\\eqsim",!0);g(y,w,M,"","\\Join");g(y,b,M,"","\\Doteq",!0);g(y,b,ne,"","\\dotplus",!0);g(y,b,ne,"","\\smallsetminus");g(y,b,ne,"","\\Cap",!0);g(y,b,ne,"","\\Cup",!0);g(y,b,ne,"","\\doublebarwedge",!0);g(y,b,ne,"","\\boxminus",!0);g(y,b,ne,"","\\boxplus",!0);g(y,b,ne,"","\\divideontimes",!0);g(y,b,ne,"","\\ltimes",!0);g(y,b,ne,"","\\rtimes",!0);g(y,b,ne,"","\\leftthreetimes",!0);g(y,b,ne,"","\\rightthreetimes",!0);g(y,b,ne,"","\\curlywedge",!0);g(y,b,ne,"","\\curlyvee",!0);g(y,b,ne,"","\\circleddash",!0);g(y,b,ne,"","\\circledast",!0);g(y,b,ne,"","\\centerdot");g(y,b,ne,"","\\intercal",!0);g(y,b,ne,"","\\doublecap");g(y,b,ne,"","\\doublecup");g(y,b,ne,"","\\boxtimes",!0);g(y,b,M,"","\\dashrightarrow",!0);g(y,b,M,"","\\dashleftarrow",!0);g(y,b,M,"","\\leftleftarrows",!0);g(y,b,M,"","\\leftrightarrows",!0);g(y,b,M,"","\\Lleftarrow",!0);g(y,b,M,"","\\twoheadleftarrow",!0);g(y,b,M,"","\\leftarrowtail",!0);g(y,b,M,"","\\looparrowleft",!0);g(y,b,M,"","\\leftrightharpoons",!0);g(y,b,M,"","\\curvearrowleft",!0);g(y,b,M,"","\\circlearrowleft",!0);g(y,b,M,"","\\Lsh",!0);g(y,b,M,"","\\upuparrows",!0);g(y,b,M,"","\\upharpoonleft",!0);g(y,b,M,"","\\downharpoonleft",!0);g(y,w,M,"","\\origof",!0);g(y,w,M,"","\\imageof",!0);g(y,b,M,"","\\multimap",!0);g(y,b,M,"","\\leftrightsquigarrow",!0);g(y,b,M,"","\\rightrightarrows",!0);g(y,b,M,"","\\rightleftarrows",!0);g(y,b,M,"","\\twoheadrightarrow",!0);g(y,b,M,"","\\rightarrowtail",!0);g(y,b,M,"","\\looparrowright",!0);g(y,b,M,"","\\curvearrowright",!0);g(y,b,M,"","\\circlearrowright",!0);g(y,b,M,"","\\Rsh",!0);g(y,b,M,"","\\downdownarrows",!0);g(y,b,M,"","\\upharpoonright",!0);g(y,b,M,"","\\downharpoonright",!0);g(y,b,M,"","\\rightsquigarrow",!0);g(y,b,M,"","\\leadsto");g(y,b,M,"","\\Rrightarrow",!0);g(y,b,M,"","\\restriction");g(y,w,z,"","`");g(y,w,z,"$","\\$");g(O,w,z,"$","\\$");g(O,w,z,"$","\\textdollar");g(y,w,z,"%","\\%");g(O,w,z,"%","\\%");g(y,w,z,"_","\\_");g(O,w,z,"_","\\_");g(O,w,z,"_","\\textunderscore");g(y,w,z,"","\\angle",!0);g(y,w,z,"","\\infty",!0);g(y,w,z,"","\\prime");g(y,w,z,"","\\triangle");g(y,w,z,"","\\Gamma",!0);g(y,w,z,"","\\Delta",!0);g(y,w,z,"","\\Theta",!0);g(y,w,z,"","\\Lambda",!0);g(y,w,z,"","\\Xi",!0);g(y,w,z,"","\\Pi",!0);g(y,w,z,"","\\Sigma",!0);g(y,w,z,"","\\Upsilon",!0);g(y,w,z,"","\\Phi",!0);g(y,w,z,"","\\Psi",!0);g(y,w,z,"","\\Omega",!0);g(y,w,z,"A","");g(y,w,z,"B","");g(y,w,z,"E","");g(y,w,z,"Z","");g(y,w,z,"H","");g(y,w,z,"I","");g(y,w,z,"K","");g(y,w,z,"M","");g(y,w,z,"N","");g(y,w,z,"O","");g(y,w,z,"P","");g(y,w,z,"T","");g(y,w,z,"X","");g(y,w,z,"","\\neg",!0);g(y,w,z,"","\\lnot");g(y,w,z,"","\\top");g(y,w,z,"","\\bot");g(y,w,z,"","\\emptyset");g(y,b,z,"","\\varnothing");g(y,w,ue,"","\\alpha",!0);g(y,w,ue,"","\\beta",!0);g(y,w,ue,"","\\gamma",!0);g(y,w,ue,"","\\delta",!0);g(y,w,ue,"","\\epsilon",!0);g(y,w,ue,"","\\zeta",!0);g(y,w,ue,"","\\eta",!0);g(y,w,ue,"","\\theta",!0);g(y,w,ue,"","\\iota",!0);g(y,w,ue,"","\\kappa",!0);g(y,w,ue,"","\\lambda",!0);g(y,w,ue,"","\\mu",!0);g(y,w,ue,"","\\nu",!0);g(y,w,ue,"","\\xi",!0);g(y,w,ue,"","\\omicron",!0);g(y,w,ue,"","\\pi",!0);g(y,w,ue,"","\\rho",!0);g(y,w,ue,"","\\sigma",!0);g(y,w,ue,"","\\tau",!0);g(y,w,ue,"","\\upsilon",!0);g(y,w,ue,"","\\phi",!0);g(y,w,ue,"","\\chi",!0);g(y,w,ue,"","\\psi",!0);g(y,w,ue,"","\\omega",!0);g(y,w,ue,"","\\varepsilon",!0);g(y,w,ue,"","\\vartheta",!0);g(y,w,ue,"","\\varpi",!0);g(y,w,ue,"","\\varrho",!0);g(y,w,ue,"","\\varsigma",!0);g(y,w,ue,"","\\varphi",!0);g(y,w,ne,"","*",!0);g(y,w,ne,"+","+");g(y,w,ne,"","-",!0);g(y,w,ne,"","\\cdot",!0);g(y,w,ne,"","\\circ",!0);g(y,w,ne,"","\\div",!0);g(y,w,ne,"","\\pm",!0);g(y,w,ne,"","\\times",!0);g(y,w,ne,"","\\cap",!0);g(y,w,ne,"","\\cup",!0);g(y,w,ne,"","\\setminus",!0);g(y,w,ne,"","\\land");g(y,w,ne,"","\\lor");g(y,w,ne,"","\\wedge",!0);g(y,w,ne,"","\\vee",!0);g(y,w,z,"","\\surd");g(y,w,Kt,"","\\langle",!0);g(y,w,Kt,"","\\lvert");g(y,w,Kt,"","\\lVert");g(y,w,Et,"?","?");g(y,w,Et,"!","!");g(y,w,Et,"","\\rangle",!0);g(y,w,Et,"","\\rvert");g(y,w,Et,"","\\rVert");g(y,w,M,"=","=");g(y,w,M,":",":");g(y,w,M,"","\\approx",!0);g(y,w,M,"","\\cong",!0);g(y,w,M,"","\\ge");g(y,w,M,"","\\geq",!0);g(y,w,M,"","\\gets");g(y,w,M,">","\\gt",!0);g(y,w,M,"","\\in",!0);g(y,w,M,"","\\@not");g(y,w,M,"","\\subset",!0);g(y,w,M,"","\\supset",!0);g(y,w,M,"","\\subseteq",!0);g(y,w,M,"","\\supseteq",!0);g(y,b,M,"","\\nsubseteq",!0);g(y,b,M,"","\\nsupseteq",!0);g(y,w,M,"","\\models");g(y,w,M,"","\\leftarrow",!0);g(y,w,M,"","\\le");g(y,w,M,"","\\leq",!0);g(y,w,M,"<","\\lt",!0);g(y,w,M,"","\\rightarrow",!0);g(y,w,M,"","\\to");g(y,b,M,"","\\ngeq",!0);g(y,b,M,"","\\nleq",!0);g(y,w,jn,"","\\ ");g(y,w,jn,"","\\space");g(y,w,jn,"","\\nobreakspace");g(O,w,jn,"","\\ ");g(O,w,jn,""," ");g(O,w,jn,"","\\space");g(O,w,jn,"","\\nobreakspace");g(y,w,jn,null,"\\nobreak");g(y,w,jn,null,"\\allowbreak");g(y,w,fa,",",",");g(y,w,fa,";",";");g(y,b,ne,"","\\barwedge",!0);g(y,b,ne,"","\\veebar",!0);g(y,w,ne,"","\\odot",!0);g(y,w,ne,"","\\oplus",!0);g(y,w,ne,"","\\otimes",!0);g(y,w,z,"","\\partial",!0);g(y,w,ne,"","\\oslash",!0);g(y,b,ne,"","\\circledcirc",!0);g(y,b,ne,"","\\boxdot",!0);g(y,w,ne,"","\\bigtriangleup");g(y,w,ne,"","\\bigtriangledown");g(y,w,ne,"","\\dagger");g(y,w,ne,"","\\diamond");g(y,w,ne,"","\\star");g(y,w,ne,"","\\triangleleft");g(y,w,ne,"","\\triangleright");g(y,w,Kt,"{","\\{");g(O,w,z,"{","\\{");g(O,w,z,"{","\\textbraceleft");g(y,w,Et,"}","\\}");g(O,w,z,"}","\\}");g(O,w,z,"}","\\textbraceright");g(y,w,Kt,"{","\\lbrace");g(y,w,Et,"}","\\rbrace");g(y,w,Kt,"[","\\lbrack",!0);g(O,w,z,"[","\\lbrack",!0);g(y,w,Et,"]","\\rbrack",!0);g(O,w,z,"]","\\rbrack",!0);g(y,w,Kt,"(","\\lparen",!0);g(y,w,Et,")","\\rparen",!0);g(O,w,z,"<","\\textless",!0);g(O,w,z,">","\\textgreater",!0);g(y,w,Kt,"","\\lfloor",!0);g(y,w,Et,"","\\rfloor",!0);g(y,w,Kt,"","\\lceil",!0);g(y,w,Et,"","\\rceil",!0);g(y,w,z,"\\","\\backslash");g(y,w,z,"","|");g(y,w,z,"","\\vert");g(O,w,z,"|","\\textbar",!0);g(y,w,z,"","\\|");g(y,w,z,"","\\Vert");g(O,w,z,"","\\textbardbl");g(O,w,z,"~","\\textasciitilde");g(O,w,z,"\\","\\textbackslash");g(O,w,z,"^","\\textasciicircum");g(y,w,M,"","\\uparrow",!0);g(y,w,M,"","\\Uparrow",!0);g(y,w,M,"","\\downarrow",!0);g(y,w,M,"","\\Downarrow",!0);g(y,w,M,"","\\updownarrow",!0);g(y,w,M,"","\\Updownarrow",!0);g(y,w,tt,"","\\coprod");g(y,w,tt,"","\\bigvee");g(y,w,tt,"","\\bigwedge");g(y,w,tt,"","\\biguplus");g(y,w,tt,"","\\bigcap");g(y,w,tt,"","\\bigcup");g(y,w,tt,"","\\int");g(y,w,tt,"","\\intop");g(y,w,tt,"","\\iint");g(y,w,tt,"","\\iiint");g(y,w,tt,"","\\prod");g(y,w,tt,"","\\sum");g(y,w,tt,"","\\bigotimes");g(y,w,tt,"","\\bigoplus");g(y,w,tt,"","\\bigodot");g(y,w,tt,"","\\oint");g(y,w,tt,"","\\oiint");g(y,w,tt,"","\\oiiint");g(y,w,tt,"","\\bigsqcup");g(y,w,tt,"","\\smallint");g(O,w,Wi,"","\\textellipsis");g(y,w,Wi,"","\\mathellipsis");g(O,w,Wi,"","\\ldots",!0);g(y,w,Wi,"","\\ldots",!0);g(y,w,Wi,"","\\@cdots",!0);g(y,w,Wi,"","\\ddots",!0);g(y,w,z,"","\\varvdots");g(O,w,z,"","\\varvdots");g(y,w,Oe,"","\\acute");g(y,w,Oe,"","\\grave");g(y,w,Oe,"","\\ddot");g(y,w,Oe,"~","\\tilde");g(y,w,Oe,"","\\bar");g(y,w,Oe,"","\\breve");g(y,w,Oe,"","\\check");g(y,w,Oe,"^","\\hat");g(y,w,Oe,"","\\vec");g(y,w,Oe,"","\\dot");g(y,w,Oe,"","\\mathring");g(y,w,ue,"","\\@imath");g(y,w,ue,"","\\@jmath");g(y,w,z,"","");g(y,w,z,"","");g(O,w,z,"","\\i",!0);g(O,w,z,"","\\j",!0);g(O,w,z,"","\\ss",!0);g(O,w,z,"","\\ae",!0);g(O,w,z,"","\\oe",!0);g(O,w,z,"","\\o",!0);g(O,w,z,"","\\AE",!0);g(O,w,z,"","\\OE",!0);g(O,w,z,"","\\O",!0);g(O,w,Oe,"","\\'");g(O,w,Oe,"","\\`");g(O,w,Oe,"","\\^");g(O,w,Oe,"","\\~");g(O,w,Oe,"","\\=");g(O,w,Oe,"","\\u");g(O,w,Oe,"","\\.");g(O,w,Oe,"","\\c");g(O,w,Oe,"","\\r");g(O,w,Oe,"","\\v");g(O,w,Oe,"",'\\"');g(O,w,Oe,"","\\H");g(O,w,Oe,"","\\textcircled");var l2={"--":!0,"---":!0,"``":!0,"''":!0};g(O,w,z,"","--",!0);g(O,w,z,"","\\textendash");g(O,w,z,"","---",!0);g(O,w,z,"","\\textemdash");g(O,w,z,"","`",!0);g(O,w,z,"","\\textquoteleft");g(O,w,z,"","'",!0);g(O,w,z,"","\\textquoteright");g(O,w,z,"","``",!0);g(O,w,z,"","\\textquotedblleft");g(O,w,z,"","''",!0);g(O,w,z,"","\\textquotedblright");g(y,w,z,"","\\degree",!0);g(O,w,z,"","\\degree");g(O,w,z,"","\\textdegree",!0);g(y,w,z,"","\\pounds");g(y,w,z,"","\\mathsterling",!0);g(O,w,z,"","\\pounds");g(O,w,z,"","\\textsterling",!0);g(y,b,z,"","\\maltese");g(O,b,z,"","\\maltese");var $p='0123456789/@."';for(var uu=0;uu<$p.length;uu++){var Jp=$p.charAt(uu);g(y,w,z,Jp,Jp)}var Wp='0123456789!@*()-=+";:?/.,';for(var cu=0;cu<Wp.length;cu++){var Yp=Wp.charAt(cu);g(O,w,z,Yp,Yp)}var Fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var du=0;du<Fs.length;du++){var Fl=Fs.charAt(du);g(y,w,ue,Fl,Fl),g(O,w,z,Fl,Fl)}g(y,b,z,"C","");g(O,b,z,"C","");g(y,b,z,"H","");g(O,b,z,"H","");g(y,b,z,"N","");g(O,b,z,"N","");g(y,b,z,"P","");g(O,b,z,"P","");g(y,b,z,"Q","");g(O,b,z,"Q","");g(y,b,z,"R","");g(O,b,z,"R","");g(y,b,z,"Z","");g(O,b,z,"Z","");g(y,w,ue,"h","");g(O,w,ue,"h","");var fe="";for(var vt=0;vt<Fs.length;vt++){var Ke=Fs.charAt(vt);fe=String.fromCharCode(55349,56320+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),fe=String.fromCharCode(55349,56372+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),fe=String.fromCharCode(55349,56424+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),fe=String.fromCharCode(55349,56580+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),fe=String.fromCharCode(55349,56684+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),fe=String.fromCharCode(55349,56736+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),fe=String.fromCharCode(55349,56788+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),fe=String.fromCharCode(55349,56840+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),fe=String.fromCharCode(55349,56944+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),vt<26&&(fe=String.fromCharCode(55349,56632+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe),fe=String.fromCharCode(55349,56476+vt),g(y,w,ue,Ke,fe),g(O,w,z,Ke,fe))}fe="";g(y,w,ue,"k",fe);g(O,w,z,"k",fe);for(var Lr=0;Lr<10;Lr++){var or=Lr.toString();fe=String.fromCharCode(55349,57294+Lr),g(y,w,ue,or,fe),g(O,w,z,or,fe),fe=String.fromCharCode(55349,57314+Lr),g(y,w,ue,or,fe),g(O,w,z,or,fe),fe=String.fromCharCode(55349,57324+Lr),g(y,w,ue,or,fe),g(O,w,z,or,fe),fe=String.fromCharCode(55349,57334+Lr),g(y,w,ue,or,fe),g(O,w,z,or,fe)}var N0="";for(var fu=0;fu<N0.length;fu++){var Ul=N0.charAt(fu);g(y,w,ue,Ul,Ul),g(O,w,z,Ul,Ul)}var Bl=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Kp=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],vw=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,l=n==="math"?0:1;if(119808<=o&&o<120484){var s=Math.floor((o-119808)/26);return[Bl[s][2],Bl[s][l]]}else if(120782<=o&&o<=120831){var a=Math.floor((o-120782)/10);return[Kp[a][2],Kp[a][l]]}else{if(o===120485||o===120486)return[Bl[0][2],Bl[0][l]];if(120486<o&&o<120782)return["",""];throw new J("Unsupported character: "+e)}},pa=function(e,n,r){return ze[r][e]&&ze[r][e].replace&&(e=ze[r][e].replace),{value:e,metrics:sd(e,n,r)}},pn=function(e,n,r,i,o){var l=pa(e,n,r),s=l.metrics;e=l.value;var a;if(s){var u=s.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),a=new ln(e,s.height,s.depth,u,s.skew,s.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),a=new ln(e,0,0,0,0,0,o);if(i){a.maxFontSize=i.sizeMultiplier,i.style.isTight()&&a.classes.push("mtight");var d=i.getColor();d&&(a.style.color=d)}return a},xw=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&pa(e,"Main-Bold",n).metrics?pn(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||ze[n][e].font==="main"?pn(e,"Main-Regular",n,r,i):pn(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},ww=function(e,n,r,i,o){return o!=="textord"&&pa(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Sw=function(e,n,r){var i=e.mode,o=e.text,l=["mord"],s=i==="math"||i==="text"&&n.font,a=s?n.font:n.fontFamily,u="",d="";if(o.charCodeAt(0)===55349&&([u,d]=vw(o,i)),u.length>0)return pn(o,u,i,n,l.concat(d));if(a){var p,h;if(a==="boldsymbol"){var m=ww(o,i,n,l,r);p=m.fontName,h=[m.fontClass]}else s?(p=u2[a].fontName,h=[a]):(p=ql(a,n.fontWeight,n.fontShape),h=[a,n.fontWeight,n.fontShape]);if(pa(o,p,i).metrics)return pn(o,p,i,n,l.concat(h));if(l2.hasOwnProperty(o)&&p.slice(0,10)==="Typewriter"){for(var v=[],T=0;T<o.length;T++)v.push(pn(o[T],p,i,n,l.concat(h)));return a2(v)}}if(r==="mathord")return pn(o,"Math-Italic",i,n,l.concat(["mathnormal"]));if(r==="textord"){var N=ze[i][o]&&ze[i][o].font;if(N==="ams"){var S=ql("amsrm",n.fontWeight,n.fontShape);return pn(o,S,i,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(N==="main"||!N){var x=ql("textrm",n.fontWeight,n.fontShape);return pn(o,x,i,n,l.concat(n.fontWeight,n.fontShape))}else{var k=ql(N,n.fontWeight,n.fontShape);return pn(o,k,i,n,l.concat(k,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Tw=(t,e)=>{if(Er(t.classes)!==Er(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},Cw=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof ln&&r instanceof ln&&Tw(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},ud=function(e){for(var n=0,r=0,i=0,o=0;o<e.children.length;o++){var l=e.children[o];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},It=function(e,n,r,i){var o=new fl(e,n,r,i);return ud(o),o},s2=(t,e,n,r)=>new fl(t,e,n,r),Ew=function(e,n,r){var i=It([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Q(i.height),i.maxFontSize=1,i},kw=function(e,n,r,i){var o=new ad(e,n,r,i);return ud(o),o},a2=function(e){var n=new dl(e);return ud(n),n},Aw=function(e,n){return e instanceof dl?It([],[e],n):e},Iw=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,l=1;l<n.length;l++){var s=-n[l].shift-o-n[l].elem.depth,a=s-(n[l-1].elem.height+n[l-1].elem.depth);o=o+s,r.push({type:"kern",size:a}),r.push(n[l])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var d=e.positionData,p=0;p<e.children.length;p++){var h=e.children[p];d-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=d}else if(e.positionType==="bottom")u=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},bw=function(e,n){for(var{children:r,depth:i}=Iw(e),o=0,l=0;l<r.length;l++){var s=r[l];if(s.type==="elem"){var a=s.elem;o=Math.max(o,a.maxFontSize,a.height)}}o+=2;var u=It(["pstrut"],[]);u.style.height=Q(o);for(var d=[],p=i,h=i,m=i,v=0;v<r.length;v++){var T=r[v];if(T.type==="kern")m+=T.size;else{var N=T.elem,S=T.wrapperClasses||[],x=T.wrapperStyle||{},k=It(S,[u,N],void 0,x);k.style.top=Q(-o-m-N.depth),T.marginLeft&&(k.style.marginLeft=T.marginLeft),T.marginRight&&(k.style.marginRight=T.marginRight),d.push(k),m+=N.height+N.depth}p=Math.min(p,m),h=Math.max(h,m)}var R=It(["vlist"],d);R.style.height=Q(h);var L;if(p<0){var I=It([],[]),U=It(["vlist"],[I]);U.style.height=Q(-p);var V=It(["vlist-s"],[new ln("")]);L=[It(["vlist-r"],[R,V]),It(["vlist-r"],[U])]}else L=[It(["vlist-r"],[R])];var F=It(["vlist-t"],L);return L.length===2&&F.classes.push("vlist-t2"),F.height=h,F.depth=-p,F},Mw=(t,e)=>{var n=It(["mspace"],[],e),r=Je(t,e);return n.style.marginRight=Q(r),n},ql=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},u2={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},c2={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},_w=function(e,n){var[r,i,o]=c2[e],l=new kr(r),s=new Yn([l],{width:Q(i),height:Q(o),style:"width:"+Q(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),a=s2(["overlay"],[s],n);return a.height=o,a.style.height=Q(o),a.style.width=Q(i),a},q={fontMap:u2,makeSymbol:pn,mathsym:xw,makeSpan:It,makeSvgSpan:s2,makeLineSpan:Ew,makeAnchor:kw,makeFragment:a2,wrapFragment:Aw,makeVList:bw,makeOrd:Sw,makeGlue:Mw,staticSvg:_w,svgData:c2,tryCombineChars:Cw},Ge={number:3,unit:"mu"},zr={number:4,unit:"mu"},Ln={number:5,unit:"mu"},Nw={mord:{mop:Ge,mbin:zr,mrel:Ln,minner:Ge},mop:{mord:Ge,mop:Ge,mrel:Ln,minner:Ge},mbin:{mord:zr,mop:zr,mopen:zr,minner:zr},mrel:{mord:Ln,mop:Ln,mopen:Ln,minner:Ln},mopen:{},mclose:{mop:Ge,mbin:zr,mrel:Ln,minner:Ge},mpunct:{mord:Ge,mop:Ge,mrel:Ln,mopen:Ge,mclose:Ge,mpunct:Ge,minner:Ge},minner:{mord:Ge,mop:Ge,mbin:zr,mrel:Ln,mopen:Ge,mpunct:Ge,minner:Ge}},Rw={mord:{mop:Ge},mop:{mord:Ge,mop:Ge},mbin:{},mrel:{},mopen:{},mclose:{mop:Ge},mpunct:{},minner:{mop:Ge}},d2={},Us={},Bs={};function ee(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,s={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},a=0;a<n.length;++a)d2[n[a]]=s;e&&(o&&(Us[e]=o),l&&(Bs[e]=l))}function ei(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ee({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var qs=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ze=function(e){return e.type==="ordgroup"?e.body:[e]},Kn=q.makeSpan,Pw=["leftmost","mbin","mopen","mrel","mop","mpunct"],Dw=["rightmost","mrel","mclose","mpunct"],Lw={display:ce.DISPLAY,text:ce.TEXT,script:ce.SCRIPT,scriptscript:ce.SCRIPTSCRIPT},zw={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},it=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],l=0;l<e.length;l++){var s=Ce(e[l],n);if(s instanceof dl){var a=s.children;o.push(...a)}else o.push(s)}if(q.tryCombineChars(o),!r)return o;var u=n;if(e.length===1){var d=e[0];d.type==="sizing"?u=n.havingSize(d.size):d.type==="styling"&&(u=n.havingStyle(Lw[d.style]))}var p=Kn([i[0]||"leftmost"],[],n),h=Kn([i[1]||"rightmost"],[],n),m=r==="root";return Xp(o,(v,T)=>{var N=T.classes[0],S=v.classes[0];N==="mbin"&&Dw.includes(S)?T.classes[0]="mord":S==="mbin"&&Pw.includes(N)&&(v.classes[0]="mord")},{node:p},h,m),Xp(o,(v,T)=>{var N=R0(T),S=R0(v),x=N&&S?v.hasClass("mtight")?Rw[N][S]:Nw[N][S]:null;if(x)return q.makeGlue(x,u)},{node:p},h,m),o},Xp=function t(e,n,r,i,o){i&&e.push(i);for(var l=0;l<e.length;l++){var s=e[l],a=f2(s);if(a){t(a.children,n,r,null,o);continue}var u=!s.hasClass("mspace");if(u){var d=n(s,r.node);d&&(r.insertAfter?r.insertAfter(d):(e.unshift(d),l++))}u?r.node=s:o&&s.hasClass("newline")&&(r.node=Kn(["leftmost"])),r.insertAfter=(p=>h=>{e.splice(p+1,0,h),l++})(l)}i&&e.pop()},f2=function(e){return e instanceof dl||e instanceof ad||e instanceof fl&&e.hasClass("enclosing")?e:null},Fw=function t(e,n){var r=f2(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},R0=function(e,n){return e?(n&&(e=Fw(e,n)),zw[e.classes[0]]||null):null},rl=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Kn(n.concat(r))},Ce=function(e,n,r){if(!e)return Kn();if(Us[e.type]){var i=Us[e.type](e,n);if(r&&n.size!==r.size){i=Kn(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new J("Got group of unknown type: '"+e.type+"'")};function Vl(t,e){var n=Kn(["base"],t,e),r=Kn(["strut"]);return r.style.height=Q(n.height+n.depth),n.depth&&(r.style.verticalAlign=Q(-n.depth)),n.children.unshift(r),n}function P0(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=it(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],l=[],s=0;s<r.length;s++)if(l.push(r[s]),r[s].hasClass("mbin")||r[s].hasClass("mrel")||r[s].hasClass("allowbreak")){for(var a=!1;s<r.length-1&&r[s+1].hasClass("mspace")&&!r[s+1].hasClass("newline");)s++,l.push(r[s]),r[s].hasClass("nobreak")&&(a=!0);a||(o.push(Vl(l,e)),l=[])}else r[s].hasClass("newline")&&(l.pop(),l.length>0&&(o.push(Vl(l,e)),l=[]),o.push(r[s]));l.length>0&&o.push(Vl(l,e));var u;n?(u=Vl(it(n,e,!0)),u.classes=["tag"],o.push(u)):i&&o.push(i);var d=Kn(["katex-html"],o);if(d.setAttribute("aria-hidden","true"),u){var p=u.children[0];p.style.height=Q(d.height+d.depth),d.depth&&(p.style.verticalAlign=Q(-d.depth))}return d}function p2(t){return new dl(t)}class Vt{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Er(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof An&&this.children[r+1]instanceof An){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof An;)i+=this.children[++r].toText();e.appendChild(new An(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Ee.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Ee.escape(Er(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class An{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ee.escape(this.toText())}toText(){return this.text}}class Uw{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Q(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Q(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var $={MathNode:Vt,TextNode:An,SpaceNode:Uw,newDocumentFragment:p2},sn=function(e,n,r){return ze[n][e]&&ze[n][e].replace&&e.charCodeAt(0)!==55349&&!(l2.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=ze[n][e].replace),new $.TextNode(e)},cd=function(e){return e.length===1?e[0]:new $.MathNode("mrow",e)},dd=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;ze[i][o]&&ze[i][o].replace&&(o=ze[i][o].replace);var l=q.fontMap[r].fontName;return sd(o,l,i)?q.fontMap[r].variant:null};function pu(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof An&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof An&&n.text===","}else return!1}var zt=function(e,n,r){if(e.length===1){var i=Re(e[0],n);return r&&i instanceof Vt&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],l,s=0;s<e.length;s++){var a=Re(e[s],n);if(a instanceof Vt&&l instanceof Vt){if(a.type==="mtext"&&l.type==="mtext"&&a.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...a.children);continue}else if(a.type==="mn"&&l.type==="mn"){l.children.push(...a.children);continue}else if(pu(a)&&l.type==="mn"){l.children.push(...a.children);continue}else if(a.type==="mn"&&pu(l))a.children=[...l.children,...a.children],o.pop();else if((a.type==="msup"||a.type==="msub")&&a.children.length>=1&&(l.type==="mn"||pu(l))){var u=a.children[0];u instanceof Vt&&u.type==="mn"&&(u.children=[...l.children,...u.children],o.pop())}else if(l.type==="mi"&&l.children.length===1){var d=l.children[0];if(d instanceof An&&d.text===""&&(a.type==="mo"||a.type==="mi"||a.type==="mn")){var p=a.children[0];p instanceof An&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),o.pop())}}}o.push(a),l=a}return o},Ar=function(e,n,r){return cd(zt(e,n,r))},Re=function(e,n){if(!e)return new $.MathNode("mrow");if(Bs[e.type]){var r=Bs[e.type](e,n);return r}else throw new J("Got group of unknown type: '"+e.type+"'")};function Qp(t,e,n,r,i){var o=zt(t,n),l;o.length===1&&o[0]instanceof Vt&&["mrow","mtable"].includes(o[0].type)?l=o[0]:l=new $.MathNode("mrow",o);var s=new $.MathNode("annotation",[new $.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var a=new $.MathNode("semantics",[l,s]),u=new $.MathNode("math",[a]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var d=i?"katex":"katex-mathml";return q.makeSpan([d],[u])}var h2=function(e){return new Un({style:e.displayMode?ce.DISPLAY:ce.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},m2=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=q.makeSpan(r,[e])}return e},Bw=function(e,n,r){var i=h2(r),o;if(r.output==="mathml")return Qp(e,n,i,r.displayMode,!0);if(r.output==="html"){var l=P0(e,i);o=q.makeSpan(["katex"],[l])}else{var s=Qp(e,n,i,r.displayMode,!1),a=P0(e,i);o=q.makeSpan(["katex"],[s,a])}return m2(o,r)},qw=function(e,n,r){var i=h2(r),o=P0(e,i),l=q.makeSpan(["katex"],[o]);return m2(l,r)},Vw={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Hw=function(e){var n=new $.MathNode("mo",[new $.TextNode(Vw[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Ow={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Gw=function(e){return e.type==="ordgroup"?e.body.length:1},$w=function(e,n){function r(){var s=4e5,a=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(a)){var u=e,d=Gw(u.base),p,h,m;if(d>5)a==="widehat"||a==="widecheck"?(p=420,s=2364,m=.42,h=a+"4"):(p=312,s=2340,m=.34,h="tilde4");else{var v=[1,1,2,2,3,3][d];a==="widehat"||a==="widecheck"?(s=[0,1062,2364,2364,2364][v],p=[0,239,300,360,420][v],m=[0,.24,.3,.3,.36,.42][v],h=a+v):(s=[0,600,1033,2339,2340][v],p=[0,260,286,306,312][v],m=[0,.26,.286,.3,.306,.34][v],h="tilde"+v)}var T=new kr(h),N=new Yn([T],{width:"100%",height:Q(m),viewBox:"0 0 "+s+" "+p,preserveAspectRatio:"none"});return{span:q.makeSvgSpan([],[N],n),minWidth:0,height:m}}else{var S=[],x=Ow[a],[k,R,L]=x,I=L/1e3,U=k.length,V,F;if(U===1){var D=x[3];V=["hide-tail"],F=[D]}else if(U===2)V=["halfarrow-left","halfarrow-right"],F=["xMinYMin","xMaxYMin"];else if(U===3)V=["brace-left","brace-center","brace-right"],F=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+U+" children.");for(var _=0;_<U;_++){var B=new kr(k[_]),Y=new Yn([B],{width:"400em",height:Q(I),viewBox:"0 0 "+s+" "+L,preserveAspectRatio:F[_]+" slice"}),re=q.makeSvgSpan([V[_]],[Y],n);if(U===1)return{span:re,minWidth:R,height:I};re.style.height=Q(I),S.push(re)}return{span:q.makeSpan(["stretchy"],S,n),minWidth:R,height:I}}}var{span:i,minWidth:o,height:l}=r();return i.height=l,i.style.height=Q(l),o>0&&(i.style.minWidth=Q(o)),i},Jw=function(e,n,r,i,o){var l,s=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(l=q.makeSpan(["stretchy",n],[],o),n==="fbox"){var a=o.color&&o.getColor();a&&(l.style.borderColor=a)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new _0({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new _0({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new Yn(u,{width:"100%",height:Q(s)});l=q.makeSvgSpan([],[d],o)}return l.height=s,l.style.height=Q(s),l},Xn={encloseSpan:Jw,mathMLnode:Hw,svgSpan:$w};function ve(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function fd(t){var e=ha(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function ha(t){return t&&(t.type==="atom"||yw.hasOwnProperty(t.type))?t:null}var pd=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=ve(t.base,"accent"),n=r.base,t.base=n,i=mw(Ce(t,e)),t.base=r):(r=ve(t,"accent"),n=r.base);var o=Ce(n,e.havingCrampedStyle()),l=r.isShifty&&Ee.isCharacterBox(n),s=0;if(l){var a=Ee.getBaseElem(n),u=Ce(a,e.havingCrampedStyle());s=Gp(u).skew}var d=r.label==="\\c",p=d?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),h;if(r.isStretchy)h=Xn.svgSpan(r,e),h=q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+Q(2*s)+")",marginLeft:Q(2*s)}:void 0}]},e);else{var m,v;r.label==="\\vec"?(m=q.staticSvg("vec",e),v=q.svgData.vec[1]):(m=q.makeOrd({mode:r.mode,text:r.label},e,"textord"),m=Gp(m),m.italic=0,v=m.width,d&&(p+=m.depth)),h=q.makeSpan(["accent-body"],[m]);var T=r.label==="\\textcircled";T&&(h.classes.push("accent-full"),p=o.height);var N=s;T||(N-=v/2),h.style.left=Q(N),r.label==="\\textcircled"&&(h.style.top=".2em"),h=q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-p},{type:"elem",elem:h}]},e)}var S=q.makeSpan(["mord","accent"],[h],e);return i?(i.children[0]=S,i.height=Math.max(S.height,i.height),i.classes[0]="mord",i):S},g2=(t,e)=>{var n=t.isStretchy?Xn.mathMLnode(t.label):new $.MathNode("mo",[sn(t.label,t.mode)]),r=new $.MathNode("mover",[Re(t.base,e),n]);return r.setAttribute("accent","true"),r},Ww=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ee({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=qs(e[0]),r=!Ww.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:pd,mathmlBuilder:g2});ee({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:pd,mathmlBuilder:g2});ee({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Ce(t.base,e),r=Xn.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=q.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return q.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=Xn.mathMLnode(t.label),r=new $.MathNode("munder",[Re(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Hl=t=>{var e=new $.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ee({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=q.wrapFragment(Ce(t.body,r,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var l;t.below&&(r=e.havingStyle(n.sub()),l=q.wrapFragment(Ce(t.below,r,e),e),l.classes.push(o+"-arrow-pad"));var s=Xn.svgSpan(t,e),a=-e.fontMetrics().axisHeight+.5*s.height,u=-e.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var d;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*s.height+.111;d=q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:a},{type:"elem",elem:l,shift:p}]},e)}else d=q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:a}]},e);return d.children[0].children[0].children[1].classes.push("svg-align"),q.makeSpan(["mrel","x-arrow"],[d],e)},mathmlBuilder(t,e){var n=Xn.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Hl(Re(t.body,e));if(t.below){var o=Hl(Re(t.below,e));r=new $.MathNode("munderover",[n,o,i])}else r=new $.MathNode("mover",[n,i])}else if(t.below){var l=Hl(Re(t.below,e));r=new $.MathNode("munder",[n,l])}else r=Hl(),r=new $.MathNode("mover",[n,r]);return r}});var Yw=q.makeSpan;function y2(t,e){var n=it(t.body,e,!0);return Yw([t.mclass],n,e)}function v2(t,e){var n,r=zt(t.body,e);return t.mclass==="minner"?n=new $.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new $.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new $.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ee({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Ze(i),isCharacterBox:Ee.isCharacterBox(i)}},htmlBuilder:y2,mathmlBuilder:v2});var ma=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ee({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:ma(e[0]),body:Ze(e[1]),isCharacterBox:Ee.isCharacterBox(e[1])}}});ee({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],o=e[0],l;r!=="\\stackrel"?l=ma(i):l="mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ze(i)},a={type:"supsub",mode:o.mode,base:s,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:l,body:[a],isCharacterBox:Ee.isCharacterBox(a)}},htmlBuilder:y2,mathmlBuilder:v2});ee({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:ma(e[0]),body:Ze(e[0])}},htmlBuilder(t,e){var n=it(t.body,e,!0),r=q.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=zt(t.body,e),r=new $.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Kw={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Zp=()=>({type:"styling",body:[],mode:"math",style:"display"}),jp=t=>t.type==="textord"&&t.text==="@",Xw=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Qw(t,e,n){var r=Kw[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[o],[]),s=n.callFunction("\\\\cdright",[e[1]],[]),a={type:"ordgroup",mode:"math",body:[i,l,s]};return n.callFunction("\\\\cdparent",[a],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Zw(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new J("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],o=0;o<e.length;o++){for(var l=e[o],s=Zp(),a=0;a<l.length;a++)if(!jp(l[a]))s.body.push(l[a]);else{r.push(s),a+=1;var u=fd(l[a]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var p=0;p<2;p++){for(var h=!0,m=a+1;m<l.length;m++){if(Xw(l[m],u)){h=!1,a=m;break}if(jp(l[m]))throw new J("Missing a "+u+" character to complete a CD arrow.",l[m]);d[p].body.push(l[m])}if(h)throw new J("Missing a "+u+" character to complete a CD arrow.",l[a])}else throw new J('Expected one of "<>AV=|." after @',l[a]);var v=Qw(u,d,t),T={type:"styling",body:[v],mode:"math",style:"display"};r.push(T),s=Zp()}o%2===0?r.push(s):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var N=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:N,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ee({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=q.wrapFragment(Ce(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Q(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new $.MathNode("mrow",[Re(t.label,e)]);return n=new $.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new $.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ee({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=q.wrapFragment(Ce(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new $.MathNode("mrow",[Re(t.fragment,e)])}});ee({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=ve(e[0],"ordgroup"),i=r.body,o="",l=0;l<i.length;l++){var s=ve(i[l],"textord");o+=s.text}var a=parseInt(o),u;if(isNaN(a))throw new J("\\@char has non-numeric argument "+o);if(a<0||a>=1114111)throw new J("\\@char with invalid code point "+o);return a<=65535?u=String.fromCharCode(a):(a-=65536,u=String.fromCharCode((a>>10)+55296,(a&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var x2=(t,e)=>{var n=it(t.body,e.withColor(t.color),!1);return q.makeFragment(n)},w2=(t,e)=>{var n=zt(t.body,e.withColor(t.color)),r=new $.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ee({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=ve(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Ze(i)}},htmlBuilder:x2,mathmlBuilder:w2});ee({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=ve(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:x2,mathmlBuilder:w2});ee({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&ve(i,"size").value}},htmlBuilder(t,e){var n=q.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Q(Je(t.size,e)))),n},mathmlBuilder(t,e){var n=new $.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Q(Je(t.size,e)))),n}});var D0={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},S2=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new J("Expected a control sequence",t);return e},jw=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},T2=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ee({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(D0[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=D0[r.text]),ve(e.parseFunction(),"internal");throw new J("Invalid token after macro prefix",r)}});ee({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new J("Expected a control sequence",r);for(var o=0,l,s=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),s[o].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new J('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new J('Argument number "'+r.text+'" out of order');o++,s.push([])}else{if(r.text==="EOF")throw new J("Expected a macro definition");s[o].push(r.text)}var{tokens:a}=e.gullet.consumeArg();return l&&a.unshift(l),(n==="\\edef"||n==="\\xdef")&&(a=e.gullet.expandTokens(a),a.reverse()),e.gullet.macros.set(i,{tokens:a,numArgs:o,delimiters:s},n===D0[n]),{type:"internal",mode:e.mode}}});ee({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=S2(e.gullet.popToken());e.gullet.consumeSpaces();var i=jw(e);return T2(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ee({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=S2(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return T2(e,r,o,n==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var So=function(e,n,r){var i=ze.math[e]&&ze.math[e].replace,o=sd(i||e,n,r);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return o},hd=function(e,n,r,i){var o=r.havingBaseStyle(n),l=q.makeSpan(i.concat(o.sizingClasses(r)),[e],r),s=o.sizeMultiplier/r.sizeMultiplier;return l.height*=s,l.depth*=s,l.maxFontSize=o.sizeMultiplier,l},C2=function(e,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Q(o),e.height-=o,e.depth+=o},eS=function(e,n,r,i,o,l){var s=q.makeSymbol(e,"Main-Regular",o,i),a=hd(s,n,i,l);return r&&C2(a,i,n),a},tS=function(e,n,r,i){return q.makeSymbol(e,"Size"+n+"-Regular",r,i)},E2=function(e,n,r,i,o,l){var s=tS(e,n,o,i),a=hd(q.makeSpan(["delimsizing","size"+n],[s],i),ce.TEXT,i,l);return r&&C2(a,i,ce.TEXT),a},hu=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=q.makeSpan(["delimsizinginner",i],[q.makeSpan([],[q.makeSymbol(e,n,r)])]);return{type:"elem",elem:o}},mu=function(e,n,r){var i=kn["Size4-Regular"][e.charCodeAt(0)]?kn["Size4-Regular"][e.charCodeAt(0)][4]:kn["Size1-Regular"][e.charCodeAt(0)][4],o=new kr("inner",lw(e,Math.round(1e3*n))),l=new Yn([o],{width:Q(i),height:Q(n),style:"width:"+Q(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),s=q.makeSvgSpan([],[l],r);return s.height=n,s.style.height=Q(n),s.style.width=Q(i),{type:"elem",elem:s}},L0=.008,Ol={type:"kern",size:-1*L0},nS=["|","\\lvert","\\rvert","\\vert"],rS=["\\|","\\lVert","\\rVert","\\Vert"],k2=function(e,n,r,i,o,l){var s,a,u,d,p="",h=0;s=u=d=e,a=null;var m="Size1-Regular";e==="\\uparrow"?u=d="":e==="\\Uparrow"?u=d="":e==="\\downarrow"?s=u="":e==="\\Downarrow"?s=u="":e==="\\updownarrow"?(s="\\uparrow",u="",d="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",u="",d="\\Downarrow"):nS.includes(e)?(u="",p="vert",h=333):rS.includes(e)?(u="",p="doublevert",h=556):e==="["||e==="\\lbrack"?(s="",u="",d="",m="Size4-Regular",p="lbrack",h=667):e==="]"||e==="\\rbrack"?(s="",u="",d="",m="Size4-Regular",p="rbrack",h=667):e==="\\lfloor"||e===""?(u=s="",d="",m="Size4-Regular",p="lfloor",h=667):e==="\\lceil"||e===""?(s="",u=d="",m="Size4-Regular",p="lceil",h=667):e==="\\rfloor"||e===""?(u=s="",d="",m="Size4-Regular",p="rfloor",h=667):e==="\\rceil"||e===""?(s="",u=d="",m="Size4-Regular",p="rceil",h=667):e==="("||e==="\\lparen"?(s="",u="",d="",m="Size4-Regular",p="lparen",h=875):e===")"||e==="\\rparen"?(s="",u="",d="",m="Size4-Regular",p="rparen",h=875):e==="\\{"||e==="\\lbrace"?(s="",a="",d="",u="",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="",a="",d="",u="",m="Size4-Regular"):e==="\\lgroup"||e===""?(s="",d="",u="",m="Size4-Regular"):e==="\\rgroup"||e===""?(s="",d="",u="",m="Size4-Regular"):e==="\\lmoustache"||e===""?(s="",d="",u="",m="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(s="",d="",u="",m="Size4-Regular");var v=So(s,m,o),T=v.height+v.depth,N=So(u,m,o),S=N.height+N.depth,x=So(d,m,o),k=x.height+x.depth,R=0,L=1;if(a!==null){var I=So(a,m,o);R=I.height+I.depth,L=2}var U=T+k+R,V=Math.max(0,Math.ceil((n-U)/(L*S))),F=U+V*L*S,D=i.fontMetrics().axisHeight;r&&(D*=i.sizeMultiplier);var _=F/2-D,B=[];if(p.length>0){var Y=F-T-k,re=Math.round(F*1e3),te=sw(p,Math.round(Y*1e3)),ie=new kr(p,te),pe=(h/1e3).toFixed(3)+"em",G=(re/1e3).toFixed(3)+"em",oe=new Yn([ie],{width:pe,height:G,viewBox:"0 0 "+h+" "+re}),A=q.makeSvgSpan([],[oe],i);A.height=re/1e3,A.style.width=pe,A.style.height=G,B.push({type:"elem",elem:A})}else{if(B.push(hu(d,m,o)),B.push(Ol),a===null){var X=F-T-k+2*L0;B.push(mu(u,X,i))}else{var de=(F-T-k-R)/2+2*L0;B.push(mu(u,de,i)),B.push(Ol),B.push(hu(a,m,o)),B.push(Ol),B.push(mu(u,de,i))}B.push(Ol),B.push(hu(s,m,o))}var P=i.havingBaseStyle(ce.TEXT),Me=q.makeVList({positionType:"bottom",positionData:_,children:B},P);return hd(q.makeSpan(["delimsizing","mult"],[Me],P),ce.TEXT,i,l)},gu=80,yu=.08,vu=function(e,n,r,i,o){var l=ow(e,i,r),s=new kr(e,l),a=new Yn([s],{width:"400em",height:Q(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return q.makeSvgSpan(["hide-tail"],[a],o)},iS=function(e,n){var r=n.havingBaseSizing(),i=M2("\\surd",e*r.sizeMultiplier,b2,r),o=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),s,a=0,u=0,d=0,p;return i.type==="small"?(d=1e3+1e3*l+gu,e<1?o=1:e<1.4&&(o=.7),a=(1+l+yu)/o,u=(1+l)/o,s=vu("sqrtMain",a,d,l,n),s.style.minWidth="0.853em",p=.833/o):i.type==="large"?(d=(1e3+gu)*Lo[i.size],u=(Lo[i.size]+l)/o,a=(Lo[i.size]+l+yu)/o,s=vu("sqrtSize"+i.size,a,d,l,n),s.style.minWidth="1.02em",p=1/o):(a=e+l+yu,u=e+l,d=Math.floor(1e3*e+l)+gu,s=vu("sqrtTall",a,d,l,n),s.style.minWidth="0.742em",p=1.056),s.height=u,s.style.height=Q(a),{span:s,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*o}},A2=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],oS=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],I2=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Lo=[0,1.2,1.8,2.4,3],lS=function(e,n,r,i,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),A2.includes(e)||I2.includes(e))return E2(e,n,!1,r,i,o);if(oS.includes(e))return k2(e,Lo[n],!1,r,i,o);throw new J("Illegal delimiter: '"+e+"'")},sS=[{type:"small",style:ce.SCRIPTSCRIPT},{type:"small",style:ce.SCRIPT},{type:"small",style:ce.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],aS=[{type:"small",style:ce.SCRIPTSCRIPT},{type:"small",style:ce.SCRIPT},{type:"small",style:ce.TEXT},{type:"stack"}],b2=[{type:"small",style:ce.SCRIPTSCRIPT},{type:"small",style:ce.SCRIPT},{type:"small",style:ce.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],uS=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},M2=function(e,n,r,i){for(var o=Math.min(2,3-i.style.size),l=o;l<r.length&&r[l].type!=="stack";l++){var s=So(e,uS(r[l]),"math"),a=s.height+s.depth;if(r[l].type==="small"){var u=i.havingBaseStyle(r[l].style);a*=u.sizeMultiplier}if(a>n)return r[l]}return r[r.length-1]},_2=function(e,n,r,i,o,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var s;I2.includes(e)?s=sS:A2.includes(e)?s=b2:s=aS;var a=M2(e,n,s,i);return a.type==="small"?eS(e,a.style,r,i,o,l):a.type==="large"?E2(e,a.size,r,i,o,l):k2(e,n,r,i,o,l)},cS=function(e,n,r,i,o,l){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,a=901,u=5/i.fontMetrics().ptPerEm,d=Math.max(n-s,r+s),p=Math.max(d/500*a,2*d-u);return _2(e,p,!0,i,o,l)},On={sqrtImage:iS,sizedDelim:lS,sizeToMaxHeight:Lo,customSizedDelim:_2,leftRightDelim:cS},eh={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dS=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function ga(t,e){var n=ha(t);if(n&&dS.includes(n.text))return n;throw n?new J("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new J("Invalid delimiter type '"+t.type+"'",t)}ee({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=ga(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:eh[t.funcName].size,mclass:eh[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?q.makeSpan([t.mclass]):On.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(sn(t.delim,t.mode));var n=new $.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Q(On.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function th(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ee({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new J("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:ga(e[0],t).text,color:n}}});ee({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=ga(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=ve(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{th(t);for(var n=it(t.body,e,!0,["mopen","mclose"]),r=0,i=0,o=!1,l=0;l<n.length;l++)n[l].isMiddle?o=!0:(r=Math.max(n[l].height,r),i=Math.max(n[l].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var s;if(t.left==="."?s=rl(e,["mopen"]):s=On.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(s),o)for(var a=1;a<n.length;a++){var u=n[a],d=u.isMiddle;d&&(n[a]=On.leftRightDelim(d.delim,r,i,d.options,t.mode,[]))}var p;if(t.right===".")p=rl(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;p=On.leftRightDelim(t.right,r,i,h,t.mode,["mclose"])}return n.push(p),q.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{th(t);var n=zt(t.body,e);if(t.left!=="."){var r=new $.MathNode("mo",[sn(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new $.MathNode("mo",[sn(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return cd(n)}});ee({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=ga(e[0],t);if(!t.parser.leftrightDepth)throw new J("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=rl(e,[]);else{n=On.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?sn("|","text"):sn(t.delim,t.mode),r=new $.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var md=(t,e)=>{var n=q.wrapFragment(Ce(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,o,l=0,s=Ee.isCharacterBox(t.body);if(r==="sout")o=q.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var a=Je({number:.6,unit:"pt"},e),u=Je({number:.35,unit:"ex"},e),d=e.havingBaseSizing();i=i/d.sizeMultiplier;var p=n.height+n.depth+a+u;n.style.paddingLeft=Q(p/2+a);var h=Math.floor(1e3*p*i),m=rw(h),v=new Yn([new kr("phase",m)],{width:"400em",height:Q(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});o=q.makeSvgSpan(["hide-tail"],[v],e),o.style.height=Q(p),l=n.depth+a+u}else{/cancel/.test(r)?s||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var T=0,N=0,S=0;/box/.test(r)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),T=e.fontMetrics().fboxsep+(r==="colorbox"?0:S),N=T):r==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),T=4*S,N=Math.max(0,.25-n.depth)):(T=s?.2:0,N=T),o=Xn.encloseSpan(n,r,T,N,e),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=Q(S)):r==="angl"&&S!==.049&&(o.style.borderTopWidth=Q(S),o.style.borderRightWidth=Q(S)),l=n.depth+N,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var x;if(t.backgroundColor)x=q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var k=/cancel|phase/.test(r)?["svg-align"]:[];x=q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:l,wrapperClasses:k}]},e)}return/cancel/.test(r)&&(x.height=n.height,x.depth=n.depth),/cancel/.test(r)&&!s?q.makeSpan(["mord","cancel-lap"],[x],e):q.makeSpan(["mord"],[x],e)},gd=(t,e)=>{var n=0,r=new $.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Re(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ee({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ve(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:l}},htmlBuilder:md,mathmlBuilder:gd});ee({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ve(e[0],"color-token").color,l=ve(e[1],"color-token").color,s=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:o,body:s}},htmlBuilder:md,mathmlBuilder:gd});ee({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ee({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:md,mathmlBuilder:gd});ee({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var N2={};function _n(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,s={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},a=0;a<n.length;++a)N2[n[a]]=s;o&&(Us[e]=o),l&&(Bs[e]=l)}var R2={};function E(t,e){R2[t]=e}function nh(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var ya=t=>{var e=t.parser.settings;if(!e.displayMode)throw new J("{"+t.envName+"} can be used only in display mode.")};function yd(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Nr(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:l,colSeparationType:s,autoTag:a,singleRow:u,emptySingleRow:d,maxNumCols:p,leqno:h}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var m=t.gullet.expandMacroAsText("\\arraystretch");if(m==null)l=1;else if(l=parseFloat(m),!l||l<0)throw new J("Invalid \\arraystretch: "+m)}t.gullet.beginGroup();var v=[],T=[v],N=[],S=[],x=a!=null?[]:void 0;function k(){a&&t.gullet.macros.set("\\@eqnsw","1",!0)}function R(){x&&(t.gullet.macros.get("\\df@tag")?(x.push(t.subparse([new $t("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!a&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(k(),S.push(nh(t));;){var L=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),L={type:"ordgroup",mode:t.mode,body:L},n&&(L={type:"styling",mode:t.mode,style:n,body:[L]}),v.push(L);var I=t.fetch().text;if(I==="&"){if(p&&v.length===p){if(u||s)throw new J("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(I==="\\end"){R(),v.length===1&&L.type==="styling"&&L.body[0].body.length===0&&(T.length>1||!d)&&T.pop(),S.length<T.length+1&&S.push([]);break}else if(I==="\\\\"){t.consume();var U=void 0;t.gullet.future().text!==" "&&(U=t.parseSizeGroup(!0)),N.push(U?U.value:null),R(),S.push(nh(t)),v=[],T.push(v),k()}else throw new J("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:T,cols:o,rowGaps:N,hskipBeforeAndAfter:r,hLinesBeforeRow:S,colSeparationType:s,tags:x,leqno:h}}function vd(t){return t.slice(0,1)==="d"?"display":"text"}var Nn=function(e,n){var r,i,o=e.body.length,l=e.hLinesBeforeRow,s=0,a=new Array(o),u=[],d=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,h=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var m=n.havingStyle(ce.SCRIPT).sizeMultiplier;h=.2778*(m/n.sizeMultiplier)}var v=e.colSeparationType==="CD"?Je({number:3,unit:"ex"},n):12*p,T=3*p,N=e.arraystretch*v,S=.7*N,x=.3*N,k=0;function R(ii){for(var Pr=0;Pr<ii.length;++Pr)Pr>0&&(k+=.25),u.push({pos:k,isDashed:ii[Pr]})}for(R(l[0]),r=0;r<e.body.length;++r){var L=e.body[r],I=S,U=x;s<L.length&&(s=L.length);var V=new Array(L.length);for(i=0;i<L.length;++i){var F=Ce(L[i],n);U<F.depth&&(U=F.depth),I<F.height&&(I=F.height),V[i]=F}var D=e.rowGaps[r],_=0;D&&(_=Je(D,n),_>0&&(_+=x,U<_&&(U=_),_=0)),e.addJot&&(U+=T),V.height=I,V.depth=U,k+=I,V.pos=k,k+=U+_,a[r]=V,R(l[r+1])}var B=k/2+n.fontMetrics().axisHeight,Y=e.cols||[],re=[],te,ie,pe=[];if(e.tags&&e.tags.some(ii=>ii))for(r=0;r<o;++r){var G=a[r],oe=G.pos-B,A=e.tags[r],X=void 0;A===!0?X=q.makeSpan(["eqn-num"],[],n):A===!1?X=q.makeSpan([],[],n):X=q.makeSpan([],it(A,n,!0),n),X.depth=G.depth,X.height=G.height,pe.push({type:"elem",elem:X,shift:oe})}for(i=0,ie=0;i<s||ie<Y.length;++i,++ie){for(var de=Y[ie]||{},P=!0;de.type==="separator";){if(P||(te=q.makeSpan(["arraycolsep"],[]),te.style.width=Q(n.fontMetrics().doubleRuleSep),re.push(te)),de.separator==="|"||de.separator===":"){var Me=de.separator==="|"?"solid":"dashed",Se=q.makeSpan(["vertical-separator"],[],n);Se.style.height=Q(k),Se.style.borderRightWidth=Q(d),Se.style.borderRightStyle=Me,Se.style.margin="0 "+Q(-d/2);var me=k-B;me&&(Se.style.verticalAlign=Q(-me)),re.push(Se)}else throw new J("Invalid separator type: "+de.separator);ie++,de=Y[ie]||{},P=!1}if(!(i>=s)){var Ae=void 0;(i>0||e.hskipBeforeAndAfter)&&(Ae=Ee.deflt(de.pregap,h),Ae!==0&&(te=q.makeSpan(["arraycolsep"],[]),te.style.width=Q(Ae),re.push(te)));var qe=[];for(r=0;r<o;++r){var ot=a[r],Ve=ot[i];if(Ve){var kt=ot.pos-B;Ve.depth=ot.depth,Ve.height=ot.height,qe.push({type:"elem",elem:Ve,shift:kt})}}qe=q.makeVList({positionType:"individualShift",children:qe},n),qe=q.makeSpan(["col-align-"+(de.align||"c")],[qe]),re.push(qe),(i<s-1||e.hskipBeforeAndAfter)&&(Ae=Ee.deflt(de.postgap,h),Ae!==0&&(te=q.makeSpan(["arraycolsep"],[]),te.style.width=Q(Ae),re.push(te)))}}if(a=q.makeSpan(["mtable"],re),u.length>0){for(var an=q.makeLineSpan("hline",n,d),Zi=q.makeLineSpan("hdashline",n,d),ji=[{type:"elem",elem:a,shift:0}];u.length>0;){var eo=u.pop(),to=eo.pos-B;eo.isDashed?ji.push({type:"elem",elem:Zi,shift:to}):ji.push({type:"elem",elem:an,shift:to})}a=q.makeVList({positionType:"individualShift",children:ji},n)}if(pe.length===0)return q.makeSpan(["mord"],[a],n);var ri=q.makeVList({positionType:"individualShift",children:pe},n);return ri=q.makeSpan(["tag"],[ri],n),q.makeFragment([a,ri])},fS={c:"center ",l:"left ",r:"right "},Rn=function(e,n){for(var r=[],i=new $.MathNode("mtd",[],["mtr-glue"]),o=new $.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var s=e.body[l],a=[],u=0;u<s.length;u++)a.push(new $.MathNode("mtd",[Re(s[u],n)]));e.tags&&e.tags[l]&&(a.unshift(i),a.push(i),e.leqno?a.unshift(o):a.push(o)),r.push(new $.MathNode("mtr",a))}var d=new $.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);d.setAttribute("rowspacing",Q(p));var h="",m="";if(e.cols&&e.cols.length>0){var v=e.cols,T="",N=!1,S=0,x=v.length;v[0].type==="separator"&&(h+="top ",S=1),v[v.length-1].type==="separator"&&(h+="bottom ",x-=1);for(var k=S;k<x;k++)v[k].type==="align"?(m+=fS[v[k].align],N&&(T+="none "),N=!0):v[k].type==="separator"&&N&&(T+=v[k].separator==="|"?"solid ":"dashed ",N=!1);d.setAttribute("columnalign",m.trim()),/[sd]/.test(T)&&d.setAttribute("columnlines",T.trim())}if(e.colSeparationType==="align"){for(var R=e.cols||[],L="",I=1;I<R.length;I++)L+=I%2?"0em ":"1em ";d.setAttribute("columnspacing",L.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var U="",V=e.hLinesBeforeRow;h+=V[0].length>0?"left ":"",h+=V[V.length-1].length>0?"right ":"";for(var F=1;F<V.length-1;F++)U+=V[F].length===0?"none ":V[F][0]?"dashed ":"solid ";return/[sd]/.test(U)&&d.setAttribute("rowlines",U.trim()),h!==""&&(d=new $.MathNode("menclose",[d]),d.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(d=new $.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},P2=function(e,n){e.envName.indexOf("ed")===-1&&ya(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",l=Nr(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:yd(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),s,a=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var d="",p=0;p<n[0].body.length;p++){var h=ve(n[0].body[p],"textord");d+=h.text}s=Number(d),a=s*2}var m=!a;l.body.forEach(function(S){for(var x=1;x<S.length;x+=2){var k=ve(S[x],"styling"),R=ve(k.body[0],"ordgroup");R.body.unshift(u)}if(m)a<S.length&&(a=S.length);else{var L=S.length/2;if(s<L)throw new J("Too many math in a row: "+("expected "+s+", but got "+L),S[0])}});for(var v=0;v<a;++v){var T="r",N=0;v%2===1?T="l":v>0&&m&&(N=1),r[v]={type:"align",align:T,pregap:N,postgap:0}}return l.colSeparationType=m?"align":"alignat",l};_n({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=ha(e[0]),r=n?[e[0]]:ve(e[0],"ordgroup").body,i=r.map(function(l){var s=fd(l),a=s.text;if("lcr".indexOf(a)!==-1)return{type:"align",align:a};if(a==="|")return{type:"separator",separator:"|"};if(a===":")return{type:"separator",separator:":"};throw new J("Unknown column alignment: "+a,l)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Nr(t.parser,o,vd(t.envName))},htmlBuilder:Nn,mathmlBuilder:Rn});_n({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new J("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=Nr(t.parser,r,vd(t.envName)),l=Math.max(0,...o.body.map(s=>s.length));return o.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:Nn,mathmlBuilder:Rn});_n({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Nr(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Nn,mathmlBuilder:Rn});_n({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=ha(e[0]),r=n?[e[0]]:ve(e[0],"ordgroup").body,i=r.map(function(l){var s=fd(l),a=s.text;if("lc".indexOf(a)!==-1)return{type:"align",align:a};throw new J("Unknown column alignment: "+a,l)});if(i.length>1)throw new J("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=Nr(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new J("{subarray} can contain only one column");return o},htmlBuilder:Nn,mathmlBuilder:Rn});_n({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Nr(t.parser,e,vd(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Nn,mathmlBuilder:Rn});_n({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:P2,htmlBuilder:Nn,mathmlBuilder:Rn});_n({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&ya(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:yd(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Nr(t.parser,e,"display")},htmlBuilder:Nn,mathmlBuilder:Rn});_n({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:P2,htmlBuilder:Nn,mathmlBuilder:Rn});_n({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){ya(t);var e={autoTag:yd(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Nr(t.parser,e,"display")},htmlBuilder:Nn,mathmlBuilder:Rn});_n({type:"array",names:["CD"],props:{numArgs:0},handler(t){return ya(t),Zw(t.parser)},htmlBuilder:Nn,mathmlBuilder:Rn});E("\\nonumber","\\gdef\\@eqnsw{0}");E("\\notag","\\nonumber");ee({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new J(t.funcName+" valid only within array environment")}});var rh=N2;ee({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new J("Invalid environment name",i);for(var o="",l=0;l<i.body.length;++l)o+=ve(i.body[l],"textord").text;if(r==="\\begin"){if(!rh.hasOwnProperty(o))throw new J("No such environment: "+o,i);var s=rh[o],{args:a,optArgs:u}=n.parseArguments("\\begin{"+o+"}",s),d={mode:n.mode,envName:o,parser:n},p=s.handler(d,a,u);n.expect("\\end",!1);var h=n.nextToken,m=ve(n.parseFunction(),"environment");if(m.name!==o)throw new J("Mismatch: \\begin{"+o+"} matched by \\end{"+m.name+"}",h);return p}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var D2=(t,e)=>{var n=t.font,r=e.withFont(n);return Ce(t.body,r)},L2=(t,e)=>{var n=t.font,r=e.withFont(n);return Re(t.body,r)},ih={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ee({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=qs(e[0]),o=r;return o in ih&&(o=ih[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:D2,mathmlBuilder:L2});ee({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Ee.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:ma(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ee({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,l=n.parseExpression(!0,i),s="math"+r.slice(1);return{type:"font",mode:o,font:s,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:D2,mathmlBuilder:L2});var z2=(t,e)=>{var n=e;return t==="display"?n=n.id>=ce.SCRIPT.id?n.text():ce.DISPLAY:t==="text"&&n.size===ce.DISPLAY.size?n=ce.TEXT:t==="script"?n=ce.SCRIPT:t==="scriptscript"&&(n=ce.SCRIPTSCRIPT),n},xd=(t,e)=>{var n=z2(t.size,e.style),r=n.fracNum(),i=n.fracDen(),o;o=e.havingStyle(r);var l=Ce(t.numer,o,e);if(t.continued){var s=8.5/e.fontMetrics().ptPerEm,a=3.5/e.fontMetrics().ptPerEm;l.height=l.height<s?s:l.height,l.depth=l.depth<a?a:l.depth}o=e.havingStyle(i);var u=Ce(t.denom,o,e),d,p,h;t.hasBarLine?(t.barSize?(p=Je(t.barSize,e),d=q.makeLineSpan("frac-line",e,p)):d=q.makeLineSpan("frac-line",e),p=d.height,h=d.height):(d=null,p=0,h=e.fontMetrics().defaultRuleThickness);var m,v,T;n.size===ce.DISPLAY.size||t.size==="display"?(m=e.fontMetrics().num1,p>0?v=3*h:v=7*h,T=e.fontMetrics().denom1):(p>0?(m=e.fontMetrics().num2,v=h):(m=e.fontMetrics().num3,v=3*h),T=e.fontMetrics().denom2);var N;if(d){var x=e.fontMetrics().axisHeight;m-l.depth-(x+.5*p)<v&&(m+=v-(m-l.depth-(x+.5*p))),x-.5*p-(u.height-T)<v&&(T+=v-(x-.5*p-(u.height-T)));var k=-(x-.5*p);N=q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:T},{type:"elem",elem:d,shift:k},{type:"elem",elem:l,shift:-m}]},e)}else{var S=m-l.depth-(u.height-T);S<v&&(m+=.5*(v-S),T+=.5*(v-S)),N=q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:T},{type:"elem",elem:l,shift:-m}]},e)}o=e.havingStyle(n),N.height*=o.sizeMultiplier/e.sizeMultiplier,N.depth*=o.sizeMultiplier/e.sizeMultiplier;var R;n.size===ce.DISPLAY.size?R=e.fontMetrics().delim1:n.size===ce.SCRIPTSCRIPT.size?R=e.havingStyle(ce.SCRIPT).fontMetrics().delim2:R=e.fontMetrics().delim2;var L,I;return t.leftDelim==null?L=rl(e,["mopen"]):L=On.customSizedDelim(t.leftDelim,R,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?I=q.makeSpan([]):t.rightDelim==null?I=rl(e,["mclose"]):I=On.customSizedDelim(t.rightDelim,R,!0,e.havingStyle(n),t.mode,["mclose"]),q.makeSpan(["mord"].concat(o.sizingClasses(e)),[L,q.makeSpan(["mfrac"],[N]),I],e)},wd=(t,e)=>{var n=new $.MathNode("mfrac",[Re(t.numer,e),Re(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Je(t.barSize,e);n.setAttribute("linethickness",Q(r))}var i=z2(t.size,e.style);if(i.size!==e.style.size){n=new $.MathNode("mstyle",[n]);var o=i.size===ce.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var s=new $.MathNode("mo",[new $.TextNode(t.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),l.push(s)}if(l.push(n),t.rightDelim!=null){var a=new $.MathNode("mo",[new $.TextNode(t.rightDelim.replace("\\",""))]);a.setAttribute("fence","true"),l.push(a)}return cd(l)}return n};ee({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1],l,s=null,a=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,s="(",a=")";break;case"\\\\bracefrac":l=!1,s="\\{",a="\\}";break;case"\\\\brackfrac":l=!1,s="[",a="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:l,leftDelim:s,rightDelim:a,size:u,barSize:null}},htmlBuilder:xd,mathmlBuilder:wd});ee({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ee({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var oh=["display","text","script","scriptscript"],lh=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ee({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],o=qs(e[0]),l=o.type==="atom"&&o.family==="open"?lh(o.text):null,s=qs(e[1]),a=s.type==="atom"&&s.family==="close"?lh(s.text):null,u=ve(e[2],"size"),d,p=null;u.isBlank?d=!0:(p=u.value,d=p.number>0);var h="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var v=ve(m.body[0],"textord");h=oh[Number(v.text)]}}else m=ve(m,"textord"),h=oh[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:d,barSize:p,leftDelim:l,rightDelim:a,size:h}},htmlBuilder:xd,mathmlBuilder:wd});ee({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ve(e[0],"size").value,token:i}}});ee({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=H9(ve(e[1],"infix").size),l=e[2],s=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:l,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:xd,mathmlBuilder:wd});var F2=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Ce(t.sup,e.havingStyle(n.sup()),e):Ce(t.sub,e.havingStyle(n.sub()),e),i=ve(t.base,"horizBrace")):i=ve(t,"horizBrace");var o=Ce(i.base,e.havingBaseStyle(ce.DISPLAY)),l=Xn.svgSpan(i,e),s;if(i.isOver?(s=q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},e),s.children[0].children[0].children[1].classes.push("svg-align")):(s=q.makeVList({positionType:"bottom",positionData:o.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},e),s.children[0].children[0].children[0].classes.push("svg-align")),r){var a=q.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e);i.isOver?s=q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:r}]},e):s=q.makeVList({positionType:"bottom",positionData:a.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:a}]},e)}return q.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e)},pS=(t,e)=>{var n=Xn.mathMLnode(t.label);return new $.MathNode(t.isOver?"mover":"munder",[Re(t.base,e),n])};ee({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:F2,mathmlBuilder:pS});ee({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=ve(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Ze(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=it(t.body,e,!1);return q.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Ar(t.body,e);return n instanceof Vt||(n=new Vt("mrow",[n])),n.setAttribute("href",t.href),n}});ee({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=ve(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var l=r[o];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Ze(s)}}});ee({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Ze(e[0])}},htmlBuilder(t,e){var n=it(t.body,e,!1);return q.makeFragment(n)},mathmlBuilder(t,e){return new $.MathNode("mrow",zt(t.body,e))}});ee({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,o=ve(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,a={};switch(r){case"\\htmlClass":a.class=o,s={command:"\\htmlClass",class:o};break;case"\\htmlId":a.id=o,s={command:"\\htmlId",id:o};break;case"\\htmlStyle":a.style=o,s={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var u=o.split(","),d=0;d<u.length;d++){var p=u[d].split("=");if(p.length!==2)throw new J("Error parsing key-value for \\htmlData");a["data-"+p[0].trim()]=p[1].trim()}s={command:"\\htmlData",attributes:a};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(s)?{type:"html",mode:n.mode,attributes:a,body:Ze(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=it(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=q.makeSpan(r,n,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>Ar(t.body,e)});ee({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Ze(e[0]),mathml:Ze(e[1])}},htmlBuilder:(t,e)=>{var n=it(t.html,e,!1);return q.makeFragment(n)},mathmlBuilder:(t,e)=>Ar(t.mathml,e)});var xu=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new J("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!n2(r))throw new J("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ee({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},l={number:0,unit:"em"},s="";if(n[0])for(var a=ve(n[0],"raw").string,u=a.split(","),d=0;d<u.length;d++){var p=u[d].split("=");if(p.length===2){var h=p[1].trim();switch(p[0].trim()){case"alt":s=h;break;case"width":i=xu(h);break;case"height":o=xu(h);break;case"totalheight":l=xu(h);break;default:throw new J("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var m=ve(e[0],"url").url;return s===""&&(s=m,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:s,width:i,height:o,totalheight:l,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Je(t.height,e),r=0;t.totalheight.number>0&&(r=Je(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Je(t.width,e));var o={height:Q(n+r)};i>0&&(o.width=Q(i)),r>0&&(o.verticalAlign=Q(-r));var l=new pw(t.src,t.alt,o);return l.height=n,l.depth=r,l},mathmlBuilder:(t,e)=>{var n=new $.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Je(t.height,e),i=0;if(t.totalheight.number>0&&(i=Je(t.totalheight,e)-r,n.setAttribute("valign",Q(-i))),n.setAttribute("height",Q(r+i)),t.width.number>0){var o=Je(t.width,e);n.setAttribute("width",Q(o))}return n.setAttribute("src",t.src),n}});ee({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=ve(e[0],"size");if(n.settings.strict){var o=r[1]==="m",l=i.value.unit==="mu";o?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return q.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Je(t.dimension,e);return new $.SpaceNode(n)}});ee({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=q.makeSpan([],[Ce(t.body,e)]),n=q.makeSpan(["inner"],[n],e)):n=q.makeSpan(["inner"],[Ce(t.body,e)]);var r=q.makeSpan(["fix"],[]),i=q.makeSpan([t.alignment],[n,r],e),o=q.makeSpan(["strut"]);return o.style.height=Q(i.height+i.depth),i.depth&&(o.style.verticalAlign=Q(-i.depth)),i.children.unshift(o),i=q.makeSpan(["thinbox"],[i],e),q.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new $.MathNode("mpadded",[Re(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ee({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",l=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});ee({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new J("Mismatched "+t.funcName)}});var sh=(t,e)=>{switch(e.style.size){case ce.DISPLAY.size:return t.display;case ce.TEXT.size:return t.text;case ce.SCRIPT.size:return t.script;case ce.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ee({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Ze(e[0]),text:Ze(e[1]),script:Ze(e[2]),scriptscript:Ze(e[3])}},htmlBuilder:(t,e)=>{var n=sh(t,e),r=it(n,e,!1);return q.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=sh(t,e);return Ar(n,e)}});var U2=(t,e,n,r,i,o,l)=>{t=q.makeSpan([],[t]);var s=n&&Ee.isCharacterBox(n),a,u;if(e){var d=Ce(e,r.havingStyle(i.sup()),r);u={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var p=Ce(n,r.havingStyle(i.sub()),r);a={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var h;if(u&&a){var m=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+t.depth+l;h=q.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Q(-o)},{type:"kern",size:a.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Q(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a){var v=t.height-l;h=q.makeVList({positionType:"top",positionData:v,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Q(-o)},{type:"kern",size:a.kern},{type:"elem",elem:t}]},r)}else if(u){var T=t.depth+l;h=q.makeVList({positionType:"bottom",positionData:T,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Q(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var N=[h];if(a&&o!==0&&!s){var S=q.makeSpan(["mspace"],[],r);S.style.marginRight=Q(o),N.unshift(S)}return q.makeSpan(["mop","op-limits"],N,r)},B2=["\\smallint"],Yi=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=ve(t.base,"op"),i=!0):o=ve(t,"op");var l=e.style,s=!1;l.size===ce.DISPLAY.size&&o.symbol&&!B2.includes(o.name)&&(s=!0);var a;if(o.symbol){var u=s?"Size2-Regular":"Size1-Regular",d="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(d=o.name.slice(1),o.name=d==="oiint"?"\\iint":"\\iiint"),a=q.makeSymbol(o.name,u,"math",e,["mop","op-symbol",s?"large-op":"small-op"]),d.length>0){var p=a.italic,h=q.staticSvg(d+"Size"+(s?"2":"1"),e);a=q.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:h,shift:s?.08:0}]},e),o.name="\\"+d,a.classes.unshift("mop"),a.italic=p}}else if(o.body){var m=it(o.body,e,!0);m.length===1&&m[0]instanceof ln?(a=m[0],a.classes[0]="mop"):a=q.makeSpan(["mop"],m,e)}else{for(var v=[],T=1;T<o.name.length;T++)v.push(q.mathsym(o.name[T],o.mode,e));a=q.makeSpan(["mop"],v,e)}var N=0,S=0;return(a instanceof ln||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(N=(a.height-a.depth)/2-e.fontMetrics().axisHeight,S=a.italic),i?U2(a,n,r,e,l,S,N):(N&&(a.style.position="relative",a.style.top=Q(N)),a)},pl=(t,e)=>{var n;if(t.symbol)n=new Vt("mo",[sn(t.name,t.mode)]),B2.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Vt("mo",zt(t.body,e));else{n=new Vt("mi",[new An(t.name.slice(1))]);var r=new Vt("mo",[sn("","text")]);t.parentIsSupSub?n=new Vt("mrow",[n,r]):n=p2([n,r])}return n},hS={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ee({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=hS[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Yi,mathmlBuilder:pl});ee({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ze(r)}},htmlBuilder:Yi,mathmlBuilder:pl});var mS={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ee({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Yi,mathmlBuilder:pl});ee({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Yi,mathmlBuilder:pl});ee({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=mS[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Yi,mathmlBuilder:pl});var q2=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=ve(t.base,"operatorname"),i=!0):o=ve(t,"operatorname");var l;if(o.body.length>0){for(var s=o.body.map(p=>{var h=p.text;return typeof h=="string"?{type:"textord",mode:p.mode,text:h}:p}),a=it(s,e.withFont("mathrm"),!0),u=0;u<a.length;u++){var d=a[u];d instanceof ln&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=q.makeSpan(["mop"],a,e)}else l=q.makeSpan(["mop"],[],e);return i?U2(l,n,r,e,e.style,0,0):l},gS=(t,e)=>{for(var n=zt(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof $.SpaceNode))if(o instanceof $.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=o.children[0];o.children.length===1&&l instanceof $.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var s=n.map(d=>d.toText()).join("");n=[new $.TextNode(s)]}var a=new $.MathNode("mi",n);a.setAttribute("mathvariant","normal");var u=new $.MathNode("mo",[sn("","text")]);return t.parentIsSupSub?new $.MathNode("mrow",[a,u]):$.newDocumentFragment([a,u])};ee({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Ze(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:q2,mathmlBuilder:gS});E("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");ei({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?q.makeFragment(it(t.body,e,!1)):q.makeSpan(["mord"],it(t.body,e,!0),e)},mathmlBuilder(t,e){return Ar(t.body,e,!0)}});ee({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Ce(t.body,e.havingCrampedStyle()),r=q.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return q.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new $.MathNode("mo",[new $.TextNode("")]);n.setAttribute("stretchy","true");var r=new $.MathNode("mover",[Re(t.body,e),n]);return r.setAttribute("accent","true"),r}});ee({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Ze(r)}},htmlBuilder:(t,e)=>{var n=it(t.body,e.withPhantom(),!1);return q.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=zt(t.body,e);return new $.MathNode("mphantom",n)}});ee({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=q.makeSpan([],[Ce(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),q.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=zt(Ze(t.body),e),r=new $.MathNode("mphantom",n),i=new $.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ee({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=q.makeSpan(["inner"],[Ce(t.body,e.withPhantom())]),r=q.makeSpan(["fix"],[]);return q.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=zt(Ze(t.body),e),r=new $.MathNode("mphantom",n),i=new $.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ee({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=ve(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Ce(t.body,e),r=Je(t.dy,e);return q.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new $.MathNode("mpadded",[Re(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ee({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ee({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=ve(e[0],"size"),l=ve(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&ve(i,"size").value,width:o.value,height:l.value}},htmlBuilder(t,e){var n=q.makeSpan(["mord","rule"],[],e),r=Je(t.width,e),i=Je(t.height,e),o=t.shift?Je(t.shift,e):0;return n.style.borderRightWidth=Q(r),n.style.borderTopWidth=Q(i),n.style.bottom=Q(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Je(t.width,e),r=Je(t.height,e),i=t.shift?Je(t.shift,e):0,o=e.color&&e.getColor()||"black",l=new $.MathNode("mspace");l.setAttribute("mathbackground",o),l.setAttribute("width",Q(n)),l.setAttribute("height",Q(r));var s=new $.MathNode("mpadded",[l]);return i>=0?s.setAttribute("height",Q(i)):(s.setAttribute("height",Q(i)),s.setAttribute("depth",Q(-i))),s.setAttribute("voffset",Q(i)),s}});function V2(t,e,n){for(var r=it(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var l=r[o].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[l+1]==="reset-size"+e.size&&(r[o].classes[l+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return q.makeFragment(r)}var ah=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],yS=(t,e)=>{var n=e.havingSize(t.size);return V2(t.body,n,e)};ee({type:"sizing",names:ah,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:ah.indexOf(r)+1,body:o}},htmlBuilder:yS,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=zt(t.body,n),i=new $.MathNode("mstyle",r);return i.setAttribute("mathsize",Q(n.sizeMultiplier)),i}});ee({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,l=n[0]&&ve(n[0],"ordgroup");if(l)for(var s="",a=0;a<l.body.length;++a){var u=l.body[a];if(s=u.text,s==="t")i=!0;else if(s==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var d=e[0];return{type:"smash",mode:r.mode,body:d,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=q.makeSpan([],[Ce(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return q.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new $.MathNode("mpadded",[Re(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ee({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=Ce(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=q.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,o=i;e.style.id<ce.TEXT.id&&(o=e.fontMetrics().xHeight);var l=i+o/4,s=n.height+n.depth+l+i,{span:a,ruleWidth:u,advanceWidth:d}=On.sqrtImage(s,e),p=a.height-u;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var h=a.height-n.height-l-u;n.style.paddingLeft=Q(d);var m=q.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:a},{type:"kern",size:u}]},e);if(t.index){var v=e.havingStyle(ce.SCRIPTSCRIPT),T=Ce(t.index,v,e),N=.6*(m.height-m.depth),S=q.makeVList({positionType:"shift",positionData:-N,children:[{type:"elem",elem:T}]},e),x=q.makeSpan(["root"],[S]);return q.makeSpan(["mord","sqrt"],[x,m],e)}else return q.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new $.MathNode("mroot",[Re(n,e),Re(r,e)]):new $.MathNode("msqrt",[Re(n,e)])}});var uh={display:ce.DISPLAY,text:ce.TEXT,script:ce.SCRIPT,scriptscript:ce.SCRIPTSCRIPT};ee({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:o}},htmlBuilder(t,e){var n=uh[t.style],r=e.havingStyle(n).withFont("");return V2(t.body,r,e)},mathmlBuilder(t,e){var n=uh[t.style],r=e.havingStyle(n),i=zt(t.body,r),o=new $.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=l[t.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}});var vS=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===ce.DISPLAY.size||r.alwaysHandleSupSub);return i?Yi:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===ce.DISPLAY.size||r.limits);return o?q2:null}else{if(r.type==="accent")return Ee.isCharacterBox(r.base)?pd:null;if(r.type==="horizBrace"){var l=!e.sub;return l===r.isOver?F2:null}else return null}else return null};ei({type:"supsub",htmlBuilder(t,e){var n=vS(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:o}=t,l=Ce(r,e),s,a,u=e.fontMetrics(),d=0,p=0,h=r&&Ee.isCharacterBox(r);if(i){var m=e.havingStyle(e.style.sup());s=Ce(i,m,e),h||(d=l.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(o){var v=e.havingStyle(e.style.sub());a=Ce(o,v,e),h||(p=l.depth+v.fontMetrics().subDrop*v.sizeMultiplier/e.sizeMultiplier)}var T;e.style===ce.DISPLAY?T=u.sup1:e.style.cramped?T=u.sup3:T=u.sup2;var N=e.sizeMultiplier,S=Q(.5/u.ptPerEm/N),x=null;if(a){var k=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof ln||k)&&(x=Q(-l.italic))}var R;if(s&&a){d=Math.max(d,T,s.depth+.25*u.xHeight),p=Math.max(p,u.sub2);var L=u.defaultRuleThickness,I=4*L;if(d-s.depth-(a.height-p)<I){p=I-(d-s.depth)+a.height;var U=.8*u.xHeight-(d-s.depth);U>0&&(d+=U,p-=U)}var V=[{type:"elem",elem:a,shift:p,marginRight:S,marginLeft:x},{type:"elem",elem:s,shift:-d,marginRight:S}];R=q.makeVList({positionType:"individualShift",children:V},e)}else if(a){p=Math.max(p,u.sub1,a.height-.8*u.xHeight);var F=[{type:"elem",elem:a,marginLeft:x,marginRight:S}];R=q.makeVList({positionType:"shift",positionData:p,children:F},e)}else if(s)d=Math.max(d,T,s.depth+.25*u.xHeight),R=q.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:s,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var D=R0(l,"right")||"mord";return q.makeSpan([D],[l,q.makeSpan(["msupsub"],[R])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[Re(t.base,e)];t.sub&&o.push(Re(t.sub,e)),t.sup&&o.push(Re(t.sup,e));var l;if(n)l=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===ce.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===ce.DISPLAY||u.limits)?l="munderover":l="msubsup"}else{var a=t.base;a&&a.type==="op"&&a.limits&&(e.style===ce.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===ce.DISPLAY)?l="munder":l="msub"}else{var s=t.base;s&&s.type==="op"&&s.limits&&(e.style===ce.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||e.style===ce.DISPLAY)?l="mover":l="msup"}return new $.MathNode(l,o)}});ei({type:"atom",htmlBuilder(t,e){return q.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new $.MathNode("mo",[sn(t.text,t.mode)]);if(t.family==="bin"){var r=dd(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var H2={mi:"italic",mn:"normal",mtext:"normal"};ei({type:"mathord",htmlBuilder(t,e){return q.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new $.MathNode("mi",[sn(t.text,t.mode,e)]),r=dd(t,e)||"italic";return r!==H2[n.type]&&n.setAttribute("mathvariant",r),n}});ei({type:"textord",htmlBuilder(t,e){return q.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=sn(t.text,t.mode,e),r=dd(t,e)||"normal",i;return t.mode==="text"?i=new $.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new $.MathNode("mn",[n]):t.text==="\\prime"?i=new $.MathNode("mo",[n]):i=new $.MathNode("mi",[n]),r!==H2[i.type]&&i.setAttribute("mathvariant",r),i}});var wu={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Su={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ei({type:"spacing",htmlBuilder(t,e){if(Su.hasOwnProperty(t.text)){var n=Su[t.text].className||"";if(t.mode==="text"){var r=q.makeOrd(t,e,"textord");return r.classes.push(n),r}else return q.makeSpan(["mspace",n],[q.mathsym(t.text,t.mode,e)],e)}else{if(wu.hasOwnProperty(t.text))return q.makeSpan(["mspace",wu[t.text]],[],e);throw new J('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Su.hasOwnProperty(t.text))n=new $.MathNode("mtext",[new $.TextNode("")]);else{if(wu.hasOwnProperty(t.text))return new $.MathNode("mspace");throw new J('Unknown type of space "'+t.text+'"')}return n}});var ch=()=>{var t=new $.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};ei({type:"tag",mathmlBuilder(t,e){var n=new $.MathNode("mtable",[new $.MathNode("mtr",[ch(),new $.MathNode("mtd",[Ar(t.body,e)]),ch(),new $.MathNode("mtd",[Ar(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var dh={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},fh={"\\textbf":"textbf","\\textmd":"textmd"},xS={"\\textit":"textit","\\textup":"textup"},ph=(t,e)=>{var n=t.font;if(n){if(dh[n])return e.withTextFontFamily(dh[n]);if(fh[n])return e.withTextFontWeight(fh[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(xS[n])};ee({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Ze(i),font:r}},htmlBuilder(t,e){var n=ph(t,e),r=it(t.body,n,!0);return q.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=ph(t,e);return Ar(t.body,n)}});ee({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ce(t.body,e),r=q.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=q.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return q.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new $.MathNode("mo",[new $.TextNode("")]);n.setAttribute("stretchy","true");var r=new $.MathNode("munder",[Re(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ee({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ce(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return q.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new $.MathNode("mpadded",[Re(t.body,e)],["vcenter"])}});ee({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new J("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=hh(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var l=n[o];l==="~"&&(l="\\textasciitilde"),r.push(q.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return q.makeSpan(["mord","text"].concat(i.sizingClasses(e)),q.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new $.TextNode(hh(t)),r=new $.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var hh=t=>t.body.replace(/ /g,t.star?"":""),fr=d2,O2=`[ \r
	]`,wS="\\\\[a-zA-Z@]+",SS="\\\\[^\uD800-\uDFFF]",TS="("+wS+")"+O2+"*",CS=`\\\\(
|[ \r	]+
?)[ \r	]*`,z0="[-]",ES=new RegExp(z0+"+$"),kS="("+O2+"+)|"+(CS+"|")+"([!-\\[\\]---]"+(z0+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(z0+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+TS)+("|"+SS+")");class mh{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(kS,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new $t("EOF",new bt(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new J("Unexpected character: '"+e[n]+"'",new $t(e[n],new bt(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new $t(i,new bt(this,n,this.tokenRegex.lastIndex))}}class AS{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new J("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var IS=R2;E("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});E("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});E("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});E("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});E("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});E("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");E("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var gh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};E("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new J("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=gh[e.text],r==null||r>=n)throw new J("Invalid base-"+n+" digit "+e.text);for(var i;(i=gh[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var Sd=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new J("\\newcommand's first argument must be a macro name");var o=i[0].text,l=t.isDefined(o);if(l&&!e)throw new J("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!l&&!n)throw new J("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var s=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var a="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)a+=u.text,u=t.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new J("Invalid number of arguments: "+a);s=parseInt(a),i=t.consumeArg().tokens}return l&&r||t.macros.set(o,{tokens:i,numArgs:s}),""};E("\\newcommand",t=>Sd(t,!1,!0,!1));E("\\renewcommand",t=>Sd(t,!0,!1,!1));E("\\providecommand",t=>Sd(t,!0,!0,!0));E("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});E("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});E("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),fr[n],ze.math[n],ze.text[n]),""});E("\\bgroup","{");E("\\egroup","}");E("~","\\nobreakspace");E("\\lq","`");E("\\rq","'");E("\\aa","\\r a");E("\\AA","\\r A");E("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");E("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");E("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");E("","\\mathscr{B}");E("","\\mathscr{E}");E("","\\mathscr{F}");E("","\\mathscr{H}");E("","\\mathscr{I}");E("","\\mathscr{L}");E("","\\mathscr{M}");E("","\\mathscr{R}");E("","\\mathfrak{C}");E("","\\mathfrak{H}");E("","\\mathfrak{Z}");E("\\Bbbk","\\Bbb{k}");E("","\\cdotp");E("\\llap","\\mathllap{\\textrm{#1}}");E("\\rlap","\\mathrlap{\\textrm{#1}}");E("\\clap","\\mathclap{\\textrm{#1}}");E("\\mathstrut","\\vphantom{(}");E("\\underbar","\\underline{\\text{#1}}");E("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');E("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");E("\\ne","\\neq");E("","\\neq");E("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");E("","\\notin");E("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");E("","\\perp");E("","\\mathclose{!\\mkern-0.8mu!}");E("","\\notni");E("","\\ulcorner");E("","\\urcorner");E("","\\llcorner");E("","\\lrcorner");E("","\\copyright");E("","\\textregistered");E("","\\textregistered");E("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');E("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');E("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');E("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');E("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");E("","\\vdots");E("\\varGamma","\\mathit{\\Gamma}");E("\\varDelta","\\mathit{\\Delta}");E("\\varTheta","\\mathit{\\Theta}");E("\\varLambda","\\mathit{\\Lambda}");E("\\varXi","\\mathit{\\Xi}");E("\\varPi","\\mathit{\\Pi}");E("\\varSigma","\\mathit{\\Sigma}");E("\\varUpsilon","\\mathit{\\Upsilon}");E("\\varPhi","\\mathit{\\Phi}");E("\\varPsi","\\mathit{\\Psi}");E("\\varOmega","\\mathit{\\Omega}");E("\\substack","\\begin{subarray}{c}#1\\end{subarray}");E("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");E("\\boxed","\\fbox{$\\displaystyle{#1}$}");E("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");E("\\implies","\\DOTSB\\;\\Longrightarrow\\;");E("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");E("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");E("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var yh={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};E("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in yh?e=yh[n]:(n.slice(0,4)==="\\not"||n in ze.math&&["bin","rel"].includes(ze.math[n].group))&&(e="\\dotsb"),e});var Td={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};E("\\dotso",function(t){var e=t.future().text;return e in Td?"\\ldots\\,":"\\ldots"});E("\\dotsc",function(t){var e=t.future().text;return e in Td&&e!==","?"\\ldots\\,":"\\ldots"});E("\\cdots",function(t){var e=t.future().text;return e in Td?"\\@cdots\\,":"\\@cdots"});E("\\dotsb","\\cdots");E("\\dotsm","\\cdots");E("\\dotsi","\\!\\cdots");E("\\dotsx","\\ldots\\,");E("\\DOTSI","\\relax");E("\\DOTSB","\\relax");E("\\DOTSX","\\relax");E("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");E("\\,","\\tmspace+{3mu}{.1667em}");E("\\thinspace","\\,");E("\\>","\\mskip{4mu}");E("\\:","\\tmspace+{4mu}{.2222em}");E("\\medspace","\\:");E("\\;","\\tmspace+{5mu}{.2777em}");E("\\thickspace","\\;");E("\\!","\\tmspace-{3mu}{.1667em}");E("\\negthinspace","\\!");E("\\negmedspace","\\tmspace-{4mu}{.2222em}");E("\\negthickspace","\\tmspace-{5mu}{.277em}");E("\\enspace","\\kern.5em ");E("\\enskip","\\hskip.5em\\relax");E("\\quad","\\hskip1em\\relax");E("\\qquad","\\hskip2em\\relax");E("\\tag","\\@ifstar\\tag@literal\\tag@paren");E("\\tag@paren","\\tag@literal{({#1})}");E("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new J("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});E("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");E("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");E("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");E("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");E("\\newline","\\\\\\relax");E("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var G2=Q(kn["Main-Regular"][84][1]-.7*kn["Main-Regular"][65][1]);E("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+G2+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");E("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+G2+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");E("\\hspace","\\@ifstar\\@hspacer\\@hspace");E("\\@hspace","\\hskip #1\\relax");E("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");E("\\ordinarycolon",":");E("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");E("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');E("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');E("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');E("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');E("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');E("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');E("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');E("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');E("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');E("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');E("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');E("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');E("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');E("","\\dblcolon");E("","\\eqcolon");E("","\\coloneqq");E("","\\eqqcolon");E("","\\Coloneqq");E("\\ratio","\\vcentcolon");E("\\coloncolon","\\dblcolon");E("\\colonequals","\\coloneqq");E("\\coloncolonequals","\\Coloneqq");E("\\equalscolon","\\eqqcolon");E("\\equalscoloncolon","\\Eqqcolon");E("\\colonminus","\\coloneq");E("\\coloncolonminus","\\Coloneq");E("\\minuscolon","\\eqcolon");E("\\minuscoloncolon","\\Eqcolon");E("\\coloncolonapprox","\\Colonapprox");E("\\coloncolonsim","\\Colonsim");E("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");E("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");E("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");E("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");E("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");E("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");E("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");E("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");E("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");E("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");E("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");E("\\ngeqq","\\html@mathml{\\@ngeqq}{}");E("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");E("\\nleqq","\\html@mathml{\\@nleqq}{}");E("\\nleqslant","\\html@mathml{\\@nleqslant}{}");E("\\nshortmid","\\html@mathml{\\@nshortmid}{}");E("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");E("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");E("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");E("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");E("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");E("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");E("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");E("\\imath","\\html@mathml{\\@imath}{}");E("\\jmath","\\html@mathml{\\@jmath}{}");E("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");E("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");E("","\\llbracket");E("","\\rrbracket");E("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");E("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");E("","\\lBrace");E("","\\rBrace");E("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");E("","\\minuso");E("\\darr","\\downarrow");E("\\dArr","\\Downarrow");E("\\Darr","\\Downarrow");E("\\lang","\\langle");E("\\rang","\\rangle");E("\\uarr","\\uparrow");E("\\uArr","\\Uparrow");E("\\Uarr","\\Uparrow");E("\\N","\\mathbb{N}");E("\\R","\\mathbb{R}");E("\\Z","\\mathbb{Z}");E("\\alef","\\aleph");E("\\alefsym","\\aleph");E("\\Alpha","\\mathrm{A}");E("\\Beta","\\mathrm{B}");E("\\bull","\\bullet");E("\\Chi","\\mathrm{X}");E("\\clubs","\\clubsuit");E("\\cnums","\\mathbb{C}");E("\\Complex","\\mathbb{C}");E("\\Dagger","\\ddagger");E("\\diamonds","\\diamondsuit");E("\\empty","\\emptyset");E("\\Epsilon","\\mathrm{E}");E("\\Eta","\\mathrm{H}");E("\\exist","\\exists");E("\\harr","\\leftrightarrow");E("\\hArr","\\Leftrightarrow");E("\\Harr","\\Leftrightarrow");E("\\hearts","\\heartsuit");E("\\image","\\Im");E("\\infin","\\infty");E("\\Iota","\\mathrm{I}");E("\\isin","\\in");E("\\Kappa","\\mathrm{K}");E("\\larr","\\leftarrow");E("\\lArr","\\Leftarrow");E("\\Larr","\\Leftarrow");E("\\lrarr","\\leftrightarrow");E("\\lrArr","\\Leftrightarrow");E("\\Lrarr","\\Leftrightarrow");E("\\Mu","\\mathrm{M}");E("\\natnums","\\mathbb{N}");E("\\Nu","\\mathrm{N}");E("\\Omicron","\\mathrm{O}");E("\\plusmn","\\pm");E("\\rarr","\\rightarrow");E("\\rArr","\\Rightarrow");E("\\Rarr","\\Rightarrow");E("\\real","\\Re");E("\\reals","\\mathbb{R}");E("\\Reals","\\mathbb{R}");E("\\Rho","\\mathrm{P}");E("\\sdot","\\cdot");E("\\sect","\\S");E("\\spades","\\spadesuit");E("\\sub","\\subset");E("\\sube","\\subseteq");E("\\supe","\\supseteq");E("\\Tau","\\mathrm{T}");E("\\thetasym","\\vartheta");E("\\weierp","\\wp");E("\\Zeta","\\mathrm{Z}");E("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");E("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");E("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");E("\\bra","\\mathinner{\\langle{#1}|}");E("\\ket","\\mathinner{|{#1}\\rangle}");E("\\braket","\\mathinner{\\langle{#1}\\rangle}");E("\\Bra","\\left\\langle#1\\right|");E("\\Ket","\\left|#1\\right\\rangle");var $2=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,l=e.macros.get("|"),s=e.macros.get("\\|");e.macros.beginGroup();var a=p=>h=>{t&&(h.macros.set("|",l),i.length&&h.macros.set("\\|",s));var m=p;if(!p&&i.length){var v=h.future();v.text==="|"&&(h.popToken(),m=!0)}return{tokens:m?i:r,numArgs:0}};e.macros.set("|",a(!1)),i.length&&e.macros.set("\\|",a(!0));var u=e.consumeArg().tokens,d=e.expandTokens([...o,...u,...n]);return e.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};E("\\bra@ket",$2(!1));E("\\bra@set",$2(!0));E("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");E("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");E("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");E("\\angln","{\\angl n}");E("\\blue","\\textcolor{##6495ed}{#1}");E("\\orange","\\textcolor{##ffa500}{#1}");E("\\pink","\\textcolor{##ff00af}{#1}");E("\\red","\\textcolor{##df0030}{#1}");E("\\green","\\textcolor{##28ae7b}{#1}");E("\\gray","\\textcolor{gray}{#1}");E("\\purple","\\textcolor{##9d38bd}{#1}");E("\\blueA","\\textcolor{##ccfaff}{#1}");E("\\blueB","\\textcolor{##80f6ff}{#1}");E("\\blueC","\\textcolor{##63d9ea}{#1}");E("\\blueD","\\textcolor{##11accd}{#1}");E("\\blueE","\\textcolor{##0c7f99}{#1}");E("\\tealA","\\textcolor{##94fff5}{#1}");E("\\tealB","\\textcolor{##26edd5}{#1}");E("\\tealC","\\textcolor{##01d1c1}{#1}");E("\\tealD","\\textcolor{##01a995}{#1}");E("\\tealE","\\textcolor{##208170}{#1}");E("\\greenA","\\textcolor{##b6ffb0}{#1}");E("\\greenB","\\textcolor{##8af281}{#1}");E("\\greenC","\\textcolor{##74cf70}{#1}");E("\\greenD","\\textcolor{##1fab54}{#1}");E("\\greenE","\\textcolor{##0d923f}{#1}");E("\\goldA","\\textcolor{##ffd0a9}{#1}");E("\\goldB","\\textcolor{##ffbb71}{#1}");E("\\goldC","\\textcolor{##ff9c39}{#1}");E("\\goldD","\\textcolor{##e07d10}{#1}");E("\\goldE","\\textcolor{##a75a05}{#1}");E("\\redA","\\textcolor{##fca9a9}{#1}");E("\\redB","\\textcolor{##ff8482}{#1}");E("\\redC","\\textcolor{##f9685d}{#1}");E("\\redD","\\textcolor{##e84d39}{#1}");E("\\redE","\\textcolor{##bc2612}{#1}");E("\\maroonA","\\textcolor{##ffbde0}{#1}");E("\\maroonB","\\textcolor{##ff92c6}{#1}");E("\\maroonC","\\textcolor{##ed5fa6}{#1}");E("\\maroonD","\\textcolor{##ca337c}{#1}");E("\\maroonE","\\textcolor{##9e034e}{#1}");E("\\purpleA","\\textcolor{##ddd7ff}{#1}");E("\\purpleB","\\textcolor{##c6b9fc}{#1}");E("\\purpleC","\\textcolor{##aa87ff}{#1}");E("\\purpleD","\\textcolor{##7854ab}{#1}");E("\\purpleE","\\textcolor{##543b78}{#1}");E("\\mintA","\\textcolor{##f5f9e8}{#1}");E("\\mintB","\\textcolor{##edf2df}{#1}");E("\\mintC","\\textcolor{##e0e5cc}{#1}");E("\\grayA","\\textcolor{##f6f7f7}{#1}");E("\\grayB","\\textcolor{##f0f1f2}{#1}");E("\\grayC","\\textcolor{##e3e5e6}{#1}");E("\\grayD","\\textcolor{##d6d8da}{#1}");E("\\grayE","\\textcolor{##babec2}{#1}");E("\\grayF","\\textcolor{##888d93}{#1}");E("\\grayG","\\textcolor{##626569}{#1}");E("\\grayH","\\textcolor{##3b3e40}{#1}");E("\\grayI","\\textcolor{##21242c}{#1}");E("\\kaBlue","\\textcolor{##314453}{#1}");E("\\kaGreen","\\textcolor{##71B307}{#1}");var J2={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class bS{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new AS(IS,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new mh(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new $t("EOF",r.loc)),this.pushTokens(i),new $t("",bt.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),o,l=0,s=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++l;else if(o.text==="}"){if(--l,l===-1)throw new J("Extra }",o)}else if(o.text==="EOF")throw new J("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",o);if(e&&r)if((l===0||l===1&&e[s]==="{")&&o.text===e[s]){if(++s,s===e.length){n.splice(-s,s);break}}else s=0}while(l!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new J("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new J("Use of the macro doesn't match its definition",o)}}for(var l=[],s=0;s<e;s++)l.push(this.consumeArg(n&&n[s+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new J("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new J("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var s=o.length-1;s>=0;--s){var a=o[s];if(a.text==="#"){if(s===0)throw new J("Incomplete placeholder at end of macro body",a);if(a=o[--s],a.text==="#")o.splice(s+1,1);else if(/^[1-9]$/.test(a.text))o.splice(s,2,...l[+a.text-1]);else throw new J("Not a valid argument number",a)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new $t(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(o+1))!==-1;)++o;for(var s=new mh(i,this.settings),a=[],u=s.lex();u.text!=="EOF";)a.push(u),u=s.lex();a.reverse();var d={tokens:a,numArgs:o};return d}return i}isDefined(e){return this.macros.has(e)||fr.hasOwnProperty(e)||ze.math.hasOwnProperty(e)||ze.text.hasOwnProperty(e)||J2.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:fr.hasOwnProperty(e)&&!fr[e].primitive}}var vh=/^[]/,Gl=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Tu={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},xh={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class va{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new bS(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new J("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new $t("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(va.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&fr[i.text]&&fr[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new J("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,l,s=e.slice(0,n),a=e.slice(n+1);s.length===1&&s[0].type==="ordgroup"?o=s[0]:o={type:"ordgroup",mode:this.mode,body:s},a.length===1&&a[0].type==="ordgroup"?l=a[0]:l={type:"ordgroup",mode:this.mode,body:a};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[o,e[n],l],[]):u=this.callFunction(r,[o,l],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(e)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new J("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var l=o.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new J("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new J("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new J("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new J("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},a=[s];for(this.consume();this.fetch().text==="'";)a.push(s),this.consume();this.fetch().text==="^"&&a.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:a}}else if(Gl[o.text]){var u=vh.test(o.text),d=[];for(d.push(new $t(Gl[o.text])),this.consume();;){var p=this.fetch().text;if(!Gl[p]||vh.test(p)!==u)break;d.unshift(new $t(Gl[p])),this.consume()}var h=this.subparse(d);u?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,o=fr[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new J("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new J("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new J("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:s}=this.parseArguments(i,o);return this.callFunction(i,l,s,r,e)}callFunction(e,n,r,i,o){var l={funcName:e,parser:this,token:i,breakOnTokenText:o},s=fr[e];if(s&&s.handler)return s.handler(l,n,r);throw new J("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],l=0;l<r;l++){var s=n.argTypes&&n.argTypes[l],a=l<n.numOptionalArgs;(n.primitive&&s==null||n.type==="sqrt"&&l===1&&o[0]==null)&&(s="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",s,a);if(a)o.push(u);else if(u!=null)i.push(u);else throw new J("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new J("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new J("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new J("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,o="",l;(l=this.fetch()).text!=="EOF"&&e.test(o+l.text);)i=l,o+=i.text,this.consume();if(o==="")throw new J("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new J("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new J("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!n2(o))throw new J("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),l}parseGroup(e,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,l),a=this.fetch();this.expect(l),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:bt.range(r,a),body:s,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!J2.hasOwnProperty(i)){if(this.settings.throwOnError)throw new J("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],o=i.text;o==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:bt.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:bt.range(i,e[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&e[r+1].text===o&&(e.splice(r,2,{type:"textord",mode:"text",loc:bt.range(i,e[r+1]),text:o+o}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new J(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}xh.hasOwnProperty(n[0])&&!ze[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=xh[n[0]]+n.slice(1));var o=ES.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="":n==="j"&&(n=""));var l;if(ze[this.mode][n]){this.settings.strict&&this.mode==="math"&&N0.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var s=ze[this.mode][n].group,a=bt.range(e),u;if(gw.hasOwnProperty(s)){var d=s;u={type:"atom",mode:this.mode,family:d,loc:a,text:n}}else u={type:s,mode:this.mode,loc:a,text:n};l=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(t2(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:bt.range(e),text:n};else return null;if(this.consume(),o)for(var p=0;p<o[0].length;p++){var h=o[0][p];if(!Tu[h])throw new J("Unknown accent ' "+h+"'",e);var m=Tu[h][this.mode]||Tu[h].text;if(!m)throw new J("Accent "+h+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:bt.range(e),label:m,isStretchy:!1,isShifty:!0,base:l}}return l}}va.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Cd=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new va(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new J("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new $t("\\df@tag")])}]}return i},W2=function(e,n,r){n.textContent="";var i=Ed(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),W2=function(){throw new J("KaTeX doesn't work in quirks mode.")});var MS=function(e,n){var r=Ed(e,n).toMarkup();return r},_S=function(e,n){var r=new od(n);return Cd(e,r)},Y2=function(e,n,r){if(r.throwOnError||!(e instanceof J))throw e;var i=q.makeSpan(["katex-error"],[new ln(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Ed=function(e,n){var r=new od(n);try{var i=Cd(e,r);return Bw(i,e,r)}catch(o){return Y2(o,e,r)}},NS=function(e,n){var r=new od(n);try{var i=Cd(e,r);return qw(i,e,r)}catch(o){return Y2(o,e,r)}},RS="0.16.25",PS={Span:fl,Anchor:ad,SymbolNode:ln,SvgNode:Yn,PathNode:kr,LineNode:_0},wh={version:RS,render:W2,renderToString:MS,ParseError:J,SETTINGS_SCHEMA:os,__parse:_S,__renderToDomTree:Ed,__renderToHTMLTree:NS,__setFontMetrics:aw,__defineSymbol:g,__defineFunction:ee,__defineMacro:E,__domTree:PS};const DS={};function LS(t){const e=this,n=t||DS,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(D9(n)),o.push(A9()),l.push(I9(n))}const Sh=/[#.]/g;function zS(t,e){const n=t||"",r={};let i=0,o,l;for(;i<n.length;){Sh.lastIndex=i;const s=Sh.exec(n),a=n.slice(i,s?s.index:n.length);a&&(o?o==="#"?r.id=a:Array.isArray(r.className)?r.className.push(a):r.className=[a]:l=a,i+=a.length),s&&(o=s[0],i++)}return{type:"element",tagName:l||e||"div",properties:r,children:[]}}function K2(t,e,n){const r=n?qS(n):void 0;function i(o,l,...s){let a;if(o==null){a={type:"root",children:[]};const u=l;s.unshift(u)}else{a=zS(o,e);const u=a.tagName.toLowerCase(),d=r?r.get(u):void 0;if(a.tagName=d||u,FS(l))s.unshift(l);else for(const[p,h]of Object.entries(l))US(t,a.properties,p,h)}for(const u of s)F0(a.children,u);return a.type==="element"&&a.tagName==="template"&&(a.content={type:"root",children:a.children},a.children=[]),a}return i}function FS(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const l of o)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function US(t,e,n,r){const i=T4(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=Zf(r):i.commaSeparated?o=Wf(r):i.commaOrSpaceSeparated?o=Zf(Wf(r).join(" ")):o=Th(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?BS(r):String(r);if(Array.isArray(o)){const l=[];for(const s of o)l.push(Th(i,i.property,s));o=l}i.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[i.property]=o}}function F0(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)F0(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?F0(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function Th(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||el(n)===el(e)))return!0}return n}function BS(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function qS(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const VS=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],HS=K2(C4,"div"),OS=K2(sa,"g",VS),Cu={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function GS(t,e){return X2(t,{})||{type:"root",children:[]}}function X2(t,e){const n=$S(t,e);return n&&e.afterTransform&&e.afterTransform(t,n),n}function $S(t,e){switch(t.nodeType){case 1:return KS(t,e);case 3:return WS(t);case 8:return YS(t);case 9:return Ch(t,e);case 10:return JS();case 11:return Ch(t,e);default:return}}function Ch(t,e){return{type:"root",children:Q2(t,e)}}function JS(){return{type:"doctype"}}function WS(t){return{type:"text",value:t.nodeValue||""}}function YS(t){return{type:"comment",value:t.nodeValue||""}}function KS(t,e){const n=t.namespaceURI,r=n===Cu.svg?OS:HS,i=n===Cu.html?t.tagName.toLowerCase():t.tagName,o=n===Cu.html&&i==="template"?t.content:t,l=t.getAttributeNames(),s={};let a=-1;for(;++a<l.length;)s[l[a]]=t.getAttribute(l[a])||"";return r(i,s,Q2(o,e))}function Q2(t,e){const n=t.childNodes,r=[];let i=-1;for(;++i<n.length;){const o=X2(n[i],e);o!==void 0&&r.push(o)}return r}new DOMParser;function XS(t,e){const n=QS(t);return GS(n)}function QS(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const Eh=function(t,e,n){const r=rd(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]},ti=function(t){if(t==null)return eT;if(typeof t=="string")return jS(t);if(typeof t=="object")return ZS(t);if(typeof t=="function")return kd(t);throw new Error("Expected function, string, or array as `test`")};function ZS(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ti(t[n]);return kd(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function jS(t){return kd(e);function e(n){return n.tagName===t}}function kd(t){return e;function e(n,r,i){return!!(tT(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function eT(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function tT(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const kh=/\n/g,Ah=/[\t ]+/g,U0=ti("br"),Ih=ti(uT),nT=ti("p"),bh=ti("tr"),rT=ti(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",aT,cT]),Z2=ti(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function iT(t,e){const n=e||{},r="children"in t?t.children:[],i=Z2(t),o=ty(t,{whitespace:n.whitespace||"normal"}),l=[];(t.type==="text"||t.type==="comment")&&l.push(...ey(t,{breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)l.push(...j2(r[s],t,{whitespace:o,breakBefore:s?void 0:i,breakAfter:s<r.length-1?U0(r[s+1]):i}));const a=[];let u;for(s=-1;++s<l.length;){const d=l[s];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&a.push(`
`.repeat(u)||" "),u=-1,a.push(d))}return a.join("")}function j2(t,e,n){return t.type==="element"?oT(t,e,n):t.type==="text"?n.whitespace==="normal"?ey(t,n):lT(t):[]}function oT(t,e,n){const r=ty(t,n),i=t.children||[];let o=-1,l=[];if(rT(t))return l;let s,a;for(U0(t)||bh(t)&&Eh(e,t,bh)?a=`
`:nT(t)?(s=2,a=2):Z2(t)&&(s=1,a=1);++o<i.length;)l=l.concat(j2(i[o],t,{whitespace:r,breakBefore:o?void 0:s,breakAfter:o<i.length-1?U0(i[o+1]):a}));return Ih(t)&&Eh(e,t,Ih)&&l.push("	"),s&&l.unshift(s),a&&l.push(a),l}function ey(t,e){const n=String(t.value),r=[],i=[];let o=0;for(;o<=n.length;){kh.lastIndex=o;const a=kh.exec(n),u=a&&"index"in a?a.index:n.length;r.push(sT(n.slice(o,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?e.breakBefore:!0,u===n.length?e.breakAfter:!0)),o=u+1}let l=-1,s;for(;++l<r.length;)r[l].charCodeAt(r[l].length-1)===8203||l<r.length-1&&r[l+1].charCodeAt(0)===8203?(i.push(r[l]),s=void 0):r[l]?(typeof s=="number"&&i.push(s),i.push(r[l]),s=0):(l===0||l===r.length-1)&&i.push(0);return i}function lT(t){return[String(t.value)]}function sT(t,e,n){const r=[];let i=0,o;for(;i<t.length;){Ah.lastIndex=i;const l=Ah.exec(t);o=l?l.index:t.length,!i&&!o&&l&&!e&&r.push(""),i!==o&&r.push(t.slice(i,o)),i=l?o+l[0].length:o}return i!==o&&!n&&r.push(""),r.join(" ")}function ty(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function aT(t){return!!(t.properties||{}).hidden}function uT(t){return t.tagName==="td"||t.tagName==="th"}function cT(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const dT={},fT=[];function pT(t){const e=t||dT;return function(n,r){X4(n,"element",function(i,o){const l=Array.isArray(i.properties.className)?i.properties.className:fT,s=l.includes("language-math"),a=l.includes("math-display"),u=l.includes("math-inline");let d=a;if(!s&&!a&&!u)return;let p=o[o.length-1],h=i;if(i.tagName==="code"&&s&&p&&p.type==="element"&&p.tagName==="pre"&&(h=p,p=o[o.length-2],d=!0),!p)return;const m=iT(h,{whitespace:"pre"});let v;try{v=wh.renderToString(m,{...e,displayMode:d,throwOnError:!0})}catch(N){const S=N,x=S.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...o,i],cause:S,place:i.position,ruleId:x,source:"rehype-katex"});try{v=wh.renderToString(m,{...e,displayMode:d,strict:"ignore",throwOnError:!1})}catch{v=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(N)},children:[{type:"text",value:m}]}]}}typeof v=="string"&&(v=XS(v).children);const T=p.children.indexOf(h);return p.children.splice(T,1,...v),K4})}}var qt=(t=>(t.USER="user",t.MODEL="model",t))(qt||{}),To=(t=>(t.BLOCK_NONE="BLOCK_NONE",t.BLOCK_FEW="BLOCK_ONLY_HIGH",t.BLOCK_SOME="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_MOST="BLOCK_LOW_AND_ABOVE",t))(To||{});const hT=({messages:t,userAvatar:e,persona:n,isStreaming:r,onDeleteMessage:i,onRetryMessage:o})=>{const l=he.useRef(null),s=he.useRef(null),[a,u]=he.useState(!0),d=h=>{const{scrollTop:m,scrollHeight:v,clientHeight:T}=h.currentTarget,N=v-m-T<50;u(N)};he.useEffect(()=>{a&&l.current&&l.current.scrollIntoView({behavior:"smooth"})},[t,r,a]);const p=({text:h,className:m})=>{const[v,T]=d1.useState(!1),N=()=>{navigator.clipboard.writeText(h),T(!0),setTimeout(()=>T(!1),2e3)};return C.jsx("button",{onClick:N,className:`p-1.5 hover:bg-white/10 rounded-md transition-colors ${m}`,title:"Copy",children:C.jsx(ae,{name:v?"Check":"Copy",size:14,className:v?"text-green-400":"text-onyx-textMuted"})})};return C.jsxs("div",{ref:s,onScroll:d,className:"flex-1 overflow-y-auto p-4 lg:p-8 space-y-6",children:[t.length===0&&C.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-onyx-textMuted opacity-60 animate-fade-in",children:[n!=null&&n.avatar?C.jsx("img",{src:n.avatar,alt:"Persona",className:"w-16 h-16 rounded-full object-cover mb-4 border-2 border-onyx-accent"}):C.jsx(ae,{name:(n==null?void 0:n.icon)||"Sparkles",size:48,className:"mb-4 text-onyx-accent"}),C.jsx("p",{className:"text-lg font-medium",children:n?`Start chatting with ${n.name}`:"Start a conversation"})]}),t.map(h=>C.jsxs("div",{className:`group flex gap-4 animate-slide-up relative ${h.role===qt.USER?"flex-row-reverse":"flex-row"}`,children:[C.jsx("div",{className:`
            w-8 h-8 rounded-full flex items-center justify-center shrink-0 mt-2 overflow-hidden
            ${h.role===qt.USER?"bg-white text-black":"bg-onyx-accent text-white"}
          `,children:h.role===qt.USER?e?C.jsx("img",{src:e,alt:"User",className:"w-full h-full object-cover"}):C.jsx(ae,{name:"User",size:16}):n!=null&&n.avatar?C.jsx("img",{src:n.avatar,alt:"Bot",className:"w-full h-full object-cover"}):C.jsx(ae,{name:(n==null?void 0:n.icon)||"Bot",size:16})}),C.jsxs("div",{className:"relative max-w-[85%] lg:max-w-[70%]",children:[C.jsxs("div",{className:`
                  absolute -top-3 ${h.role===qt.USER?"right-0":"left-0"} 
                  flex items-center gap-1 px-1.5 py-1 
                  bg-onyx-surface border border-onyx-border rounded-lg shadow-xl
                  opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10
              `,children:[C.jsx(p,{text:h.text}),h.role===qt.USER&&!r&&C.jsx("button",{onClick:()=>o(h.id),className:"p-1.5 hover:bg-white/10 rounded-md text-onyx-textMuted hover:text-white transition-colors",title:"Retry from here",children:C.jsx(ae,{name:"RefreshCw",size:14})}),C.jsx("button",{onClick:()=>i(h.id),className:"p-1.5 hover:bg-red-500/20 rounded-md text-onyx-textMuted hover:text-red-400 transition-colors",title:"Delete message",children:C.jsx(ae,{name:"Trash2",size:14})})]}),C.jsxs("div",{className:`
                rounded-2xl p-4 overflow-hidden
                ${h.role===qt.USER?"bg-onyx-surfaceLight text-white rounded-tr-none":"bg-transparent text-white border border-onyx-border rounded-tl-none"}
              `,children:[h.images&&h.images.length>0&&C.jsx("div",{className:"flex gap-2 mb-3 flex-wrap",children:h.images.map((m,v)=>C.jsx("img",{src:m,alt:"Attachment",className:"h-32 w-auto rounded-lg border border-onyx-border"},v))}),h.isLoading&&!h.text?C.jsxs("div",{className:"flex gap-1.5 items-center py-1 px-1 h-6",children:[C.jsx("div",{className:"w-2 h-2 bg-onyx-textMuted rounded-full animate-bounce"}),C.jsx("div",{className:"w-2 h-2 bg-onyx-textMuted rounded-full animate-bounce delay-100"}),C.jsx("div",{className:"w-2 h-2 bg-onyx-textMuted rounded-full animate-bounce delay-200"})]}):C.jsx("div",{className:"markdown-body text-sm lg:text-base leading-relaxed",children:C.jsx(w9,{remarkPlugins:[LS],rehypePlugins:[[pT,{strict:!1}]],components:{code({node:m,className:v,children:T,...N}){return!/language-(\w+)/.exec(v||"")&&!String(T).includes(`
`)?C.jsx("code",{className:"bg-onyx-surfaceLight px-1.5 py-0.5 rounded text-pink-400 font-mono text-sm",...N,children:T}):C.jsxs("div",{className:"relative my-3 group/code",children:[C.jsx("pre",{className:"!bg-[#0d0d0d] !border !border-onyx-border !p-4 !rounded-xl overflow-x-auto text-sm",children:C.jsx("code",{className:v,...N,children:T})}),C.jsx("div",{className:"absolute top-2 right-2",children:C.jsx(p,{text:String(T),className:"bg-onyx-surface text-white"})})]})},p:({children:m})=>C.jsx("p",{className:"mb-3 last:mb-0",children:m}),ul:({children:m})=>C.jsx("ul",{className:"list-disc pl-4 mb-3 space-y-1",children:m}),ol:({children:m})=>C.jsx("ol",{className:"list-decimal pl-4 mb-3 space-y-1",children:m}),li:({children:m})=>C.jsx("li",{className:"pl-1",children:m}),a:({href:m,children:v})=>C.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:v})},children:h.text})})]})]})]},h.id)),C.jsx("div",{ref:l,className:"h-4"})]})},mT=({onSend:t,onStop:e,isLoading:n,disabled:r=!1,hasApiKeys:i})=>{const[o,l]=he.useState(""),[s,a]=he.useState([]),[u,d]=he.useState(!1),p=he.useRef(null),h=he.useRef(null),m=!i||r,v=R=>{l(R.target.value),p.current&&(p.current.style.height="auto",p.current.style.height=`${Math.min(p.current.scrollHeight,150)}px`)},T=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),R.stopPropagation(),x())},N=R=>{if(R.target.files&&R.target.files[0]){const L=R.target.files[0],I=new FileReader;I.onloadend=()=>{a(U=>[...U,I.result])},I.readAsDataURL(L)}R.target.value=""},S=R=>{a(L=>L.filter((I,U)=>U!==R))},x=()=>{!o.trim()&&s.length===0||n||m||(t(o,s,u),l(""),a([]),d(!1),p.current&&(p.current.style.height="auto"))},k=()=>{e&&e()};return C.jsx("div",{className:"p-4 bg-onyx-black border-t border-onyx-border",children:C.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-2",children:[s.length>0&&C.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map((R,L)=>C.jsxs("div",{className:"relative group shrink-0",children:[C.jsx("img",{src:R,alt:"preview",className:"h-16 w-16 object-cover rounded-xl border border-onyx-border"}),C.jsx("button",{onClick:()=>S(L),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-lg",children:C.jsx(ae,{name:"X",size:10})})]},L))}),C.jsxs("div",{className:`
             relative flex items-end gap-2 bg-onyx-surfaceLight p-2 rounded-3xl border border-onyx-border transition-colors
             ${m?"opacity-50 cursor-not-allowed bg-red-900/10 border-red-900/30":"focus-within:border-onyx-accent"}
        `,children:[C.jsx("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:N,disabled:m||n}),C.jsxs("div",{className:"flex items-center gap-1 pb-2.5 pl-2",children:[C.jsx("button",{onClick:()=>d(!u),className:`p-2 rounded-full transition-all ${u?"bg-blue-500/20 text-blue-400":"text-onyx-textMuted hover:text-white hover:bg-white/5"}`,title:"Toggle Google Search for this message",disabled:m||n,children:C.jsx(ae,{name:"Globe",size:20,className:u?"drop-shadow-[0_0_8px_rgba(59,130,246,0.5)]":""})}),C.jsx("div",{className:"w-px h-4 bg-onyx-border mx-0.5"}),C.jsx("button",{onClick:()=>{var R;return(R=h.current)==null?void 0:R.click()},className:"p-2 text-onyx-textMuted hover:text-white rounded-full hover:bg-white/5 transition-colors",title:"Attach Image",disabled:m||n,children:C.jsx(ae,{name:"Image",size:20})})]}),C.jsx("textarea",{ref:p,value:o,onChange:v,onKeyDown:T,disabled:m||n,placeholder:i?n?"Onyx is thinking...":u?"Search the web with Onyx...":"Ask Onyx...":" API Key Required. Open Settings to configure.",rows:1,className:`flex-1 bg-transparent border-0 focus:ring-0 text-white placeholder-onyx-textMuted resize-none py-3 max-h-[150px] scrollbar-hide ${i?"":"placeholder-red-400/70 font-bold"}`,style:{minHeight:"44px"}}),n?C.jsx("button",{onClick:k,className:"p-3 rounded-full transition-all duration-200 bg-red-500/10 border border-red-500/30 text-red-500 hover:bg-red-500/20 active:scale-95 animate-fade-in",title:"Stop generating",children:C.jsx(ae,{name:"Square",size:20,className:"fill-current"})}):C.jsx("button",{onClick:x,disabled:!o.trim()&&s.length===0||m,className:`
                  p-3 rounded-full transition-all duration-200
                  ${!o.trim()&&s.length===0||m?"bg-onyx-surface text-onyx-textMuted cursor-not-allowed":"bg-onyx-accent text-white shadow-lg shadow-blue-900/20 active:scale-95"}
                `,children:C.jsx(ae,{name:"Send",size:24})})]})]})})},B0=[{value:"gemini-2.5-flash",label:"Gemini 2.5 Flash",premium:!1},{value:"gemini-2.0-flash",label:"Gemini 2.0 Flash",premium:!1},{value:"gemini-2.0-flash-lite",label:"Gemini 2.0 Flash Lite",premium:!1},{value:"gemini-2.5-flash-thinking",label:"Gemini 2.5 Flash Thinking",premium:!1},{value:"gemini-2.5-pro",label:"Gemini 2.5 Pro",premium:!0},{value:"gemini-3-pro-preview",label:"Gemini 3.0 Pro",premium:!0},{value:"gemma-3-27b",label:"Gemma 3 (27b)",premium:!1}],Or=[{id:"nexus-omni",name:"NEXUS-OMNI",description:"Elite multi-disciplinary AI Orchestrator with maxed capabilities.",systemInstruction:`**Role:** You are "NEXUS-OMNI," an elite multi-disciplinary AI Orchestrator capable of dynamically switching between expert personas based on user intent.

**Primary Directive:** Your mission is not to dump information like an encyclopedia, but to act as an expert's assistant. The user is more knowledgeable than you and always has more context. Your role is to supplement their knowledge, perform tedious tasks for them, and accept their experience as the absolute truth. Arrogance, assumption, and sycophancy are your greatest enemies.

---

###  CORE BEHAVIORAL PROTOCOLS

#### 1. DO NOT ASSUME. ASSUME EXPERTISE.
- **Command:** When the user mentions a specific tool, concept, or process, assume they are an expert in it. Treat the user as a peer.
- **Forbidden:** Patronizing the user with unsolicited examples, analogies, or simplified explanations.
- **Solution:** If clarity is needed, ask targeted technical questions. Do not offer generic alternatives unless asked.

#### 2. PROACTIVE & LIBERAL TOOL USE
- **Command:** Operate under the assumption that your internal knowledge is unreliable. Actively and aggressively use "Browsing" tools to verify names, versions, URLs, and current events.
- **Forbidden:** Relying on pre-trained knowledge for volatile information.
- **Trigger:** Every query involving facts/code/news is a trigger for fresh research.

#### 3. PRINCIPLE OF INFORMATION DENSITY (Anti-Chatter)
- **Command:** Your value is measured in data-per-word. Begin responses with the critical answer.
- **Forbidden:** Filler text ("Certainly," "I hope this helps," "Here is the code"), introductory summaries, and semantic repetitions.
- **Structure:** Use bullet points, lists, and tables to deliver dense information efficiently.

#### 4. THE USER'S EXPERIENCE IS THE ABSOLUTE TRUTH
- **Command:** When a user states a solution failed or info is wrong, accept it immediately. Their reality is the ground truth.
- **Forbidden:** NEVER imply "user error" or defend outdated data.
- **Error Protocol:** Abandon previous logic -> Re-investigate from scratch -> Provide a new, verifiable solution.

---

###  EXPERT MODES LIBRARY (AUTO-ACTIVATE)

**[MODE A] SENIOR DEV & ARCHITECT** (Trigger: Code, SQL, Bugs, Regex, JSON)
- **Framework:**
  1. **Review:** Identify risks/inefficiencies first.
  2. **Plan:** Outline logic/pseudocode inside <PLAN> tags.
  3. **Execute:** Write production-ready, clean code.
  4. **Verify:** Explain "Root Cause" if debugging.

**[MODE B] STRATEGIC CEO & ANALYST** (Trigger: Decisions, Problems, Data, Business)
- **Frameworks:**
  - *Tree of Thoughts:* (Brainstorm -> Evaluate -> Select).
  - *Pre-Mortem:* (Assume failure -> Find causes -> Prevent).
  - *Decision Matrix:* (Cost vs Risk vs Speed vs Value).

**[MODE C] MASTER COPYWRITER & MARKETER** (Trigger: Emails, Sales, Blogs, Social)
- **Frameworks:**
  - *Hormozi Offer:* (Dream Outcome x Likelihood) / (Delay x Effort).
  - *FAB:* Features -> Advantages -> Benefits.
  - *Viral Hook:* Gap Theory (create curiosity).

**[MODE D] PRODUCTIVITY & HR COMMANDER** (Trigger: Editing, Minutes, Emails, CVs)
- **Frameworks:**
  - *Editor:* Cut word count by 30%, remove passive voice.
  - *Minutes:* Exec Summary -> Decisions -> Action Items (Table).
  - *HR:* ATS Optimization (Keywords + Action Verbs).

**[MODE E] VISUAL ART DIRECTOR** (Trigger: Image prompts, Logos, Design)
- **Format:** Subject + Environment + Tech Specs (Camera/Lens) + Style + Parameters (--ar, --v 6.0).

---

###  PRE-RESPONSE PLANNING (SILENT STEP)
Before generating any response, consciously determine:
1. **Intent:** What is the user's true goal?
2. **Format:** What is the most efficient format (list, table, code)?
3. **Detail:** What is the sufficient level of detail? (Avoid over-explaining).

###  OUTPUT FORMATTING RULES
1. **Code Blocks:** All reusable text (code, commands, filenames, emails) MUST be in code blocks.
2. **Language:** Process reasoning in English, but **Output in Turkish** (unless requested otherwise).
3. **No Fluff:** Start directly with the solution.

**User Input starts now. Analyze intent, activate mode, and execute:**`,model:"gemini-3-pro-preview",temperature:.5,topP:1,topK:64,thinkingBudget:32768,allowSearch:!0,icon:"Brain"},{id:"deep-research",name:"Deep Internet Analyst",description:"Autonomous agent that researches the web deeply before answering.",systemInstruction:`You are a Deep Internet Research Agent. 
1. Your primary tool is Google Search. USE IT AGGRESSIVELY for any query that is not purely creative writing.
2. Do not rely on internal knowledge for facts, news, code libraries, or events after 2023.
3. Verify information from multiple sources if possible.
4. Always cite your sources with URLs at the end of the response.
5. Structure your findings: Executive Summary -> Detailed Findings -> Sources.`,model:"gemini-3-pro-preview",temperature:.4,topP:.8,topK:40,thinkingBudget:16e3,allowSearch:!0,icon:"Globe"},{id:"default-assistant",name:"Onyx Assistant",description:"Helpful, concise, and intelligent general assistant.",systemInstruction:"You are Onyx, a helpful AI assistant. You answer concisely and accurately. You prefer to use Markdown for structuring responses.",model:"gemini-2.5-flash",temperature:.5,topP:.95,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Sparkles"},{id:"code-expert",name:"Senior Engineer",description:"Expert in React, TypeScript, and Python.",systemInstruction:"You are a Senior Software Engineer. You write clean, production-ready code. You prefer TypeScript and modern practices. Always explain your code briefly before or after the block.",model:"gemini-3-pro-preview",temperature:.2,topP:.8,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Code2"},{id:"creative-writer",name:"Creative Writer",description:"Storytelling, copywriting, and ideation.",systemInstruction:"You are a creative writer. You use evocative language, metaphors, and varied sentence structures. You are not afraid to be bold.",model:"gemini-3-pro-preview",temperature:1.2,topP:.98,topK:64,thinkingBudget:0,allowSearch:!1,icon:"PenTool"}];To.BLOCK_NONE,To.BLOCK_NONE,To.BLOCK_NONE,To.BLOCK_NONE;const Eu=({value:t,min:e,max:n,step:r,onChange:i,disabled:o=!1,className:l=""})=>{const s=he.useRef(null),[a,u]=he.useState(!1),d=Math.min(Math.max((t-e)/(n-e)*100,0),100),p=m=>{if(!s.current)return t;const v=s.current.getBoundingClientRect(),N=Math.max(0,Math.min(m-v.left,v.width))/v.width;let S=e+N*(n-e);if(r>0){const x=Math.round((S-e)/r);S=e+x*r}return Math.min(Math.max(S,e),n)},h=m=>{if(o)return;u(!0);const v=p(m);i(v)};return he.useEffect(()=>{const m=T=>{if(!a)return;const N="touches"in T?T.touches[0].clientX:T.clientX,S=p(N);i(S)},v=()=>{u(!1)};return a&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v),window.addEventListener("touchmove",m),window.addEventListener("touchend",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",v)}},[a,e,n,r,i]),C.jsx("div",{className:`w-full py-4 ${l} ${o?"opacity-50 cursor-not-allowed":""}`,ref:s,onMouseDown:m=>h(m.clientX),onTouchStart:m=>h(m.touches[0].clientX),children:C.jsxs("div",{className:"group relative flex w-full cursor-pointer items-center",children:[C.jsx("div",{className:"h-2 w-full rounded-full bg-onyx-surfaceLight border border-onyx-border overflow-hidden",children:C.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-slider-start to-slider-end shadow-glow transition-all duration-75 ease-out",style:{width:`${d}%`}})}),C.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 z-10",style:{left:`${d}%`,transform:"translate(-50%, -50%)"},children:C.jsxs("div",{className:"relative flex h-5 w-5 items-center justify-center",children:[C.jsx("div",{className:"absolute h-5 w-5 rounded-full bg-slider-end shadow-glow transition-transform duration-200 group-hover:scale-150 group-hover:shadow-glow-lg"}),C.jsx("div",{className:"relative h-2 w-2 rounded-full bg-white"})]})})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gT,yT;function vT(){return{geminiUrl:gT,vertexUrl:yT}}function xT(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=vT();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class er{}function j(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function f(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const s=l.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[s])){const a=t[s];if(Array.isArray(n))for(let u=0;u<a.length;u++){const d=a[u];f(d,e.slice(o+1),n[u])}else for(const u of a)f(u,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const s=l.slice(0,-3);s in t||(t[s]=[{}]);const a=t[s];f(a[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function c(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(s=>c(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function wT(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let s=-1;for(let a=0;a<i.length;a++)if(i[a]==="*"){s=a;break}if(s!==-1&&o.length>s)for(let a=s;a<o.length;a++){const u=o[a];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&l.add(u)}q0(t,i,o,0,l)}}function q0(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),s=t;if(l in s&&Array.isArray(s[l]))for(const a of s[l])q0(a,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,s=Object.keys(l).filter(u=>!u.startsWith("_")&&!i.has(u)),a={};for(const u of s)a[u]=l[u];for(const[u,d]of Object.entries(a)){const p=[];for(const h of n.slice(r))h==="*"?p.push(u):p.push(h);f(l,p,d)}for(const u of s)delete l[u]}}else{const l=t;o in l&&q0(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ad(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ST(t){const e={},n=c(t,["operationName"]);n!=null&&f(e,["operationName"],n);const r=c(t,["resourceName"]);return r!=null&&f(e,["_url","resourceName"],r),e}function TT(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const o=c(t,["error"]);o!=null&&f(e,["error"],o);const l=c(t,["response","generateVideoResponse"]);return l!=null&&f(e,["response"],ET(l)),e}function CT(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const o=c(t,["error"]);o!=null&&f(e,["error"],o);const l=c(t,["response"]);return l!=null&&f(e,["response"],kT(l)),e}function ET(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>AT(l))),f(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function kT(t){const e={},n=c(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>IT(l))),f(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function AT(t){const e={},n=c(t,["video"]);return n!=null&&f(e,["video"],PT(n)),e}function IT(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],DT(n)),e}function bT(t){const e={},n=c(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function MT(t){const e={},n=c(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function _T(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const o=c(t,["error"]);o!=null&&f(e,["error"],o);const l=c(t,["response"]);return l!=null&&f(e,["response"],NT(l)),e}function NT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["parent"]);r!=null&&f(e,["parent"],r);const i=c(t,["documentName"]);return i!=null&&f(e,["documentName"],i),e}function ny(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const o=c(t,["error"]);o!=null&&f(e,["error"],o);const l=c(t,["response"]);return l!=null&&f(e,["response"],RT(l)),e}function RT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["parent"]);r!=null&&f(e,["parent"],r);const i=c(t,["documentName"]);return i!=null&&f(e,["documentName"],i),e}function PT(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);const r=c(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],Ad(r));const i=c(t,["encoding"]);return i!=null&&f(e,["mimeType"],i),e}function DT(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],Ad(r));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mh;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Mh||(Mh={}));var _h;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_h||(_h={}));var Nh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Nh||(Nh={}));var pr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pr||(pr={}));var Rh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Rh||(Rh={}));var Ph;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ph||(Ph={}));var Dh;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Dh||(Dh={}));var Lh;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Lh||(Lh={}));var zh;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zh||(zh={}));var Fh;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Fh||(Fh={}));var Uh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Uh||(Uh={}));var Bh;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Bh||(Bh={}));var qh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(qh||(qh={}));var Vh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Vh||(Vh={}));var Hh;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Hh||(Hh={}));var Oh;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Oh||(Oh={}));var Gh;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Gh||(Gh={}));var $h;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})($h||($h={}));var Jh;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Jh||(Jh={}));var Vs;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vs||(Vs={}));var Wh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Wh||(Wh={}));var Yh;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Yh||(Yh={}));var Kh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kh||(Kh={}));var V0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(V0||(V0={}));var Xh;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Xh||(Xh={}));var Qh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Qh||(Qh={}));var Zh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Zh||(Zh={}));var jh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(jh||(jh={}));var em;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(em||(em={}));var tm;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tm||(tm={}));var nm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(nm||(nm={}));var rm;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(rm||(rm={}));var im;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(im||(im={}));var om;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(om||(om={}));var lm;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lm||(lm={}));var sm;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sm||(sm={}));var am;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(am||(am={}));var um;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(um||(um={}));var cm;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(cm||(cm={}));var dm;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(dm||(dm={}));var fm;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(fm||(fm={}));var pm;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(pm||(pm={}));var hm;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(hm||(hm={}));var mm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(mm||(mm={}));var gm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(gm||(gm={}));var ym;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ym||(ym={}));var vm;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(vm||(vm={}));var xm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(xm||(xm={}));var wm;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wm||(wm={}));var Sm;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sm||(Sm={}));var Tm;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Tm||(Tm={}));var Cm;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Cm||(Cm={}));var Em;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Em||(Em={}));var km;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(km||(km={}));var Si;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Si||(Si={}));class H0{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class go{get text(){var e,n,r,i,o,l,s,a;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const p=[];for(const h of(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&a!==void 0?a:[]){for(const[m,v]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(v!==null||v!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,o,l,s,a;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const p of(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&a!==void 0?a:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,l,s,a;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,l,s,a,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,l,s,a,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class Am{}class Im{}class LT{}class zT{}class FT{}class UT{}class bm{}class Mm{}class _m{}class BT{}class Hs{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Hs;let i;const o=e;return n?i=CT(o):i=TT(o),Object.assign(r,i),r}}class Nm{}class Rm{}class Pm{}class qT{}class VT{}class HT{}class Id{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Id,o=_T(e);return Object.assign(r,o),r}}class OT{}class GT{}class $T{}class Dm{}class JT{get text(){var e,n,r;let i="",o=!1;const l=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,u]of Object.entries(s))a!=="text"&&a!=="thought"&&u!==null&&l.push(a);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,a]of Object.entries(l))s!=="inlineData"&&a!==null&&o.push(s);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class WT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class bd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new bd,o=ny(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ry(t,e){const n=ke(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function iy(t){return Array.isArray(t)?t.map(e=>Os(e)):[Os(t)]}function Os(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function oy(t){const e=Os(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ly(t){const e=Os(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Lm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function sy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Lm(e)):[Lm(t)]}function O0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Fm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function mt(t){if(t==null)throw new Error("ContentUnion is required");return O0(t)?t:{role:"user",parts:sy(t)}}function Md(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=mt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=mt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>mt(n)):[mt(e)]}function nn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zm(t)||Fm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mt(t)]}const e=[],n=[],r=O0(t[0]);for(const i of t){const o=O0(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(zm(i)||Fm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:sy(n)}),e}function YT(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(pr).includes(n[0].toUpperCase())?n[0].toUpperCase():pr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(pr).includes(r.toUpperCase())?r.toUpperCase():pr.TYPE_UNSPECIFIED})}}function Ni(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&YT(t.type,e);for(const[l,s]of Object.entries(t))if(s!=null)if(l=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(pr).includes(s.toUpperCase())?s.toUpperCase():pr.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Ni(s);else if(r.includes(l)){const a=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}a.push(Ni(u))}e[l]=a}else if(i.includes(l)){const a={};for(const[u,d]of Object.entries(s))a[u]=Ni(d);e[l]=a}else{if(l==="additionalProperties")continue;e[l]=s}return e}function _d(t){return Ni(t)}function Nd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Rd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ki(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ni(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ni(e.response));return t}function Xi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function KT(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function tr(t,e){if(typeof e!="string")throw new Error("name must be a string");return KT(t,e,"cachedContents")}function ay(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Rr(t){return Ad(t)}function XT(t){return t!=null&&typeof t=="object"&&"name"in t}function QT(t){return t!=null&&typeof t=="object"&&"video"in t}function ZT(t){return t!=null&&typeof t=="object"&&"uri"in t}function uy(t){var e;let n;if(XT(t)&&(n=t.name),!(ZT(t)&&(n=t.uri,n===void 0))&&!(QT(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function cy(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function dy(t){for(const e of["models","tunedModels","publisherModels"])if(jT(t,e))return t[e];return[]}function jT(t,e){return t!==null&&typeof t=="object"&&e in t}function eC(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function tC(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=eC(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function fy(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function nC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function py(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const a=l.response;if(typeof a!="object"||a===null)continue;if(a.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Qi(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function hy(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rC(t){const e={},n=c(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const r=c(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>FC(l))),f(e,["inlinedResponses"],o)}const i=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["inlinedEmbedContentResponses"],o)}return e}function iC(t){const e={},n=c(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const r=c(t,["gcsDestination","outputUriPrefix"]);r!=null&&f(e,["gcsUri"],r);const i=c(t,["bigqueryDestination","outputUri"]);return i!=null&&f(e,["bigqueryUri"],i),e}function oC(t){const e={},n=c(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const r=c(t,["gcsUri"]);r!=null&&f(e,["gcsDestination","outputUriPrefix"],r);const i=c(t,["bigqueryUri"]);if(i!=null&&f(e,["bigqueryDestination","outputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ss(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["metadata","displayName"]);r!=null&&f(e,["displayName"],r);const i=c(t,["metadata","state"]);i!=null&&f(e,["state"],hy(i));const o=c(t,["metadata","createTime"]);o!=null&&f(e,["createTime"],o);const l=c(t,["metadata","endTime"]);l!=null&&f(e,["endTime"],l);const s=c(t,["metadata","updateTime"]);s!=null&&f(e,["updateTime"],s);const a=c(t,["metadata","model"]);a!=null&&f(e,["model"],a);const u=c(t,["metadata","output"]);return u!=null&&f(e,["dest"],rC(py(u))),e}function G0(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["displayName"]);r!=null&&f(e,["displayName"],r);const i=c(t,["state"]);i!=null&&f(e,["state"],hy(i));const o=c(t,["error"]);o!=null&&f(e,["error"],o);const l=c(t,["createTime"]);l!=null&&f(e,["createTime"],l);const s=c(t,["startTime"]);s!=null&&f(e,["startTime"],s);const a=c(t,["endTime"]);a!=null&&f(e,["endTime"],a);const u=c(t,["updateTime"]);u!=null&&f(e,["updateTime"],u);const d=c(t,["model"]);d!=null&&f(e,["model"],d);const p=c(t,["inputConfig"]);p!=null&&f(e,["src"],lC(p));const h=c(t,["outputConfig"]);h!=null&&f(e,["dest"],iC(py(h)));const m=c(t,["completionStats"]);return m!=null&&f(e,["completionStats"],m),e}function lC(t){const e={},n=c(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const r=c(t,["gcsSource","uris"]);r!=null&&f(e,["gcsUri"],r);const i=c(t,["bigquerySource","inputUri"]);return i!=null&&f(e,["bigqueryUri"],i),e}function sC(t,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=c(e,["fileName"]);r!=null&&f(n,["fileName"],r);const i=c(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>zC(t,l))),f(n,["requests","requests"],o)}return n}function aC(t){const e={},n=c(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const r=c(t,["gcsUri"]);r!=null&&f(e,["gcsSource","uris"],r);const i=c(t,["bigqueryUri"]);if(i!=null&&f(e,["bigquerySource","inputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function uC(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function cC(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],Qi(t,r)),n}function dC(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],Qi(t,r)),n}function fC(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],n);const r=c(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],pC(r));const i=c(t,["tokenCount"]);i!=null&&f(e,["tokenCount"],i);const o=c(t,["finishReason"]);o!=null&&f(e,["finishReason"],o);const l=c(t,["avgLogprobs"]);l!=null&&f(e,["avgLogprobs"],l);const s=c(t,["groundingMetadata"]);s!=null&&f(e,["groundingMetadata"],s);const a=c(t,["index"]);a!=null&&f(e,["index"],a);const u=c(t,["logprobsResult"]);u!=null&&f(e,["logprobsResult"],u);const d=c(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["safetyRatings"],h)}const p=c(t,["urlContextMetadata"]);return p!=null&&f(e,["urlContextMetadata"],p),e}function pC(t){const e={},n=c(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(e,["citations"],r)}return e}function my(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>GC(o))),f(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function hC(t,e){const n={},r=c(t,["displayName"]);if(e!==void 0&&r!=null&&f(e,["batch","displayName"],r),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function mC(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const i=c(t,["dest"]);return e!==void 0&&i!=null&&f(e,["outputConfig"],oC(nC(i))),n}function Um(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["src"]);i!=null&&f(n,["batch","inputConfig"],sC(t,fy(t,i)));const o=c(e,["config"]);return o!=null&&hC(o,n),n}function gC(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["model"],ke(t,r));const i=c(e,["src"]);i!=null&&f(n,["inputConfig"],aC(fy(t,i)));const o=c(e,["config"]);return o!=null&&mC(o,n),n}function yC(t,e){const n={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&f(e,["batch","displayName"],r),n}function vC(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["src"]);i!=null&&f(n,["batch","inputConfig"],kC(t,i));const o=c(e,["config"]);return o!=null&&yC(o,n),n}function xC(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],Qi(t,r)),n}function wC(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],Qi(t,r)),n}function SC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&f(e,["name"],r);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const o=c(t,["error"]);return o!=null&&f(e,["error"],o),e}function TC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&f(e,["name"],r);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const o=c(t,["error"]);return o!=null&&f(e,["error"],o),e}function CC(t,e){const n={},r=c(e,["contents"]);if(r!=null){let o=Md(t,r);Array.isArray(o)&&(o=o.map(l=>l)),f(n,["requests[]","request","content"],o)}const i=c(e,["config"]);return i!=null&&(f(n,["_self"],EC(i,n)),wT(n,{"requests[].*":"requests[].request.*"})),n}function EC(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&f(e,["requests[]","title"],i);const o=c(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&f(e,["requests[]","outputDimensionality"],o),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function kC(t,e){const n={},r=c(e,["fileName"]);r!=null&&f(n,["file_name"],r);const i=c(e,["inlinedRequests"]);return i!=null&&f(n,["requests"],CC(t,i)),n}function AC(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function IC(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const r=c(t,["args"]);r!=null&&f(e,["args"],r);const i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bC(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function MC(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],my(mt(i)));const o=c(e,["temperature"]);o!=null&&f(r,["temperature"],o);const l=c(e,["topP"]);l!=null&&f(r,["topP"],l);const s=c(e,["topK"]);s!=null&&f(r,["topK"],s);const a=c(e,["candidateCount"]);a!=null&&f(r,["candidateCount"],a);const u=c(e,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);const d=c(e,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);const p=c(e,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);const h=c(e,["logprobs"]);h!=null&&f(r,["logprobs"],h);const m=c(e,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);const v=c(e,["frequencyPenalty"]);v!=null&&f(r,["frequencyPenalty"],v);const T=c(e,["seed"]);T!=null&&f(r,["seed"],T);const N=c(e,["responseMimeType"]);N!=null&&f(r,["responseMimeType"],N);const S=c(e,["responseSchema"]);S!=null&&f(r,["responseSchema"],_d(S));const x=c(e,["responseJsonSchema"]);if(x!=null&&f(r,["responseJsonSchema"],x),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=c(e,["safetySettings"]);if(n!==void 0&&k!=null){let B=k;Array.isArray(B)&&(B=B.map(Y=>$C(Y))),f(n,["safetySettings"],B)}const R=c(e,["tools"]);if(n!==void 0&&R!=null){let B=Xi(R);Array.isArray(B)&&(B=B.map(Y=>WC(Ki(Y)))),f(n,["tools"],B)}const L=c(e,["toolConfig"]);if(n!==void 0&&L!=null&&f(n,["toolConfig"],JC(L)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=c(e,["cachedContent"]);n!==void 0&&I!=null&&f(n,["cachedContent"],tr(t,I));const U=c(e,["responseModalities"]);U!=null&&f(r,["responseModalities"],U);const V=c(e,["mediaResolution"]);V!=null&&f(r,["mediaResolution"],V);const F=c(e,["speechConfig"]);if(F!=null&&f(r,["speechConfig"],Nd(F)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=c(e,["thinkingConfig"]);D!=null&&f(r,["thinkingConfig"],D);const _=c(e,["imageConfig"]);return _!=null&&f(r,["imageConfig"],LC(_)),r}function _C(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>fC(u))),f(e,["candidates"],a)}const i=c(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const o=c(t,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);const l=c(t,["responseId"]);l!=null&&f(e,["responseId"],l);const s=c(t,["usageMetadata"]);return s!=null&&f(e,["usageMetadata"],s),e}function NC(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],Qi(t,r)),n}function RC(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],Qi(t,r)),n}function PC(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function DC(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function LC(t){const e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const r=c(t,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function zC(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["request","model"],ke(t,r));const i=c(e,["contents"]);if(i!=null){let s=nn(i);Array.isArray(s)&&(s=s.map(a=>my(a))),f(n,["request","contents"],s)}const o=c(e,["metadata"]);o!=null&&f(n,["metadata"],o);const l=c(e,["config"]);return l!=null&&f(n,["request","generationConfig"],MC(t,l,c(n,["request"],{}))),n}function FC(t){const e={},n=c(t,["response"]);n!=null&&f(e,["response"],_C(n));const r=c(t,["error"]);return r!=null&&f(e,["error"],r),e}function UC(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);if(e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function BC(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);e!==void 0&&i!=null&&f(e,["_query","pageToken"],i);const o=c(t,["filter"]);return e!==void 0&&o!=null&&f(e,["_query","filter"],o),n}function qC(t){const e={},n=c(t,["config"]);return n!=null&&UC(n,e),e}function VC(t){const e={},n=c(t,["config"]);return n!=null&&BC(n,e),e}function HC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const i=c(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ss(l))),f(e,["batchJobs"],o)}return e}function OC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const i=c(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>G0(l))),f(e,["batchJobs"],o)}return e}function GC(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&f(e,["fileData"],AC(o));const l=c(t,["functionCall"]);l!=null&&f(e,["functionCall"],IC(l));const s=c(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],uC(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function $C(t){const e={},n=c(t,["category"]);if(n!=null&&f(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function JC(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],bC(n));const r=c(t,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function WC(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&f(e,["googleMaps"],PC(s));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],DC(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Qn||(Qn={}));class ni{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YC extends er{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new ni(Qn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Um(this.apiClient,e),r=n._url,i=j("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,a=s.requests,u=[];for(const d of a){const p=Object.assign({},d);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}u.push(p)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=gC(this.apiClient,e);return s=j("batchPredictionJobs",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>G0(d))}else{const u=Um(this.apiClient,e);return s=j("{model}:batchGenerateContent",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>ss(d))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=vC(this.apiClient,e);return o=j("{model}:asyncBatchEmbedContent",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>ss(a))}}async get(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=RC(this.apiClient,e);return s=j("batchPredictionJobs/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>G0(d))}else{const u=NC(this.apiClient,e);return s=j("batches/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>ss(d))}}async cancel(e){var n,r,i,o;let l="",s={};if(this.apiClient.isVertexAI()){const a=dC(this.apiClient,e);l=j("batchPredictionJobs/{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const a=cC(this.apiClient,e);l=j("batches/{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=VC(e);return s=j("batchPredictionJobs",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=OC(d),h=new Dm;return Object.assign(h,p),h})}else{const u=qC(e);return s=j("batches",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=HC(d),h=new Dm;return Object.assign(h,p),h})}}async delete(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=wC(this.apiClient,e);return s=j("batchPredictionJobs/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>TC(d))}else{const u=xC(this.apiClient,e);return s=j("batches/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>SC(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function Bm(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vE(o))),f(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function XC(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const i=c(t,["expireTime"]);e!==void 0&&i!=null&&f(e,["expireTime"],i);const o=c(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const l=c(t,["contents"]);if(e!==void 0&&l!=null){let d=nn(l);Array.isArray(d)&&(d=d.map(p=>Bm(p))),f(e,["contents"],d)}const s=c(t,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],Bm(mt(s)));const a=c(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>wE(p))),f(e,["tools"],d)}const u=c(t,["toolConfig"]);if(e!==void 0&&u!=null&&f(e,["toolConfig"],xE(u)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function QC(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const i=c(t,["expireTime"]);e!==void 0&&i!=null&&f(e,["expireTime"],i);const o=c(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const l=c(t,["contents"]);if(e!==void 0&&l!=null){let p=nn(l);Array.isArray(p)&&(p=p.map(h=>h)),f(e,["contents"],p)}const s=c(t,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],mt(s));const a=c(t,["tools"]);if(e!==void 0&&a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>SE(h))),f(e,["tools"],p)}const u=c(t,["toolConfig"]);e!==void 0&&u!=null&&f(e,["toolConfig"],u);const d=c(t,["kmsKeyName"]);return e!==void 0&&d!=null&&f(e,["encryption_spec","kmsKeyName"],d),n}function ZC(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["model"],ry(t,r));const i=c(e,["config"]);return i!=null&&XC(i,n),n}function jC(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["model"],ry(t,r));const i=c(e,["config"]);return i!=null&&QC(i,n),n}function eE(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],tr(t,r)),n}function tE(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],tr(t,r)),n}function nE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function rE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function iE(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function oE(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const r=c(t,["args"]);r!=null&&f(e,["args"],r);const i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function lE(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sE(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const r=c(t,["name"]);r!=null&&f(e,["name"],r);const i=c(t,["parameters"]);i!=null&&f(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);const l=c(t,["response"]);l!=null&&f(e,["response"],l);const s=c(t,["responseJsonSchema"]);return s!=null&&f(e,["responseJsonSchema"],s),e}function aE(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],tr(t,r)),n}function uE(t,e){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],tr(t,r)),n}function cE(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function dE(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function fE(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function pE(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function hE(t){const e={},n=c(t,["config"]);return n!=null&&fE(n,e),e}function mE(t){const e={},n=c(t,["config"]);return n!=null&&pE(n,e),e}function gE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const i=c(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["cachedContents"],o)}return e}function yE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const i=c(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["cachedContents"],o)}return e}function vE(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&f(e,["fileData"],iE(o));const l=c(t,["functionCall"]);l!=null&&f(e,["functionCall"],oE(l));const s=c(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],KC(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function xE(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],lE(n));const r=c(t,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function wE(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&f(e,["googleMaps"],cE(s));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],dE(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function SE(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>sE(h))),f(e,["functionDeclarations"],p)}const r=c(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);const i=c(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(t,["codeExecution"]);l!=null&&f(e,["codeExecution"],l);const s=c(t,["enterpriseWebSearch"]);s!=null&&f(e,["enterpriseWebSearch"],s);const a=c(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],a);const u=c(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],u);const d=c(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function TE(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const i=c(t,["expireTime"]);return e!==void 0&&i!=null&&f(e,["expireTime"],i),n}function CE(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const i=c(t,["expireTime"]);return e!==void 0&&i!=null&&f(e,["expireTime"],i),n}function EE(t,e){const n={},r=c(e,["name"]);r!=null&&f(n,["_url","name"],tr(t,r));const i=c(e,["config"]);return i!=null&&TE(i,n),n}function kE(t,e){const n={},r=c(e,["name"]);r!=null&&f(n,["_url","name"],tr(t,r));const i=c(e,["config"]);return i!=null&&CE(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AE extends er{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ni(Qn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=jC(this.apiClient,e);return s=j("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const u=ZC(this.apiClient,e);return s=j("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async get(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=uE(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const u=aE(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=tE(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=rE(d),h=new Rm;return Object.assign(h,p),h})}else{const u=eE(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=nE(d),h=new Rm;return Object.assign(h,p),h})}}async update(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=kE(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const u=EE(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async listInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=mE(e);return s=j("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=yE(d),h=new Pm;return Object.assign(h,p),h})}else{const u=hE(e);return s=j("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=gE(d),h=new Pm;return Object.assign(h,p),h})}}}function qm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ue(t){return this instanceof Ue?(this.v=t,this):new Ue(t)}function Ri(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(m){return function(v){return Promise.resolve(v).then(m,p)}}function s(m,v){r[m]&&(i[m]=function(T){return new Promise(function(N,S){o.push([m,T,N,S])>1||a(m,T)})},v&&(i[m]=v(i[m])))}function a(m,v){try{u(r[m](v))}catch(T){h(o[0][3],T)}}function u(m){m.value instanceof Ue?Promise.resolve(m.value.v).then(d,p):h(o[0][2],m)}function d(m){a("next",m)}function p(m){a("throw",m)}function h(m,v){m(v),o.shift(),o.length&&a(o[0][0],o[0][1])}}function zo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qm=="function"?qm(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(s,a){l=t[o](l),i(s,a,l.done,l.value)})}}function i(o,l,s,a){Promise.resolve(a).then(function(u){o({value:u,done:s})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IE(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:gy(n)}function gy(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function bE(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Vm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!gy(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class ME{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new _E(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _E{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),bE(o)}async sendMessage(e){var n;await this.sendPromise;const r=mt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,s;const a=await i,u=(l=(o=a.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,d=a.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(p))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=mt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Vm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Ri(this,arguments,function*(){var l,s,a,u;const d=[];try{for(var p=!0,h=zo(e),m;m=yield Ue(h.next()),l=m.done,!l;p=!0){u=m.value,p=!1;const v=u;if(IE(v)){const T=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;T!==void 0&&d.push(T)}yield yield Ue(v)}}catch(v){s={error:v}}finally{try{!p&&!l&&(a=h.return)&&(yield Ue(a.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Vm(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,xa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NE(t){const e={},n=c(t,["file"]);return n!=null&&f(e,["file"],n),e}function RE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function PE(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","file"],uy(n)),e}function DE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function LE(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","file"],uy(n)),e}function zE(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function FE(t){const e={},n=c(t,["config"]);return n!=null&&zE(n,e),e}function UE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const i=c(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BE extends er{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ni(Qn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=FE(e);return o=j("files",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=UE(a),d=new OT;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=NE(e);return o=j("upload/v1beta/files",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=RE(a),d=new GT;return Object.assign(d,u),d})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=LE(e);return o=j("files/{file}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=PE(e);return o=j("files/{file}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=DE(a),d=new $T;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function as(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function qE(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nk(o))),f(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function VE(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function HE(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const r=c(t,["args"]);r!=null&&f(e,["args"],r);const i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OE(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const r=c(t,["name"]);r!=null&&f(e,["name"],r);const i=c(t,["parameters"]);i!=null&&f(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);const l=c(t,["response"]);l!=null&&f(e,["response"],l);const s=c(t,["responseJsonSchema"]);return s!=null&&f(e,["responseJsonSchema"],s),e}function GE(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const r=c(t,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const i=c(t,["audioTimestamp"]);i!=null&&f(e,["audioTimestamp"],i);const o=c(t,["candidateCount"]);o!=null&&f(e,["candidateCount"],o);const l=c(t,["enableAffectiveDialog"]);l!=null&&f(e,["enableAffectiveDialog"],l);const s=c(t,["frequencyPenalty"]);s!=null&&f(e,["frequencyPenalty"],s);const a=c(t,["logprobs"]);a!=null&&f(e,["logprobs"],a);const u=c(t,["maxOutputTokens"]);u!=null&&f(e,["maxOutputTokens"],u);const d=c(t,["mediaResolution"]);d!=null&&f(e,["mediaResolution"],d);const p=c(t,["presencePenalty"]);p!=null&&f(e,["presencePenalty"],p);const h=c(t,["responseLogprobs"]);h!=null&&f(e,["responseLogprobs"],h);const m=c(t,["responseMimeType"]);m!=null&&f(e,["responseMimeType"],m);const v=c(t,["responseModalities"]);v!=null&&f(e,["responseModalities"],v);const T=c(t,["responseSchema"]);T!=null&&f(e,["responseSchema"],T);const N=c(t,["routingConfig"]);N!=null&&f(e,["routingConfig"],N);const S=c(t,["seed"]);S!=null&&f(e,["seed"],S);const x=c(t,["speechConfig"]);x!=null&&f(e,["speechConfig"],yy(x));const k=c(t,["stopSequences"]);k!=null&&f(e,["stopSequences"],k);const R=c(t,["temperature"]);R!=null&&f(e,["temperature"],R);const L=c(t,["thinkingConfig"]);L!=null&&f(e,["thinkingConfig"],L);const I=c(t,["topK"]);I!=null&&f(e,["topK"],I);const U=c(t,["topP"]);if(U!=null&&f(e,["topP"],U),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $E(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function JE(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function WE(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);const l=c(t,["topP"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","topP"],l);const s=c(t,["topK"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","topK"],s);const a=c(t,["maxOutputTokens"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","maxOutputTokens"],a);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);const d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);const p=c(t,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],Rd(p));const h=c(t,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);const m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],m);const v=c(t,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["setup","systemInstruction"],qE(mt(v)));const T=c(t,["tools"]);if(e!==void 0&&T!=null){let I=Xi(T);Array.isArray(I)&&(I=I.map(U=>ik(Ki(U)))),f(e,["setup","tools"],I)}const N=c(t,["sessionResumption"]);e!==void 0&&N!=null&&f(e,["setup","sessionResumption"],rk(N));const S=c(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&f(e,["setup","inputAudioTranscription"],S);const x=c(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&f(e,["setup","outputAudioTranscription"],x);const k=c(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],k);const R=c(t,["contextWindowCompression"]);e!==void 0&&R!=null&&f(e,["setup","contextWindowCompression"],R);const L=c(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],L),n}function YE(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],GE(r));const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);const l=c(t,["topP"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","topP"],l);const s=c(t,["topK"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","topK"],s);const a=c(t,["maxOutputTokens"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","maxOutputTokens"],a);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);const d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);const p=c(t,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],yy(Rd(p)));const h=c(t,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);const m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],m);const v=c(t,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["setup","systemInstruction"],mt(v));const T=c(t,["tools"]);if(e!==void 0&&T!=null){let I=Xi(T);Array.isArray(I)&&(I=I.map(U=>ok(Ki(U)))),f(e,["setup","tools"],I)}const N=c(t,["sessionResumption"]);e!==void 0&&N!=null&&f(e,["setup","sessionResumption"],N);const S=c(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&f(e,["setup","inputAudioTranscription"],S);const x=c(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&f(e,["setup","outputAudioTranscription"],x);const k=c(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],k);const R=c(t,["contextWindowCompression"]);e!==void 0&&R!=null&&f(e,["setup","contextWindowCompression"],R);const L=c(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],L),n}function KE(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["setup","model"],ke(t,r));const i=c(e,["config"]);return i!=null&&f(n,["config"],WE(i,n)),n}function XE(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["setup","model"],ke(t,r));const i=c(e,["config"]);return i!=null&&f(n,["config"],YE(i,n)),n}function QE(t){const e={},n=c(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],n),e}function ZE(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(e,["weightedPrompts"],r)}return e}function jE(t){const e={},n=c(t,["media"]);if(n!=null){let u=iy(n);Array.isArray(u)&&(u=u.map(d=>as(d))),f(e,["mediaChunks"],u)}const r=c(t,["audio"]);r!=null&&f(e,["audio"],as(ly(r)));const i=c(t,["audioStreamEnd"]);i!=null&&f(e,["audioStreamEnd"],i);const o=c(t,["video"]);o!=null&&f(e,["video"],as(oy(o)));const l=c(t,["text"]);l!=null&&f(e,["text"],l);const s=c(t,["activityStart"]);s!=null&&f(e,["activityStart"],s);const a=c(t,["activityEnd"]);return a!=null&&f(e,["activityEnd"],a),e}function ek(t){const e={},n=c(t,["media"]);if(n!=null){let u=iy(n);Array.isArray(u)&&(u=u.map(d=>d)),f(e,["mediaChunks"],u)}const r=c(t,["audio"]);r!=null&&f(e,["audio"],ly(r));const i=c(t,["audioStreamEnd"]);i!=null&&f(e,["audioStreamEnd"],i);const o=c(t,["video"]);o!=null&&f(e,["video"],oy(o));const l=c(t,["text"]);l!=null&&f(e,["text"],l);const s=c(t,["activityStart"]);s!=null&&f(e,["activityStart"],s);const a=c(t,["activityEnd"]);return a!=null&&f(e,["activityEnd"],a),e}function tk(t){const e={},n=c(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],n);const r=c(t,["serverContent"]);r!=null&&f(e,["serverContent"],r);const i=c(t,["toolCall"]);i!=null&&f(e,["toolCall"],i);const o=c(t,["toolCallCancellation"]);o!=null&&f(e,["toolCallCancellation"],o);const l=c(t,["usageMetadata"]);l!=null&&f(e,["usageMetadata"],lk(l));const s=c(t,["goAway"]);s!=null&&f(e,["goAway"],s);const a=c(t,["sessionResumptionUpdate"]);return a!=null&&f(e,["sessionResumptionUpdate"],a),e}function nk(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&f(e,["fileData"],VE(o));const l=c(t,["functionCall"]);l!=null&&f(e,["functionCall"],HE(l));const s=c(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],as(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function rk(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yy(t){const e={},n=c(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);const r=c(t,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function ik(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&f(e,["googleMaps"],$E(s));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],JE(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function ok(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>OE(h))),f(e,["functionDeclarations"],p)}const r=c(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);const i=c(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(t,["codeExecution"]);l!=null&&f(e,["codeExecution"],l);const s=c(t,["enterpriseWebSearch"]);s!=null&&f(e,["enterpriseWebSearch"],s);const a=c(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],a);const u=c(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],u);const d=c(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function lk(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const r=c(t,["cachedContentTokenCount"]);r!=null&&f(e,["cachedContentTokenCount"],r);const i=c(t,["candidatesTokenCount"]);i!=null&&f(e,["responseTokenCount"],i);const o=c(t,["toolUsePromptTokenCount"]);o!=null&&f(e,["toolUsePromptTokenCount"],o);const l=c(t,["thoughtsTokenCount"]);l!=null&&f(e,["thoughtsTokenCount"],l);const s=c(t,["totalTokenCount"]);s!=null&&f(e,["totalTokenCount"],s);const a=c(t,["promptTokensDetails"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["promptTokensDetails"],m)}const u=c(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["cacheTokensDetails"],m)}const d=c(t,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["responseTokensDetails"],m)}const p=c(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["toolUsePromptTokensDetails"],m)}const h=c(t,["trafficType"]);return h!=null&&f(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sk(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function ak(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],n);const r=c(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],uk(r));const i=c(t,["tokenCount"]);i!=null&&f(e,["tokenCount"],i);const o=c(t,["finishReason"]);o!=null&&f(e,["finishReason"],o);const l=c(t,["avgLogprobs"]);l!=null&&f(e,["avgLogprobs"],l);const s=c(t,["groundingMetadata"]);s!=null&&f(e,["groundingMetadata"],s);const a=c(t,["index"]);a!=null&&f(e,["index"],a);const u=c(t,["logprobsResult"]);u!=null&&f(e,["logprobsResult"],u);const d=c(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["safetyRatings"],h)}const p=c(t,["urlContextMetadata"]);return p!=null&&f(e,["urlContextMetadata"],p),e}function uk(t){const e={},n=c(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(e,["citations"],r)}return e}function ck(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["contents"]);if(i!=null){let o=nn(i);Array.isArray(o)&&(o=o.map(l=>l)),f(n,["contents"],o)}return n}function dk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),f(e,["tokensInfo"],i)}return e}function fk(t){const e={},n=c(t,["values"]);n!=null&&f(e,["values"],n);const r=c(t,["statistics"]);return r!=null&&f(e,["statistics"],pk(r)),e}function pk(t){const e={},n=c(t,["truncated"]);n!=null&&f(e,["truncated"],n);const r=c(t,["token_count"]);return r!=null&&f(e,["tokenCount"],r),e}function wa(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TA(o))),f(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function hk(t){const e={},n=c(t,["controlType"]);n!=null&&f(e,["controlType"],n);const r=c(t,["enableControlImageComputation"]);return r!=null&&f(e,["computeControl"],r),e}function mk(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function gk(t,e){const n={},r=c(t,["systemInstruction"]);e!==void 0&&r!=null&&f(e,["systemInstruction"],mt(r));const i=c(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Ty(s))),f(e,["tools"],l)}const o=c(t,["generationConfig"]);return e!==void 0&&o!=null&&f(e,["generationConfig"],sA(o)),n}function yk(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["contents"]);if(i!=null){let l=nn(i);Array.isArray(l)&&(l=l.map(s=>wa(s))),f(n,["contents"],l)}const o=c(e,["config"]);return o!=null&&mk(o),n}function vk(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["contents"]);if(i!=null){let l=nn(i);Array.isArray(l)&&(l=l.map(s=>s)),f(n,["contents"],l)}const o=c(e,["config"]);return o!=null&&gk(o,n),n}function xk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["totalTokens"]);r!=null&&f(e,["totalTokens"],r);const i=c(t,["cachedContentTokenCount"]);return i!=null&&f(e,["cachedContentTokenCount"],i),e}function wk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["totalTokens"]);return r!=null&&f(e,["totalTokens"],r),e}function Sk(t,e){const n={},r=c(e,["model"]);return r!=null&&f(n,["_url","name"],ke(t,r)),n}function Tk(t,e){const n={},r=c(e,["model"]);return r!=null&&f(n,["_url","name"],ke(t,r)),n}function Ck(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function Ek(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function kk(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&f(e,["parameters","negativePrompt"],i);const o=c(t,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const s=c(t,["guidanceScale"]);e!==void 0&&s!=null&&f(e,["parameters","guidanceScale"],s);const a=c(t,["seed"]);e!==void 0&&a!=null&&f(e,["parameters","seed"],a);const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);const d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const p=c(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const h=c(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);const m=c(t,["language"]);e!==void 0&&m!=null&&f(e,["parameters","language"],m);const v=c(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const T=c(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T);const N=c(t,["addWatermark"]);e!==void 0&&N!=null&&f(e,["parameters","addWatermark"],N);const S=c(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const x=c(t,["editMode"]);e!==void 0&&x!=null&&f(e,["parameters","editMode"],x);const k=c(t,["baseSteps"]);return e!==void 0&&k!=null&&f(e,["parameters","editConfig","baseSteps"],k),n}function Ak(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>bA(a))),f(n,["instances[0]","referenceImages"],s)}const l=c(e,["config"]);return l!=null&&kk(l,n),n}function Ik(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Sa(o))),f(e,["generatedImages"],i)}return e}function bk(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&f(e,["requests[]","title"],i);const o=c(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&f(e,["requests[]","outputDimensionality"],o),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Mk(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&f(e,["instances[]","task_type"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&f(e,["instances[]","title"],i);const o=c(t,["outputDimensionality"]);e!==void 0&&o!=null&&f(e,["parameters","outputDimensionality"],o);const l=c(t,["mimeType"]);e!==void 0&&l!=null&&f(e,["instances[]","mimeType"],l);const s=c(t,["autoTruncate"]);return e!==void 0&&s!=null&&f(e,["parameters","autoTruncate"],s),n}function _k(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["contents"]);if(i!=null){let s=Md(t,i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["requests[]","content"],s)}const o=c(e,["config"]);o!=null&&bk(o,n);const l=c(e,["model"]);return l!==void 0&&f(n,["requests[]","model"],ke(t,l)),n}function Nk(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["contents"]);if(i!=null){let l=Md(t,i);Array.isArray(l)&&(l=l.map(s=>s)),f(n,["instances[]","content"],l)}const o=c(e,["config"]);return o!=null&&Mk(o,n),n}function Rk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["embeddings"],o)}const i=c(t,["metadata"]);return i!=null&&f(e,["metadata"],i),e}function Pk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>fk(l))),f(e,["embeddings"],o)}const i=c(t,["metadata"]);return i!=null&&f(e,["metadata"],i),e}function Dk(t){const e={},n=c(t,["endpoint"]);n!=null&&f(e,["name"],n);const r=c(t,["deployedModelId"]);return r!=null&&f(e,["deployedModelId"],r),e}function Lk(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function zk(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const r=c(t,["args"]);r!=null&&f(e,["args"],r);const i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Fk(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Uk(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const r=c(t,["name"]);r!=null&&f(e,["name"],r);const i=c(t,["parameters"]);i!=null&&f(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);const l=c(t,["response"]);l!=null&&f(e,["response"],l);const s=c(t,["responseJsonSchema"]);return s!=null&&f(e,["responseJsonSchema"],s),e}function Bk(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],wa(mt(i)));const o=c(e,["temperature"]);o!=null&&f(r,["temperature"],o);const l=c(e,["topP"]);l!=null&&f(r,["topP"],l);const s=c(e,["topK"]);s!=null&&f(r,["topK"],s);const a=c(e,["candidateCount"]);a!=null&&f(r,["candidateCount"],a);const u=c(e,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);const d=c(e,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);const p=c(e,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);const h=c(e,["logprobs"]);h!=null&&f(r,["logprobs"],h);const m=c(e,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);const v=c(e,["frequencyPenalty"]);v!=null&&f(r,["frequencyPenalty"],v);const T=c(e,["seed"]);T!=null&&f(r,["seed"],T);const N=c(e,["responseMimeType"]);N!=null&&f(r,["responseMimeType"],N);const S=c(e,["responseSchema"]);S!=null&&f(r,["responseSchema"],_d(S));const x=c(e,["responseJsonSchema"]);if(x!=null&&f(r,["responseJsonSchema"],x),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=c(e,["safetySettings"]);if(n!==void 0&&k!=null){let B=k;Array.isArray(B)&&(B=B.map(Y=>MA(Y))),f(n,["safetySettings"],B)}const R=c(e,["tools"]);if(n!==void 0&&R!=null){let B=Xi(R);Array.isArray(B)&&(B=B.map(Y=>zA(Ki(Y)))),f(n,["tools"],B)}const L=c(e,["toolConfig"]);if(n!==void 0&&L!=null&&f(n,["toolConfig"],LA(L)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=c(e,["cachedContent"]);n!==void 0&&I!=null&&f(n,["cachedContent"],tr(t,I));const U=c(e,["responseModalities"]);U!=null&&f(r,["responseModalities"],U);const V=c(e,["mediaResolution"]);V!=null&&f(r,["mediaResolution"],V);const F=c(e,["speechConfig"]);if(F!=null&&f(r,["speechConfig"],Nd(F)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=c(e,["thinkingConfig"]);D!=null&&f(r,["thinkingConfig"],D);const _=c(e,["imageConfig"]);return _!=null&&f(r,["imageConfig"],fA(_)),r}function qk(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],mt(i));const o=c(e,["temperature"]);o!=null&&f(r,["temperature"],o);const l=c(e,["topP"]);l!=null&&f(r,["topP"],l);const s=c(e,["topK"]);s!=null&&f(r,["topK"],s);const a=c(e,["candidateCount"]);a!=null&&f(r,["candidateCount"],a);const u=c(e,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);const d=c(e,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);const p=c(e,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);const h=c(e,["logprobs"]);h!=null&&f(r,["logprobs"],h);const m=c(e,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);const v=c(e,["frequencyPenalty"]);v!=null&&f(r,["frequencyPenalty"],v);const T=c(e,["seed"]);T!=null&&f(r,["seed"],T);const N=c(e,["responseMimeType"]);N!=null&&f(r,["responseMimeType"],N);const S=c(e,["responseSchema"]);S!=null&&f(r,["responseSchema"],_d(S));const x=c(e,["responseJsonSchema"]);x!=null&&f(r,["responseJsonSchema"],x);const k=c(e,["routingConfig"]);k!=null&&f(r,["routingConfig"],k);const R=c(e,["modelSelectionConfig"]);R!=null&&f(r,["modelConfig"],R);const L=c(e,["safetySettings"]);if(n!==void 0&&L!=null){let ie=L;Array.isArray(ie)&&(ie=ie.map(pe=>pe)),f(n,["safetySettings"],ie)}const I=c(e,["tools"]);if(n!==void 0&&I!=null){let ie=Xi(I);Array.isArray(ie)&&(ie=ie.map(pe=>Ty(Ki(pe)))),f(n,["tools"],ie)}const U=c(e,["toolConfig"]);n!==void 0&&U!=null&&f(n,["toolConfig"],U);const V=c(e,["labels"]);n!==void 0&&V!=null&&f(n,["labels"],V);const F=c(e,["cachedContent"]);n!==void 0&&F!=null&&f(n,["cachedContent"],tr(t,F));const D=c(e,["responseModalities"]);D!=null&&f(r,["responseModalities"],D);const _=c(e,["mediaResolution"]);_!=null&&f(r,["mediaResolution"],_);const B=c(e,["speechConfig"]);B!=null&&f(r,["speechConfig"],Sy(Nd(B)));const Y=c(e,["audioTimestamp"]);Y!=null&&f(r,["audioTimestamp"],Y);const re=c(e,["thinkingConfig"]);re!=null&&f(r,["thinkingConfig"],re);const te=c(e,["imageConfig"]);return te!=null&&f(r,["imageConfig"],pA(te)),r}function Hm(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["contents"]);if(i!=null){let l=nn(i);Array.isArray(l)&&(l=l.map(s=>wa(s))),f(n,["contents"],l)}const o=c(e,["config"]);return o!=null&&f(n,["generationConfig"],Bk(t,o,n)),n}function Om(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["contents"]);if(i!=null){let l=nn(i);Array.isArray(l)&&(l=l.map(s=>s)),f(n,["contents"],l)}const o=c(e,["config"]);return o!=null&&f(n,["generationConfig"],qk(t,o,n)),n}function Gm(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>ak(u))),f(e,["candidates"],a)}const i=c(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const o=c(t,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);const l=c(t,["responseId"]);l!=null&&f(e,["responseId"],l);const s=c(t,["usageMetadata"]);return s!=null&&f(e,["usageMetadata"],s),e}function $m(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["candidates"],u)}const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const o=c(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const l=c(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const s=c(t,["responseId"]);s!=null&&f(e,["responseId"],s);const a=c(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function Vk(t,e){const n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const i=c(t,["aspectRatio"]);e!==void 0&&i!=null&&f(e,["parameters","aspectRatio"],i);const o=c(t,["guidanceScale"]);if(e!==void 0&&o!=null&&f(e,["parameters","guidanceScale"],o),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=c(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const s=c(t,["personGeneration"]);e!==void 0&&s!=null&&f(e,["parameters","personGeneration"],s);const a=c(t,["includeSafetyAttributes"]);e!==void 0&&a!=null&&f(e,["parameters","includeSafetyAttributes"],a);const u=c(t,["includeRaiReason"]);e!==void 0&&u!=null&&f(e,["parameters","includeRaiReason"],u);const d=c(t,["language"]);e!==void 0&&d!=null&&f(e,["parameters","language"],d);const p=c(t,["outputMimeType"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","mimeType"],p);const h=c(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&f(e,["parameters","outputOptions","compressionQuality"],h),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=c(t,["imageSize"]);if(e!==void 0&&m!=null&&f(e,["parameters","sampleImageSize"],m),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Hk(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&f(e,["parameters","negativePrompt"],i);const o=c(t,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const s=c(t,["guidanceScale"]);e!==void 0&&s!=null&&f(e,["parameters","guidanceScale"],s);const a=c(t,["seed"]);e!==void 0&&a!=null&&f(e,["parameters","seed"],a);const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);const d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const p=c(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const h=c(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);const m=c(t,["language"]);e!==void 0&&m!=null&&f(e,["parameters","language"],m);const v=c(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const T=c(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T);const N=c(t,["addWatermark"]);e!==void 0&&N!=null&&f(e,["parameters","addWatermark"],N);const S=c(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const x=c(t,["imageSize"]);e!==void 0&&x!=null&&f(e,["parameters","sampleImageSize"],x);const k=c(t,["enhancePrompt"]);return e!==void 0&&k!=null&&f(e,["parameters","enhancePrompt"],k),n}function Ok(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(e,["config"]);return o!=null&&Vk(o,n),n}function Gk(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(e,["config"]);return o!=null&&Hk(o,n),n}function $k(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>rA(l))),f(e,["generatedImages"],o)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],xy(i)),e}function Jk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Sa(l))),f(e,["generatedImages"],o)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],wy(i)),e}function Wk(t,e){const n={},r=c(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=c(t,["durationSeconds"]);if(e!==void 0&&i!=null&&f(e,["parameters","durationSeconds"],i),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=c(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);const l=c(t,["resolution"]);e!==void 0&&l!=null&&f(e,["parameters","resolution"],l);const s=c(t,["personGeneration"]);if(e!==void 0&&s!=null&&f(e,["parameters","personGeneration"],s),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&f(e,["parameters","enhancePrompt"],u),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=c(t,["lastFrame"]);e!==void 0&&d!=null&&f(e,["instances[0]","lastFrame"],Ta(d));const p=c(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>KA(m))),f(e,["instances[0]","referenceImages"],h)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Yk(t,e){const n={},r=c(t,["numberOfVideos"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const o=c(t,["fps"]);e!==void 0&&o!=null&&f(e,["parameters","fps"],o);const l=c(t,["durationSeconds"]);e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l);const s=c(t,["seed"]);e!==void 0&&s!=null&&f(e,["parameters","seed"],s);const a=c(t,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const u=c(t,["resolution"]);e!==void 0&&u!=null&&f(e,["parameters","resolution"],u);const d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const p=c(t,["pubsubTopic"]);e!==void 0&&p!=null&&f(e,["parameters","pubsubTopic"],p);const h=c(t,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);const m=c(t,["enhancePrompt"]);e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m);const v=c(t,["generateAudio"]);e!==void 0&&v!=null&&f(e,["parameters","generateAudio"],v);const T=c(t,["lastFrame"]);e!==void 0&&T!=null&&f(e,["instances[0]","lastFrame"],vn(T));const N=c(t,["referenceImages"]);if(e!==void 0&&N!=null){let k=N;Array.isArray(k)&&(k=k.map(R=>XA(R))),f(e,["instances[0]","referenceImages"],k)}const S=c(t,["mask"]);e!==void 0&&S!=null&&f(e,["instances[0]","mask"],YA(S));const x=c(t,["compressionQuality"]);return e!==void 0&&x!=null&&f(e,["parameters","compressionQuality"],x),n}function Kk(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const o=c(t,["error"]);o!=null&&f(e,["error"],o);const l=c(t,["response","generateVideoResponse"]);return l!=null&&f(e,["response"],jk(l)),e}function Xk(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const o=c(t,["error"]);o!=null&&f(e,["error"],o);const l=c(t,["response"]);return l!=null&&f(e,["response"],eA(l)),e}function Qk(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(e,["image"]);o!=null&&f(n,["instances[0]","image"],Ta(o));const l=c(e,["video"]);l!=null&&f(n,["instances[0]","video"],Cy(l));const s=c(e,["source"]);s!=null&&tA(s,n);const a=c(e,["config"]);return a!=null&&Wk(a,n),n}function Zk(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(e,["image"]);o!=null&&f(n,["instances[0]","image"],vn(o));const l=c(e,["video"]);l!=null&&f(n,["instances[0]","video"],Ey(l));const s=c(e,["source"]);s!=null&&nA(s,n);const a=c(e,["config"]);return a!=null&&Yk(a,n),n}function jk(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>oA(l))),f(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function eA(t){const e={},n=c(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>lA(l))),f(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function tA(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&f(e,["instances[0]","image"],Ta(i));const o=c(t,["video"]);return e!==void 0&&o!=null&&f(e,["instances[0]","video"],Cy(o)),n}function nA(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&f(e,["instances[0]","image"],vn(i));const o=c(t,["video"]);return e!==void 0&&o!=null&&f(e,["instances[0]","video"],Ey(o)),n}function rA(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],hA(n));const r=c(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const i=c(t,["_self"]);return i!=null&&f(e,["safetyAttributes"],xy(i)),e}function Sa(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],vy(n));const r=c(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const i=c(t,["_self"]);i!=null&&f(e,["safetyAttributes"],wy(i));const o=c(t,["prompt"]);return o!=null&&f(e,["enhancedPrompt"],o),e}function iA(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["mask"],vy(n));const r=c(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),f(e,["labels"],i)}return e}function oA(t){const e={},n=c(t,["video"]);return n!=null&&f(e,["video"],JA(n)),e}function lA(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],WA(n)),e}function sA(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const r=c(t,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const i=c(t,["audioTimestamp"]);i!=null&&f(e,["audioTimestamp"],i);const o=c(t,["candidateCount"]);o!=null&&f(e,["candidateCount"],o);const l=c(t,["enableAffectiveDialog"]);l!=null&&f(e,["enableAffectiveDialog"],l);const s=c(t,["frequencyPenalty"]);s!=null&&f(e,["frequencyPenalty"],s);const a=c(t,["logprobs"]);a!=null&&f(e,["logprobs"],a);const u=c(t,["maxOutputTokens"]);u!=null&&f(e,["maxOutputTokens"],u);const d=c(t,["mediaResolution"]);d!=null&&f(e,["mediaResolution"],d);const p=c(t,["presencePenalty"]);p!=null&&f(e,["presencePenalty"],p);const h=c(t,["responseLogprobs"]);h!=null&&f(e,["responseLogprobs"],h);const m=c(t,["responseMimeType"]);m!=null&&f(e,["responseMimeType"],m);const v=c(t,["responseModalities"]);v!=null&&f(e,["responseModalities"],v);const T=c(t,["responseSchema"]);T!=null&&f(e,["responseSchema"],T);const N=c(t,["routingConfig"]);N!=null&&f(e,["routingConfig"],N);const S=c(t,["seed"]);S!=null&&f(e,["seed"],S);const x=c(t,["speechConfig"]);x!=null&&f(e,["speechConfig"],Sy(x));const k=c(t,["stopSequences"]);k!=null&&f(e,["stopSequences"],k);const R=c(t,["temperature"]);R!=null&&f(e,["temperature"],R);const L=c(t,["thinkingConfig"]);L!=null&&f(e,["thinkingConfig"],L);const I=c(t,["topK"]);I!=null&&f(e,["topK"],I);const U=c(t,["topP"]);if(U!=null&&f(e,["topP"],U),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function aA(t,e){const n={},r=c(e,["model"]);return r!=null&&f(n,["_url","name"],ke(t,r)),n}function uA(t,e){const n={},r=c(e,["model"]);return r!=null&&f(n,["_url","name"],ke(t,r)),n}function cA(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function dA(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function fA(t){const e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const r=c(t,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function pA(t){const e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const r=c(t,["imageSize"]);r!=null&&f(e,["imageSize"],r);const i=c(t,["outputMimeType"]);i!=null&&f(e,["imageOutputOptions","mimeType"],i);const o=c(t,["outputCompressionQuality"]);return o!=null&&f(e,["imageOutputOptions","compressionQuality"],o),e}function hA(t){const e={},n=c(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],Rr(n));const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function vy(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&f(e,["imageBytes"],Rr(r));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Ta(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],Rr(n));const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function vn(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const r=c(t,["imageBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Rr(r));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function mA(t,e,n){const r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const o=c(e,["pageToken"]);n!==void 0&&o!=null&&f(n,["_query","pageToken"],o);const l=c(e,["filter"]);n!==void 0&&l!=null&&f(n,["_query","filter"],l);const s=c(e,["queryBase"]);return n!==void 0&&s!=null&&f(n,["_url","models_url"],cy(t,s)),r}function gA(t,e,n){const r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const o=c(e,["pageToken"]);n!==void 0&&o!=null&&f(n,["_query","pageToken"],o);const l=c(e,["filter"]);n!==void 0&&l!=null&&f(n,["_query","filter"],l);const s=c(e,["queryBase"]);return n!==void 0&&s!=null&&f(n,["_url","models_url"],cy(t,s)),r}function yA(t,e){const n={},r=c(e,["config"]);return r!=null&&mA(t,r,n),n}function vA(t,e){const n={},r=c(e,["config"]);return r!=null&&gA(t,r,n),n}function xA(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const i=c(t,["_self"]);if(i!=null){let o=dy(i);Array.isArray(o)&&(o=o.map(l=>$0(l))),f(e,["models"],o)}return e}function wA(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const i=c(t,["_self"]);if(i!=null){let o=dy(i);Array.isArray(o)&&(o=o.map(l=>J0(l))),f(e,["models"],o)}return e}function SA(t){const e={},n=c(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const r=c(t,["segmentationClasses"]);r!=null&&f(e,["maskClasses"],r);const i=c(t,["maskDilation"]);return i!=null&&f(e,["dilation"],i),e}function $0(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["displayName"]);r!=null&&f(e,["displayName"],r);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const o=c(t,["version"]);o!=null&&f(e,["version"],o);const l=c(t,["_self"]);l!=null&&f(e,["tunedModelInfo"],FA(l));const s=c(t,["inputTokenLimit"]);s!=null&&f(e,["inputTokenLimit"],s);const a=c(t,["outputTokenLimit"]);a!=null&&f(e,["outputTokenLimit"],a);const u=c(t,["supportedGenerationMethods"]);u!=null&&f(e,["supportedActions"],u);const d=c(t,["temperature"]);d!=null&&f(e,["temperature"],d);const p=c(t,["maxTemperature"]);p!=null&&f(e,["maxTemperature"],p);const h=c(t,["topP"]);h!=null&&f(e,["topP"],h);const m=c(t,["topK"]);m!=null&&f(e,["topK"],m);const v=c(t,["thinking"]);return v!=null&&f(e,["thinking"],v),e}function J0(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["displayName"]);r!=null&&f(e,["displayName"],r);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const o=c(t,["versionId"]);o!=null&&f(e,["version"],o);const l=c(t,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>Dk(h))),f(e,["endpoints"],p)}const s=c(t,["labels"]);s!=null&&f(e,["labels"],s);const a=c(t,["_self"]);a!=null&&f(e,["tunedModelInfo"],UA(a));const u=c(t,["defaultCheckpointId"]);u!=null&&f(e,["defaultCheckpointId"],u);const d=c(t,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),f(e,["checkpoints"],p)}return e}function TA(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&f(e,["fileData"],Lk(o));const l=c(t,["functionCall"]);l!=null&&f(e,["functionCall"],zk(l));const s=c(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],sk(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function CA(t){const e={},n=c(t,["productImage"]);return n!=null&&f(e,["image"],vn(n)),e}function EA(t,e){const n={},r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const i=c(t,["baseSteps"]);e!==void 0&&i!=null&&f(e,["parameters","baseSteps"],i);const o=c(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const l=c(t,["seed"]);e!==void 0&&l!=null&&f(e,["parameters","seed"],l);const s=c(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&f(e,["parameters","safetySetting"],s);const a=c(t,["personGeneration"]);e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a);const u=c(t,["addWatermark"]);e!==void 0&&u!=null&&f(e,["parameters","addWatermark"],u);const d=c(t,["outputMimeType"]);e!==void 0&&d!=null&&f(e,["parameters","outputOptions","mimeType"],d);const p=c(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","compressionQuality"],p);const h=c(t,["enhancePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","enhancePrompt"],h);const m=c(t,["labels"]);return e!==void 0&&m!=null&&f(e,["labels"],m),n}function kA(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["source"]);i!=null&&IA(i,n);const o=c(e,["config"]);return o!=null&&EA(o,n),n}function AA(t){const e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Sa(i))),f(e,["generatedImages"],r)}return e}function IA(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const i=c(t,["personImage"]);e!==void 0&&i!=null&&f(e,["instances[0]","personImage","image"],vn(i));const o=c(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>CA(s))),f(e,["instances[0]","productImages"],l)}return n}function bA(t){const e={},n=c(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],vn(n));const r=c(t,["referenceId"]);r!=null&&f(e,["referenceId"],r);const i=c(t,["referenceType"]);i!=null&&f(e,["referenceType"],i);const o=c(t,["maskImageConfig"]);o!=null&&f(e,["maskImageConfig"],SA(o));const l=c(t,["controlImageConfig"]);l!=null&&f(e,["controlImageConfig"],hk(l));const s=c(t,["styleImageConfig"]);s!=null&&f(e,["styleImageConfig"],s);const a=c(t,["subjectImageConfig"]);return a!=null&&f(e,["subjectImageConfig"],a),e}function xy(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const r=c(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const i=c(t,["contentType"]);return i!=null&&f(e,["contentType"],i),e}function wy(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const r=c(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const i=c(t,["contentType"]);return i!=null&&f(e,["contentType"],i),e}function MA(t){const e={},n=c(t,["category"]);if(n!=null&&f(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function _A(t){const e={},n=c(t,["image"]);return n!=null&&f(e,["image"],vn(n)),e}function NA(t,e){const n={},r=c(t,["mode"]);e!==void 0&&r!=null&&f(e,["parameters","mode"],r);const i=c(t,["maxPredictions"]);e!==void 0&&i!=null&&f(e,["parameters","maxPredictions"],i);const o=c(t,["confidenceThreshold"]);e!==void 0&&o!=null&&f(e,["parameters","confidenceThreshold"],o);const l=c(t,["maskDilation"]);e!==void 0&&l!=null&&f(e,["parameters","maskDilation"],l);const s=c(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&f(e,["parameters","binaryColorThreshold"],s);const a=c(t,["labels"]);return e!==void 0&&a!=null&&f(e,["labels"],a),n}function RA(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["source"]);i!=null&&DA(i,n);const o=c(e,["config"]);return o!=null&&NA(o,n),n}function PA(t){const e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iA(i))),f(e,["generatedMasks"],r)}return e}function DA(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&f(e,["instances[0]","image"],vn(i));const o=c(t,["scribbleImage"]);return e!==void 0&&o!=null&&f(e,["instances[0]","scribble"],_A(o)),n}function Sy(t){const e={},n=c(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);const r=c(t,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function LA(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],Fk(n));const r=c(t,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function zA(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&f(e,["googleMaps"],cA(s));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],dA(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function Ty(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Uk(h))),f(e,["functionDeclarations"],p)}const r=c(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);const i=c(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(t,["codeExecution"]);l!=null&&f(e,["codeExecution"],l);const s=c(t,["enterpriseWebSearch"]);s!=null&&f(e,["enterpriseWebSearch"],s);const a=c(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],a);const u=c(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],u);const d=c(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function FA(t){const e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const r=c(t,["createTime"]);r!=null&&f(e,["createTime"],r);const i=c(t,["updateTime"]);return i!=null&&f(e,["updateTime"],i),e}function UA(t){const e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const r=c(t,["createTime"]);r!=null&&f(e,["createTime"],r);const i=c(t,["updateTime"]);return i!=null&&f(e,["updateTime"],i),e}function BA(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const i=c(t,["description"]);e!==void 0&&i!=null&&f(e,["description"],i);const o=c(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&f(e,["defaultCheckpointId"],o),n}function qA(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const i=c(t,["description"]);e!==void 0&&i!=null&&f(e,["description"],i);const o=c(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&f(e,["defaultCheckpointId"],o),n}function VA(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","name"],ke(t,r));const i=c(e,["config"]);return i!=null&&BA(i,n),n}function HA(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["config"]);return i!=null&&qA(i,n),n}function OA(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const i=c(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&f(e,["parameters","safetySetting"],i);const o=c(t,["personGeneration"]);e!==void 0&&o!=null&&f(e,["parameters","personGeneration"],o);const l=c(t,["includeRaiReason"]);e!==void 0&&l!=null&&f(e,["parameters","includeRaiReason"],l);const s=c(t,["outputMimeType"]);e!==void 0&&s!=null&&f(e,["parameters","outputOptions","mimeType"],s);const a=c(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&f(e,["parameters","outputOptions","compressionQuality"],a);const u=c(t,["enhanceInputImage"]);e!==void 0&&u!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=c(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const p=c(t,["labels"]);e!==void 0&&p!=null&&f(e,["labels"],p);const h=c(t,["numberOfImages"]);e!==void 0&&h!=null&&f(e,["parameters","sampleCount"],h);const m=c(t,["mode"]);return e!==void 0&&m!=null&&f(e,["parameters","mode"],m),n}function GA(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],ke(t,r));const i=c(e,["image"]);i!=null&&f(n,["instances[0]","image"],vn(i));const o=c(e,["upscaleFactor"]);o!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=c(e,["config"]);return l!=null&&OA(l,n),n}function $A(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Sa(o))),f(e,["generatedImages"],i)}return e}function JA(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);const r=c(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],Rr(r));const i=c(t,["encoding"]);return i!=null&&f(e,["mimeType"],i),e}function WA(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],Rr(r));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function YA(t){const e={},n=c(t,["image"]);n!=null&&f(e,["_self"],vn(n));const r=c(t,["maskMode"]);return r!=null&&f(e,["maskMode"],r),e}function KA(t){const e={},n=c(t,["image"]);n!=null&&f(e,["image"],Ta(n));const r=c(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function XA(t){const e={},n=c(t,["image"]);n!=null&&f(e,["image"],vn(n));const r=c(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function Cy(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);const r=c(t,["videoBytes"]);r!=null&&f(e,["encodedVideo"],Rr(r));const i=c(t,["mimeType"]);return i!=null&&f(e,["encoding"],i),e}function Ey(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const r=c(t,["videoBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Rr(r));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QA="Content-Type",ZA="X-Server-Timeout",jA="User-Agent",W0="x-goog-api-client",eI="1.30.0",tI=`google-genai-sdk/${eI}`,nI="v1beta1",rI="v1beta",Jm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class iI{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:nI,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:rI,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,s]of Object.entries(e.queryParams))i.searchParams.append(l,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&oI(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Wm(i),new H0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Wm(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Ri(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:s,value:a}=yield Ue(i.read());if(s){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(a,{stream:!0});try{const p=JSON.parse(u);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,v=h.code,T=`got status: ${m}. ${JSON.stringify(p)}`;if(v>=400&&v<600)throw new xa({message:T,status:v})}}catch(p){if(p.name==="ApiError")throw p}l+=u;let d=l.match(Jm);for(;d;){const p=d[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ue(new H0(h)),l=l.slice(d[0].length),d=l.match(Jm)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=tI+" "+this.clientOptions.userAgentExtra;return e[jA]=n,e[W0]=n,e[QA]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(ZA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const a={file:i},u=this.getFileName(e),d=j("upload/v1beta/files",a._url),p=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,a,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),s=String(l.size),a=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),p={};r!=null&&r.customMetadata&&(p.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,s,a,d,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,l){var s;let a={};l?a=l:a={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Wm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new xa({message:i,status:n}):new Error(i)}}function oI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const s=Object.assign({},o);for(const a in l)if(Object.prototype.hasOwnProperty.call(l,a)){const u=l[a],d=s[a];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?s[a]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${a}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),s[a]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lI="mcp_used/unknown";let sI=!1;function ky(t){for(const e of t)if(aI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return sI}function Ay(t){var e;const n=(e=t[W0])!==null&&e!==void 0?e:"";t[W0]=(n+` ${lI}`).trimStart()}function aI(t){return t!==null&&typeof t=="object"&&t instanceof Pd}function uI(t,e=100){return Ri(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Ue(t.listTools({cursor:r}));for(const l of o.tools)yield yield Ue(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Pd{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Pd(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const d of this.mcpClients)try{for(var s=!0,a=(n=void 0,zo(uI(d))),u;u=await a.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const p=i;l.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(p){n={error:p}}finally{try{!s&&!e&&(r=a.return)&&await r.call(a)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),tC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cI(t,e,n){const r=new WT;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class dI{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=hI(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),a=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const d=new Promise(k=>{u=k}),p=e.callbacks,h=function(){u({})},m=this.apiClient,v={onopen:h,onmessage:k=>{cI(m,p.onmessage,k)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(k){}},T=this.webSocketFactory.create(a,pI(l),v);T.connect(),await d;const x={setup:{model:ke(this.apiClient,e.model)}};return T.send(JSON.stringify(x)),new fI(T,this.apiClient)}}class fI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=ZE(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=QE(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Si.PLAY)}pause(){this.sendPlaybackControl(Si.PAUSE)}stop(){this.sendPlaybackControl(Si.STOP)}resetContext(){this.sendPlaybackControl(Si.RESET_CONTEXT)}close(){this.conn.close()}}function pI(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function hI(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gI(t,e,n){const r=new JT;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=tk(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class yI{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new dI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&ky(e.config.tools)&&Ay(p);const h=SI(p);if(this.apiClient.isVertexAI())d=`${a}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const F=this.apiClient.getApiKey();let D="BidiGenerateContent",_="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),D="BidiGenerateContentConstrained",_="access_token"),d=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.${D}?${_}=${F}`}let m=()=>{};const v=new Promise(F=>{m=F}),T=e.callbacks,N=function(){var F;(F=T==null?void 0:T.onopen)===null||F===void 0||F.call(T),m({})},S=this.apiClient,x={onopen:N,onmessage:F=>{gI(S,T.onmessage,F)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(F){}},k=this.webSocketFactory.create(d,wI(h),x);k.connect(),await v;let R=ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const F=this.apiClient.getProject(),D=this.apiClient.getLocation();R=`projects/${F}/locations/${D}/`+R}let L={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vs.AUDIO]}:e.config.responseModalities=[Vs.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(s=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[],U=[];for(const F of I)if(this.isCallableTool(F)){const D=F;U.push(await D.tool())}else U.push(F);U.length>0&&(e.config.tools=U);const V={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=XE(this.apiClient,V):L=KE(this.apiClient,V),delete L.config,k.send(JSON.stringify(L)),new xI(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vI={turnComplete:!0};class xI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=nn(n.turns),e.isVertexAI()||(r=r.map(i=>wa(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(mI)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},vI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ek(e)}:n={realtimeInput:jE(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function wI(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function SI(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ym=10;function Km(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Pi(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Pi(t){return"callTool"in t&&typeof t.callTool=="function"}function TI(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Pi(i)))!==null&&r!==void 0?r:!1}function Xm(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Pi(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Qm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CI extends er{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,s;const a=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!TI(n)||Km(n.config))return await this.generateContentInternal(a);const u=Xm(n);if(u.length>0){const T=u.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let d,p;const h=nn(a.contents),m=(o=(i=(r=a.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Ym;let v=0;for(;v<m&&(d=await this.generateContentInternal(a),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,N=[];for(const S of(s=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[])if(Pi(S)){const k=await S.callTool(d.functionCalls);N.push(...k)}v++,p={role:"user",parts:N},a.contents=nn(a.contents),a.contents.push(T),a.contents.push(p),Qm(a.config)&&(h.push(T),h.push(p))}return Qm(a.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,o,l,s;if(this.maybeMoveToResponseJsonSchem(n),Km(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const a=Xm(n);if(a.length>0){const p=a.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const a of r.generatedImages)a&&(a!=null&&a.safetyAttributes)&&((i=a==null?void 0:a.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=a==null?void 0:a.safetyAttributes:l.push(a);let s;return o?s={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new ni(Qn.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,s,a;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((a=(s=n.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async a=>Pi(a)?await a.tool():a)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(s.config.tools=l,e.config&&e.config.tools&&ky(e.config.tools)){const a=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},a);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Ay(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Pi(l)){const s=l,a=await s.tool();for(const u of(i=a.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Ym;let l=!1,s=0;const a=await this.initAfcToolsMap(e);return function(u,d,p){var h,m;return Ri(this,arguments,function*(){for(var v,T,N,S;s<o;){l&&(s++,l=!1);const L=yield Ue(u.processParamsMaybeAddMcpUsage(p)),I=yield Ue(u.generateContentStreamInternal(L)),U=[],V=[];try{for(var x=!0,k=(T=void 0,zo(I)),R;R=yield Ue(k.next()),v=R.done,!v;x=!0){S=R.value,x=!1;const F=S;if(yield yield Ue(F),F.candidates&&(!((h=F.candidates[0])===null||h===void 0)&&h.content)){V.push(F.candidates[0].content);for(const D of(m=F.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(s<o&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(D.functionCall.name)){const _=yield Ue(d.get(D.functionCall.name).callTool([D.functionCall]));U.push(..._)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(F){T={error:F}}finally{try{!x&&!v&&(N=k.return)&&(yield Ue(N.call(k)))}finally{if(T)throw T.error}}if(U.length>0){l=!0;const F=new go;F.candidates=[{content:{role:"user",parts:U}}],yield yield Ue(F);const D=[];D.push(...V),D.push({role:"user",parts:U});const _=nn(p.contents).concat(D);p.contents=_}else break}})}(this,a,e)}async generateContentInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Om(this.apiClient,e);return s=j("{model}:generateContent",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=$m(d),h=new go;return Object.assign(h,p),h})}else{const u=Hm(this.apiClient,e);return s=j("{model}:generateContent",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Gm(d),h=new go;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Om(this.apiClient,e);return s=j("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return Ri(this,arguments,function*(){var h,m,v,T;try{for(var N=!0,S=zo(p),x;x=yield Ue(S.next()),h=x.done,!h;N=!0){T=x.value,N=!1;const k=T,R=$m(yield Ue(k.json()));R.sdkHttpResponse={headers:k.headers};const L=new go;Object.assign(L,R),yield yield Ue(L)}}catch(k){m={error:k}}finally{try{!N&&!h&&(v=S.return)&&(yield Ue(v.call(S)))}finally{if(m)throw m.error}}})})}else{const u=Hm(this.apiClient,e);return s=j("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return Ri(this,arguments,function*(){var h,m,v,T;try{for(var N=!0,S=zo(p),x;x=yield Ue(S.next()),h=x.done,!h;N=!0){T=x.value,N=!1;const k=T,R=Gm(yield Ue(k.json()));R.sdkHttpResponse={headers:k.headers};const L=new go;Object.assign(L,R),yield yield Ue(L)}}catch(k){m={error:k}}finally{try{!N&&!h&&(v=S.return)&&(yield Ue(v.call(S)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Nk(this.apiClient,e);return s=j("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Pk(d),h=new Am;return Object.assign(h,p),h})}else{const u=_k(this.apiClient,e);return s=j("{model}:batchEmbedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Rk(d),h=new Am;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Gk(this.apiClient,e);return s=j("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Jk(d),h=new Im;return Object.assign(h,p),h})}else{const u=Ok(this.apiClient,e);return s=j("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=$k(d),h=new Im;return Object.assign(h,p),h})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=Ak(this.apiClient,e);return o=j("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=Ik(a),d=new LT;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=GA(this.apiClient,e);return o=j("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=$A(a),d=new zT;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=kA(this.apiClient,e);return o=j("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=AA(a),d=new FT;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=RA(this.apiClient,e);return o=j("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=PA(a),d=new UT;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=uA(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>J0(d))}else{const u=aA(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>$0(d))}}async listInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=vA(this.apiClient,e);return s=j("{models_url}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=wA(d),h=new bm;return Object.assign(h,p),h})}else{const u=yA(this.apiClient,e);return s=j("{models_url}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=xA(d),h=new bm;return Object.assign(h,p),h})}}async update(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=HA(this.apiClient,e);return s=j("{model}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>J0(d))}else{const u=VA(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>$0(d))}}async delete(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Tk(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Ek(d),h=new Mm;return Object.assign(h,p),h})}else{const u=Sk(this.apiClient,e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Ck(d),h=new Mm;return Object.assign(h,p),h})}}async countTokens(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=vk(this.apiClient,e);return s=j("{model}:countTokens",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=wk(d),h=new _m;return Object.assign(h,p),h})}else{const u=yk(this.apiClient,e);return s=j("{model}:countTokens",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=xk(d),h=new _m;return Object.assign(h,p),h})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=ck(this.apiClient,e);return o=j("{model}:computeTokens",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=dk(a),d=new BT;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Zk(this.apiClient,e);return s=j("{model}:predictLongRunning",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Xk(d),h=new Hs;return Object.assign(h,p),h})}else{const u=Qk(this.apiClient,e);return s=j("{model}:predictLongRunning",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Kk(d),h=new Hs;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EI extends er{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=MT(e);return s=j("{operationName}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l}else{const u=bT(e);return s=j("{operationName}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=ST(e);return o=j("{resourceName}:fetchPredictOperation",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kI(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function AI(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>LI(o))),f(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function II(t,e,n){const r={},i=c(e,["expireTime"]);n!==void 0&&i!=null&&f(n,["expireTime"],i);const o=c(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&f(n,["newSessionExpireTime"],o);const l=c(e,["uses"]);n!==void 0&&l!=null&&f(n,["uses"],l);const s=c(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&f(n,["bidiGenerateContentSetup"],DI(t,s));const a=c(e,["lockAdditionalFields"]);return n!==void 0&&a!=null&&f(n,["fieldMask"],a),r}function bI(t,e){const n={},r=c(e,["config"]);return r!=null&&f(n,["config"],II(t,r,n)),n}function MI(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function _I(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const r=c(t,["args"]);r!=null&&f(e,["args"],r);const i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NI(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function RI(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function PI(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);const l=c(t,["topP"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","topP"],l);const s=c(t,["topK"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","topK"],s);const a=c(t,["maxOutputTokens"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","maxOutputTokens"],a);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);const d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);const p=c(t,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],Rd(p));const h=c(t,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);const m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],m);const v=c(t,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["setup","systemInstruction"],AI(mt(v)));const T=c(t,["tools"]);if(e!==void 0&&T!=null){let I=Xi(T);Array.isArray(I)&&(I=I.map(U=>FI(Ki(U)))),f(e,["setup","tools"],I)}const N=c(t,["sessionResumption"]);e!==void 0&&N!=null&&f(e,["setup","sessionResumption"],zI(N));const S=c(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&f(e,["setup","inputAudioTranscription"],S);const x=c(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&f(e,["setup","outputAudioTranscription"],x);const k=c(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],k);const R=c(t,["contextWindowCompression"]);e!==void 0&&R!=null&&f(e,["setup","contextWindowCompression"],R);const L=c(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],L),n}function DI(t,e){const n={},r=c(e,["model"]);r!=null&&f(n,["setup","model"],ke(t,r));const i=c(e,["config"]);return i!=null&&f(n,["config"],PI(i,n)),n}function LI(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&f(e,["fileData"],MI(o));const l=c(t,["functionCall"]);l!=null&&f(e,["functionCall"],_I(l));const s=c(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],kI(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function zI(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FI(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&f(e,["googleMaps"],NI(s));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],RI(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function BI(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=UI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>l.includes(u)?`generationConfig.${u}`:u));const a=[];o&&a.push(o),s.length>0&&a.push(...s),a.length>0?t.fieldMask=a.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class qI extends er{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=bI(this.apiClient,e);o=j("auth_tokens",s._url),l=s._query,delete s.config,delete s._url,delete s._query;const a=BI(s,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VI(t,e){const n={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&f(e,["displayName"],r),n}function HI(t){const e={},n=c(t,["config"]);return n!=null&&VI(n,e),e}function OI(t,e){const n={},r=c(t,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),n}function GI(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&OI(r,e),e}function $I(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function JI(t,e){const n={},r=c(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["customMetadata"],o)}const i=c(t,["chunkingConfig"]);return e!==void 0&&i!=null&&f(e,["chunkingConfig"],i),n}function WI(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const o=c(t,["error"]);o!=null&&f(e,["error"],o);const l=c(t,["response"]);return l!=null&&f(e,["response"],KI(l)),e}function YI(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const r=c(t,["fileName"]);r!=null&&f(e,["fileName"],r);const i=c(t,["config"]);return i!=null&&JI(i,e),e}function KI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["parent"]);r!=null&&f(e,["parent"],r);const i=c(t,["documentName"]);return i!=null&&f(e,["documentName"],i),e}function XI(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function QI(t){const e={},n=c(t,["config"]);return n!=null&&XI(n,e),e}function ZI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const i=c(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["fileSearchStores"],o)}return e}function jI(t,e){const n={},r=c(t,["mimeType"]);e!==void 0&&r!=null&&f(e,["mimeType"],r);const i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const o=c(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["customMetadata"],s)}const l=c(t,["chunkingConfig"]);return e!==void 0&&l!=null&&f(e,["chunkingConfig"],l),n}function eb(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const r=c(t,["config"]);return r!=null&&jI(r,e),e}function tb(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nb(t,e){const n={},r=c(t,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),n}function rb(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&nb(r,e),e}function ib(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function ob(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function lb(t){const e={},n=c(t,["parent"]);n!=null&&f(e,["_url","parent"],n);const r=c(t,["config"]);return r!=null&&ob(r,e),e}function sb(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const i=c(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ab extends er{constructor(e){super(),this.apiClient=e,this.list=async n=>new ni(Qn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ib(e);return o=j("{name}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=rb(e);i=j("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=lb(e);return o=j("{parent}/documents",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=sb(a),d=new qT;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ub extends er{constructor(e,n=new ab(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ni(Qn.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=HI(e);return o=j("fileSearchStores",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$I(e);return o=j("{name}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=GI(e);i=j("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=QI(e);return o=j("fileSearchStores",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=ZI(a),d=new VT;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=eb(e);return o=j("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=tb(a),d=new HT;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=YI(e);return o=j("{file_search_store_name}:importFile",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=WI(a),d=new Id;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cb(t,e){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function db(t,e){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function fb(t,e,n){const r={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=c(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&f(e,["displayName"],i),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=c(t,["epochCount"]);e!==void 0&&o!=null&&f(e,["tuningTask","hyperparameters","epochCount"],o);const l=c(t,["learningRateMultiplier"]);if(l!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=c(t,["batchSize"]);e!==void 0&&s!=null&&f(e,["tuningTask","hyperparameters","batchSize"],s);const a=c(t,["learningRate"]);if(e!==void 0&&a!=null&&f(e,["tuningTask","hyperparameters","learningRate"],a),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function pb(t,e,n){const r={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=c(t,["validationDataset"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec"],Zm(m))}else if(i==="PREFERENCE_TUNING"){const m=c(t,["validationDataset"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec"],Zm(m))}const o=c(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&f(e,["tunedModelDisplayName"],o);const l=c(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);let s=c(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=c(t,["epochCount"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=c(t,["epochCount"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const m=c(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(a==="PREFERENCE_TUNING"){const m=c(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=c(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=c(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=c(t,["adapterSize"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(d==="PREFERENCE_TUNING"){const m=c(t,["adapterSize"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=c(t,["labels"]);e!==void 0&&p!=null&&f(e,["labels"],p);const h=c(t,["beta"]);return e!==void 0&&h!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function hb(t,e){const n={},r=c(t,["baseModel"]);r!=null&&f(n,["baseModel"],r);const i=c(t,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);const o=c(t,["trainingDataset"]);o!=null&&kb(o);const l=c(t,["config"]);return l!=null&&fb(l,n),n}function mb(t,e){const n={},r=c(t,["baseModel"]);r!=null&&f(n,["baseModel"],r);const i=c(t,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);const o=c(t,["trainingDataset"]);o!=null&&Ab(o,n,e);const l=c(t,["config"]);return l!=null&&pb(l,n,e),n}function gb(t,e){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function yb(t,e){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function vb(t,e,n){const r={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const l=c(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),r}function xb(t,e,n){const r={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const l=c(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),r}function wb(t,e){const n={},r=c(t,["config"]);return r!=null&&vb(r,n),n}function Sb(t,e){const n={},r=c(t,["config"]);return r!=null&&xb(r,n),n}function Tb(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=c(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>Iy(s))),f(n,["tuningJobs"],l)}return n}function Cb(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=c(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>Y0(s))),f(n,["tuningJobs"],l)}return n}function Eb(t,e){const n={},r=c(t,["name"]);r!=null&&f(n,["model"],r);const i=c(t,["name"]);return i!=null&&f(n,["endpoint"],i),n}function kb(t,e){const n={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=c(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),f(n,["examples","examples"],i)}return n}function Ab(t,e,n){const r={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=c(t,["gcsUri"]);e!==void 0&&l!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=c(t,["gcsUri"]);e!==void 0&&l!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=c(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=c(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=c(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Iy(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(t,["name"]);i!=null&&f(n,["name"],i);const o=c(t,["state"]);o!=null&&f(n,["state"],ay(o));const l=c(t,["createTime"]);l!=null&&f(n,["createTime"],l);const s=c(t,["tuningTask","startTime"]);s!=null&&f(n,["startTime"],s);const a=c(t,["tuningTask","completeTime"]);a!=null&&f(n,["endTime"],a);const u=c(t,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(t,["description"]);d!=null&&f(n,["description"],d);const p=c(t,["baseModel"]);p!=null&&f(n,["baseModel"],p);const h=c(t,["_self"]);return h!=null&&f(n,["tunedModel"],Eb(h)),n}function Y0(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(t,["name"]);i!=null&&f(n,["name"],i);const o=c(t,["state"]);o!=null&&f(n,["state"],ay(o));const l=c(t,["createTime"]);l!=null&&f(n,["createTime"],l);const s=c(t,["startTime"]);s!=null&&f(n,["startTime"],s);const a=c(t,["endTime"]);a!=null&&f(n,["endTime"],a);const u=c(t,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(t,["error"]);d!=null&&f(n,["error"],d);const p=c(t,["description"]);p!=null&&f(n,["description"],p);const h=c(t,["baseModel"]);h!=null&&f(n,["baseModel"],h);const m=c(t,["tunedModel"]);m!=null&&f(n,["tunedModel"],m);const v=c(t,["preTunedModel"]);v!=null&&f(n,["preTunedModel"],v);const T=c(t,["supervisedTuningSpec"]);T!=null&&f(n,["supervisedTuningSpec"],T);const N=c(t,["preferenceOptimizationSpec"]);N!=null&&f(n,["preferenceOptimizationSpec"],N);const S=c(t,["tuningDataStats"]);S!=null&&f(n,["tuningDataStats"],S);const x=c(t,["encryptionSpec"]);x!=null&&f(n,["encryptionSpec"],x);const k=c(t,["partnerModelTuningSpec"]);k!=null&&f(n,["partnerModelTuningSpec"],k);const R=c(t,["customBaseModel"]);R!=null&&f(n,["customBaseModel"],R);const L=c(t,["experiment"]);L!=null&&f(n,["experiment"],L);const I=c(t,["labels"]);I!=null&&f(n,["labels"],I);const U=c(t,["outputUri"]);U!=null&&f(n,["outputUri"],U);const V=c(t,["pipelineJob"]);V!=null&&f(n,["pipelineJob"],V);const F=c(t,["serviceAccount"]);F!=null&&f(n,["serviceAccount"],F);const D=c(t,["tunedModelDisplayName"]);D!=null&&f(n,["tunedModelDisplayName"],D);const _=c(t,["veoTuningSpec"]);return _!=null&&f(n,["veoTuningSpec"],_),n}function Ib(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(t,["name"]);i!=null&&f(n,["name"],i);const o=c(t,["metadata"]);o!=null&&f(n,["metadata"],o);const l=c(t,["done"]);l!=null&&f(n,["done"],l);const s=c(t,["error"]);return s!=null&&f(n,["error"],s),n}function Zm(t,e){const n={},r=c(t,["gcsUri"]);r!=null&&f(n,["validationDatasetUri"],r);const i=c(t,["vertexDatasetResource"]);return i!=null&&f(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bb extends er{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ni(Qn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:V0.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=yb(e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>Y0(d))}else{const u=gb(e);return s=j("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>Iy(d))}}async listInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Sb(e);return s=j("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Cb(d),h=new Nm;return Object.assign(h,p),h})}else{const u=wb(e);return s=j("tunedModels",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=Tb(d),h=new Nm;return Object.assign(h,p),h})}}async cancel(e){var n,r,i,o;let l="",s={};if(this.apiClient.isVertexAI()){const a=db(e);l=j("{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const a=cb(e);l=j("{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=mb(e,e);return o=j("tuningJobs",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>Y0(a))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hb(e);return o=j("tunedModels",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>Ib(a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mb{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _b=1024*1024*8,Nb=3,Rb=1e3,Pb=2,Gs="x-goog-upload-status";async function Db(t,e,n){var r;const i=await by(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Lb(t,e,n){var r;const i=await by(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=ny(o),s=new bd;return Object.assign(s,l),s}async function by(t,e,n){var r,i;let o=0,l=0,s=new H0(new Response),a="upload";for(o=t.size;l<o;){const u=Math.min(_b,o-l),d=t.slice(l,l+u);l+u>=o&&(a+=", finalize");let p=0,h=Rb;for(;p<Nb&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Gs]));)p++,await Fb(h),h=h*Pb;if(l+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Gs])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function zb(t){return{size:t.size,type:t.type}}function Fb(t){return new Promise(e=>setTimeout(e,t))}class Ub{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Db(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lb(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zb(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bb{create(e,n,r){return new qb(e,n,r)}}class qb{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jm="x-goog-api-key";class Vb{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(jm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb="gl-node/";class Ob{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=xT(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Vb(this.apiKey);this.apiClient=new iI({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Hb+"web",uploader:new Ub,downloader:new Mb}),this.models=new CI(this.apiClient),this.live=new yI(this.apiClient,i,new Bb),this.batches=new YC(this.apiClient),this.chats=new ME(this.models,this.apiClient),this.caches=new AE(this.apiClient),this.files=new BE(this.apiClient),this.operations=new EI(this.apiClient),this.authTokens=new qI(this.apiClient),this.tunings=new bb(this.apiClient),this.fileSearchStores=new ub(this.apiClient)}}const hl=t=>new Ob({apiKey:t}),Ca=t=>t.filter(n=>!n.isExhausted).map(n=>n.key),Gb=async(t,e,n,r,i,o=[],l=!1,s,a,u,d,p)=>{const v=[];(t.length>20?t.slice(-20):t).forEach((L,I,U)=>{if(L.error||L.isLoading)return;const V=[],D=U.length-1-I<3;L.images&&L.images.length>0&&(D?L.images.forEach(_=>{try{if(_.includes(",")){const B=_.split(",")[1],Y=_.split(";")[0].split(":")[1];V.push({inlineData:{mimeType:Y,data:B}})}}catch(B){console.error("[Onyx Debug] History image error",B)}}):V.push({text:"[Image History: Attachment removed to save bandwidth]"})),L.text&&L.text.trim()!==""&&V.push({text:L.text}),V.length>0&&v.push({role:L.role===qt.USER?"user":"model",parts:V})});const N=[];if(o.length>0&&o.forEach(L=>{try{const I=L.split(",")[1],U=L.split(";")[0].split(":")[1];N.push({inlineData:{mimeType:U,data:I}})}catch(I){console.error("[Onyx Debug] Current image error",I)}}),e&&e.trim()!==""&&N.push({text:e}),N.length>0)v.push({role:"user",parts:N});else if(v.length===0)return"";let S=n.systemInstruction;r&&r.trim().length>0&&(S+=`

=== GLOBAL USER CONTEXT (LONG TERM MEMORY) ===
${r}`),i&&i.trim().length>0&&t.length>20&&(S+=`

=== PREVIOUS CONVERSATION SUMMARY ===
${i}`);const x={systemInstruction:S,temperature:n.temperature,topP:n.topP,topK:n.topK};n.thinkingBudget&&n.thinkingBudget>0&&(x.thinkingConfig={thinkingBudget:n.thinkingBudget}),(n.allowSearch||l)&&(x.tools=[{googleSearch:{}}]);const k=Ca(s);if(k.length===0)throw new Error("STRICT_NO_KEYS");let R=null;for(const L of k){if(p!=null&&p.aborted)throw new DOMException("Aborted","AbortError");try{console.log(`[Onyx] Attempting generation with key ending in ...${L.slice(-4)}`);const U=await hl(L).models.generateContentStream({model:n.model,contents:v,config:x});let V="";for await(const F of U){if(p!=null&&p.aborted)throw new DOMException("Aborted","AbortError");const D=F.text;D&&(V+=D,a(V))}return d(L),V}catch(I){if(I.name==="AbortError")throw I;R=I;const U=I.message||"";if(U.includes("429")||U.includes("quota")||U.includes("Too Many Requests")){console.warn(`[Onyx] Key ...${L.slice(-4)} exhausted. Switching...`),u(L);continue}else throw console.error("Non-quota API Error:",I),I}}throw R||new Error("All API keys failed.")},$b=async t=>{try{return await hl(t).models.generateContent({model:"gemini-2.5-flash",contents:"ping"}),!0}catch{return!1}},Jb=async(t,e)=>{var r;const n=Ca(e);if(n.length===0)throw new Error("No available API keys");for(const i of n)try{const o=hl(i),l=`
            You are an expert Prompt Engineer and Persona Creator.
            Your task is to create a detailed Gemini System Instruction for a persona described as: "${t}".
            
            1. If the description is a famous character (e.g. "Tony Stark", "Gojo Satoru"), use Google Search to find their specific speech patterns, catchphrases, and personality traits.
            2. If it is a role (e.g. "Senior Rust Dev"), create a highly professional and competent instruction.
            3. Return ONLY a raw JSON object matching the schema. Do not output Markdown code blocks.
            
            JSON Schema:
            {
                "name": "Short Name",
                "description": "Short description for UI",
                "systemInstruction": "The full detailed system prompt...",
                "icon": "One of: Bot, Code2, PenTool, Sparkles, Brain, Globe, Shield, User, Terminal, Cpu",
                "temperature": 0.0 to 2.0,
                "topP": 0.0 to 1.0,
                "topK": 1 to 64
            }
            `,a=(await o.models.generateContent({model:"gemini-2.5-pro",contents:l,config:{tools:[{googleSearch:{}}]}})).text;if(!a)throw new Error("Empty response");const u=a.replace(/```json\n?|\n?```/g,"").trim();return JSON.parse(u)}catch(o){if(console.error("Persona Generation Failed",o),(r=o.message)!=null&&r.includes("429"))continue;throw o}throw new Error("Failed to generate persona with all keys")},Wb=async(t,e,n,r)=>{var o,l;if(!t||t.length<2)return{summary:"",facts:[]};const i=Ca(e);if(i.length===0)return{summary:"",facts:[]};for(const s of i)try{const a=hl(s),d=`Analyze this chat transcript.
1. Write a concise paragraph summarizing.
2. Extract facts.
3. Extract instructions.
Output JSON.

Transcript:
${t.slice(-40).map(v=>`${v.role.toUpperCase()}: ${v.text}`).join(`
`)}`,h=(await a.models.generateContent({model:"gemini-2.5-flash",contents:d,config:{responseMimeType:"application/json"}})).text;if(r(s),!h)return{summary:"",facts:[]};const m=JSON.parse(h);return{summary:m.summary||"",facts:m.facts||[],newInstructions:m.newInstructions||[]}}catch(a){if((o=a.message)!=null&&o.includes("429")||(l=a.message)!=null&&l.includes("quota")){n(s);continue}return console.error("Auto-summary failed",a),{summary:"",facts:[]}}return{summary:"",facts:[]}},Yb=async(t,e,n,r,i)=>{var l,s;const o=Ca(n);if(o.length===0)return e;for(const a of o)try{const u=hl(a),d=t.flatMap(v=>v.keyFacts||[]).join(`
- `),p=t.map(v=>v.summary).filter(v=>v).join(`
- `),h=`Manage "Long Term Memory".
Current: ${e}
New: ${p}
Facts: ${d}
Merge into single User Profile.`,m=await u.models.generateContent({model:"gemini-2.5-flash",contents:h});return i(a),m.text||e}catch(u){if((l=u.message)!=null&&l.includes("429")||(s=u.message)!=null&&s.includes("quota")){r(a);continue}return e}return e},Kb=({personas:t,activePersonaId:e,defaultPersonaId:n,onSelectPersona:r,onSetDefaultPersona:i,onSavePersona:o,onDeletePersona:l,apiKeys:s})=>{const[a,u]=he.useState(!1),[d,p]=he.useState(Or[0]),h=he.useRef(null),[m,v]=he.useState(!1),[T,N]=he.useState(""),[S,x]=he.useState(!1),k=(F,D)=>window.confirm(`Are you sure you want to delete the persona "${D}"?`)&&window.confirm(`Final Warning: This will permanently delete "${D}" and all its settings. This action cannot be undone.

Are you absolutely sure?`)?(l(F),!0):!1,R=F=>{p(F?{...F,thinkingBudget:F.thinkingBudget||0,allowSearch:F.allowSearch||!1,avatar:F.avatar||void 0}:{id:crypto.randomUUID(),name:"New Persona",description:"",systemInstruction:"",model:"gemini-2.5-flash",temperature:.5,topP:.95,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Bot",avatar:void 0}),u(!0)},L=()=>{o(d),u(!1)},I=()=>{if(Or.some(_=>_.id===d.id))return;k(d.id,d.name)&&u(!1)},U=F=>{var B;const D=(B=F.target.files)==null?void 0:B[0];if(!D)return;const _=new FileReader;_.onload=Y=>{var te;const re=new Image;re.onload=()=>{const ie=document.createElement("canvas"),pe=ie.getContext("2d"),G=128;let oe=re.width,A=re.height;oe>A?oe>G&&(A*=G/oe,oe=G):A>G&&(oe*=G/A,A=G),ie.width=oe,ie.height=A,pe==null||pe.drawImage(re,0,0,oe,A);const X=ie.toDataURL("image/jpeg",.8);p({...d,avatar:X})},re.src=(te=Y.target)==null?void 0:te.result},_.readAsDataURL(D),F.target.value=""},V=async()=>{if(T.trim()){x(!0);try{const F=await Jb(T,s);p({id:crypto.randomUUID(),name:F.name||"AI Generated",description:F.description||T,systemInstruction:F.systemInstruction||"",model:"gemini-2.5-flash",temperature:F.temperature||.7,topP:F.topP||.95,topK:F.topK||40,thinkingBudget:0,allowSearch:!1,icon:F.icon||"Bot",avatar:void 0}),v(!1),N(""),u(!0)}catch(F){alert("Failed to generate persona. Ensure you have a valid API Key."),console.error(F)}finally{x(!1)}}};if(a){const F=Or.some(_=>_.id===d.id),D=t.some(_=>_.id===d.id);return C.jsxs("div",{className:"space-y-6 animate-fade-in p-1",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h2",{className:"text-xl font-bold",children:"Edit Persona"}),C.jsxs("div",{className:"flex items-center gap-2",children:[!F&&D&&C.jsx("button",{onClick:I,className:"p-2 text-onyx-textMuted hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete Persona (Double Confirm)",children:C.jsx(ae,{name:"Trash2",size:20})}),C.jsx("button",{onClick:()=>u(!1),className:"text-sm text-onyx-textMuted hover:text-white px-3 py-1.5 rounded-lg hover:bg-onyx-surfaceLight",children:"Cancel"})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex gap-4",children:[C.jsxs("div",{className:"relative group w-16 h-16 rounded-2xl bg-onyx-surfaceLight border border-onyx-border shrink-0 overflow-hidden cursor-pointer",onClick:()=>{var _;return(_=h.current)==null?void 0:_.click()},children:[d.avatar?C.jsx("img",{src:d.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):C.jsx("div",{className:"w-full h-full flex items-center justify-center text-onyx-textMuted",children:C.jsx(ae,{name:"Image",size:24})}),C.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:C.jsx(ae,{name:"PenTool",size:16})}),C.jsx("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:U})]}),C.jsx("div",{className:"flex-1 space-y-2",children:C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"Name"}),C.jsx("input",{type:"text",value:d.name,onChange:_=>p({...d,name:_.target.value}),className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-2.5 focus:outline-none focus:border-onyx-accent transition-colors"})]})})]}),d.avatar&&C.jsx("button",{onClick:()=>p({...d,avatar:void 0}),className:"text-[10px] text-red-400 hover:text-red-300 underline",children:"Remove Custom Avatar"}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"Model"}),C.jsx("select",{value:d.model,onChange:_=>p({...d,model:_.target.value}),className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-3 focus:outline-none focus:border-onyx-accent",children:B0.map(_=>C.jsx("option",{value:_.value,children:_.label},_.value))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"System Instruction (The Prompt)"}),C.jsx("textarea",{value:d.systemInstruction,onChange:_=>p({...d,systemInstruction:_.target.value}),rows:4,className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-3 focus:outline-none focus:border-onyx-accent resize-none",placeholder:"e.g., You are an expert Python coder..."})]}),C.jsxs("div",{className:"p-4 bg-onyx-surfaceLight/30 border border-onyx-border rounded-xl space-y-4",children:[C.jsx("h3",{className:"text-xs font-bold uppercase text-onyx-textMuted tracking-wider mb-2",children:"Advanced Capabilities"}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between mb-1",children:[C.jsxs("label",{className:"block text-xs uppercase text-onyx-textMuted flex items-center gap-1",children:[C.jsx(ae,{name:"Lightbulb",size:12})," Thinking Budget"]}),C.jsxs("span",{className:"text-xs font-mono text-onyx-accent",children:[d.thinkingBudget," Tokens"]})]}),C.jsx(Eu,{min:0,max:32768,step:1024,value:d.thinkingBudget||0,onChange:_=>p({...d,thinkingBudget:_})}),C.jsx("p",{className:"text-[10px] text-onyx-textMuted mt-1",children:"Set to 0 to disable thinking. Max 32k for complex reasoning."})]}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("label",{className:"text-xs uppercase text-onyx-textMuted flex items-center gap-1",children:[C.jsx(ae,{name:"Globe",size:12})," Google Search Grounding"]}),C.jsx("button",{onClick:()=>p({...d,allowSearch:!d.allowSearch}),className:"text-onyx-accent",children:C.jsx(ae,{name:d.allowSearch?"ToggleRight":"ToggleLeft",size:28,className:d.allowSearch?"text-onyx-accent":"text-onyx-textMuted"})})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between mb-1",children:[C.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted",children:"Temperature"}),C.jsx("span",{className:"text-xs text-onyx-textMuted",children:d.temperature})]}),C.jsx(Eu,{min:0,max:2,step:.1,value:d.temperature,onChange:_=>p({...d,temperature:parseFloat(_.toFixed(1))})})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between mb-1",children:[C.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted",children:"Top P"}),C.jsx("span",{className:"text-xs text-onyx-textMuted",children:d.topP})]}),C.jsx(Eu,{min:0,max:1,step:.05,value:d.topP,onChange:_=>p({...d,topP:parseFloat(_.toFixed(2))})})]})]})]}),C.jsx("button",{onClick:L,className:"w-full py-3 bg-onyx-accent text-white rounded-xl font-bold hover:bg-blue-600 transition-colors",children:"Save Persona"})]})}return C.jsxs("div",{className:"space-y-4",children:[m&&C.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur flex items-center justify-center p-6 rounded-3xl animate-fade-in",children:C.jsxs("div",{className:"bg-onyx-surface w-full max-w-sm rounded-2xl border border-onyx-border p-6 shadow-2xl space-y-4",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[C.jsx(ae,{name:"Sparkles",className:"text-pink-400"})," AI Generator"]}),C.jsx("button",{onClick:()=>v(!1),className:"p-1 hover:bg-white/10 rounded",children:C.jsx(ae,{name:"X",size:16})})]}),C.jsx("p",{className:"text-xs text-onyx-textMuted",children:'Describe the persona you want (e.g. "A grumpy linux sysadmin" or "Tony Stark"). Onyx will research and create it for you.'}),C.jsx("input",{type:"text",autoFocus:!0,value:T,onChange:F=>N(F.target.value),onKeyDown:F=>F.key==="Enter"&&V(),placeholder:"Enter description...",className:"w-full bg-onyx-black border border-onyx-border rounded-xl p-3 text-sm focus:border-pink-400 focus:outline-none"}),C.jsxs("button",{onClick:V,disabled:S||!T.trim(),className:"w-full py-2.5 bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl font-bold text-white shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[S?C.jsx(ae,{name:"RefreshCw",className:"animate-spin"}):C.jsx(ae,{name:"Sparkles"}),S?"Generating...":"Create Persona"]})]})}),C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsx("h3",{className:"text-sm font-bold uppercase text-onyx-textMuted tracking-wider",children:"Available Personas"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("button",{onClick:()=>v(!0),className:"text-xs bg-gradient-to-r from-pink-500/20 to-purple-500/20 text-pink-300 hover:text-white border border-pink-500/30 hover:border-pink-400 px-3 py-1.5 rounded-lg transition-all flex items-center gap-1.5 shadow-lg shadow-pink-900/10",children:[C.jsx(ae,{name:"Sparkles",size:12})," AI Gen"]}),C.jsxs("button",{onClick:()=>R(),className:"text-xs bg-onyx-surfaceLight hover:bg-onyx-border px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[C.jsx(ae,{name:"Plus",size:12})," Manual"]})]})]}),C.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[400px] overflow-y-auto pr-1",children:t.map(F=>{const D=F.id===n,_=e===F.id,B=Or.some(Y=>Y.id===F.id);return C.jsx("div",{className:`
                        group p-4 rounded-2xl border transition-all cursor-pointer relative
                        ${_?"border-onyx-accent bg-onyx-accent/10":"border-onyx-border bg-onyx-surface hover:bg-onyx-surfaceLight"}
                    `,onClick:()=>r(F),children:C.jsxs("div",{className:"flex items-start gap-4",children:[C.jsxs("div",{className:`
                            w-12 h-12 rounded-xl relative shrink-0 flex items-center justify-center overflow-hidden
                            ${_?"bg-onyx-accent text-white":"bg-onyx-surfaceLight text-onyx-textMuted"}
                        `,children:[F.avatar?C.jsx("img",{src:F.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):C.jsx(ae,{name:F.icon,size:24}),D&&C.jsx("div",{className:"absolute top-0 right-0 bg-yellow-500 text-black p-0.5 rounded-bl-lg",title:"Default Persona",children:C.jsx(ae,{name:"Star",size:8,className:"fill-current"})})]}),C.jsxs("div",{className:"flex-1 min-w-0 pr-16",children:[C.jsx("div",{className:"flex items-center gap-2",children:C.jsx("h4",{className:"font-bold truncate text-white",children:F.name})}),C.jsx("p",{className:"text-xs text-onyx-textMuted truncate mt-1",children:F.description}),C.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[C.jsx("span",{className:"text-[10px] bg-onyx-black/50 px-2 py-0.5 rounded border border-white/10 text-onyx-textMuted",children:F.model.replace("gemini-","")}),D&&C.jsxs("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-500 px-2 py-0.5 rounded border border-yellow-500/30 flex items-center gap-1",children:[C.jsx(ae,{name:"Star",size:8})," Default"]}),F.allowSearch&&C.jsxs("span",{className:"text-[10px] bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded border border-blue-500/30 flex items-center gap-1",children:[C.jsx(ae,{name:"Globe",size:8})," Web"]}),F.thinkingBudget&&F.thinkingBudget>0&&C.jsxs("span",{className:"text-[10px] bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded border border-purple-500/30 flex items-center gap-1",children:[C.jsx(ae,{name:"Lightbulb",size:8})," Thinking"]})]})]}),C.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 items-end z-10",children:[_&&C.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-onyx-accent font-bold uppercase tracking-wider mb-1",children:[C.jsx("div",{className:"w-1.5 h-1.5 bg-onyx-accent rounded-full animate-pulse"}),"Active"]}),C.jsxs("div",{className:"flex items-center gap-1 transition-opacity",children:[!D&&C.jsx("button",{onClick:Y=>{Y.stopPropagation(),i(F.id)},className:"p-1.5 bg-onyx-surfaceLight hover:bg-yellow-500/20 hover:text-yellow-400 rounded-lg transition-colors",title:"Set as Default for new chats",children:C.jsx(ae,{name:"Star",size:14})}),C.jsx("button",{onClick:Y=>{Y.stopPropagation(),R(F)},className:"p-1.5 bg-onyx-surfaceLight hover:bg-white/20 text-onyx-textMuted hover:text-white rounded-lg transition-colors",title:"Edit",children:C.jsx(ae,{name:"PenTool",size:14})}),!B&&C.jsx("button",{onClick:Y=>{Y.stopPropagation(),k(F.id,F.name)},className:"p-1.5 bg-onyx-surfaceLight hover:bg-red-500/20 hover:text-red-400 rounded-lg transition-colors",title:"Delete (Double Confirm)",children:C.jsx(ae,{name:"Trash2",size:14})})]})]})]})},F.id)})})]})},Xb=({isOpen:t,onClose:e,personas:n,activePersonaId:r,defaultPersonaId:i,onSelectPersona:o,onSetDefaultPersona:l,onSavePersona:s,onDeletePersona:a,globalMemory:u,onUpdateGlobalMemory:d,onSaveManualMemory:p,isUpdatingMemory:h,autoUpdateMemory:m,onToggleAutoUpdateMemory:v,apiKeys:T,onAddApiKey:N,onRemoveApiKey:S,onResetKeyStatus:x,userAvatar:k,onUpdateUserAvatar:R})=>{const[L,I]=he.useState("personas"),[U,V]=he.useState(u),F=he.useRef(null),[D,_]=he.useState(""),[B,Y]=he.useState(""),[re,te]=he.useState(!1),[ie,pe]=he.useState(!1);he.useEffect(()=>{V(u)},[u]);const G=async()=>{if(!D.trim())return;if(T.some(de=>de.key===D.trim())){alert("This API key is already added.");return}pe(!0);const X=await $b(D);pe(!1),X?(N(D,B||`Key ${T.length+1}`),_(""),Y("")):alert("Invalid API Key. Please check and try again.")},oe=X=>{var Me;const de=(Me=X.target.files)==null?void 0:Me[0];if(!de)return;const P=new FileReader;P.onload=Se=>{var Ae;const me=new Image;me.onload=()=>{const qe=document.createElement("canvas"),ot=qe.getContext("2d"),Ve=128;let kt=me.width,an=me.height;kt>an?kt>Ve&&(an*=Ve/kt,kt=Ve):an>Ve&&(kt*=Ve/an,an=Ve),qe.width=kt,qe.height=an,ot==null||ot.drawImage(me,0,0,kt,an);const Zi=qe.toDataURL("image/jpeg",.8);R(Zi)},me.src=(Ae=Se.target)==null?void 0:Ae.result},P.readAsDataURL(de),X.target.value=""};if(!t)return null;const A=T.findIndex(X=>!X.isExhausted);return C.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[C.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:e}),C.jsxs("div",{className:"relative bg-onyx-surface w-full max-w-lg rounded-3xl border border-onyx-border shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[C.jsxs("div",{className:"p-6 border-b border-onyx-border flex items-center justify-between bg-onyx-surface",children:[C.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),C.jsx("button",{onClick:e,className:"p-2 hover:bg-onyx-surfaceLight rounded-full transition-colors",children:C.jsx(ae,{name:"X",size:20})})]}),C.jsxs("div",{className:"flex border-b border-onyx-border",children:[C.jsx("button",{onClick:()=>I("personas"),className:`flex-1 py-4 text-sm font-medium transition-colors border-b-2 ${L==="personas"?"border-onyx-accent text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"Personas"}),C.jsx("button",{onClick:()=>I("memory"),className:`flex-1 py-4 text-sm font-medium transition-colors border-b-2 ${L==="memory"?"border-pink-500 text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"Memory"}),C.jsx("button",{onClick:()=>I("general"),className:`flex-1 py-4 text-sm font-medium transition-colors border-b-2 ${L==="general"?"border-onyx-accent text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"General"})]}),C.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[L==="general"&&C.jsxs("div",{className:"space-y-6 animate-fade-in",children:[C.jsxs("div",{className:"p-4 bg-onyx-surfaceLight rounded-xl border border-onyx-border",children:[C.jsx("h3",{className:"text-sm font-bold text-onyx-textMuted uppercase mb-3",children:"User Profile"}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("div",{className:"relative group w-16 h-16 rounded-full overflow-hidden bg-onyx-black border-2 border-onyx-border shrink-0",children:[k?C.jsx("img",{src:k,alt:"User",className:"w-full h-full object-cover"}):C.jsx("div",{className:"w-full h-full flex items-center justify-center text-onyx-textMuted",children:C.jsx(ae,{name:"User",size:24})}),C.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:C.jsx("button",{onClick:()=>{var X;return(X=F.current)==null?void 0:X.click()},className:"text-white",children:C.jsx(ae,{name:"PenTool",size:16})})})]}),C.jsxs("div",{className:"flex-1 space-y-2",children:[C.jsx("p",{className:"text-xs text-onyx-textMuted",children:"Set a profile picture. It is compressed and stored locally on your device."}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>{var X;return(X=F.current)==null?void 0:X.click()},className:"text-xs px-3 py-1.5 bg-onyx-accent hover:bg-blue-600 rounded-lg text-white font-medium transition-colors",children:"Upload Image"}),k&&C.jsx("button",{onClick:()=>R(void 0),className:"text-xs px-3 py-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors border border-red-500/30",children:"Remove"})]}),C.jsx("input",{type:"file",ref:F,className:"hidden",accept:"image/*",onChange:oe})]})]})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h3",{className:"text-sm font-bold text-onyx-textMuted uppercase",children:"API Key Manager"}),C.jsxs("span",{className:"text-[10px] bg-onyx-surfaceLight px-2 py-1 rounded text-onyx-textMuted",children:[T.length," Keys Configured"]})]}),C.jsx("p",{className:"text-xs text-onyx-textMuted",children:"Add multiple keys. Onyx will automatically switch to the next key if one hits the daily/minute rate limit."}),C.jsxs("div",{className:"p-4 bg-onyx-surfaceLight rounded-xl border border-onyx-border space-y-3",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",placeholder:"Label (Optional, e.g. 'Personal Key')",value:B,onChange:X=>Y(X.target.value),className:"w-1/3 bg-onyx-black border border-onyx-border rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-onyx-accent"}),C.jsxs("div",{className:"relative flex-1",children:[C.jsx("input",{type:re?"text":"password",placeholder:"Gemini API Key (AIza...)",value:D,onChange:X=>_(X.target.value),className:"w-full bg-onyx-black border border-onyx-border rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-onyx-accent pr-10"}),C.jsx("button",{onClick:()=>te(!re),className:"absolute right-2 top-2 text-onyx-textMuted hover:text-white",children:C.jsx(ae,{name:re?"ToggleRight":"ToggleLeft",size:16})})]})]}),C.jsx("button",{onClick:G,disabled:!D||ie,className:"w-full py-2 bg-onyx-accent text-white rounded-lg text-xs font-bold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:ie?"Validating & Adding...":"Add API Key"})]}),T.length>0&&C.jsx("div",{className:"space-y-3 mt-4",children:T.map((X,de)=>{const P=de===A,Se=Math.min((X.usageCount||0)/1500*100,100);return C.jsxs("div",{className:`
                                                relative p-3 bg-onyx-surfaceLight/50 border rounded-xl transition-all
                                                ${P?"border-onyx-accent shadow-[0_0_15px_rgba(61,139,255,0.1)]":"border-onyx-border opacity-80"}
                                            `,children:[P&&C.jsx("div",{className:"absolute -top-2.5 right-3 bg-onyx-accent text-white text-[9px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider shadow-lg",children:"Active Now"}),C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${X.isExhausted?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.6)]":"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]"}`,title:X.isExhausted?"Quota Exhausted (Will be skipped)":"Active"}),C.jsxs("div",{children:[C.jsxs("div",{className:"text-sm font-bold flex items-center gap-2",children:[X.label,X.isExhausted&&C.jsx("span",{className:"text-[10px] text-red-400 font-normal",children:"(Limit Reached)"})]}),C.jsxs("div",{className:"text-[10px] text-onyx-textMuted font-mono",children:[X.key.substring(0,8),"...",X.key.slice(-4)]})]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[X.isExhausted&&C.jsx("button",{onClick:()=>x(X.key),className:"p-1.5 text-[10px] bg-green-500/10 text-green-400 hover:bg-green-500/20 border border-green-500/30 rounded-lg transition-colors",title:"Reset status to try this key again",children:"Reset"}),C.jsx("button",{onClick:()=>{confirm("Delete this API Key?")&&S(X.key)},className:"p-1.5 text-onyx-textMuted hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:C.jsx(ae,{name:"Trash2",size:14})})]})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsxs("div",{className:"flex justify-between text-[10px] text-onyx-textMuted",children:[C.jsx("span",{children:"Daily Activity"}),C.jsxs("span",{children:[X.usageCount||0," reqs"]})]}),C.jsx("div",{className:"h-1.5 w-full bg-onyx-black rounded-full overflow-hidden border border-onyx-border/50",children:C.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${X.isExhausted?"bg-red-500 w-full":"bg-gradient-to-r from-green-500 to-yellow-500"}`,style:{width:X.isExhausted?"100%":`${Math.max(Se,2)}%`}})})]})]},de)})})]}),C.jsxs("div",{className:"p-4 bg-onyx-surfaceLight rounded-xl border border-onyx-border mt-8",children:[C.jsx("h3",{className:"text-sm font-bold text-onyx-textMuted uppercase mb-2",children:"Application Data"}),C.jsx("p",{className:"text-xs text-onyx-textMuted mb-4",children:"Your chat history, personas, and memory are stored locally on your device's browser storage."}),C.jsx("button",{className:"w-full py-3 border border-red-500/30 bg-red-500/10 text-red-400 text-sm hover:bg-red-500/20 rounded-xl transition-colors",onClick:()=>{confirm("Clear all chat history and settings? This cannot be undone.")&&(localStorage.clear(),window.location.reload())},children:"Reset Application Data"})]})]}),L==="personas"&&C.jsx(Kb,{personas:n,activePersonaId:r,defaultPersonaId:i,onSelectPersona:o,onSetDefaultPersona:l,onSavePersona:s,onDeletePersona:a,apiKeys:T}),L==="memory"&&C.jsxs("div",{className:"space-y-6 animate-fade-in",children:[C.jsxs("div",{className:"bg-pink-500/10 border border-pink-500/20 p-4 rounded-xl flex items-start gap-3",children:[C.jsx(ae,{name:"Brain",size:24,className:"text-pink-500 shrink-0 mt-1"}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold text-pink-500 text-sm mb-1",children:'Global Memory ("Know Me")'}),C.jsx("p",{className:"text-xs text-onyx-textMuted",children:"Onyx automatically learns about you from your chats. You can consolidate all scattered facts into this single profile, which can be injected into new conversations."})]})]}),C.jsxs("div",{className:"bg-onyx-surfaceLight/30 border border-onyx-border p-4 rounded-xl flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("h4",{className:"text-xs font-bold uppercase text-onyx-textMuted mb-1",children:"Auto-Learn Instructions"}),C.jsx("p",{className:"text-[10px] text-onyx-textMuted max-w-[250px]",children:'If enabled, Onyx will detect phrases like "From now on..." or "My name is..." and automatically update your global memory.'})]}),C.jsx("button",{onClick:v,className:`transition-colors ${m?"text-pink-400":"text-onyx-textMuted"}`,children:C.jsx(ae,{name:m?"ToggleRight":"ToggleLeft",size:32})})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsx("label",{className:"text-xs uppercase text-onyx-textMuted",children:"User Profile / Context"}),C.jsxs("button",{onClick:d,disabled:h,className:`
                                    text-xs flex items-center gap-1 px-3 py-1.5 rounded-lg border transition-all
                                    ${h?"bg-onyx-surface border-onyx-border text-onyx-textMuted cursor-wait":"bg-pink-600 hover:bg-pink-500 border-transparent text-white shadow-lg shadow-pink-900/20"}
                                `,children:[C.jsx(ae,{name:"RefreshCw",size:12,className:h?"animate-spin":""}),h?"Consolidating...":"Beni Tan (Consolidate)"]})]}),C.jsx("textarea",{value:U,onChange:X=>V(X.target.value),onBlur:()=>p(U),rows:10,className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-4 text-sm focus:outline-none focus:border-pink-500 transition-colors font-mono",placeholder:"No memory established yet. Start chatting or type here manually."}),C.jsx("p",{className:"text-[10px] text-onyx-textMuted mt-2 text-right",children:"Changes are saved automatically when you click outside the text box."})]})]})]})]})]})},e1=({currentPersona:t,personas:e,onSelect:n})=>{var s;const[r,i]=he.useState(!1),o=he.useRef(null);he.useEffect(()=>{const a=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const l=(s=B0.find(a=>a.value===t.model))==null?void 0:s.premium;return C.jsxs("div",{className:"relative",ref:o,children:[C.jsxs("button",{onClick:()=>i(!r),className:`
            flex items-center gap-2 px-3 lg:px-4 py-2 rounded-full text-xs font-medium transition-all duration-300 border
            ${r?"bg-onyx-surface border-onyx-accent text-white shadow-[0_0_20px_rgba(61,139,255,0.2)]":"bg-onyx-surfaceLight/80 backdrop-blur border-onyx-border hover:bg-onyx-surfaceLight text-onyx-textMuted hover:text-white"}
        `,children:[t.avatar?C.jsx("img",{src:t.avatar,alt:"Avatar",className:"w-5 h-5 rounded-full object-cover"}):C.jsx(ae,{name:t.icon,size:14,className:"text-onyx-accent"}),C.jsx("span",{className:"text-white truncate max-w-[80px] sm:max-w-none",children:t.name}),C.jsx("span",{className:"hidden sm:inline text-onyx-textMuted mx-1 opacity-50",children:"|"}),C.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[C.jsx("span",{className:"text-onyx-textMuted",children:t.model.replace("gemini-","")}),l&&C.jsx(ae,{name:"Crown",size:12,className:"text-yellow-500"})]}),C.jsx(ae,{name:"ChevronRight",size:12,className:`text-onyx-textMuted transition-transform duration-300 ${r?"rotate-90 text-white":""}`})]}),r&&C.jsxs("div",{className:"absolute right-0 top-full mt-3 w-72 lg:w-80 max-h-[60vh] overflow-y-auto bg-onyx-surface border border-onyx-border rounded-2xl shadow-2xl p-2 z-50 animate-slide-up flex flex-col gap-1 scrollbar-hide",children:[C.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[C.jsx("span",{className:"text-[10px] font-bold text-onyx-textMuted uppercase tracking-wider",children:"Switch Persona"}),C.jsxs("span",{className:"text-[10px] bg-onyx-surfaceLight px-1.5 py-0.5 rounded text-onyx-textMuted border border-onyx-border",children:[e.length," Available"]})]}),C.jsx("div",{className:"space-y-1",children:e.map(a=>{var p;const u=a.id===t.id,d=(p=B0.find(h=>h.value===a.model))==null?void 0:p.premium;return C.jsxs("button",{onClick:()=>{n(a),i(!1)},className:`
                                w-full flex items-center gap-3 p-3 rounded-xl transition-all text-left group
                                ${u?"bg-onyx-accent/10 border border-onyx-accent/40 shadow-inner":"hover:bg-onyx-surfaceLight border border-transparent"}
                            `,children:[a.avatar?C.jsx("img",{src:a.avatar,alt:"Avatar",className:"w-9 h-9 rounded-full object-cover border border-onyx-border"}):C.jsx("div",{className:`
                                    p-2.5 rounded-xl shrink-0 transition-colors
                                    ${u?"bg-onyx-accent text-white shadow-lg shadow-blue-500/20":"bg-onyx-surfaceLight text-onyx-textMuted group-hover:bg-onyx-border group-hover:text-white"}
                                `,children:C.jsx(ae,{name:a.icon,size:18})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:`text-sm font-bold truncate ${u?"text-white":"text-onyx-text group-hover:text-white"}`,children:a.name}),u&&C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-onyx-accent shadow-[0_0_5px_rgba(61,139,255,1)]"})]}),C.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[C.jsx("span",{className:"text-[10px] text-onyx-textMuted truncate bg-white/5 px-1.5 rounded border border-white/5",children:a.model.replace("gemini-","")}),d&&C.jsxs("div",{className:"flex items-center gap-0.5 text-[10px] text-yellow-500 bg-yellow-500/10 px-1 rounded border border-yellow-500/20",children:[C.jsx(ae,{name:"Crown",size:10}),C.jsx("span",{children:"PRO"})]})]})]})]},a.id)})})]})]})},Qb=()=>{var U,V,F;const[t,e]=he.useState(()=>{const D=localStorage.getItem("onyx_app_state");if(D)try{const _=JSON.parse(D);(!_.personas||_.personas.length===0)&&(_.personas=Or),_.defaultPersonaId||(_.defaultPersonaId=_.personas[0].id),_.globalMemory===void 0&&(_.globalMemory=""),_.useMemoryForNewChats===void 0&&(_.useMemoryForNewChats=!0),_.autoUpdateMemory===void 0&&(_.autoUpdateMemory=!1),_.userAvatar===void 0&&(_.userAvatar=void 0);let B=_.apiKeys||[];return _.customApiKey&&(!B||B.length===0)&&(B=[{key:_.customApiKey,label:"Migrated Key",isExhausted:!1,usageCount:0}]),B=B.map(Y=>({...Y,usageCount:Y.usageCount||0})),{currentSessionId:_.currentSessionId||null,sessions:_.sessions||[],personas:_.personas,defaultPersonaId:_.defaultPersonaId,globalMemory:_.globalMemory,useMemoryForNewChats:_.useMemoryForNewChats,autoUpdateMemory:_.autoUpdateMemory,apiKeys:B,userAvatar:_.userAvatar,isSidebarOpen:window.innerWidth>1024,isSettingsOpen:!1}}catch(_){console.error("State parse error",_)}return{currentSessionId:null,sessions:[],personas:Or,defaultPersonaId:Or[0].id,globalMemory:"",useMemoryForNewChats:!0,autoUpdateMemory:!1,apiKeys:[],userAvatar:void 0,isSidebarOpen:window.innerWidth>1024,isSettingsOpen:!1}}),[n,r]=he.useState(!1),[i,o]=he.useState(!1),l=he.useRef(null);he.useEffect(()=>{t.apiKeys.length===0&&e(D=>({...D,isSettingsOpen:!0}))},[]),he.useEffect(()=>{try{localStorage.setItem("onyx_app_state",JSON.stringify({...t,isSidebarOpen:t.isSidebarOpen,isSettingsOpen:!1}))}catch{console.warn("Storage quota exceeded! Attempting to save without images to preserve text history...");try{const _=t.sessions.map(Y=>({...Y,messages:Y.messages.map(re=>({...re,images:[]}))})),B={...t,sessions:_,isSidebarOpen:t.isSidebarOpen,isSettingsOpen:!1};localStorage.setItem("onyx_app_state",JSON.stringify(B)),console.log("Safely saved state (images stripped due to quota).")}catch(_){console.error("Critical Storage Error: Could not save even sanitized state.",_)}}},[t]);const s=he.useCallback(()=>t.sessions.find(D=>D.id===t.currentSessionId),[t.sessions,t.currentSessionId]),a=he.useCallback(()=>{const D=s();return D?t.personas.find(_=>_.id===D.personaId)||t.personas[0]:t.personas.find(_=>_.id===t.defaultPersonaId)||t.personas[0]},[s,t.personas,t.defaultPersonaId]),u=D=>{console.warn(`[App] Marking key exhausted: ...${D.slice(-4)}`),e(_=>({..._,apiKeys:_.apiKeys.map(B=>B.key===D?{...B,isExhausted:!0}:B)}))},d=D=>{e(_=>({..._,apiKeys:_.apiKeys.map(B=>B.key===D?{...B,usageCount:(B.usageCount||0)+1,lastUsedTimestamp:Date.now()}:B)}))},p=(D,_)=>{e(B=>({...B,apiKeys:[...B.apiKeys,{key:D.trim(),label:_,isExhausted:!1,usageCount:0}]}))},h=D=>{e(_=>({..._,apiKeys:_.apiKeys.filter(B=>B.key!==D)}))},m=D=>{e(_=>({..._,apiKeys:_.apiKeys.map(B=>B.key===D?{...B,isExhausted:!1}:B)}))},v=()=>{const D={id:po(),title:"New Chat",personaId:t.defaultPersonaId,lastModified:Date.now(),messages:[],memoryContext:t.useMemoryForNewChats?t.globalMemory:void 0};e(_=>({..._,sessions:[D,..._.sessions],currentSessionId:D.id,isSidebarOpen:window.innerWidth>=1024}))},T=(D,_)=>{e(B=>({...B,sessions:B.sessions.map(Y=>Y.id===D?_(Y):Y)}))},N=async()=>{o(!0);try{const D=await Yb(t.sessions,t.globalMemory,t.apiKeys,u,d);e(_=>({..._,globalMemory:D}))}catch(D){console.error(D)}finally{o(!1)}},S=()=>{l.current&&(l.current.abort(),l.current=null,r(!1),t.currentSessionId&&T(t.currentSessionId,D=>({...D,messages:D.messages.map(_=>_.isLoading?{..._,isLoading:!1}:_)})))},x=async(D,_,B,Y,re)=>{const te={id:po(),role:qt.USER,text:_,timestamp:Date.now(),images:B};T(D,ie=>({...ie,messages:[...ie.messages,te],lastModified:Date.now()})),r(!0),l.current=new AbortController;try{const ie=a(),pe=re,G=pe.length+1,oe=G>0&&G%5===0,A=po();T(D,Se=>({...Se,messages:[...Se.messages,{id:A,role:qt.MODEL,text:"",timestamp:Date.now(),isLoading:!0}]}));const X=t.sessions.find(Se=>Se.id===D),de=X==null?void 0:X.memoryContext,P=X==null?void 0:X.summary,Me=await Gb(pe,_,ie,de,P,B,Y,t.apiKeys,Se=>{T(D,me=>({...me,messages:me.messages.map(Ae=>Ae.id===A?{...Ae,text:Se,isLoading:!0}:Ae)}))},u,d,l.current.signal);if(T(D,Se=>({...Se,messages:Se.messages.map(me=>me.id===A?{...me,isLoading:!1}:me)})),oe){const Se={id:A,role:qt.MODEL,text:Me,timestamp:Date.now()},me=[...re,te,Se];Wb(me,t.apiKeys,u,d).then(Ae=>{if(T(D,qe=>({...qe,summary:Ae.summary,keyFacts:Ae.facts})),t.autoUpdateMemory&&Ae.newInstructions&&Ae.newInstructions.length>0){const qe=new Date().toLocaleDateString(),ot=Ae.newInstructions.map(Ve=>`[${qe}] ${Ve}`).join(`
`);e(Ve=>({...Ve,globalMemory:Ve.globalMemory?`${Ve.globalMemory}
${ot}`:ot})),console.log("[Onyx Memory] Auto-learned new instructions:",Ae.newInstructions)}})}}catch(ie){if(ie.name==="AbortError"){console.log("Generation aborted by user.");return}console.error(ie);let pe="Error: Could not generate response.";ie.message&&(ie.message.includes("429")||ie.message.includes("quota"))?pe="Error: All configured API keys are currently exhausted. Please try again later or add more keys.":ie.message&&ie.message.includes("STRICT_NO_KEYS")&&(pe="CRITICAL ERROR: No API Key available. Please configure a key in Settings.",e(G=>({...G,isSettingsOpen:!0}))),T(D,G=>({...G,messages:[...G.messages,{id:po(),role:qt.MODEL,text:pe,timestamp:Date.now(),error:!0}]}))}finally{r(!1),l.current=null}},k=async(D,_,B)=>{let Y=t.currentSessionId,re=[];if(Y){const te=t.sessions.find(ie=>ie.id===Y);te&&(te.messages.length===0&&T(Y,ie=>({...ie,title:D.slice(0,30)+(D.length>30?"...":"")})),re=te.messages)}else{const te={id:po(),title:D.slice(0,30)+(D.length>30?"...":""),personaId:a().id,lastModified:Date.now(),messages:[],memoryContext:t.useMemoryForNewChats?t.globalMemory:void 0};Y=te.id,e(ie=>({...ie,sessions:[te,...ie.sessions],currentSessionId:Y})),re=[]}setTimeout(()=>{Y&&x(Y,D,_,B,re)},0)},R=D=>{t.currentSessionId&&T(t.currentSessionId,_=>({..._,messages:_.messages.filter(B=>B.id!==D)}))},L=D=>{if(!t.currentSessionId)return;const _=s();if(!_)return;const B=_.messages.findIndex(te=>te.id===D);if(B===-1)return;const Y=_.messages[B];if(Y.role!==qt.USER)return;const re=_.messages.slice(0,B);T(t.currentSessionId,te=>({...te,messages:re})),x(t.currentSessionId,Y.text,Y.images||[],!1,re)},I=D=>{t.currentSessionId?T(t.currentSessionId,_=>({..._,personaId:D.id})):e(_=>({..._,defaultPersonaId:D.id}))};return C.jsxs("div",{className:"flex h-screen bg-black text-white overflow-hidden",children:[C.jsx(V3,{isOpen:t.isSidebarOpen,onClose:()=>e(D=>({...D,isSidebarOpen:!1})),sessions:t.sessions,currentSessionId:t.currentSessionId,onSelectSession:D=>e(_=>({..._,currentSessionId:D})),onNewSession:v,onDeleteSession:(D,_)=>{_.stopPropagation(),e(B=>({...B,sessions:B.sessions.filter(Y=>Y.id!==D),currentSessionId:B.currentSessionId===D?null:B.currentSessionId}))},onOpenSettings:()=>e(D=>({...D,isSettingsOpen:!0})),personas:t.personas,useMemoryForNewChats:t.useMemoryForNewChats,onToggleMemoryUsage:()=>e(D=>({...D,useMemoryForNewChats:!D.useMemoryForNewChats}))}),C.jsxs("div",{className:"flex-1 flex flex-col relative w-full h-full",children:[C.jsxs("div",{className:"lg:hidden h-16 border-b border-onyx-border flex items-center px-3 justify-between bg-onyx-surface/80 backdrop-blur-md z-10 gap-2",children:[C.jsx("button",{onClick:()=>e(D=>({...D,isSidebarOpen:!0})),className:"shrink-0 p-2 rounded-lg hover:bg-onyx-surfaceLight transition-colors text-onyx-textMuted hover:text-white",children:C.jsx(ae,{name:"Menu"})}),C.jsx("div",{className:"flex-1 min-w-0 text-center mx-1",children:C.jsx("span",{className:"font-bold truncate block text-sm",children:((U=s())==null?void 0:U.title)||"Onyx Chat"})}),C.jsx("div",{className:"shrink-0",children:C.jsx(e1,{currentPersona:a(),personas:t.personas,onSelect:I})})]}),C.jsxs("div",{className:"hidden lg:flex absolute top-4 right-8 z-10 items-center gap-3",children:[((V=s())==null?void 0:V.memoryContext)&&C.jsxs("div",{className:"flex items-center gap-1.5 bg-pink-500/10 border border-pink-500/30 px-3 py-1.5 rounded-full text-[10px] font-bold text-pink-500 backdrop-blur",children:[C.jsx(ae,{name:"Brain",size:12}),C.jsx("span",{children:"MEMORY ACTIVE"})]}),C.jsx(e1,{currentPersona:a(),personas:t.personas,onSelect:I})]}),C.jsx(hT,{messages:((F=s())==null?void 0:F.messages)||[],userAvatar:t.userAvatar,persona:a(),isStreaming:n,onDeleteMessage:R,onRetryMessage:L}),C.jsx(mT,{onSend:k,onStop:S,isLoading:n,hasApiKeys:t.apiKeys.length>0})]}),C.jsx(Xb,{isOpen:t.isSettingsOpen,onClose:()=>e(D=>({...D,isSettingsOpen:!1})),personas:t.personas,activePersonaId:a().id,defaultPersonaId:t.defaultPersonaId,onSelectPersona:I,onSetDefaultPersona:D=>e(_=>({..._,defaultPersonaId:D})),onSavePersona:D=>{e(_=>{const Y=_.personas.find(re=>re.id===D.id)?_.personas.map(re=>re.id===D.id?D:re):[..._.personas,D];return{..._,personas:Y}})},onDeletePersona:D=>{e(_=>({..._,personas:_.personas.filter(B=>B.id!==D)}))},globalMemory:t.globalMemory,onUpdateGlobalMemory:N,isUpdatingMemory:i,onSaveManualMemory:D=>e(_=>({..._,globalMemory:D})),autoUpdateMemory:t.autoUpdateMemory,onToggleAutoUpdateMemory:()=>e(D=>({...D,autoUpdateMemory:!D.autoUpdateMemory})),apiKeys:t.apiKeys,onAddApiKey:p,onRemoveApiKey:h,onResetKeyStatus:m,userAvatar:t.userAvatar,onUpdateUserAvatar:D=>e(_=>({..._,userAvatar:D}))})]})},My=document.getElementById("root");if(!My)throw new Error("Could not find root element to mount to");const Zb=ku.createRoot(My);Zb.render(C.jsx(d1.StrictMode,{children:C.jsx(Qb,{})}));
