(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B1={exports:{}},ua={},O1={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),Hv=Symbol.for("react.portal"),Vv=Symbol.for("react.fragment"),Gv=Symbol.for("react.strict_mode"),$v=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Wv=Symbol.for("react.context"),Yv=Symbol.for("react.forward_ref"),Jv=Symbol.for("react.suspense"),Xv=Symbol.for("react.memo"),Qv=Symbol.for("react.lazy"),hf=Symbol.iterator;function Zv(e){return e===null||typeof e!="object"?null:(e=hf&&e[hf]||e["@@iterator"],typeof e=="function"?e:null)}var q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H1=Object.assign,V1={};function oo(e,t,n){this.props=e,this.context=t,this.refs=V1,this.updater=n||q1}oo.prototype.isReactComponent={};oo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function G1(){}G1.prototype=oo.prototype;function Sc(e,t,n){this.props=e,this.context=t,this.refs=V1,this.updater=n||q1}var kc=Sc.prototype=new G1;kc.constructor=Sc;H1(kc,oo.prototype);kc.isPureReactComponent=!0;var mf=Array.isArray,$1=Object.prototype.hasOwnProperty,Tc={current:null},K1={key:!0,ref:!0,__self:!0,__source:!0};function W1(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)$1.call(t,r)&&!K1.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:vl,type:e,key:o,ref:l,props:i,_owner:Tc.current}}function jv(e,t){return{$$typeof:vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ec(e){return typeof e=="object"&&e!==null&&e.$$typeof===vl}function e5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gf=/\/+/g;function Ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?e5(""+e.key):t.toString(36)}function ss(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case vl:case Hv:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Ha(l,0):r,mf(i)?(n="",e!=null&&(n=e.replace(gf,"$&/")+"/"),ss(i,t,n,"",function(u){return u})):i!=null&&(Ec(i)&&(i=jv(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(gf,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",mf(e))for(var s=0;s<e.length;s++){o=e[s];var a=r+Ha(o,s);l+=ss(o,t,n,a,i)}else if(a=Zv(e),typeof a=="function")for(e=a.call(e),s=0;!(o=e.next()).done;)o=o.value,a=r+Ha(o,s++),l+=ss(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Nl(e,t,n){if(e==null)return e;var r=[],i=0;return ss(e,r,"","",function(o){return t.call(n,o,i++)}),r}function t5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},as={transition:null},n5={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:as,ReactCurrentOwner:Tc};function Y1(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Nl,forEach:function(e,t,n){Nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nl(e,function(){t++}),t},toArray:function(e){return Nl(e,function(t){return t})||[]},only:function(e){if(!Ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=oo;ke.Fragment=Vv;ke.Profiler=$v;ke.PureComponent=Sc;ke.StrictMode=Gv;ke.Suspense=Jv;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n5;ke.act=Y1;ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=H1({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Tc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)$1.call(t,a)&&!K1.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:vl,type:e.type,key:i,ref:o,props:r,_owner:l}};ke.createContext=function(e){return e={$$typeof:Wv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kv,_context:e},e.Consumer=e};ke.createElement=W1;ke.createFactory=function(e){var t=W1.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:Yv,render:e}};ke.isValidElement=Ec;ke.lazy=function(e){return{$$typeof:Qv,_payload:{_status:-1,_result:e},_init:t5}};ke.memo=function(e,t){return{$$typeof:Xv,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=as.transition;as.transition={};try{e()}finally{as.transition=t}};ke.unstable_act=Y1;ke.useCallback=function(e,t){return At.current.useCallback(e,t)};ke.useContext=function(e){return At.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return At.current.useDeferredValue(e)};ke.useEffect=function(e,t){return At.current.useEffect(e,t)};ke.useId=function(){return At.current.useId()};ke.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};ke.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return At.current.useMemo(e,t)};ke.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};ke.useRef=function(e){return At.current.useRef(e)};ke.useState=function(e){return At.current.useState(e)};ke.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};ke.useTransition=function(){return At.current.useTransition()};ke.version="18.3.1";O1.exports=ke;var ae=O1.exports;const Cc=wc(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5=ae,i5=Symbol.for("react.element"),o5=Symbol.for("react.fragment"),l5=Object.prototype.hasOwnProperty,s5=r5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a5={key:!0,ref:!0,__self:!0,__source:!0};function J1(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)l5.call(t,r)&&!a5.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:i5,type:e,key:o,ref:l,props:i,_owner:s5.current}}ua.Fragment=o5;ua.jsx=J1;ua.jsxs=J1;B1.exports=ua;var x=B1.exports,Yu={},X1={exports:{}},Zt={},Q1={exports:{}},Z1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,ee){var N=V.length;V.push(ee);e:for(;0<N;){var pe=N-1>>>1,ge=V[pe];if(0<i(ge,ee))V[pe]=ee,V[N]=ge,N=pe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ee=V[0],N=V.pop();if(N!==ee){V[0]=N;e:for(var pe=0,ge=V.length,F=ge>>>1;pe<F;){var ze=2*(pe+1)-1,Xe=V[ze],le=ze+1,Pe=V[le];if(0>i(Xe,N))le<ge&&0>i(Pe,Xe)?(V[pe]=Pe,V[le]=N,pe=le):(V[pe]=Xe,V[ze]=N,pe=ze);else if(le<ge&&0>i(Pe,N))V[pe]=Pe,V[le]=N,pe=le;else break e}}return ee}function i(V,ee){var N=V.sortIndex-ee.sortIndex;return N!==0?N:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var a=[],u=[],d=1,p=null,h=3,m=!1,w=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=V)r(u),ee.sortIndex=ee.expirationTime,t(a,ee);else break;ee=n(u)}}function C(V){if(k=!1,T(V),!w)if(n(a)!==null)w=!0,ie(I);else{var ee=n(u);ee!==null&&ce(C,ee.startTime-V)}}function I(V,ee){w=!1,k&&(k=!1,v(z),z=-1),m=!0;var N=h;try{for(T(ee),p=n(a);p!==null&&(!(p.expirationTime>ee)||V&&!q());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,h=p.priorityLevel;var ge=pe(p.expirationTime<=ee);ee=e.unstable_now(),typeof ge=="function"?p.callback=ge:p===n(a)&&r(a),T(ee)}else r(a);p=n(a)}if(p!==null)var F=!0;else{var ze=n(u);ze!==null&&ce(C,ze.startTime-ee),F=!1}return F}finally{p=null,h=N,m=!1}}var b=!1,R=null,z=-1,P=5,_=-1;function q(){return!(e.unstable_now()-_<P)}function B(){if(R!==null){var V=e.unstable_now();_=V;var ee=!0;try{ee=R(!0,V)}finally{ee?G():(b=!1,R=null)}}else b=!1}var G;if(typeof S=="function")G=function(){S(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,re=j.port2;j.port1.onmessage=B,G=function(){re.postMessage(null)}}else G=function(){M(B,0)};function ie(V){R=V,b||(b=!0,G())}function ce(V,ee){z=M(function(){V(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,ie(I))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var N=h;h=ee;try{return V()}finally{h=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var N=h;h=V;try{return ee()}finally{h=N}},e.unstable_scheduleCallback=function(V,ee,N){var pe=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?pe+N:pe):N=pe,V){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=N+ge,V={id:d++,callback:ee,priorityLevel:V,startTime:N,expirationTime:ge,sortIndex:-1},N>pe?(V.sortIndex=N,t(u,V),n(a)===null&&V===n(u)&&(k?(v(z),z=-1):k=!0,ce(C,N-pe))):(V.sortIndex=ge,t(a,V),w||m||(w=!0,ie(I))),V},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(V){var ee=h;return function(){var N=h;h=ee;try{return V.apply(this,arguments)}finally{h=N}}}})(Z1);Q1.exports=Z1;var u5=Q1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5=ae,Qt=u5;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j1=new Set,Xo={};function hi(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(Xo[e]=t,e=0;e<t.length;e++)j1.add(t[e])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ju=Object.prototype.hasOwnProperty,d5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yf={},vf={};function f5(e){return Ju.call(vf,e)?!0:Ju.call(yf,e)?!1:d5.test(e)?vf[e]=!0:(yf[e]=!0,!1)}function p5(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h5(e,t,n,r){if(t===null||typeof t>"u"||p5(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function It(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new It(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new It(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new It(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new It(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new It(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new It(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new It(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new It(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new It(e,5,!1,e.toLowerCase(),null,!1,!1)});var bc=/[\-:]([a-z])/g;function Ac(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bc,Ac);ft[t]=new It(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bc,Ac);ft[t]=new It(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bc,Ac);ft[t]=new It(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new It(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new It(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ic(e,t,n,r){var i=ft.hasOwnProperty(t)?ft[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(h5(t,n,i,r)&&(n=null),r||i===null?f5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cr=c5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_l=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ai=Symbol.for("react.fragment"),Mc=Symbol.for("react.strict_mode"),Xu=Symbol.for("react.profiler"),eg=Symbol.for("react.provider"),tg=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),Qu=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),_c=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),ng=Symbol.for("react.offscreen"),xf=Symbol.iterator;function vo(e){return e===null||typeof e!="object"?null:(e=xf&&e[xf]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,Va;function Mo(e){if(Va===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Va=t&&t[1]||""}return`
`+Va+e}var Ga=!1;function $a(e,t){if(!e||Ga)return"";Ga=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{Ga=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mo(e):""}function m5(e){switch(e.tag){case 5:return Mo(e.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return e=$a(e.type,!1),e;case 11:return e=$a(e.type.render,!1),e;case 1:return e=$a(e.type,!0),e;default:return""}}function ju(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ai:return"Fragment";case bi:return"Portal";case Xu:return"Profiler";case Mc:return"StrictMode";case Qu:return"Suspense";case Zu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tg:return(e.displayName||"Context")+".Consumer";case eg:return(e._context.displayName||"Context")+".Provider";case Nc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _c:return t=e.displayName||null,t!==null?t:ju(e.type)||"Memo";case Sr:t=e._payload,e=e._init;try{return ju(e(t))}catch{}}return null}function g5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ju(t);case 8:return t===Mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function y5(e){var t=rg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rl(e){e._valueTracker||(e._valueTracker=y5(e))}function ig(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=rg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function e0(e,t){var n=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function og(e,t){t=t.checked,t!=null&&Ic(e,"checked",t,!1)}function t0(e,t){og(e,t);var n=zr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?n0(e,t.type,n):t.hasOwnProperty("defaultValue")&&n0(e,t.type,zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function n0(e,t,n){(t!=="number"||bs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var No=Array.isArray;function Bi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function r0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(No(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zr(n)}}function lg(e,t){var n=zr(t.value),r=zr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pl,ag=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pl=Pl||document.createElement("div"),Pl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v5=["Webkit","ms","Moz","O"];Object.keys(Lo).forEach(function(e){v5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lo[t]=Lo[e]})});function ug(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lo.hasOwnProperty(e)&&Lo[e]?(""+t).trim():t+"px"}function cg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ug(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var x5=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function o0(e,t){if(t){if(x5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function l0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s0=null;function Rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var a0=null,Oi=null,qi=null;function Ef(e){if(e=Sl(e)){if(typeof a0!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=ha(t),a0(e.stateNode,e.type,t))}}function dg(e){Oi?qi?qi.push(e):qi=[e]:Oi=e}function fg(){if(Oi){var e=Oi,t=qi;if(qi=Oi=null,Ef(e),t)for(e=0;e<t.length;e++)Ef(t[e])}}function pg(e,t){return e(t)}function hg(){}var Ka=!1;function mg(e,t,n){if(Ka)return e(t,n);Ka=!0;try{return pg(e,t,n)}finally{Ka=!1,(Oi!==null||qi!==null)&&(hg(),fg())}}function Zo(e,t){var n=e.stateNode;if(n===null)return null;var r=ha(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var u0=!1;if(nr)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){u0=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{u0=!1}function w5(e,t,n,r,i,o,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fo=!1,As=null,Is=!1,c0=null,S5={onError:function(e){Fo=!0,As=e}};function k5(e,t,n,r,i,o,l,s,a){Fo=!1,As=null,w5.apply(S5,arguments)}function T5(e,t,n,r,i,o,l,s,a){if(k5.apply(this,arguments),Fo){if(Fo){var u=As;Fo=!1,As=null}else throw Error(Y(198));Is||(Is=!0,c0=u)}}function mi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cf(e){if(mi(e)!==e)throw Error(Y(188))}function E5(e){var t=e.alternate;if(!t){if(t=mi(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Cf(i),e;if(o===r)return Cf(i),t;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function yg(e){return e=E5(e),e!==null?vg(e):null}function vg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vg(e);if(t!==null)return t;e=e.sibling}return null}var xg=Qt.unstable_scheduleCallback,bf=Qt.unstable_cancelCallback,C5=Qt.unstable_shouldYield,b5=Qt.unstable_requestPaint,Ze=Qt.unstable_now,A5=Qt.unstable_getCurrentPriorityLevel,Pc=Qt.unstable_ImmediatePriority,wg=Qt.unstable_UserBlockingPriority,Ms=Qt.unstable_NormalPriority,I5=Qt.unstable_LowPriority,Sg=Qt.unstable_IdlePriority,ca=null,Un=null;function M5(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(ca,e,void 0,(e.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:R5,N5=Math.log,_5=Math.LN2;function R5(e){return e>>>=0,e===0?32:31-(N5(e)/_5|0)|0}var Dl=64,Ll=4194304;function _o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ns(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=_o(s):(o&=l,o!==0&&(r=_o(o)))}else l=n&~i,l!==0?r=_o(l):o!==0&&(r=_o(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cn(t),i=1<<n,r|=e[n],t&=~i;return r}function P5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D5(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Cn(o),s=1<<l,a=i[l];a===-1?(!(s&n)||s&r)&&(i[l]=P5(s,t)):a<=t&&(e.expiredLanes|=s),o&=~s}}function d0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kg(){var e=Dl;return Dl<<=1,!(Dl&4194240)&&(Dl=64),e}function Wa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cn(t),e[t]=n}function L5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Cn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Dc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Me=0;function Tg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Eg,Lc,Cg,bg,Ag,f0=!1,Fl=[],Mr=null,Nr=null,_r=null,jo=new Map,el=new Map,Tr=[],F5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(t.pointerId)}}function wo(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Sl(t),t!==null&&Lc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function z5(e,t,n,r,i){switch(t){case"focusin":return Mr=wo(Mr,e,t,n,r,i),!0;case"dragenter":return Nr=wo(Nr,e,t,n,r,i),!0;case"mouseover":return _r=wo(_r,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jo.set(o,wo(jo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,el.set(o,wo(el.get(o)||null,e,t,n,r,i)),!0}return!1}function Ig(e){var t=ni(e.target);if(t!==null){var n=mi(t);if(n!==null){if(t=n.tag,t===13){if(t=gg(n),t!==null){e.blockedOn=t,Ag(e.priority,function(){Cg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=p0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);s0=r,n.target.dispatchEvent(r),s0=null}else return t=Sl(n),t!==null&&Lc(t),e.blockedOn=n,!1;t.shift()}return!0}function If(e,t,n){us(e)&&n.delete(t)}function U5(){f0=!1,Mr!==null&&us(Mr)&&(Mr=null),Nr!==null&&us(Nr)&&(Nr=null),_r!==null&&us(_r)&&(_r=null),jo.forEach(If),el.forEach(If)}function So(e,t){e.blockedOn===t&&(e.blockedOn=null,f0||(f0=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,U5)))}function tl(e){function t(i){return So(i,e)}if(0<Fl.length){So(Fl[0],e);for(var n=1;n<Fl.length;n++){var r=Fl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mr!==null&&So(Mr,e),Nr!==null&&So(Nr,e),_r!==null&&So(_r,e),jo.forEach(t),el.forEach(t),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)Ig(n),n.blockedOn===null&&Tr.shift()}var Hi=cr.ReactCurrentBatchConfig,_s=!0;function B5(e,t,n,r){var i=Me,o=Hi.transition;Hi.transition=null;try{Me=1,Fc(e,t,n,r)}finally{Me=i,Hi.transition=o}}function O5(e,t,n,r){var i=Me,o=Hi.transition;Hi.transition=null;try{Me=4,Fc(e,t,n,r)}finally{Me=i,Hi.transition=o}}function Fc(e,t,n,r){if(_s){var i=p0(e,t,n,r);if(i===null)ru(e,t,r,Rs,n),Af(e,r);else if(z5(i,e,t,n,r))r.stopPropagation();else if(Af(e,r),t&4&&-1<F5.indexOf(e)){for(;i!==null;){var o=Sl(i);if(o!==null&&Eg(o),o=p0(e,t,n,r),o===null&&ru(e,t,r,Rs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ru(e,t,r,null,n)}}var Rs=null;function p0(e,t,n,r){if(Rs=null,e=Rc(r),e=ni(e),e!==null)if(t=mi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rs=e,null}function Mg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A5()){case Pc:return 1;case wg:return 4;case Ms:case I5:return 16;case Sg:return 536870912;default:return 16}default:return 16}}var Cr=null,zc=null,cs=null;function Ng(){if(cs)return cs;var e,t=zc,n=t.length,r,i="value"in Cr?Cr.value:Cr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return cs=i.slice(e,1<r?1-r:void 0)}function ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zl(){return!0}function Mf(){return!1}function jt(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zl:Mf,this.isPropagationStopped=Mf,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),t}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=jt(lo),wl=We({},lo,{view:0,detail:0}),q5=jt(wl),Ya,Ja,ko,da=We({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(Ya=e.screenX-ko.screenX,Ja=e.screenY-ko.screenY):Ja=Ya=0,ko=e),Ya)},movementY:function(e){return"movementY"in e?e.movementY:Ja}}),Nf=jt(da),H5=We({},da,{dataTransfer:0}),V5=jt(H5),G5=We({},wl,{relatedTarget:0}),Xa=jt(G5),$5=We({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),K5=jt($5),W5=We({},lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Y5=jt(W5),J5=We({},lo,{data:0}),_f=jt(J5),X5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Z5[e])?!!t[e]:!1}function Bc(){return j5}var e3=We({},wl,{key:function(e){if(e.key){var t=X5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Q5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t3=jt(e3),n3=We({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=jt(n3),r3=We({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),i3=jt(r3),o3=We({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),l3=jt(o3),s3=We({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a3=jt(s3),u3=[9,13,27,32],Oc=nr&&"CompositionEvent"in window,zo=null;nr&&"documentMode"in document&&(zo=document.documentMode);var c3=nr&&"TextEvent"in window&&!zo,_g=nr&&(!Oc||zo&&8<zo&&11>=zo),Pf=" ",Df=!1;function Rg(e,t){switch(e){case"keyup":return u3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function d3(e,t){switch(e){case"compositionend":return Pg(t);case"keypress":return t.which!==32?null:(Df=!0,Pf);case"textInput":return e=t.data,e===Pf&&Df?null:e;default:return null}}function f3(e,t){if(Ii)return e==="compositionend"||!Oc&&Rg(e,t)?(e=Ng(),cs=zc=Cr=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _g&&t.locale!=="ko"?null:t.data;default:return null}}var p3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!p3[e.type]:t==="textarea"}function Dg(e,t,n,r){dg(r),t=Ps(t,"onChange"),0<t.length&&(n=new Uc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Uo=null,nl=null;function h3(e){$g(e,0)}function fa(e){var t=_i(e);if(ig(t))return e}function m3(e,t){if(e==="change")return t}var Lg=!1;if(nr){var Qa;if(nr){var Za="oninput"in document;if(!Za){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),Za=typeof Ff.oninput=="function"}Qa=Za}else Qa=!1;Lg=Qa&&(!document.documentMode||9<document.documentMode)}function zf(){Uo&&(Uo.detachEvent("onpropertychange",Fg),nl=Uo=null)}function Fg(e){if(e.propertyName==="value"&&fa(nl)){var t=[];Dg(t,nl,e,Rc(e)),mg(h3,t)}}function g3(e,t,n){e==="focusin"?(zf(),Uo=t,nl=n,Uo.attachEvent("onpropertychange",Fg)):e==="focusout"&&zf()}function y3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fa(nl)}function v3(e,t){if(e==="click")return fa(t)}function x3(e,t){if(e==="input"||e==="change")return fa(t)}function w3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var In=typeof Object.is=="function"?Object.is:w3;function rl(e,t){if(In(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ju.call(t,i)||!In(e[i],t[i]))return!1}return!0}function Uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bf(e,t){var n=Uf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uf(n)}}function zg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ug(){for(var e=window,t=bs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bs(e.document)}return t}function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function S3(e){var t=Ug(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zg(n.ownerDocument.documentElement,n)){if(r!==null&&qc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Bf(n,o);var l=Bf(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k3=nr&&"documentMode"in document&&11>=document.documentMode,Mi=null,h0=null,Bo=null,m0=!1;function Of(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;m0||Mi==null||Mi!==bs(r)||(r=Mi,"selectionStart"in r&&qc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bo&&rl(Bo,r)||(Bo=r,r=Ps(h0,"onSelect"),0<r.length&&(t=new Uc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mi)))}function Ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ni={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionend:Ul("Transition","TransitionEnd")},ja={},Bg={};nr&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function pa(e){if(ja[e])return ja[e];if(!Ni[e])return e;var t=Ni[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bg)return ja[e]=t[n];return e}var Og=pa("animationend"),qg=pa("animationiteration"),Hg=pa("animationstart"),Vg=pa("transitionend"),Gg=new Map,qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(e,t){Gg.set(e,t),hi(t,[e])}for(var eu=0;eu<qf.length;eu++){var tu=qf[eu],T3=tu.toLowerCase(),E3=tu[0].toUpperCase()+tu.slice(1);Hr(T3,"on"+E3)}Hr(Og,"onAnimationEnd");Hr(qg,"onAnimationIteration");Hr(Hg,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(Vg,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Hf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,T5(r,t,void 0,e),e.currentTarget=null}function $g(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;Hf(i,s,u),o=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;Hf(i,s,u),o=a}}}if(Is)throw e=c0,Is=!1,c0=null,e}function Ue(e,t){var n=t[w0];n===void 0&&(n=t[w0]=new Set);var r=e+"__bubble";n.has(r)||(Kg(t,e,2,!1),n.add(r))}function nu(e,t,n){var r=0;t&&(r|=4),Kg(n,e,r,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function il(e){if(!e[Bl]){e[Bl]=!0,j1.forEach(function(n){n!=="selectionchange"&&(C3.has(n)||nu(n,!1,e),nu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,nu("selectionchange",!1,t))}}function Kg(e,t,n,r){switch(Mg(t)){case 1:var i=B5;break;case 4:i=O5;break;default:i=Fc}n=i.bind(null,t,n,e),i=void 0,!u0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ru(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=ni(s),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}s=s.parentNode}}r=r.return}mg(function(){var u=o,d=Rc(n),p=[];e:{var h=Gg.get(e);if(h!==void 0){var m=Uc,w=e;switch(e){case"keypress":if(ds(n)===0)break e;case"keydown":case"keyup":m=t3;break;case"focusin":w="focus",m=Xa;break;case"focusout":w="blur",m=Xa;break;case"beforeblur":case"afterblur":m=Xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=V5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=i3;break;case Og:case qg:case Hg:m=K5;break;case Vg:m=l3;break;case"scroll":m=q5;break;case"wheel":m=a3;break;case"copy":case"cut":case"paste":m=Y5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Rf}var k=(t&4)!==0,M=!k&&e==="scroll",v=k?h!==null?h+"Capture":null:h;k=[];for(var S=u,T;S!==null;){T=S;var C=T.stateNode;if(T.tag===5&&C!==null&&(T=C,v!==null&&(C=Zo(S,v),C!=null&&k.push(ol(S,C,T)))),M)break;S=S.return}0<k.length&&(h=new m(h,w,null,n,d),p.push({event:h,listeners:k}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==s0&&(w=n.relatedTarget||n.fromElement)&&(ni(w)||w[rr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?ni(w):null,w!==null&&(M=mi(w),w!==M||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(k=Nf,C="onMouseLeave",v="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(k=Rf,C="onPointerLeave",v="onPointerEnter",S="pointer"),M=m==null?h:_i(m),T=w==null?h:_i(w),h=new k(C,S+"leave",m,n,d),h.target=M,h.relatedTarget=T,C=null,ni(d)===u&&(k=new k(v,S+"enter",w,n,d),k.target=T,k.relatedTarget=M,C=k),M=C,m&&w)t:{for(k=m,v=w,S=0,T=k;T;T=ki(T))S++;for(T=0,C=v;C;C=ki(C))T++;for(;0<S-T;)k=ki(k),S--;for(;0<T-S;)v=ki(v),T--;for(;S--;){if(k===v||v!==null&&k===v.alternate)break t;k=ki(k),v=ki(v)}k=null}else k=null;m!==null&&Vf(p,h,m,k,!1),w!==null&&M!==null&&Vf(p,M,w,k,!0)}}e:{if(h=u?_i(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var I=m3;else if(Lf(h))if(Lg)I=x3;else{I=y3;var b=g3}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=v3);if(I&&(I=I(e,u))){Dg(p,I,n,d);break e}b&&b(e,h,u),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&n0(h,"number",h.value)}switch(b=u?_i(u):window,e){case"focusin":(Lf(b)||b.contentEditable==="true")&&(Mi=b,h0=u,Bo=null);break;case"focusout":Bo=h0=Mi=null;break;case"mousedown":m0=!0;break;case"contextmenu":case"mouseup":case"dragend":m0=!1,Of(p,n,d);break;case"selectionchange":if(k3)break;case"keydown":case"keyup":Of(p,n,d)}var R;if(Oc)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Ii?Rg(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(_g&&n.locale!=="ko"&&(Ii||z!=="onCompositionStart"?z==="onCompositionEnd"&&Ii&&(R=Ng()):(Cr=d,zc="value"in Cr?Cr.value:Cr.textContent,Ii=!0)),b=Ps(u,z),0<b.length&&(z=new _f(z,e,null,n,d),p.push({event:z,listeners:b}),R?z.data=R:(R=Pg(n),R!==null&&(z.data=R)))),(R=c3?d3(e,n):f3(e,n))&&(u=Ps(u,"onBeforeInput"),0<u.length&&(d=new _f("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=R))}$g(p,t)})}function ol(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ps(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zo(e,n),o!=null&&r.unshift(ol(e,o,i)),o=Zo(e,t),o!=null&&r.push(ol(e,o,i))),e=e.return}return r}function ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vf(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=Zo(n,o),a!=null&&l.unshift(ol(n,a,s))):i||(a=Zo(n,o),a!=null&&l.push(ol(n,a,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var b3=/\r\n?/g,A3=/\u0000|\uFFFD/g;function Gf(e){return(typeof e=="string"?e:""+e).replace(b3,`
`).replace(A3,"")}function Ol(e,t,n){if(t=Gf(t),Gf(e)!==t&&n)throw Error(Y(425))}function Ds(){}var g0=null,y0=null;function v0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var x0=typeof setTimeout=="function"?setTimeout:void 0,I3=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,M3=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(N3)}:x0;function N3(e){setTimeout(function(){throw e})}function iu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),tl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tl(t)}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var so=Math.random().toString(36).slice(2),Ln="__reactFiber$"+so,ll="__reactProps$"+so,rr="__reactContainer$"+so,w0="__reactEvents$"+so,_3="__reactListeners$"+so,R3="__reactHandles$"+so;function ni(e){var t=e[Ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rr]||n[Ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kf(e);e!==null;){if(n=e[Ln])return n;e=Kf(e)}return t}e=n,n=e.parentNode}return null}function Sl(e){return e=e[Ln]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _i(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function ha(e){return e[ll]||null}var S0=[],Ri=-1;function Vr(e){return{current:e}}function Oe(e){0>Ri||(e.current=S0[Ri],S0[Ri]=null,Ri--)}function Le(e,t){Ri++,S0[Ri]=e.current,e.current=t}var Ur={},vt=Vr(Ur),zt=Vr(!1),ai=Ur;function Qi(e,t){var n=e.type.contextTypes;if(!n)return Ur;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(e){return e=e.childContextTypes,e!=null}function Ls(){Oe(zt),Oe(vt)}function Wf(e,t,n){if(vt.current!==Ur)throw Error(Y(168));Le(vt,t),Le(zt,n)}function Wg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Y(108,g5(e)||"Unknown",i));return We({},n,r)}function Fs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ur,ai=vt.current,Le(vt,e),Le(zt,zt.current),!0}function Yf(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=Wg(e,t,ai),r.__reactInternalMemoizedMergedChildContext=e,Oe(zt),Oe(vt),Le(vt,e)):Oe(zt),Le(zt,n)}var Jn=null,ma=!1,ou=!1;function Yg(e){Jn===null?Jn=[e]:Jn.push(e)}function P3(e){ma=!0,Yg(e)}function Gr(){if(!ou&&Jn!==null){ou=!0;var e=0,t=Me;try{var n=Jn;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jn=null,ma=!1}catch(i){throw Jn!==null&&(Jn=Jn.slice(e+1)),xg(Pc,Gr),i}finally{Me=t,ou=!1}}return null}var Pi=[],Di=0,zs=null,Us=0,rn=[],on=0,ui=null,Qn=1,Zn="";function jr(e,t){Pi[Di++]=Us,Pi[Di++]=zs,zs=e,Us=t}function Jg(e,t,n){rn[on++]=Qn,rn[on++]=Zn,rn[on++]=ui,ui=e;var r=Qn;e=Zn;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var o=32-Cn(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Qn=1<<32-Cn(t)+i|n<<i|r,Zn=o+e}else Qn=1<<o|n<<i|r,Zn=e}function Hc(e){e.return!==null&&(jr(e,1),Jg(e,1,0))}function Vc(e){for(;e===zs;)zs=Pi[--Di],Pi[Di]=null,Us=Pi[--Di],Pi[Di]=null;for(;e===ui;)ui=rn[--on],rn[on]=null,Zn=rn[--on],rn[on]=null,Qn=rn[--on],rn[on]=null}var Yt=null,Wt=null,qe=!1,Tn=null;function Xg(e,t){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Wt=Rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ui!==null?{id:Qn,overflow:Zn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yt=e,Wt=null,!0):!1;default:return!1}}function k0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function T0(e){if(qe){var t=Wt;if(t){var n=t;if(!Jf(e,t)){if(k0(e))throw Error(Y(418));t=Rr(n.nextSibling);var r=Yt;t&&Jf(e,t)?Xg(r,n):(e.flags=e.flags&-4097|2,qe=!1,Yt=e)}}else{if(k0(e))throw Error(Y(418));e.flags=e.flags&-4097|2,qe=!1,Yt=e}}}function Xf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function ql(e){if(e!==Yt)return!1;if(!qe)return Xf(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!v0(e.type,e.memoizedProps)),t&&(t=Wt)){if(k0(e))throw Qg(),Error(Y(418));for(;t;)Xg(e,t),t=Rr(t.nextSibling)}if(Xf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wt=Rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=Yt?Rr(e.stateNode.nextSibling):null;return!0}function Qg(){for(var e=Wt;e;)e=Rr(e.nextSibling)}function Zi(){Wt=Yt=null,qe=!1}function Gc(e){Tn===null?Tn=[e]:Tn.push(e)}var D3=cr.ReactCurrentBatchConfig;function To(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function Hl(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qf(e){var t=e._init;return t(e._payload)}function Zg(e){function t(v,S){if(e){var T=v.deletions;T===null?(v.deletions=[S],v.flags|=16):T.push(S)}}function n(v,S){if(!e)return null;for(;S!==null;)t(v,S),S=S.sibling;return null}function r(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function i(v,S){return v=Fr(v,S),v.index=0,v.sibling=null,v}function o(v,S,T){return v.index=T,e?(T=v.alternate,T!==null?(T=T.index,T<S?(v.flags|=2,S):T):(v.flags|=2,S)):(v.flags|=1048576,S)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,S,T,C){return S===null||S.tag!==6?(S=fu(T,v.mode,C),S.return=v,S):(S=i(S,T),S.return=v,S)}function a(v,S,T,C){var I=T.type;return I===Ai?d(v,S,T.props.children,C,T.key):S!==null&&(S.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sr&&Qf(I)===S.type)?(C=i(S,T.props),C.ref=To(v,S,T),C.return=v,C):(C=vs(T.type,T.key,T.props,null,v.mode,C),C.ref=To(v,S,T),C.return=v,C)}function u(v,S,T,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=pu(T,v.mode,C),S.return=v,S):(S=i(S,T.children||[]),S.return=v,S)}function d(v,S,T,C,I){return S===null||S.tag!==7?(S=si(T,v.mode,C,I),S.return=v,S):(S=i(S,T),S.return=v,S)}function p(v,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=fu(""+S,v.mode,T),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _l:return T=vs(S.type,S.key,S.props,null,v.mode,T),T.ref=To(v,null,S),T.return=v,T;case bi:return S=pu(S,v.mode,T),S.return=v,S;case Sr:var C=S._init;return p(v,C(S._payload),T)}if(No(S)||vo(S))return S=si(S,v.mode,T,null),S.return=v,S;Hl(v,S)}return null}function h(v,S,T,C){var I=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return I!==null?null:s(v,S,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _l:return T.key===I?a(v,S,T,C):null;case bi:return T.key===I?u(v,S,T,C):null;case Sr:return I=T._init,h(v,S,I(T._payload),C)}if(No(T)||vo(T))return I!==null?null:d(v,S,T,C,null);Hl(v,T)}return null}function m(v,S,T,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(T)||null,s(S,v,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _l:return v=v.get(C.key===null?T:C.key)||null,a(S,v,C,I);case bi:return v=v.get(C.key===null?T:C.key)||null,u(S,v,C,I);case Sr:var b=C._init;return m(v,S,T,b(C._payload),I)}if(No(C)||vo(C))return v=v.get(T)||null,d(S,v,C,I,null);Hl(S,C)}return null}function w(v,S,T,C){for(var I=null,b=null,R=S,z=S=0,P=null;R!==null&&z<T.length;z++){R.index>z?(P=R,R=null):P=R.sibling;var _=h(v,R,T[z],C);if(_===null){R===null&&(R=P);break}e&&R&&_.alternate===null&&t(v,R),S=o(_,S,z),b===null?I=_:b.sibling=_,b=_,R=P}if(z===T.length)return n(v,R),qe&&jr(v,z),I;if(R===null){for(;z<T.length;z++)R=p(v,T[z],C),R!==null&&(S=o(R,S,z),b===null?I=R:b.sibling=R,b=R);return qe&&jr(v,z),I}for(R=r(v,R);z<T.length;z++)P=m(R,v,z,T[z],C),P!==null&&(e&&P.alternate!==null&&R.delete(P.key===null?z:P.key),S=o(P,S,z),b===null?I=P:b.sibling=P,b=P);return e&&R.forEach(function(q){return t(v,q)}),qe&&jr(v,z),I}function k(v,S,T,C){var I=vo(T);if(typeof I!="function")throw Error(Y(150));if(T=I.call(T),T==null)throw Error(Y(151));for(var b=I=null,R=S,z=S=0,P=null,_=T.next();R!==null&&!_.done;z++,_=T.next()){R.index>z?(P=R,R=null):P=R.sibling;var q=h(v,R,_.value,C);if(q===null){R===null&&(R=P);break}e&&R&&q.alternate===null&&t(v,R),S=o(q,S,z),b===null?I=q:b.sibling=q,b=q,R=P}if(_.done)return n(v,R),qe&&jr(v,z),I;if(R===null){for(;!_.done;z++,_=T.next())_=p(v,_.value,C),_!==null&&(S=o(_,S,z),b===null?I=_:b.sibling=_,b=_);return qe&&jr(v,z),I}for(R=r(v,R);!_.done;z++,_=T.next())_=m(R,v,z,_.value,C),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?z:_.key),S=o(_,S,z),b===null?I=_:b.sibling=_,b=_);return e&&R.forEach(function(B){return t(v,B)}),qe&&jr(v,z),I}function M(v,S,T,C){if(typeof T=="object"&&T!==null&&T.type===Ai&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case _l:e:{for(var I=T.key,b=S;b!==null;){if(b.key===I){if(I=T.type,I===Ai){if(b.tag===7){n(v,b.sibling),S=i(b,T.props.children),S.return=v,v=S;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sr&&Qf(I)===b.type){n(v,b.sibling),S=i(b,T.props),S.ref=To(v,b,T),S.return=v,v=S;break e}n(v,b);break}else t(v,b);b=b.sibling}T.type===Ai?(S=si(T.props.children,v.mode,C,T.key),S.return=v,v=S):(C=vs(T.type,T.key,T.props,null,v.mode,C),C.ref=To(v,S,T),C.return=v,v=C)}return l(v);case bi:e:{for(b=T.key;S!==null;){if(S.key===b)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){n(v,S.sibling),S=i(S,T.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else t(v,S);S=S.sibling}S=pu(T,v.mode,C),S.return=v,v=S}return l(v);case Sr:return b=T._init,M(v,S,b(T._payload),C)}if(No(T))return w(v,S,T,C);if(vo(T))return k(v,S,T,C);Hl(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(n(v,S.sibling),S=i(S,T),S.return=v,v=S):(n(v,S),S=fu(T,v.mode,C),S.return=v,v=S),l(v)):n(v,S)}return M}var ji=Zg(!0),jg=Zg(!1),Bs=Vr(null),Os=null,Li=null,$c=null;function Kc(){$c=Li=Os=null}function Wc(e){var t=Bs.current;Oe(Bs),e._currentValue=t}function E0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vi(e,t){Os=e,$c=Li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function fn(e){var t=e._currentValue;if($c!==e)if(e={context:e,memoizedValue:t,next:null},Li===null){if(Os===null)throw Error(Y(308));Li=e,Os.dependencies={lanes:0,firstContext:e}}else Li=Li.next=e;return t}var ri=null;function Yc(e){ri===null?ri=[e]:ri.push(e)}function e4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Yc(t)):(n.next=i.next,i.next=n),t.interleaved=n,ir(e,r)}function ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kr=!1;function Jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ir(e,n)}return i=r.interleaved,i===null?(t.next=t,Yc(r)):(t.next=i.next,i.next=t),r.interleaved=t,ir(e,n)}function fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dc(e,n)}}function Zf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var i=e.updateQueue;kr=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==l&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=a))}if(o!==null){var p=i.baseState;l=0,d=u=a=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var w=e,k=s;switch(h=t,m=n,k.tag){case 1:if(w=k.payload,typeof w=="function"){p=w.call(m,p,h);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=k.payload,h=typeof w=="function"?w.call(m,p,h):w,h==null)break e;p=We({},p,h);break e;case 2:kr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,a=p):d=d.next=m,l|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(a=p),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);di|=l,e.lanes=l,e.memoizedState=p}}function jf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var kl={},Bn=Vr(kl),sl=Vr(kl),al=Vr(kl);function ii(e){if(e===kl)throw Error(Y(174));return e}function Xc(e,t){switch(Le(al,t),Le(sl,e),Le(Bn,kl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:i0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=i0(t,e)}Oe(Bn),Le(Bn,t)}function eo(){Oe(Bn),Oe(sl),Oe(al)}function n4(e){ii(al.current);var t=ii(Bn.current),n=i0(t,e.type);t!==n&&(Le(sl,e),Le(Bn,n))}function Qc(e){sl.current===e&&(Oe(Bn),Oe(sl))}var Ge=Vr(0);function Hs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lu=[];function Zc(){for(var e=0;e<lu.length;e++)lu[e]._workInProgressVersionPrimary=null;lu.length=0}var ps=cr.ReactCurrentDispatcher,su=cr.ReactCurrentBatchConfig,ci=0,Ke=null,it=null,st=null,Vs=!1,Oo=!1,ul=0,L3=0;function pt(){throw Error(Y(321))}function jc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!In(e[n],t[n]))return!1;return!0}function ed(e,t,n,r,i,o){if(ci=o,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ps.current=e===null||e.memoizedState===null?B3:O3,e=n(r,i),Oo){o=0;do{if(Oo=!1,ul=0,25<=o)throw Error(Y(301));o+=1,st=it=null,t.updateQueue=null,ps.current=q3,e=n(r,i)}while(Oo)}if(ps.current=Gs,t=it!==null&&it.next!==null,ci=0,st=it=Ke=null,Vs=!1,t)throw Error(Y(300));return e}function td(){var e=ul!==0;return ul=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ke.memoizedState=st=e:st=st.next=e,st}function pn(){if(it===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=st===null?Ke.memoizedState:st.next;if(t!==null)st=t,it=e;else{if(e===null)throw Error(Y(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},st===null?Ke.memoizedState=st=e:st=st.next=e}return st}function cl(e,t){return typeof t=="function"?t(e):t}function au(e){var t=pn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=it,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,a=null,u=o;do{var d=u.lane;if((ci&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=p,l=r):a=a.next=p,Ke.lanes|=d,di|=d}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=s,In(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ke.lanes|=o,di|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uu(e){var t=pn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);In(o,t.memoizedState)||(Ft=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function r4(){}function i4(e,t){var n=Ke,r=pn(),i=t(),o=!In(r.memoizedState,i);if(o&&(r.memoizedState=i,Ft=!0),r=r.queue,nd(s4.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,dl(9,l4.bind(null,n,r,i,t),void 0,null),at===null)throw Error(Y(349));ci&30||o4(n,t,i)}return i}function o4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function l4(e,t,n,r){t.value=n,t.getSnapshot=r,a4(t)&&u4(e)}function s4(e,t,n){return n(function(){a4(t)&&u4(e)})}function a4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!In(e,n)}catch{return!0}}function u4(e){var t=ir(e,1);t!==null&&bn(t,e,1,-1)}function ep(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},t.queue=e,e=e.dispatch=U3.bind(null,Ke,e),[t.memoizedState,e]}function dl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function c4(){return pn().memoizedState}function hs(e,t,n,r){var i=Rn();Ke.flags|=e,i.memoizedState=dl(1|t,n,void 0,r===void 0?null:r)}function ga(e,t,n,r){var i=pn();r=r===void 0?null:r;var o=void 0;if(it!==null){var l=it.memoizedState;if(o=l.destroy,r!==null&&jc(r,l.deps)){i.memoizedState=dl(t,n,o,r);return}}Ke.flags|=e,i.memoizedState=dl(1|t,n,o,r)}function tp(e,t){return hs(8390656,8,e,t)}function nd(e,t){return ga(2048,8,e,t)}function d4(e,t){return ga(4,2,e,t)}function f4(e,t){return ga(4,4,e,t)}function p4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function h4(e,t,n){return n=n!=null?n.concat([e]):null,ga(4,4,p4.bind(null,t,e),n)}function rd(){}function m4(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function g4(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function y4(e,t,n){return ci&21?(In(n,t)||(n=kg(),Ke.lanes|=n,di|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n)}function F3(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=su.transition;su.transition={};try{e(!1),t()}finally{Me=n,su.transition=r}}function v4(){return pn().memoizedState}function z3(e,t,n){var r=Lr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},x4(e))w4(t,n);else if(n=e4(e,t,n,r),n!==null){var i=bt();bn(n,e,r,i),S4(n,t,r)}}function U3(e,t,n){var r=Lr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(x4(e))w4(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,In(s,l)){var a=t.interleaved;a===null?(i.next=i,Yc(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=e4(e,t,i,r),n!==null&&(i=bt(),bn(n,e,r,i),S4(n,t,r))}}function x4(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function w4(e,t){Oo=Vs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function S4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dc(e,n)}}var Gs={readContext:fn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},B3={readContext:fn,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:fn,useEffect:tp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hs(4194308,4,p4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return hs(4,2,e,t)},useMemo:function(e,t){var n=Rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=z3.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:ep,useDebugValue:rd,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=ep(!1),t=e[0];return e=F3.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,i=Rn();if(qe){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),at===null)throw Error(Y(349));ci&30||o4(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,tp(s4.bind(null,r,o,e),[e]),r.flags|=2048,dl(9,l4.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Rn(),t=at.identifierPrefix;if(qe){var n=Zn,r=Qn;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=L3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},O3={readContext:fn,useCallback:m4,useContext:fn,useEffect:nd,useImperativeHandle:h4,useInsertionEffect:d4,useLayoutEffect:f4,useMemo:g4,useReducer:au,useRef:c4,useState:function(){return au(cl)},useDebugValue:rd,useDeferredValue:function(e){var t=pn();return y4(t,it.memoizedState,e)},useTransition:function(){var e=au(cl)[0],t=pn().memoizedState;return[e,t]},useMutableSource:r4,useSyncExternalStore:i4,useId:v4,unstable_isNewReconciler:!1},q3={readContext:fn,useCallback:m4,useContext:fn,useEffect:nd,useImperativeHandle:h4,useInsertionEffect:d4,useLayoutEffect:f4,useMemo:g4,useReducer:uu,useRef:c4,useState:function(){return uu(cl)},useDebugValue:rd,useDeferredValue:function(e){var t=pn();return it===null?t.memoizedState=e:y4(t,it.memoizedState,e)},useTransition:function(){var e=uu(cl)[0],t=pn().memoizedState;return[e,t]},useMutableSource:r4,useSyncExternalStore:i4,useId:v4,unstable_isNewReconciler:!1};function wn(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function C0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:We({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return(e=e._reactInternals)?mi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bt(),i=Lr(e),o=jn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Pr(e,o,i),t!==null&&(bn(t,e,i,r),fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bt(),i=Lr(e),o=jn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Pr(e,o,i),t!==null&&(bn(t,e,i,r),fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bt(),r=Lr(e),i=jn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pr(e,i,r),t!==null&&(bn(t,e,r,n),fs(t,e,r))}};function np(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!rl(n,r)||!rl(i,o):!0}function k4(e,t,n){var r=!1,i=Ur,o=t.contextType;return typeof o=="object"&&o!==null?o=fn(o):(i=Ut(t)?ai:vt.current,r=t.contextTypes,o=(r=r!=null)?Qi(e,i):Ur),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function rp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function b0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Jc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=fn(o):(o=Ut(t)?ai:vt.current,i.context=Qi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(C0(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),qs(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function to(e,t){try{var n="",r=t;do n+=m5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function cu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function A0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var H3=typeof WeakMap=="function"?WeakMap:Map;function T4(e,t,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,z0=r),A0(e,t)},n}function E4(e,t,n){n=jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){A0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){A0(e,t),typeof r!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ip(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new H3;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=n6.bind(null,e,t,n),t.then(e,e))}function op(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jn(-1,1),t.tag=2,Pr(n,t,1))),n.lanes|=1),e)}var V3=cr.ReactCurrentOwner,Ft=!1;function Tt(e,t,n,r){t.child=e===null?jg(t,null,n,r):ji(t,e.child,n,r)}function sp(e,t,n,r,i){n=n.render;var o=t.ref;return Vi(t,i),r=ed(e,t,n,r,o,i),n=td(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(qe&&n&&Hc(t),t.flags|=1,Tt(e,t,r,i),t.child)}function ap(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!dd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,C4(e,t,o,r,i)):(e=vs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(l,r)&&e.ref===t.ref)return or(e,t,i)}return t.flags|=1,e=Fr(o,r),e.ref=t.ref,e.return=t,t.child=e}function C4(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(rl(o,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,or(e,t,i)}return I0(e,t,n,r,i)}function b4(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(zi,$t),$t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(zi,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(zi,$t),$t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Le(zi,$t),$t|=r;return Tt(e,t,i,n),t.child}function A4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function I0(e,t,n,r,i){var o=Ut(n)?ai:vt.current;return o=Qi(t,o),Vi(t,i),n=ed(e,t,n,r,o,i),r=td(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(qe&&r&&Hc(t),t.flags|=1,Tt(e,t,n,i),t.child)}function up(e,t,n,r,i){if(Ut(n)){var o=!0;Fs(t)}else o=!1;if(Vi(t,i),t.stateNode===null)ms(e,t),k4(t,n,r),b0(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Ut(n)?ai:vt.current,u=Qi(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&rp(t,l,r,u),kr=!1;var h=t.memoizedState;l.state=h,qs(t,r,l,i),a=t.memoizedState,s!==r||h!==a||zt.current||kr?(typeof d=="function"&&(C0(t,n,d,r),a=t.memoizedState),(s=kr||np(t,n,s,r,h,a,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,t4(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:wn(t.type,s),l.props=u,p=t.pendingProps,h=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=fn(a):(a=Ut(n)?ai:vt.current,a=Qi(t,a));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||h!==a)&&rp(t,l,r,a),kr=!1,h=t.memoizedState,l.state=h,qs(t,r,l,i);var w=t.memoizedState;s!==p||h!==w||zt.current||kr?(typeof m=="function"&&(C0(t,n,m,r),w=t.memoizedState),(u=kr||np(t,n,u,r,h,w,a)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),l.props=r,l.state=w,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return M0(e,t,n,r,o,i)}function M0(e,t,n,r,i,o){A4(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&Yf(t,n,!1),or(e,t,o);r=t.stateNode,V3.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=ji(t,e.child,null,o),t.child=ji(t,null,s,o)):Tt(e,t,s,o),t.memoizedState=r.state,i&&Yf(t,n,!0),t.child}function I4(e){var t=e.stateNode;t.pendingContext?Wf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wf(e,t.context,!1),Xc(e,t.containerInfo)}function cp(e,t,n,r,i){return Zi(),Gc(i),t.flags|=256,Tt(e,t,n,r),t.child}var N0={dehydrated:null,treeContext:null,retryLane:0};function _0(e){return{baseLanes:e,cachePool:null,transitions:null}}function M4(e,t,n){var r=t.pendingProps,i=Ge.current,o=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(Ge,i&1),e===null)return T0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=wa(l,r,0,null),e=si(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=_0(n),t.memoizedState=N0,e):id(t,l));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return G3(e,t,l,r,s,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Fr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Fr(s,o):(o=si(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?_0(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=N0,r}return o=e.child,e=o.sibling,r=Fr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function id(e,t){return t=wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vl(e,t,n,r){return r!==null&&Gc(r),ji(t,e.child,null,n),e=id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function G3(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=cu(Error(Y(422))),Vl(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=wa({mode:"visible",children:r.children},i,0,null),o=si(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ji(t,e.child,null,l),t.child.memoizedState=_0(l),t.memoizedState=N0,o);if(!(t.mode&1))return Vl(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Y(419)),r=cu(o,r,void 0),Vl(e,t,l,r)}if(s=(l&e.childLanes)!==0,Ft||s){if(r=at,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ir(e,i),bn(r,e,i,-1))}return cd(),r=cu(Error(Y(421))),Vl(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=r6.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Wt=Rr(i.nextSibling),Yt=t,qe=!0,Tn=null,e!==null&&(rn[on++]=Qn,rn[on++]=Zn,rn[on++]=ui,Qn=e.id,Zn=e.overflow,ui=t),t=id(t,r.children),t.flags|=4096,t)}function dp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),E0(e.return,t,n)}function du(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function N4(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Tt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dp(e,n,t);else if(e.tag===19)dp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Hs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),du(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Hs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}du(t,!0,n,null,o);break;case"together":du(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ms(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Fr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $3(e,t,n){switch(t.tag){case 3:I4(t),Zi();break;case 5:n4(t);break;case 1:Ut(t.type)&&Fs(t);break;case 4:Xc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Le(Bs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?M4(e,t,n):(Le(Ge,Ge.current&1),e=or(e,t,n),e!==null?e.sibling:null);Le(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return N4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,b4(e,t,n)}return or(e,t,n)}var _4,R0,R4,P4;_4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};R0=function(){};R4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ii(Bn.current);var o=null;switch(n){case"input":i=e0(e,i),r=e0(e,r),o=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),o=[];break;case"textarea":i=r0(e,i),r=r0(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ds)}o0(n,r);var l;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ue("scroll",e),o||s===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};P4=function(e,t,n,r){n!==r&&(t.flags|=4)};function Eo(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function K3(e,t,n){var r=t.pendingProps;switch(Vc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Ut(t.type)&&Ls(),ht(t),null;case 3:return r=t.stateNode,eo(),Oe(zt),Oe(vt),Zc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ql(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(O0(Tn),Tn=null))),R0(e,t),ht(t),null;case 5:Qc(t);var i=ii(al.current);if(n=t.type,e!==null&&t.stateNode!=null)R4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return ht(t),null}if(e=ii(Bn.current),ql(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ln]=t,r[ll]=o,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<Ro.length;i++)Ue(Ro[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":wf(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":kf(r,o),Ue("invalid",r)}o0(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ol(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ol(r.textContent,s,e),i=["children",""+s]):Xo.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Rl(r),Sf(r,o,!0);break;case"textarea":Rl(r),Tf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ds)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ln]=t,e[ll]=r,_4(e,t,!1,!1),t.stateNode=e;e:{switch(l=l0(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),i=r;break;case"iframe":case"object":case"embed":Ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ro.length;i++)Ue(Ro[i],e);i=r;break;case"source":Ue("error",e),i=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),i=r;break;case"details":Ue("toggle",e),i=r;break;case"input":wf(e,r),i=e0(e,r),Ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":kf(e,r),i=r0(e,r),Ue("invalid",e);break;default:i=r}o0(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?cg(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ag(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Qo(e,a):typeof a=="number"&&Qo(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Ue("scroll",e):a!=null&&Ic(e,o,a,l))}switch(n){case"input":Rl(e),Sf(e,r,!1);break;case"textarea":Rl(e),Tf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Bi(e,!!r.multiple,o,!1):r.defaultValue!=null&&Bi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ds)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)P4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=ii(al.current),ii(Bn.current),ql(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ln]=t,(o=r.nodeValue!==n)&&(e=Yt,e!==null))switch(e.tag){case 3:Ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ol(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=t,t.stateNode=r}return ht(t),null;case 13:if(Oe(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Wt!==null&&t.mode&1&&!(t.flags&128))Qg(),Zi(),t.flags|=98560,o=!1;else if(o=ql(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Y(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[Ln]=t}else Zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),o=!1}else Tn!==null&&(O0(Tn),Tn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?ot===0&&(ot=3):cd())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return eo(),R0(e,t),e===null&&il(t.stateNode.containerInfo),ht(t),null;case 10:return Wc(t.type._context),ht(t),null;case 17:return Ut(t.type)&&Ls(),ht(t),null;case 19:if(Oe(Ge),o=t.memoizedState,o===null)return ht(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Eo(o,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Hs(e),l!==null){for(t.flags|=128,Eo(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Ge,Ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ze()>no&&(t.flags|=128,r=!0,Eo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Hs(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Eo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!qe)return ht(t),null}else 2*Ze()-o.renderingStartTime>no&&n!==1073741824&&(t.flags|=128,r=!0,Eo(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=Ge.current,Le(Ge,r?n&1|2:n&1),t):(ht(t),null);case 22:case 23:return ud(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$t&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function W3(e,t){switch(Vc(t),t.tag){case 1:return Ut(t.type)&&Ls(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eo(),Oe(zt),Oe(vt),Zc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qc(t),null;case 13:if(Oe(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Ge),null;case 4:return eo(),null;case 10:return Wc(t.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var Gl=!1,mt=!1,Y3=typeof WeakSet=="function"?WeakSet:Set,se=null;function Fi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function P0(e,t,n){try{n()}catch(r){Je(e,t,r)}}var fp=!1;function J3(e,t){if(g0=_s,e=Ug(),qc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(s=l+i),p!==o||r!==0&&p.nodeType!==3||(a=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++u===i&&(s=l),h===o&&++d===r&&(a=l),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(y0={focusedElem:e,selectionRange:n},_s=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var k=w.memoizedProps,M=w.memoizedState,v=t.stateNode,S=v.getSnapshotBeforeUpdate(t.elementType===t.type?k:wn(t.type,k),M);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(C){Je(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return w=fp,fp=!1,w}function qo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&P0(t,n,o)}i=i.next}while(i!==r)}}function va(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function D0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function D4(e){var t=e.alternate;t!==null&&(e.alternate=null,D4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[ll],delete t[w0],delete t[_3],delete t[R3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function L4(e){return e.tag===5||e.tag===3||e.tag===4}function pp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function L0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ds));else if(r!==4&&(e=e.child,e!==null))for(L0(e,t,n),e=e.sibling;e!==null;)L0(e,t,n),e=e.sibling}function F0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(F0(e,t,n),e=e.sibling;e!==null;)F0(e,t,n),e=e.sibling}var ct=null,Sn=!1;function yr(e,t,n){for(n=n.child;n!==null;)F4(e,t,n),n=n.sibling}function F4(e,t,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(ca,n)}catch{}switch(n.tag){case 5:mt||Fi(n,t);case 6:var r=ct,i=Sn;ct=null,yr(e,t,n),ct=r,Sn=i,ct!==null&&(Sn?(e=ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(Sn?(e=ct,n=n.stateNode,e.nodeType===8?iu(e.parentNode,n):e.nodeType===1&&iu(e,n),tl(e)):iu(ct,n.stateNode));break;case 4:r=ct,i=Sn,ct=n.stateNode.containerInfo,Sn=!0,yr(e,t,n),ct=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&P0(n,t,l),i=i.next}while(i!==r)}yr(e,t,n);break;case 1:if(!mt&&(Fi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Je(n,t,s)}yr(e,t,n);break;case 21:yr(e,t,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,yr(e,t,n),mt=r):yr(e,t,n);break;default:yr(e,t,n)}}function hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Y3),t.forEach(function(r){var i=i6.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:ct=s.stateNode,Sn=!1;break e;case 3:ct=s.stateNode.containerInfo,Sn=!0;break e;case 4:ct=s.stateNode.containerInfo,Sn=!0;break e}s=s.return}if(ct===null)throw Error(Y(160));F4(o,l,i),ct=null,Sn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Je(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z4(t,e),t=t.sibling}function z4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(t,e),_n(e),r&4){try{qo(3,e,e.return),va(3,e)}catch(k){Je(e,e.return,k)}try{qo(5,e,e.return)}catch(k){Je(e,e.return,k)}}break;case 1:vn(t,e),_n(e),r&512&&n!==null&&Fi(n,n.return);break;case 5:if(vn(t,e),_n(e),r&512&&n!==null&&Fi(n,n.return),e.flags&32){var i=e.stateNode;try{Qo(i,"")}catch(k){Je(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&og(i,o),l0(s,l);var u=l0(s,o);for(l=0;l<a.length;l+=2){var d=a[l],p=a[l+1];d==="style"?cg(i,p):d==="dangerouslySetInnerHTML"?ag(i,p):d==="children"?Qo(i,p):Ic(i,d,p,u)}switch(s){case"input":t0(i,o);break;case"textarea":lg(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Bi(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Bi(i,!!o.multiple,o.defaultValue,!0):Bi(i,!!o.multiple,o.multiple?[]:"",!1))}i[ll]=o}catch(k){Je(e,e.return,k)}}break;case 6:if(vn(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(Y(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(k){Je(e,e.return,k)}}break;case 3:if(vn(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(t.containerInfo)}catch(k){Je(e,e.return,k)}break;case 4:vn(t,e),_n(e);break;case 13:vn(t,e),_n(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sd=Ze())),r&4&&hp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(mt=(u=mt)||d,vn(t,e),mt=u):vn(t,e),_n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(p=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:qo(4,h,h.return);break;case 1:Fi(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(k){Je(r,n,k)}}break;case 5:Fi(h,h.return);break;case 22:if(h.memoizedState!==null){gp(p);continue}}m!==null?(m.return=h,se=m):gp(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,a=p.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=ug("display",l))}catch(k){Je(e,e.return,k)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(k){Je(e,e.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vn(t,e),_n(e),r&4&&hp(e);break;case 21:break;default:vn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(L4(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qo(i,""),r.flags&=-33);var o=pp(e);F0(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=pp(e);L0(e,s,l);break;default:throw Error(Y(161))}}catch(a){Je(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X3(e,t,n){se=e,U4(e)}function U4(e,t,n){for(var r=(e.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Gl;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||mt;s=Gl;var u=mt;if(Gl=l,(mt=a)&&!u)for(se=i;se!==null;)l=se,a=l.child,l.tag===22&&l.memoizedState!==null?yp(i):a!==null?(a.return=l,se=a):yp(i);for(;o!==null;)se=o,U4(o),o=o.sibling;se=i,Gl=s,mt=u}mp(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):mp(e)}}function mp(e){for(;se!==null;){var t=se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mt||va(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:wn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&jf(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jf(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&tl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}mt||t.flags&512&&D0(t)}catch(h){Je(t,t.return,h)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function gp(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function yp(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{va(4,t)}catch(a){Je(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Je(t,i,a)}}var o=t.return;try{D0(t)}catch(a){Je(t,o,a)}break;case 5:var l=t.return;try{D0(t)}catch(a){Je(t,l,a)}}}catch(a){Je(t,t.return,a)}if(t===e){se=null;break}var s=t.sibling;if(s!==null){s.return=t.return,se=s;break}se=t.return}}var Q3=Math.ceil,$s=cr.ReactCurrentDispatcher,od=cr.ReactCurrentOwner,cn=cr.ReactCurrentBatchConfig,Ce=0,at=null,tt=null,dt=0,$t=0,zi=Vr(0),ot=0,fl=null,di=0,xa=0,ld=0,Ho=null,Lt=null,sd=0,no=1/0,Yn=null,Ks=!1,z0=null,Dr=null,$l=!1,br=null,Ws=0,Vo=0,U0=null,gs=-1,ys=0;function bt(){return Ce&6?Ze():gs!==-1?gs:gs=Ze()}function Lr(e){return e.mode&1?Ce&2&&dt!==0?dt&-dt:D3.transition!==null?(ys===0&&(ys=kg()),ys):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Mg(e.type)),e):1}function bn(e,t,n,r){if(50<Vo)throw Vo=0,U0=null,Error(Y(185));xl(e,n,r),(!(Ce&2)||e!==at)&&(e===at&&(!(Ce&2)&&(xa|=n),ot===4&&Er(e,dt)),Bt(e,r),n===1&&Ce===0&&!(t.mode&1)&&(no=Ze()+500,ma&&Gr()))}function Bt(e,t){var n=e.callbackNode;D5(e,t);var r=Ns(e,e===at?dt:0);if(r===0)n!==null&&bf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bf(n),t===1)e.tag===0?P3(vp.bind(null,e)):Yg(vp.bind(null,e)),M3(function(){!(Ce&6)&&Gr()}),n=null;else{switch(Tg(r)){case 1:n=Pc;break;case 4:n=wg;break;case 16:n=Ms;break;case 536870912:n=Sg;break;default:n=Ms}n=K4(n,B4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B4(e,t){if(gs=-1,ys=0,Ce&6)throw Error(Y(327));var n=e.callbackNode;if(Gi()&&e.callbackNode!==n)return null;var r=Ns(e,e===at?dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ys(e,r);else{t=r;var i=Ce;Ce|=2;var o=q4();(at!==e||dt!==t)&&(Yn=null,no=Ze()+500,li(e,t));do try{e6();break}catch(s){O4(e,s)}while(!0);Kc(),$s.current=o,Ce=i,tt!==null?t=0:(at=null,dt=0,t=ot)}if(t!==0){if(t===2&&(i=d0(e),i!==0&&(r=i,t=B0(e,i))),t===1)throw n=fl,li(e,0),Er(e,r),Bt(e,Ze()),n;if(t===6)Er(e,r);else{if(i=e.current.alternate,!(r&30)&&!Z3(i)&&(t=Ys(e,r),t===2&&(o=d0(e),o!==0&&(r=o,t=B0(e,o))),t===1))throw n=fl,li(e,0),Er(e,r),Bt(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:ei(e,Lt,Yn);break;case 3:if(Er(e,r),(r&130023424)===r&&(t=sd+500-Ze(),10<t)){if(Ns(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){bt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=x0(ei.bind(null,e,Lt,Yn),t);break}ei(e,Lt,Yn);break;case 4:if(Er(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-Cn(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q3(r/1960))-r,10<r){e.timeoutHandle=x0(ei.bind(null,e,Lt,Yn),r);break}ei(e,Lt,Yn);break;case 5:ei(e,Lt,Yn);break;default:throw Error(Y(329))}}}return Bt(e,Ze()),e.callbackNode===n?B4.bind(null,e):null}function B0(e,t){var n=Ho;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=Ys(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&O0(t)),e}function O0(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function Z3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!In(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~ld,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cn(t),r=1<<n;e[n]=-1,t&=~r}}function vp(e){if(Ce&6)throw Error(Y(327));Gi();var t=Ns(e,0);if(!(t&1))return Bt(e,Ze()),null;var n=Ys(e,t);if(e.tag!==0&&n===2){var r=d0(e);r!==0&&(t=r,n=B0(e,r))}if(n===1)throw n=fl,li(e,0),Er(e,t),Bt(e,Ze()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ei(e,Lt,Yn),Bt(e,Ze()),null}function ad(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(no=Ze()+500,ma&&Gr())}}function fi(e){br!==null&&br.tag===0&&!(Ce&6)&&Gi();var t=Ce;Ce|=1;var n=cn.transition,r=Me;try{if(cn.transition=null,Me=1,e)return e()}finally{Me=r,cn.transition=n,Ce=t,!(Ce&6)&&Gr()}}function ud(){$t=zi.current,Oe(zi)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,I3(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Vc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ls();break;case 3:eo(),Oe(zt),Oe(vt),Zc();break;case 5:Qc(r);break;case 4:eo();break;case 13:Oe(Ge);break;case 19:Oe(Ge);break;case 10:Wc(r.type._context);break;case 22:case 23:ud()}n=n.return}if(at=e,tt=e=Fr(e.current,null),dt=$t=t,ot=0,fl=null,ld=xa=di=0,Lt=Ho=null,ri!==null){for(t=0;t<ri.length;t++)if(n=ri[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}ri=null}return e}function O4(e,t){do{var n=tt;try{if(Kc(),ps.current=Gs,Vs){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vs=!1}if(ci=0,st=it=Ke=null,Oo=!1,ul=0,od.current=null,n===null||n.return===null){ot=1,fl=t,tt=null;break}e:{var o=e,l=n.return,s=n,a=t;if(t=dt,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=op(l);if(m!==null){m.flags&=-257,lp(m,l,s,o,t),m.mode&1&&ip(o,u,t),t=m,a=u;var w=t.updateQueue;if(w===null){var k=new Set;k.add(a),t.updateQueue=k}else w.add(a);break e}else{if(!(t&1)){ip(o,u,t),cd();break e}a=Error(Y(426))}}else if(qe&&s.mode&1){var M=op(l);if(M!==null){!(M.flags&65536)&&(M.flags|=256),lp(M,l,s,o,t),Gc(to(a,s));break e}}o=a=to(a,s),ot!==4&&(ot=2),Ho===null?Ho=[o]:Ho.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=T4(o,a,t);Zf(o,v);break e;case 1:s=a;var S=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Dr===null||!Dr.has(T)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=E4(o,s,t);Zf(o,C);break e}}o=o.return}while(o!==null)}V4(n)}catch(I){t=I,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function q4(){var e=$s.current;return $s.current=Gs,e===null?Gs:e}function cd(){(ot===0||ot===3||ot===2)&&(ot=4),at===null||!(di&268435455)&&!(xa&268435455)||Er(at,dt)}function Ys(e,t){var n=Ce;Ce|=2;var r=q4();(at!==e||dt!==t)&&(Yn=null,li(e,t));do try{j3();break}catch(i){O4(e,i)}while(!0);if(Kc(),Ce=n,$s.current=r,tt!==null)throw Error(Y(261));return at=null,dt=0,ot}function j3(){for(;tt!==null;)H4(tt)}function e6(){for(;tt!==null&&!C5();)H4(tt)}function H4(e){var t=$4(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?V4(e):tt=t,od.current=null}function V4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=W3(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,tt=null;return}}else if(n=K3(n,t,$t),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);ot===0&&(ot=5)}function ei(e,t,n){var r=Me,i=cn.transition;try{cn.transition=null,Me=1,t6(e,t,n,r)}finally{cn.transition=i,Me=r}return null}function t6(e,t,n,r){do Gi();while(br!==null);if(Ce&6)throw Error(Y(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(L5(e,o),e===at&&(tt=at=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,K4(Ms,function(){return Gi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cn.transition,cn.transition=null;var l=Me;Me=1;var s=Ce;Ce|=4,od.current=null,J3(e,n),z4(n,e),S3(y0),_s=!!g0,y0=g0=null,e.current=n,X3(n),b5(),Ce=s,Me=l,cn.transition=o}else e.current=n;if($l&&($l=!1,br=e,Ws=i),o=e.pendingLanes,o===0&&(Dr=null),M5(n.stateNode),Bt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=z0,z0=null,e;return Ws&1&&e.tag!==0&&Gi(),o=e.pendingLanes,o&1?e===U0?Vo++:(Vo=0,U0=e):Vo=0,Gr(),null}function Gi(){if(br!==null){var e=Tg(Ws),t=cn.transition,n=Me;try{if(cn.transition=null,Me=16>e?16:e,br===null)var r=!1;else{if(e=br,br=null,Ws=0,Ce&6)throw Error(Y(331));var i=Ce;for(Ce|=4,se=e.current;se!==null;){var o=se,l=o.child;if(se.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:qo(8,d,o)}var p=d.child;if(p!==null)p.return=d,se=p;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(D4(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var w=o.alternate;if(w!==null){var k=w.child;if(k!==null){w.child=null;do{var M=k.sibling;k.sibling=null,k=M}while(k!==null)}}se=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,se=l;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:qo(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,se=v;break e}se=o.return}}var S=e.current;for(se=S;se!==null;){l=se;var T=l.child;if(l.subtreeFlags&2064&&T!==null)T.return=l,se=T;else e:for(l=S;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:va(9,s)}}catch(I){Je(s,s.return,I)}if(s===l){se=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,se=C;break e}se=s.return}}if(Ce=i,Gr(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(ca,e)}catch{}r=!0}return r}finally{Me=n,cn.transition=t}}return!1}function xp(e,t,n){t=to(n,t),t=T4(e,t,1),e=Pr(e,t,1),t=bt(),e!==null&&(xl(e,1,t),Bt(e,t))}function Je(e,t,n){if(e.tag===3)xp(e,e,n);else for(;t!==null;){if(t.tag===3){xp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dr===null||!Dr.has(r))){e=to(n,e),e=E4(t,e,1),t=Pr(t,e,1),e=bt(),t!==null&&(xl(t,1,e),Bt(t,e));break}}t=t.return}}function n6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&n,at===e&&(dt&n)===n&&(ot===4||ot===3&&(dt&130023424)===dt&&500>Ze()-sd?li(e,0):ld|=n),Bt(e,t)}function G4(e,t){t===0&&(e.mode&1?(t=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):t=1);var n=bt();e=ir(e,t),e!==null&&(xl(e,t,n),Bt(e,n))}function r6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),G4(e,n)}function i6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),G4(e,n)}var $4;$4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ft=!1,$3(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,qe&&t.flags&1048576&&Jg(t,Us,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ms(e,t),e=t.pendingProps;var i=Qi(t,vt.current);Vi(t,n),i=ed(null,t,r,e,i,n);var o=td();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(o=!0,Fs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jc(t),i.updater=ya,t.stateNode=i,i._reactInternals=t,b0(t,r,e,n),t=M0(null,t,r,!0,o,n)):(t.tag=0,qe&&o&&Hc(t),Tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ms(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=l6(r),e=wn(r,e),i){case 0:t=I0(null,t,r,e,n);break e;case 1:t=up(null,t,r,e,n);break e;case 11:t=sp(null,t,r,e,n);break e;case 14:t=ap(null,t,r,wn(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wn(r,i),I0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wn(r,i),up(e,t,r,i,n);case 3:e:{if(I4(t),e===null)throw Error(Y(387));r=t.pendingProps,o=t.memoizedState,i=o.element,t4(e,t),qs(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=to(Error(Y(423)),t),t=cp(e,t,r,n,i);break e}else if(r!==i){i=to(Error(Y(424)),t),t=cp(e,t,r,n,i);break e}else for(Wt=Rr(t.stateNode.containerInfo.firstChild),Yt=t,qe=!0,Tn=null,n=jg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zi(),r===i){t=or(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return n4(t),e===null&&T0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,v0(r,i)?l=null:o!==null&&v0(r,o)&&(t.flags|=32),A4(e,t),Tt(e,t,l,n),t.child;case 6:return e===null&&T0(t),null;case 13:return M4(e,t,n);case 4:return Xc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ji(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wn(r,i),sp(e,t,r,i,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Le(Bs,r._currentValue),r._currentValue=l,o!==null)if(In(o.value,l)){if(o.children===i.children&&!zt.current){t=or(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=jn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),E0(o.return,n,t),s.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Y(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),E0(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vi(t,n),i=fn(i),r=r(i),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,i=wn(r,t.pendingProps),i=wn(r.type,i),ap(e,t,r,i,n);case 15:return C4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wn(r,i),ms(e,t),t.tag=1,Ut(r)?(e=!0,Fs(t)):e=!1,Vi(t,n),k4(t,r,i),b0(t,r,i,n),M0(null,t,r,!0,e,n);case 19:return N4(e,t,n);case 22:return b4(e,t,n)}throw Error(Y(156,t.tag))};function K4(e,t){return xg(e,t)}function o6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,r){return new o6(e,t,n,r)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function l6(e){if(typeof e=="function")return dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nc)return 11;if(e===_c)return 14}return 2}function Fr(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vs(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")dd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ai:return si(n.children,i,o,t);case Mc:l=8,i|=8;break;case Xu:return e=an(12,n,t,i|2),e.elementType=Xu,e.lanes=o,e;case Qu:return e=an(13,n,t,i),e.elementType=Qu,e.lanes=o,e;case Zu:return e=an(19,n,t,i),e.elementType=Zu,e.lanes=o,e;case ng:return wa(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eg:l=10;break e;case tg:l=9;break e;case Nc:l=11;break e;case _c:l=14;break e;case Sr:l=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=an(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function si(e,t,n,r){return e=an(7,e,r,t),e.lanes=n,e}function wa(e,t,n,r){return e=an(22,e,r,t),e.elementType=ng,e.lanes=n,e.stateNode={isHidden:!1},e}function fu(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function pu(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s6(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wa(0),this.expirationTimes=Wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fd(e,t,n,r,i,o,l,s,a){return e=new s6(e,t,n,s,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=an(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jc(o),e}function a6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function W4(e){if(!e)return Ur;e=e._reactInternals;e:{if(mi(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(Ut(n))return Wg(e,n,t)}return t}function Y4(e,t,n,r,i,o,l,s,a){return e=fd(n,r,!0,e,i,o,l,s,a),e.context=W4(null),n=e.current,r=bt(),i=Lr(n),o=jn(r,i),o.callback=t??null,Pr(n,o,i),e.current.lanes=i,xl(e,i,r),Bt(e,r),e}function Sa(e,t,n,r){var i=t.current,o=bt(),l=Lr(i);return n=W4(n),t.context===null?t.context=n:t.pendingContext=n,t=jn(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pr(i,t,l),e!==null&&(bn(e,i,l,o),fs(e,i,l)),l}function Js(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pd(e,t){wp(e,t),(e=e.alternate)&&wp(e,t)}function u6(){return null}var J4=typeof reportError=="function"?reportError:function(e){console.error(e)};function hd(e){this._internalRoot=e}ka.prototype.render=hd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Sa(e,t,null,null)};ka.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fi(function(){Sa(null,e,null,null)}),t[rr]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=bg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tr.length&&t!==0&&t<Tr[n].priority;n++);Tr.splice(n,0,e),n===0&&Ig(e)}};function md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function c6(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Js(l);o.call(u)}}var l=Y4(t,r,e,0,null,!1,!1,"",Sp);return e._reactRootContainer=l,e[rr]=l.current,il(e.nodeType===8?e.parentNode:e),fi(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Js(a);s.call(u)}}var a=fd(e,0,!1,null,null,!1,!1,"",Sp);return e._reactRootContainer=a,e[rr]=a.current,il(e.nodeType===8?e.parentNode:e),fi(function(){Sa(t,a,n,r)}),a}function Ea(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=Js(l);s.call(a)}}Sa(t,l,e,i)}else l=c6(n,t,e,i,r);return Js(l)}Eg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_o(t.pendingLanes);n!==0&&(Dc(t,n|1),Bt(t,Ze()),!(Ce&6)&&(no=Ze()+500,Gr()))}break;case 13:fi(function(){var r=ir(e,1);if(r!==null){var i=bt();bn(r,e,1,i)}}),pd(e,1)}};Lc=function(e){if(e.tag===13){var t=ir(e,134217728);if(t!==null){var n=bt();bn(t,e,134217728,n)}pd(e,134217728)}};Cg=function(e){if(e.tag===13){var t=Lr(e),n=ir(e,t);if(n!==null){var r=bt();bn(n,e,t,r)}pd(e,t)}};bg=function(){return Me};Ag=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};a0=function(e,t,n){switch(t){case"input":if(t0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ha(r);if(!i)throw Error(Y(90));ig(r),t0(r,i)}}}break;case"textarea":lg(e,n);break;case"select":t=n.value,t!=null&&Bi(e,!!n.multiple,t,!1)}};pg=ad;hg=fi;var d6={usingClientEntryPoint:!1,Events:[Sl,_i,ha,dg,fg,ad]},Co={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f6={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yg(e),e===null?null:e.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||u6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{ca=Kl.inject(f6),Un=Kl}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d6;Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!md(t))throw Error(Y(200));return a6(e,t,null,n)};Zt.createRoot=function(e,t){if(!md(e))throw Error(Y(299));var n=!1,r="",i=J4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=fd(e,1,!1,null,null,n,!1,r,i),e[rr]=t.current,il(e.nodeType===8?e.parentNode:e),new hd(t)};Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=yg(t),e=e===null?null:e.stateNode,e};Zt.flushSync=function(e){return fi(e)};Zt.hydrate=function(e,t,n){if(!Ta(t))throw Error(Y(200));return Ea(null,e,t,!0,n)};Zt.hydrateRoot=function(e,t,n){if(!md(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=J4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Y4(t,null,e,1,n??null,i,!1,o,l),e[rr]=t.current,il(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ka(t)};Zt.render=function(e,t,n){if(!Ta(t))throw Error(Y(200));return Ea(null,e,t,!1,n)};Zt.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(Y(40));return e._reactRootContainer?(fi(function(){Ea(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1};Zt.unstable_batchedUpdates=ad;Zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ta(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Ea(e,t,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function X4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X4)}catch(e){console.error(e)}}X4(),X1.exports=Zt;var p6=X1.exports,kp=p6;Yu.createRoot=kp.createRoot,Yu.hydrateRoot=kp.hydrateRoot;var ut=[];for(var hu=0;hu<256;++hu)ut.push((hu+256).toString(16).slice(1));function h6(e,t=0){return(ut[e[t+0]]+ut[e[t+1]]+ut[e[t+2]]+ut[e[t+3]]+"-"+ut[e[t+4]]+ut[e[t+5]]+"-"+ut[e[t+6]]+ut[e[t+7]]+"-"+ut[e[t+8]]+ut[e[t+9]]+"-"+ut[e[t+10]]+ut[e[t+11]]+ut[e[t+12]]+ut[e[t+13]]+ut[e[t+14]]+ut[e[t+15]]).toLowerCase()}var Wl,m6=new Uint8Array(16);function g6(){if(!Wl&&(Wl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wl(m6)}var y6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Tp={randomUUID:y6};function En(e,t,n){if(Tp.randomUUID&&!e)return Tp.randomUUID();e=e||{};var r=e.random||(e.rng||g6)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,h6(r)}/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q4=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=ae.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...s},a)=>ae.createElement("svg",{ref:a,...x6,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Q4("lucide",i),...s},[...l.map(([u,d])=>ae.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,t)=>{const n=ae.forwardRef(({className:r,...i},o)=>ae.createElement(w6,{ref:o,iconNode:t,className:Q4(`lucide-${v6(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Te("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Te("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Te("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Te("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=Te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=Te("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Te("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=Te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=Te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=Te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=Te("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=Te("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=Te("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ep={Settings:K6,Plus:H6,MessageSquare:F6,Trash2:j6,Menu:L6,X:nx,Send:$6,Image:P6,Bot:S6,User:tx,Code2:b6,PenTool:B6,Sparkles:W6,ChevronRight:C6,Save:G6,Copy:A6,Check:E6,Star:J6,Pin:O6,Brain:k6,ToggleLeft:Q6,ToggleRight:Z6,RefreshCw:V6,Globe:R6,Lightbulb:D6,Crown:I6,Square:Y6,Download:M6,Upload:ex,Folder:_6,FileText:N6,Briefcase:T6,Layout:z6,Terminal:X6,Play:q6,Edit3:U6},X=({name:e,size:t=20,className:n})=>{const r=Ep[e]||Ep.Sparkles;return x.jsx(r,{size:t,className:n})},rx=({isOpen:e,onClose:t,sessions:n,currentSessionId:r,onSelectSession:i,onNewSession:o,onDeleteSession:l,onOpenSettings:s,useMemoryForNewChats:a,onToggleMemoryUsage:u})=>x.jsxs(x.Fragment,{children:[e&&x.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden backdrop-blur-sm",onClick:t}),x.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-[280px] z-50
        bg-onyx-surface border-r border-onyx-border
        transform transition-transform duration-300 ease-in-out
        flex flex-col
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:static lg:h-screen
      `,children:[x.jsxs("div",{className:"p-6 pb-2",children:[x.jsxs("div",{className:"flex items-center justify-between mb-8",children:[x.jsx("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent",children:"Onyx Chat"}),x.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-onyx-surfaceLight text-onyx-textMuted hover:text-white transition-colors",children:x.jsx(X,{name:"Settings",size:20})})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("button",{onClick:()=>{o(),window.innerWidth<1024&&t()},className:"w-full py-3 px-4 bg-onyx-accent hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all active:scale-95 shadow-lg shadow-blue-900/20",children:[x.jsx(X,{name:"Plus",size:20}),x.jsx("span",{children:"New Chat"})]}),x.jsxs("button",{onClick:u,className:"w-full flex items-center justify-between px-3 py-2 rounded-lg bg-onyx-surfaceLight/50 hover:bg-onyx-surfaceLight transition-colors group",title:"Include 'Know Me' global memory in new chats",children:[x.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-onyx-textMuted group-hover:text-white",children:[x.jsx(X,{name:"Brain",size:14,className:a?"text-pink-400":""}),x.jsx("span",{children:"Global Memory"})]}),x.jsx(X,{name:a?"ToggleRight":"ToggleLeft",size:24,className:a?"text-onyx-accent":"text-onyx-textMuted"})]})]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 space-y-1",children:[x.jsx("div",{className:"text-xs font-semibold text-onyx-textMuted uppercase tracking-wider mb-3 px-2",children:"History"}),n.length===0?x.jsx("div",{className:"text-center py-10 text-onyx-textMuted opacity-50",children:x.jsx("p",{children:"No chats yet."})}):n.map(d=>x.jsxs("div",{onClick:()=>{i(d.id),window.innerWidth<1024&&t()},className:`
                  group relative flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all duration-200
                  ${r===d.id?"bg-onyx-surfaceLight text-white shadow-md":"text-onyx-textMuted hover:bg-onyx-surfaceLight/50 hover:text-white"}
                `,children:[x.jsx(X,{name:"MessageSquare",size:18,className:"opacity-70"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:"truncate text-sm font-medium",children:d.title||"Untitled Chat"}),d.memoryContext&&x.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[x.jsx(X,{name:"Brain",size:10,className:"text-pink-400/70"}),x.jsx("span",{className:"text-[10px] text-pink-400/70",children:"Context Active"})]})]}),x.jsx("button",{onClick:p=>l(d.id,p),className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-500/20 hover:text-red-400 rounded-lg transition-all",children:x.jsx(X,{name:"Trash2",size:14})})]},d.id))]}),x.jsx("div",{className:"p-4 border-t border-onyx-border text-xs text-onyx-textMuted text-center",children:"Powered by Gemini 2.5 & 3.0"})]})]});function Cp(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const l=n.slice(i,r).trim();(l||!o)&&t.push(l),i=r+1,r=n.indexOf(",",i)}return t}function ix(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ox=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sx={};function bp(e,t){return(sx.jsx?lx:ox).test(e)}const ax=/[ \t\n\f\r]/g;function ux(e){return typeof e=="object"?e.type==="text"?Ap(e.value):!1:Ap(e)}function Ap(e){return e.replace(ax,"")===""}class Tl{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Tl.prototype.normal={};Tl.prototype.property={};Tl.prototype.space=void 0;function Z4(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Tl(n,r,t)}function pl(e){return e.toLowerCase()}class Ot{constructor(t,n){this.attribute=n,this.property=t}}Ot.prototype.attribute="";Ot.prototype.booleanish=!1;Ot.prototype.boolean=!1;Ot.prototype.commaOrSpaceSeparated=!1;Ot.prototype.commaSeparated=!1;Ot.prototype.defined=!1;Ot.prototype.mustUseProperty=!1;Ot.prototype.number=!1;Ot.prototype.overloadedBoolean=!1;Ot.prototype.property="";Ot.prototype.spaceSeparated=!1;Ot.prototype.space=void 0;let cx=0;const ve=gi(),et=gi(),q0=gi(),J=gi(),De=gi(),$i=gi(),Gt=gi();function gi(){return 2**++cx}const H0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ve,booleanish:et,commaOrSpaceSeparated:Gt,commaSeparated:$i,number:J,overloadedBoolean:q0,spaceSeparated:De},Symbol.toStringTag,{value:"Module"})),mu=Object.keys(H0);class gd extends Ot{constructor(t,n,r,i){let o=-1;if(super(t,n),Ip(this,"space",i),typeof r=="number")for(;++o<mu.length;){const l=mu[o];Ip(this,mu[o],(r&H0[l])===H0[l])}}}gd.prototype.defined=!0;function Ip(e,t,n){n&&(e[t]=n)}function ao(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new gd(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[pl(r)]=r,n[pl(o.attribute)]=r}return new Tl(t,n,e.space)}const j4=ao({properties:{ariaActiveDescendant:null,ariaAtomic:et,ariaAutoComplete:null,ariaBusy:et,ariaChecked:et,ariaColCount:J,ariaColIndex:J,ariaColSpan:J,ariaControls:De,ariaCurrent:null,ariaDescribedBy:De,ariaDetails:null,ariaDisabled:et,ariaDropEffect:De,ariaErrorMessage:null,ariaExpanded:et,ariaFlowTo:De,ariaGrabbed:et,ariaHasPopup:null,ariaHidden:et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:De,ariaLevel:J,ariaLive:null,ariaModal:et,ariaMultiLine:et,ariaMultiSelectable:et,ariaOrientation:null,ariaOwns:De,ariaPlaceholder:null,ariaPosInSet:J,ariaPressed:et,ariaReadOnly:et,ariaRelevant:null,ariaRequired:et,ariaRoleDescription:De,ariaRowCount:J,ariaRowIndex:J,ariaRowSpan:J,ariaSelected:et,ariaSetSize:J,ariaSort:null,ariaValueMax:J,ariaValueMin:J,ariaValueNow:J,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function ey(e,t){return t in e?e[t]:t}function ty(e,t){return ey(e,t.toLowerCase())}const dx=ao({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$i,acceptCharset:De,accessKey:De,action:null,allow:null,allowFullScreen:ve,allowPaymentRequest:ve,allowUserMedia:ve,alt:null,as:null,async:ve,autoCapitalize:null,autoComplete:De,autoFocus:ve,autoPlay:ve,blocking:De,capture:null,charSet:null,checked:ve,cite:null,className:De,cols:J,colSpan:null,content:null,contentEditable:et,controls:ve,controlsList:De,coords:J|$i,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ve,defer:ve,dir:null,dirName:null,disabled:ve,download:q0,draggable:et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ve,formTarget:null,headers:De,height:J,hidden:q0,high:J,href:null,hrefLang:null,htmlFor:De,httpEquiv:De,id:null,imageSizes:null,imageSrcSet:null,inert:ve,inputMode:null,integrity:null,is:null,isMap:ve,itemId:null,itemProp:De,itemRef:De,itemScope:ve,itemType:De,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ve,low:J,manifest:null,max:null,maxLength:J,media:null,method:null,min:null,minLength:J,multiple:ve,muted:ve,name:null,nonce:null,noModule:ve,noValidate:ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ve,optimum:J,pattern:null,ping:De,placeholder:null,playsInline:ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ve,referrerPolicy:null,rel:De,required:ve,reversed:ve,rows:J,rowSpan:J,sandbox:De,scope:null,scoped:ve,seamless:ve,selected:ve,shadowRootClonable:ve,shadowRootDelegatesFocus:ve,shadowRootMode:null,shape:null,size:J,sizes:null,slot:null,span:J,spellCheck:et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:J,step:null,style:null,tabIndex:J,target:null,title:null,translate:null,type:null,typeMustMatch:ve,useMap:null,value:et,width:J,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:De,axis:null,background:null,bgColor:null,border:J,borderColor:null,bottomMargin:J,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ve,declare:ve,event:null,face:null,frame:null,frameBorder:null,hSpace:J,leftMargin:J,link:null,longDesc:null,lowSrc:null,marginHeight:J,marginWidth:J,noResize:ve,noHref:ve,noShade:ve,noWrap:ve,object:null,profile:null,prompt:null,rev:null,rightMargin:J,rules:null,scheme:null,scrolling:et,standby:null,summary:null,text:null,topMargin:J,valueType:null,version:null,vAlign:null,vLink:null,vSpace:J,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ve,disableRemotePlayback:ve,prefix:null,property:null,results:J,security:null,unselectable:null},space:"html",transform:ty}),fx=ao({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gt,accentHeight:J,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:J,amplitude:J,arabicForm:null,ascent:J,attributeName:null,attributeType:null,azimuth:J,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:J,by:null,calcMode:null,capHeight:J,className:De,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:J,diffuseConstant:J,direction:null,display:null,dur:null,divisor:J,dominantBaseline:null,download:ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:J,enableBackground:null,end:null,event:null,exponent:J,externalResourcesRequired:null,fill:null,fillOpacity:J,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$i,g2:$i,glyphName:$i,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:J,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:J,horizOriginX:J,horizOriginY:J,id:null,ideographic:J,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:J,k:J,k1:J,k2:J,k3:J,k4:J,kernelMatrix:Gt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:J,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:J,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:J,overlineThickness:J,paintOrder:null,panose1:null,path:null,pathLength:J,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:De,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:J,pointsAtY:J,pointsAtZ:J,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gt,rev:Gt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gt,requiredFeatures:Gt,requiredFonts:Gt,requiredFormats:Gt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:J,specularExponent:J,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:J,strikethroughThickness:J,string:null,stroke:null,strokeDashArray:Gt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:J,strokeOpacity:J,strokeWidth:null,style:null,surfaceScale:J,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gt,tabIndex:J,tableValues:null,target:null,targetX:J,targetY:J,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:J,underlineThickness:J,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:J,values:null,vAlphabetic:J,vMathematical:J,vectorEffect:null,vHanging:J,vIdeographic:J,version:null,vertAdvY:J,vertOriginX:J,vertOriginY:J,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:J,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ey}),ny=ao({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),ry=ao({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ty}),iy=ao({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),px={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hx=/[A-Z]/g,Mp=/-[a-z]/g,mx=/^data[-\w.:]+$/i;function oy(e,t){const n=pl(t);let r=t,i=Ot;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mx.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Mp,yx);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Mp.test(o)){let l=o.replace(hx,gx);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=gd}return new i(r,t)}function gx(e){return"-"+e.toLowerCase()}function yx(e){return e.charAt(1).toUpperCase()}const ly=Z4([j4,dx,ny,ry,iy],"html"),Ca=Z4([j4,fx,ny,ry,iy],"svg");function Np(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function vx(e){return e.join(" ").trim()}var yd={},_p=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,xx=/\n/g,wx=/^\s*/,Sx=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,kx=/^:\s*/,Tx=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Ex=/^[;\s]*/,Cx=/^\s+|\s+$/g,bx=`
`,Rp="/",Pp="*",ti="",Ax="comment",Ix="declaration";function Mx(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(w){var k=w.match(xx);k&&(n+=k.length);var M=w.lastIndexOf(bx);r=~M?w.length-M:r+w.length}function o(){var w={line:n,column:r};return function(k){return k.position=new l(w),u(),k}}function l(w){this.start=w,this.end={line:n,column:r},this.source=t.source}l.prototype.content=e;function s(w){var k=new Error(t.source+":"+n+":"+r+": "+w);if(k.reason=w,k.filename=t.source,k.line=n,k.column=r,k.source=e,!t.silent)throw k}function a(w){var k=w.exec(e);if(k){var M=k[0];return i(M),e=e.slice(M.length),k}}function u(){a(wx)}function d(w){var k;for(w=w||[];k=p();)k!==!1&&w.push(k);return w}function p(){var w=o();if(!(Rp!=e.charAt(0)||Pp!=e.charAt(1))){for(var k=2;ti!=e.charAt(k)&&(Pp!=e.charAt(k)||Rp!=e.charAt(k+1));)++k;if(k+=2,ti===e.charAt(k-1))return s("End of comment missing");var M=e.slice(2,k-2);return r+=2,i(M),e=e.slice(k),r+=2,w({type:Ax,comment:M})}}function h(){var w=o(),k=a(Sx);if(k){if(p(),!a(kx))return s("property missing ':'");var M=a(Tx),v=w({type:Ix,property:Dp(k[0].replace(_p,ti)),value:M?Dp(M[0].replace(_p,ti)):ti});return a(Ex),v}}function m(){var w=[];d(w);for(var k;k=h();)k!==!1&&(w.push(k),d(w));return w}return u(),m()}function Dp(e){return e?e.replace(Cx,ti):ti}var Nx=Mx,_x=Cs&&Cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yd,"__esModule",{value:!0});yd.default=Px;const Rx=_x(Nx);function Px(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Rx.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:l,value:s}=o;i?t(l,s,o):s&&(n=n||{},n[l]=s)}),n}var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.camelCase=void 0;var Dx=/^--[a-zA-Z0-9_-]+$/,Lx=/-([a-z])/g,Fx=/^[^-]+$/,zx=/^-(webkit|moz|ms|o|khtml)-/,Ux=/^-(ms)-/,Bx=function(e){return!e||Fx.test(e)||Dx.test(e)},Ox=function(e,t){return t.toUpperCase()},Lp=function(e,t){return"".concat(t,"-")},qx=function(e,t){return t===void 0&&(t={}),Bx(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Ux,Lp):e=e.replace(zx,Lp),e.replace(Lx,Ox))};ba.camelCase=qx;var Hx=Cs&&Cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Vx=Hx(yd),Gx=ba;function V0(e,t){var n={};return!e||typeof e!="string"||(0,Vx.default)(e,function(r,i){r&&i&&(n[(0,Gx.camelCase)(r,t)]=i)}),n}V0.default=V0;var $x=V0;const Kx=wc($x),sy=ay("end"),vd=ay("start");function ay(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Wx(e){const t=vd(e),n=sy(e);if(t&&n)return{start:t,end:n}}function Go(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Fp(e.position):"start"in e||"end"in e?Fp(e):"line"in e||"column"in e?G0(e):""}function G0(e){return zp(e&&e.line)+":"+zp(e&&e.column)}function Fp(e){return G0(e&&e.start)+"-"+G0(e&&e.end)}function zp(e){return e&&typeof e=="number"?e:1}class xt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Go(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}xt.prototype.file="";xt.prototype.name="";xt.prototype.reason="";xt.prototype.message="";xt.prototype.stack="";xt.prototype.column=void 0;xt.prototype.line=void 0;xt.prototype.ancestors=void 0;xt.prototype.cause=void 0;xt.prototype.fatal=void 0;xt.prototype.place=void 0;xt.prototype.ruleId=void 0;xt.prototype.source=void 0;const xd={}.hasOwnProperty,Yx=new Map,Jx=/[A-Z]/g,Xx=new Set(["table","tbody","thead","tfoot","tr"]),Qx=new Set(["td","th"]),uy="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Zx(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=l7(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=o7(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ca:ly,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=cy(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function cy(e,t,n){if(t.type==="element")return jx(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return e7(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return n7(e,t,n);if(t.type==="mdxjsEsm")return t7(e,t);if(t.type==="root")return r7(e,t,n);if(t.type==="text")return i7(e,t)}function jx(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ca,e.schema=i),e.ancestors.push(t);const o=fy(e,t.tagName,!1),l=s7(e,t);let s=Sd(e,t);return Xx.has(t.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!ux(a):!0})),dy(e,l,o,t),wd(l,s),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function e7(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}hl(e,t.position)}function t7(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);hl(e,t.position)}function n7(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Ca,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:fy(e,t.name,!0),l=a7(e,t),s=Sd(e,t);return dy(e,l,o,t),wd(l,s),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function r7(e,t,n){const r={};return wd(r,Sd(e,t)),e.create(t,e.Fragment,r,n)}function i7(e,t){return t.value}function dy(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function wd(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function o7(e,t,n){return r;function r(i,o,l,s){const u=Array.isArray(l.children)?n:t;return s?u(o,l,s):u(o,l)}}function l7(e,t){return n;function n(r,i,o,l){const s=Array.isArray(o.children),a=vd(r);return t(i,o,l,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function s7(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&xd.call(t.properties,i)){const o=u7(e,i,t.properties[i]);if(o){const[l,s]=o;e.tableCellAlignToStyle&&l==="align"&&typeof s=="string"&&Qx.has(t.tagName)?r=s:n[l]=s}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function a7(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const s=l.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else hl(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,o=e.evaluater.evaluateExpression(s.expression)}else hl(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Sd(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Yx;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const u=i.get(a)||0;l=a+"-"+u,i.set(a,u+1)}}const s=cy(e,o,l);s!==void 0&&n.push(s)}return n}function u7(e,t,n){const r=oy(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ix(n):vx(n)),r.property==="style"){let i=typeof n=="object"?n:c7(e,String(n));return e.stylePropertyNameCase==="css"&&(i=d7(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?px[r.property]||r.property:r.attribute,n]}}function c7(e,t){try{return Kx(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new xt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=uy+"#cannot-parse-style-attribute",i}}function fy(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const s=bp(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=l}else r=bp(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return xd.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);hl(e)}function hl(e,t){const n=new xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=uy+"#cannot-handle-mdx-estrees-without-createevaluater",n}function d7(e){const t={};let n;for(n in e)xd.call(e,n)&&(t[f7(n)]=e[n]);return t}function f7(e){let t=e.replace(Jx,p7);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function p7(e){return"-"+e.toLowerCase()}const gu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},h7={};function kd(e,t){const n=h7,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return py(e,r,i)}function py(e,t,n){if(m7(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Up(e.children,t,n)}return Array.isArray(e)?Up(e,t,n):""}function Up(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=py(e[i],t,n);return r.join("")}function m7(e){return!!(e&&typeof e=="object")}const Bp=document.createElement("i");function Td(e){const t="&"+e+";";Bp.innerHTML=t;const n=Bp.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Jt(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function ln(e,t){return e.length>0?(Jt(e,e.length,0,t),e):t}const Op={}.hasOwnProperty;function hy(e){const t={};let n=-1;for(;++n<e.length;)g7(t,e[n]);return t}function g7(e,t){let n;for(n in t){const i=(Op.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){Op.call(i,l)||(i[l]=[]);const s=o[l];y7(i[l],Array.isArray(s)?s:s?[s]:[])}}}function y7(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Jt(e,0,0,r)}function my(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function An(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Et=$r(/[A-Za-z]/),gt=$r(/[\dA-Za-z]/),v7=$r(/[#-'*+\--9=?A-Z^-~]/);function Xs(e){return e!==null&&(e<32||e===127)}const $0=$r(/\d/),x7=$r(/[\dA-Fa-f]/),w7=$r(/[!-/:-@[-`{-~]/);function ue(e){return e!==null&&e<-2}function _e(e){return e!==null&&(e<0||e===32)}function Se(e){return e===-2||e===-1||e===32}const Aa=$r(new RegExp("\\p{P}|\\p{S}","u")),pi=$r(/\s/);function $r(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function uo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&gt(e.charCodeAt(n+1))&&gt(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(l=String.fromCharCode(o,s),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function we(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(a){return Se(a)?(e.enter(n),s(a)):t(a)}function s(a){return Se(a)&&o++<i?(e.consume(a),s):(e.exit(n),t(a))}}const S7={tokenize:k7};function k7(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),we(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,l(s)}function l(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return ue(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),l)}}const T7={tokenize:E7},qp={tokenize:C7};function E7(e){const t=this,n=[];let r=0,i,o,l;return s;function s(T){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,a,u)(T)}return u(T)}function a(T){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&S();const C=t.events.length;let I=C,b;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){b=t.events[I][1].end;break}v(r);let R=C;for(;R<t.events.length;)t.events[R][1].end={...b},R++;return Jt(t.events,I+1,0,t.events.slice(C)),t.events.length=R,u(T)}return s(T)}function u(T){if(r===n.length){if(!i)return h(T);if(i.currentConstruct&&i.currentConstruct.concrete)return w(T);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(qp,d,p)(T)}function d(T){return i&&S(),v(r),h(T)}function p(T){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,w(T)}function h(T){return t.containerState={},e.attempt(qp,m,w)(T)}function m(T){return r++,n.push([t.currentConstruct,t.containerState]),h(T)}function w(T){if(T===null){i&&S(),v(0),e.consume(T);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),k(T)}function k(T){if(T===null){M(e.exit("chunkFlow"),!0),v(0),e.consume(T);return}return ue(T)?(e.consume(T),M(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(T),k)}function M(T,C){const I=t.sliceStream(T);if(C&&I.push(null),T.previous=o,o&&(o.next=T),o=T,i.defineSkip(T.start),i.write(I),t.parser.lazy[T.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<l&&(!i.events[b][1].end||i.events[b][1].end.offset>l))return;const R=t.events.length;let z=R,P,_;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(P){_=t.events[z][1].end;break}P=!0}for(v(r),b=R;b<t.events.length;)t.events[b][1].end={..._},b++;Jt(t.events,z+1,0,t.events.slice(R)),t.events.length=b}}function v(T){let C=n.length;for(;C-- >T;){const I=n[C];t.containerState=I[1],I[0].exit.call(t,e)}n.length=T}function S(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function C7(e,t,n){return we(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ro(e){if(e===null||_e(e)||pi(e))return 1;if(Aa(e))return 2}function Ia(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const K0={name:"attention",resolveAll:b7,tokenize:A7};function b7(e,t){let n=-1,r,i,o,l,s,a,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},h={...e[n][1].start};Hp(p,-a),Hp(h,a),l={type:a>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},o={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...l.start},end:{...s.end}},e[r][1].end={...l.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ln(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ln(u,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),u=ln(u,Ia(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ln(u,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=ln(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Jt(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function A7(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ro(r);let o;return l;function l(a){return o=a,e.enter("attentionSequence"),s(a)}function s(a){if(a===o)return e.consume(a),s;const u=e.exit("attentionSequence"),d=ro(a),p=!d||d===2&&i||n.includes(a),h=!i||i===2&&d||n.includes(r);return u._open=!!(o===42?p:p&&(i||!h)),u._close=!!(o===42?h:h&&(d||!p)),t(a)}}function Hp(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const I7={name:"autolink",tokenize:M7};function M7(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return Et(m)?(e.consume(m),l):m===64?n(m):u(m)}function l(m){return m===43||m===45||m===46||gt(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(e.consume(m),r=0,a):(m===43||m===45||m===46||gt(m))&&r++<32?(e.consume(m),s):(r=0,u(m))}function a(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Xs(m)?n(m):(e.consume(m),a)}function u(m){return m===64?(e.consume(m),d):v7(m)?(e.consume(m),u):n(m)}function d(m){return gt(m)?p(m):n(m)}function p(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||gt(m))&&r++<63){const w=m===45?h:p;return e.consume(m),w}return n(m)}}const El={partial:!0,tokenize:N7};function N7(e,t,n){return r;function r(o){return Se(o)?we(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ue(o)?t(o):n(o)}}const gy={continuation:{tokenize:R7},exit:P7,name:"blockQuote",tokenize:_7};function _7(e,t,n){const r=this;return i;function i(l){if(l===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Se(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function R7(e,t,n){const r=this;return i;function i(l){return Se(l)?we(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(gy,t,n)(l)}}function P7(e){e.exit("blockQuote")}const yy={name:"characterEscape",tokenize:D7};function D7(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return w7(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const vy={name:"characterReference",tokenize:L7};function L7(e,t,n){const r=this;let i=0,o,l;return s;function s(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),a}function a(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,l=gt,d(p))}function u(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=x7,d):(e.enter("characterReferenceValue"),o=7,l=$0,d(p))}function d(p){if(p===59&&i){const h=e.exit("characterReferenceValue");return l===gt&&!Td(r.sliceSerialize(h))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&i++<o?(e.consume(p),d):n(p)}}const Vp={partial:!0,tokenize:z7},Gp={concrete:!0,name:"codeFenced",tokenize:F7};function F7(e,t,n){const r=this,i={partial:!0,tokenize:I};let o=0,l=0,s;return a;function a(b){return u(b)}function u(b){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,s=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(b)}function d(b){return b===s?(l++,e.consume(b),d):l<3?n(b):(e.exit("codeFencedFenceSequence"),Se(b)?we(e,p,"whitespace")(b):p(b))}function p(b){return b===null||ue(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(Vp,k,C)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===null||ue(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(b)):Se(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),we(e,m,"whitespace")(b)):b===96&&b===s?n(b):(e.consume(b),h)}function m(b){return b===null||ue(b)?p(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(b))}function w(b){return b===null||ue(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(b)):b===96&&b===s?n(b):(e.consume(b),w)}function k(b){return e.attempt(i,C,M)(b)}function M(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),v}function v(b){return o>0&&Se(b)?we(e,S,"linePrefix",o+1)(b):S(b)}function S(b){return b===null||ue(b)?e.check(Vp,k,C)(b):(e.enter("codeFlowValue"),T(b))}function T(b){return b===null||ue(b)?(e.exit("codeFlowValue"),S(b)):(e.consume(b),T)}function C(b){return e.exit("codeFenced"),t(b)}function I(b,R,z){let P=0;return _;function _(re){return b.enter("lineEnding"),b.consume(re),b.exit("lineEnding"),q}function q(re){return b.enter("codeFencedFence"),Se(re)?we(b,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):B(re)}function B(re){return re===s?(b.enter("codeFencedFenceSequence"),G(re)):z(re)}function G(re){return re===s?(P++,b.consume(re),G):P>=l?(b.exit("codeFencedFenceSequence"),Se(re)?we(b,j,"whitespace")(re):j(re)):z(re)}function j(re){return re===null||ue(re)?(b.exit("codeFencedFence"),R(re)):z(re)}}}function z7(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const yu={name:"codeIndented",tokenize:B7},U7={partial:!0,tokenize:O7};function B7(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),we(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?a(u):ue(u)?e.attempt(U7,l,a)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||ue(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),s)}function a(u){return e.exit("codeIndented"),t(u)}}function O7(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):ue(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):we(e,o,"linePrefix",5)(l)}function o(l){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(l):ue(l)?i(l):n(l)}}const q7={name:"codeText",previous:V7,resolve:H7,tokenize:G7};function H7(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function V7(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function G7(e,t,n){let r=0,i,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),s(p)}function s(p){return p===96?(e.consume(p),r++,s):(e.exit("codeTextSequence"),a(p))}function a(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),a):p===96?(o=e.enter("codeTextSequence"),i=0,d(p)):ue(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||ue(p)?(e.exit("codeTextData"),a(p)):(e.consume(p),u)}function d(p){return p===96?(e.consume(p),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",u(p))}}class $7{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bo(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),bo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),bo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);bo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);bo(this.left,n.reverse())}}}function bo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function xy(e){const t={};let n=-1,r,i,o,l,s,a,u;const d=new $7(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,K7(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=d.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(r),d.splice(i,n-i+1,s))}}return Jt(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function K7(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const s=l.events,a=[],u={};let d,p,h=-1,m=n,w=0,k=0;const M=[k];for(;m;){for(;e.get(++i)[1]!==m;);o.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),p&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(k=h+1,M.push(k),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):M.pop(),h=M.length;h--;){const v=s.slice(M[h],M[h+1]),S=o.pop();a.push([S,S+v.length-1]),e.splice(S,2,v)}for(a.reverse(),h=-1;++h<a.length;)u[w+a[h][0]]=w+a[h][1],w+=a[h][1]-a[h][0]-1;return u}const W7={resolve:J7,tokenize:X7},Y7={partial:!0,tokenize:Q7};function J7(e){return xy(e),e}function X7(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):ue(s)?e.check(Y7,l,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function l(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Q7(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),we(e,o,"linePrefix")}function o(l){if(l===null||ue(l))return n(l);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function wy(e,t,n,r,i,o,l,s,a){const u=a||Number.POSITIVE_INFINITY;let d=0;return p;function p(v){return v===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(v),e.exit(o),h):v===null||v===32||v===41||Xs(v)?n(v):(e.enter(r),e.enter(l),e.enter(s),e.enter("chunkString",{contentType:"string"}),k(v))}function h(v){return v===62?(e.enter(o),e.consume(v),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(e.exit("chunkString"),e.exit(s),h(v)):v===null||v===60||ue(v)?n(v):(e.consume(v),v===92?w:m)}function w(v){return v===60||v===62||v===92?(e.consume(v),m):m(v)}function k(v){return!d&&(v===null||v===41||_e(v))?(e.exit("chunkString"),e.exit(s),e.exit(l),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,k):v===41?(e.consume(v),d--,k):v===null||v===32||v===40||Xs(v)?n(v):(e.consume(v),v===92?M:k)}function M(v){return v===40||v===41||v===92?(e.consume(v),k):k(v)}}function Sy(e,t,n,r,i,o){const l=this;let s=0,a;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(o),d}function d(m){return s>999||m===null||m===91||m===93&&!a||m===94&&!s&&"_hiddenFootnoteSupport"in l.parser.constructs?n(m):m===93?(e.exit(o),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):ue(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||ue(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),a||(a=!Se(m)),m===92?h:p)}function h(m){return m===91||m===92||m===93?(e.consume(m),s++,p):p(m)}}function ky(e,t,n,r,i,o){let l;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),l=h===40?41:h,a):n(h)}function a(h){return h===l?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(o),u(h))}function u(h){return h===l?(e.exit(o),a(l)):h===null?n(h):ue(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),we(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===l||h===null||ue(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?p:d)}function p(h){return h===l||h===92?(e.consume(h),d):d(h)}}function $o(e,t){let n;return r;function r(i){return ue(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Se(i)?we(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Z7={name:"definition",tokenize:e8},j7={partial:!0,tokenize:t8};function e8(e,t,n){const r=this;let i;return o;function o(m){return e.enter("definition"),l(m)}function l(m){return Sy.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=An(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a):n(m)}function a(m){return _e(m)?$o(e,u)(m):u(m)}function u(m){return wy(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(j7,p,p)(m)}function p(m){return Se(m)?we(e,h,"whitespace")(m):h(m)}function h(m){return m===null||ue(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function t8(e,t,n){return r;function r(s){return _e(s)?$o(e,i)(s):n(s)}function i(s){return ky(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Se(s)?we(e,l,"whitespace")(s):l(s)}function l(s){return s===null||ue(s)?t(s):n(s)}}const n8={name:"hardBreakEscape",tokenize:r8};function r8(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ue(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const i8={name:"headingAtx",resolve:o8,tokenize:l8};function o8(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Jt(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function l8(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&r++<6?(e.consume(d),l):d===null||_e(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),a(d)):d===null||ue(d)?(e.exit("atxHeading"),t(d)):Se(d)?we(e,s,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function a(d){return d===35?(e.consume(d),a):(e.exit("atxHeadingSequence"),s(d))}function u(d){return d===null||d===35||_e(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),u)}}const s8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$p=["pre","script","style","textarea"],a8={concrete:!0,name:"htmlFlow",resolveTo:d8,tokenize:f8},u8={partial:!0,tokenize:h8},c8={partial:!0,tokenize:p8};function d8(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function f8(e,t,n){const r=this;let i,o,l,s,a;return u;function u(F){return d(F)}function d(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),p}function p(F){return F===33?(e.consume(F),h):F===47?(e.consume(F),o=!0,k):F===63?(e.consume(F),i=3,r.interrupt?t:N):Et(F)?(e.consume(F),l=String.fromCharCode(F),M):n(F)}function h(F){return F===45?(e.consume(F),i=2,m):F===91?(e.consume(F),i=5,s=0,w):Et(F)?(e.consume(F),i=4,r.interrupt?t:N):n(F)}function m(F){return F===45?(e.consume(F),r.interrupt?t:N):n(F)}function w(F){const ze="CDATA[";return F===ze.charCodeAt(s++)?(e.consume(F),s===ze.length?r.interrupt?t:B:w):n(F)}function k(F){return Et(F)?(e.consume(F),l=String.fromCharCode(F),M):n(F)}function M(F){if(F===null||F===47||F===62||_e(F)){const ze=F===47,Xe=l.toLowerCase();return!ze&&!o&&$p.includes(Xe)?(i=1,r.interrupt?t(F):B(F)):s8.includes(l.toLowerCase())?(i=6,ze?(e.consume(F),v):r.interrupt?t(F):B(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):o?S(F):T(F))}return F===45||gt(F)?(e.consume(F),l+=String.fromCharCode(F),M):n(F)}function v(F){return F===62?(e.consume(F),r.interrupt?t:B):n(F)}function S(F){return Se(F)?(e.consume(F),S):_(F)}function T(F){return F===47?(e.consume(F),_):F===58||F===95||Et(F)?(e.consume(F),C):Se(F)?(e.consume(F),T):_(F)}function C(F){return F===45||F===46||F===58||F===95||gt(F)?(e.consume(F),C):I(F)}function I(F){return F===61?(e.consume(F),b):Se(F)?(e.consume(F),I):T(F)}function b(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),a=F,R):Se(F)?(e.consume(F),b):z(F)}function R(F){return F===a?(e.consume(F),a=null,P):F===null||ue(F)?n(F):(e.consume(F),R)}function z(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||_e(F)?I(F):(e.consume(F),z)}function P(F){return F===47||F===62||Se(F)?T(F):n(F)}function _(F){return F===62?(e.consume(F),q):n(F)}function q(F){return F===null||ue(F)?B(F):Se(F)?(e.consume(F),q):n(F)}function B(F){return F===45&&i===2?(e.consume(F),ie):F===60&&i===1?(e.consume(F),ce):F===62&&i===4?(e.consume(F),pe):F===63&&i===3?(e.consume(F),N):F===93&&i===5?(e.consume(F),ee):ue(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(u8,ge,G)(F)):F===null||ue(F)?(e.exit("htmlFlowData"),G(F)):(e.consume(F),B)}function G(F){return e.check(c8,j,ge)(F)}function j(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),re}function re(F){return F===null||ue(F)?G(F):(e.enter("htmlFlowData"),B(F))}function ie(F){return F===45?(e.consume(F),N):B(F)}function ce(F){return F===47?(e.consume(F),l="",V):B(F)}function V(F){if(F===62){const ze=l.toLowerCase();return $p.includes(ze)?(e.consume(F),pe):B(F)}return Et(F)&&l.length<8?(e.consume(F),l+=String.fromCharCode(F),V):B(F)}function ee(F){return F===93?(e.consume(F),N):B(F)}function N(F){return F===62?(e.consume(F),pe):F===45&&i===2?(e.consume(F),N):B(F)}function pe(F){return F===null||ue(F)?(e.exit("htmlFlowData"),ge(F)):(e.consume(F),pe)}function ge(F){return e.exit("htmlFlow"),t(F)}}function p8(e,t,n){const r=this;return i;function i(l){return ue(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function h8(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(El,t,n)}}const m8={name:"htmlText",tokenize:g8};function g8(e,t,n){const r=this;let i,o,l;return s;function s(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),a}function a(N){return N===33?(e.consume(N),u):N===47?(e.consume(N),I):N===63?(e.consume(N),T):Et(N)?(e.consume(N),z):n(N)}function u(N){return N===45?(e.consume(N),d):N===91?(e.consume(N),o=0,w):Et(N)?(e.consume(N),S):n(N)}function d(N){return N===45?(e.consume(N),m):n(N)}function p(N){return N===null?n(N):N===45?(e.consume(N),h):ue(N)?(l=p,ce(N)):(e.consume(N),p)}function h(N){return N===45?(e.consume(N),m):p(N)}function m(N){return N===62?ie(N):N===45?h(N):p(N)}function w(N){const pe="CDATA[";return N===pe.charCodeAt(o++)?(e.consume(N),o===pe.length?k:w):n(N)}function k(N){return N===null?n(N):N===93?(e.consume(N),M):ue(N)?(l=k,ce(N)):(e.consume(N),k)}function M(N){return N===93?(e.consume(N),v):k(N)}function v(N){return N===62?ie(N):N===93?(e.consume(N),v):k(N)}function S(N){return N===null||N===62?ie(N):ue(N)?(l=S,ce(N)):(e.consume(N),S)}function T(N){return N===null?n(N):N===63?(e.consume(N),C):ue(N)?(l=T,ce(N)):(e.consume(N),T)}function C(N){return N===62?ie(N):T(N)}function I(N){return Et(N)?(e.consume(N),b):n(N)}function b(N){return N===45||gt(N)?(e.consume(N),b):R(N)}function R(N){return ue(N)?(l=R,ce(N)):Se(N)?(e.consume(N),R):ie(N)}function z(N){return N===45||gt(N)?(e.consume(N),z):N===47||N===62||_e(N)?P(N):n(N)}function P(N){return N===47?(e.consume(N),ie):N===58||N===95||Et(N)?(e.consume(N),_):ue(N)?(l=P,ce(N)):Se(N)?(e.consume(N),P):ie(N)}function _(N){return N===45||N===46||N===58||N===95||gt(N)?(e.consume(N),_):q(N)}function q(N){return N===61?(e.consume(N),B):ue(N)?(l=q,ce(N)):Se(N)?(e.consume(N),q):P(N)}function B(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),i=N,G):ue(N)?(l=B,ce(N)):Se(N)?(e.consume(N),B):(e.consume(N),j)}function G(N){return N===i?(e.consume(N),i=void 0,re):N===null?n(N):ue(N)?(l=G,ce(N)):(e.consume(N),G)}function j(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||_e(N)?P(N):(e.consume(N),j)}function re(N){return N===47||N===62||_e(N)?P(N):n(N)}function ie(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function ce(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),V}function V(N){return Se(N)?we(e,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):ee(N)}function ee(N){return e.enter("htmlTextData"),l(N)}}const Ed={name:"labelEnd",resolveAll:w8,resolveTo:S8,tokenize:k8},y8={tokenize:T8},v8={tokenize:E8},x8={tokenize:C8};function w8(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Jt(e,0,e.length,n),e}function S8(e,t){let n=e.length,r=0,i,o,l,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const a={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return s=[["enter",a,t],["enter",u,t]],s=ln(s,e.slice(o+1,o+r+3)),s=ln(s,[["enter",d,t]]),s=ln(s,Ia(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),s=ln(s,[["exit",d,t],e[l-2],e[l-1],["exit",u,t]]),s=ln(s,e.slice(l+1)),s=ln(s,[["exit",a,t]]),Jt(e,o,e.length,s),e}function k8(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(h){return o?o._inactive?p(h):(l=r.parser.defined.includes(An(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):n(h)}function a(h){return h===40?e.attempt(y8,d,l?d:p)(h):h===91?e.attempt(v8,d,l?u:p)(h):l?d(h):p(h)}function u(h){return e.attempt(x8,d,p)(h)}function d(h){return t(h)}function p(h){return o._balanced=!0,n(h)}}function T8(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return _e(p)?$o(e,o)(p):o(p)}function o(p){return p===41?d(p):wy(e,l,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return _e(p)?$o(e,a)(p):d(p)}function s(p){return n(p)}function a(p){return p===34||p===39||p===40?ky(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function u(p){return _e(p)?$o(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function E8(e,t,n){const r=this;return i;function i(s){return Sy.call(r,e,o,l,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(An(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function l(s){return n(s)}}function C8(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const b8={name:"labelStartImage",resolveAll:Ed.resolveAll,tokenize:A8};function A8(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),l):n(s)}function l(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const I8={name:"labelStartLink",resolveAll:Ed.resolveAll,tokenize:M8};function M8(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const vu={name:"lineEnding",tokenize:N8};function N8(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),we(e,t,"linePrefix")}}const xs={name:"thematicBreak",tokenize:_8};function _8(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),l(u)}function l(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||ue(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),Se(u)?we(e,s,"whitespace")(u):s(u))}}const _t={continuation:{tokenize:L8},exit:z8,name:"list",tokenize:D8},R8={partial:!0,tokenize:U8},P8={partial:!0,tokenize:F8};function D8(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return s;function s(m){const w=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:$0(m)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(xs,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(m)}return n(m)}function a(m){return $0(m)&&++l<10?(e.consume(m),a):(!r.interrupt||l<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(El,r.interrupt?n:d,e.attempt(R8,h,p))}function d(m){return r.containerState.initialBlankLine=!0,o++,h(m)}function p(m){return Se(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function L8(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(El,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,we(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Se(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(P8,t,l)(s))}function l(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,we(e,e.attempt(_t,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function F8(e,t,n){const r=this;return we(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function z8(e){e.exit(this.containerState.type)}function U8(e,t,n){const r=this;return we(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!Se(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Kp={name:"setextUnderline",resolveTo:B8,tokenize:O8};function B8(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function O8(e,t,n){const r=this;let i;return o;function o(u){let d=r.events.length,p;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){p=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),Se(u)?we(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||ue(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const q8={tokenize:H8};function H8(e){const t=this,n=e.attempt(El,r,e.attempt(this.parser.constructs.flowInitial,i,we(e,e.attempt(this.parser.constructs.flow,i,e.attempt(W7,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const V8={resolveAll:Ey()},G8=Ty("string"),$8=Ty("text");function Ty(e){return{resolveAll:Ey(e==="text"?K8:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,s);return l;function l(d){return u(d)?o(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),a}function a(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),a)}function u(d){if(d===null)return!0;const p=i[d];let h=-1;if(p)for(;++h<p.length;){const m=p[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Ey(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function K8(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,s=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)s++,l--;if(l)break;l=-1}else if(u===-2)a=!0,s++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const W8={42:_t,43:_t,45:_t,48:_t,49:_t,50:_t,51:_t,52:_t,53:_t,54:_t,55:_t,56:_t,57:_t,62:gy},Y8={91:Z7},J8={[-2]:yu,[-1]:yu,32:yu},X8={35:i8,42:xs,45:[Kp,xs],60:a8,61:Kp,95:xs,96:Gp,126:Gp},Q8={38:vy,92:yy},Z8={[-5]:vu,[-4]:vu,[-3]:vu,33:b8,38:vy,42:K0,60:[I7,m8],91:I8,92:[n8,yy],93:Ed,95:K0,96:q7},j8={null:[K0,V8]},ew={null:[42,95]},tw={null:[]},nw=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ew,contentInitial:Y8,disable:tw,document:W8,flow:X8,flowInitial:J8,insideSpan:j8,string:Q8,text:Z8},Symbol.toStringTag,{value:"Module"}));function rw(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],s=[];const a={attempt:R(I),check:R(b),consume:S,enter:T,exit:C,interrupt:R(b,{interrupt:!0})},u={code:null,containerState:{},defineSkip:k,events:[],now:w,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:p};let d=t.tokenize.call(u,a);return t.resolveAll&&o.push(t),u;function p(q){return l=ln(l,q),M(),l[l.length-1]!==null?[]:(z(t,0),u.events=Ia(o,u.events,u),u.events)}function h(q,B){return ow(m(q),B)}function m(q){return iw(l,q)}function w(){const{_bufferIndex:q,_index:B,line:G,column:j,offset:re}=r;return{_bufferIndex:q,_index:B,line:G,column:j,offset:re}}function k(q){i[q.line]=q.column,_()}function M(){let q;for(;r._index<l.length;){const B=l[r._index];if(typeof B=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<B.length;)v(B.charCodeAt(r._bufferIndex));else v(B)}}function v(q){d=d(q)}function S(q){ue(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,_()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=q}function T(q,B){const G=B||{};return G.type=q,G.start=w(),u.events.push(["enter",G,u]),s.push(G),G}function C(q){const B=s.pop();return B.end=w(),u.events.push(["exit",B,u]),B}function I(q,B){z(q,B.from)}function b(q,B){B.restore()}function R(q,B){return G;function G(j,re,ie){let ce,V,ee,N;return Array.isArray(j)?ge(j):"tokenize"in j?ge([j]):pe(j);function pe(le){return Pe;function Pe(Qe){const wt=Qe!==null&&le[Qe],St=Qe!==null&&le.null,tn=[...Array.isArray(wt)?wt:wt?[wt]:[],...Array.isArray(St)?St:St?[St]:[]];return ge(tn)(Qe)}}function ge(le){return ce=le,V=0,le.length===0?ie:F(le[V])}function F(le){return Pe;function Pe(Qe){return N=P(),ee=le,le.partial||(u.currentConstruct=le),le.name&&u.parser.constructs.disable.null.includes(le.name)?Xe():le.tokenize.call(B?Object.assign(Object.create(u),B):u,a,ze,Xe)(Qe)}}function ze(le){return q(ee,N),re}function Xe(le){return N.restore(),++V<ce.length?F(ce[V]):ie}}}function z(q,B){q.resolveAll&&!o.includes(q)&&o.push(q),q.resolve&&Jt(u.events,B,u.events.length-B,q.resolve(u.events.slice(B),u)),q.resolveTo&&(u.events=q.resolveTo(u.events,u))}function P(){const q=w(),B=u.previous,G=u.currentConstruct,j=u.events.length,re=Array.from(s);return{from:j,restore:ie};function ie(){r=q,u.previous=B,u.currentConstruct=G,u.events.length=j,s=re,_()}}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function iw(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const s=l[0];typeof s=="string"?l[0]=s.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function ow(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function lw(e){const r={constructs:hy([nw,...(e||{}).extensions||[]]),content:i(S7),defined:[],document:i(T7),flow:i(q8),lazy:{},string:i(G8),text:i($8)};return r;function i(o){return l;function l(s){return rw(r,o,s)}}}function sw(e){for(;!xy(e););return e}const Wp=/[\0\t\n\r]/g;function aw(){let e=1,t="",n=!0,r;return i;function i(o,l,s){const a=[];let u,d,p,h,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(Wp.lastIndex=p,u=Wp.exec(o),h=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(h),!u){t=o.slice(p);break}if(m===10&&p===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),p<h&&(a.push(o.slice(p,h)),e+=h-p),m){case 0:{a.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,a.push(-2);e++<d;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}p=h+1}return s&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const uw=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cw(e){return e.replace(uw,dw)}function dw(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return my(n.slice(o?2:1),o?16:10)}return Td(n)||e}const Cy={}.hasOwnProperty;function fw(e,t,n){return typeof t!="string"&&(n=t,t=void 0),pw(n)(sw(lw(n).document().write(aw()(e,t,!0))))}function pw(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Yr),autolinkProtocol:P,autolinkEmail:P,atxHeading:o(nn),blockQuote:o(St),characterEscape:P,characterReference:P,codeFenced:o(tn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(tn,l),codeText:o(wi,l),codeTextData:P,data:P,codeFlowValue:P,definition:o(mr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Gn),hardBreakEscape:o(Ht),hardBreakTrailing:o(Ht),htmlFlow:o(Nt,l),htmlFlowData:P,htmlText:o(Nt,l),htmlTextData:P,image:o(gr),label:l,link:o(Yr),listItem:o(zv),listItemValue:h,listOrdered:o(pf,p),listUnordered:o(pf),paragraph:o(Uv),reference:F,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(nn),strong:o(Bv),thematicBreak:o(qv)},exit:{atxHeading:a(),atxHeadingSequence:I,autolink:a(),autolinkEmail:wt,autolinkProtocol:Qe,blockQuote:a(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:Xe,characterReferenceMarkerNumeric:Xe,characterReferenceValue:le,characterReference:Pe,codeFenced:a(M),codeFencedFence:k,codeFencedFenceInfo:m,codeFencedFenceMeta:w,codeFlowValue:_,codeIndented:a(v),codeText:a(re),codeTextData:_,data:_,definition:a(),definitionDestinationString:C,definitionLabelString:S,definitionTitleString:T,emphasis:a(),hardBreakEscape:a(B),hardBreakTrailing:a(B),htmlFlow:a(G),htmlFlowData:_,htmlText:a(j),htmlTextData:_,image:a(ce),label:ee,labelText:V,lineEnding:q,link:a(ie),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:ze,resourceDestinationString:N,resourceTitleString:pe,resource:ge,setextHeading:a(z),setextHeadingLineSequence:R,setextHeadingText:b,strong:a(),thematicBreak:a()}};by(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(H){let Z={type:"root",children:[]};const ye={stack:[Z],tokenStack:[],config:t,enter:s,exit:u,buffer:l,resume:d,data:n},Ee=[];let Ne=-1;for(;++Ne<H.length;)if(H[Ne][1].type==="listOrdered"||H[Ne][1].type==="listUnordered")if(H[Ne][0]==="enter")Ee.push(Ne);else{const yn=Ee.pop();Ne=i(H,yn,Ne)}for(Ne=-1;++Ne<H.length;){const yn=t[H[Ne][0]];Cy.call(yn,H[Ne][1].type)&&yn[H[Ne][1].type].call(Object.assign({sliceSerialize:H[Ne][2].sliceSerialize},ye),H[Ne][1])}if(ye.tokenStack.length>0){const yn=ye.tokenStack[ye.tokenStack.length-1];(yn[1]||Yp).call(ye,void 0,yn[0])}for(Z.position={start:vr(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:vr(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},Ne=-1;++Ne<t.transforms.length;)Z=t.transforms[Ne](Z)||Z;return Z}function i(H,Z,ye){let Ee=Z-1,Ne=-1,yn=!1,Jr,$n,go,yo;for(;++Ee<=ye;){const Vt=H[Ee];switch(Vt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Vt[0]==="enter"?Ne++:Ne--,yo=void 0;break}case"lineEndingBlank":{Vt[0]==="enter"&&(Jr&&!yo&&!Ne&&!go&&(go=Ee),yo=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yo=void 0}if(!Ne&&Vt[0]==="enter"&&Vt[1].type==="listItemPrefix"||Ne===-1&&Vt[0]==="exit"&&(Vt[1].type==="listUnordered"||Vt[1].type==="listOrdered")){if(Jr){let Si=Ee;for($n=void 0;Si--;){const Kn=H[Si];if(Kn[1].type==="lineEnding"||Kn[1].type==="lineEndingBlank"){if(Kn[0]==="exit")continue;$n&&(H[$n][1].type="lineEndingBlank",yn=!0),Kn[1].type="lineEnding",$n=Si}else if(!(Kn[1].type==="linePrefix"||Kn[1].type==="blockQuotePrefix"||Kn[1].type==="blockQuotePrefixWhitespace"||Kn[1].type==="blockQuoteMarker"||Kn[1].type==="listItemIndent"))break}go&&(!$n||go<$n)&&(Jr._spread=!0),Jr.end=Object.assign({},$n?H[$n][1].start:Vt[1].end),H.splice($n||Ee,0,["exit",Jr,Vt[2]]),Ee++,ye++}if(Vt[1].type==="listItemPrefix"){const Si={type:"listItem",_spread:!1,start:Object.assign({},Vt[1].start),end:void 0};Jr=Si,H.splice(Ee,0,["enter",Si,Vt[2]]),Ee++,ye++,go=void 0,yo=!0}}}return H[Z][1]._spread=yn,ye}function o(H,Z){return ye;function ye(Ee){s.call(this,H(Ee),Ee),Z&&Z.call(this,Ee)}}function l(){this.stack.push({type:"fragment",children:[]})}function s(H,Z,ye){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([Z,ye||void 0]),H.position={start:vr(Z.start),end:void 0}}function a(H){return Z;function Z(ye){H&&H.call(this,ye),u.call(this,ye)}}function u(H,Z){const ye=this.stack.pop(),Ee=this.tokenStack.pop();if(Ee)Ee[0].type!==H.type&&(Z?Z.call(this,H,Ee[0]):(Ee[1]||Yp).call(this,H,Ee[0]));else throw new Error("Cannot close `"+H.type+"` ("+Go({start:H.start,end:H.end})+"): its not open");ye.position.end=vr(H.end)}function d(){return kd(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(H){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function m(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=H}function w(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=H}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function M(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H.replace(/(\r?\n|\r)$/g,"")}function S(H){const Z=this.resume(),ye=this.stack[this.stack.length-1];ye.label=Z,ye.identifier=An(this.sliceSerialize(H)).toLowerCase()}function T(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.title=H}function C(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.url=H}function I(H){const Z=this.stack[this.stack.length-1];if(!Z.depth){const ye=this.sliceSerialize(H).length;Z.depth=ye}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function R(H){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function P(H){const ye=this.stack[this.stack.length-1].children;let Ee=ye[ye.length-1];(!Ee||Ee.type!=="text")&&(Ee=Ov(),Ee.position={start:vr(H.start),end:void 0},ye.push(Ee)),this.stack.push(Ee)}function _(H){const Z=this.stack.pop();Z.value+=this.sliceSerialize(H),Z.position.end=vr(H.end)}function q(H){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=Z.children[Z.children.length-1];ye.position.end=vr(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Z.type)&&(P.call(this,H),_.call(this,H))}function B(){this.data.atHardBreak=!0}function G(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H}function j(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H}function re(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.value=H}function ie(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=Z,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function ce(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=Z,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function V(H){const Z=this.sliceSerialize(H),ye=this.stack[this.stack.length-2];ye.label=cw(Z),ye.identifier=An(Z).toLowerCase()}function ee(){const H=this.stack[this.stack.length-1],Z=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const Ee=H.children;ye.children=Ee}else ye.alt=Z}function N(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.url=H}function pe(){const H=this.resume(),Z=this.stack[this.stack.length-1];Z.title=H}function ge(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function ze(H){const Z=this.resume(),ye=this.stack[this.stack.length-1];ye.label=Z,ye.identifier=An(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function Xe(H){this.data.characterReferenceType=H.type}function le(H){const Z=this.sliceSerialize(H),ye=this.data.characterReferenceType;let Ee;ye?(Ee=my(Z,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ee=Td(Z);const Ne=this.stack[this.stack.length-1];Ne.value+=Ee}function Pe(H){const Z=this.stack.pop();Z.position.end=vr(H.end)}function Qe(H){_.call(this,H);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(H)}function wt(H){_.call(this,H);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(H)}function St(){return{type:"blockquote",children:[]}}function tn(){return{type:"code",lang:null,meta:null,value:""}}function wi(){return{type:"inlineCode",value:""}}function mr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Gn(){return{type:"emphasis",children:[]}}function nn(){return{type:"heading",depth:0,children:[]}}function Ht(){return{type:"break"}}function Nt(){return{type:"html",value:""}}function gr(){return{type:"image",title:null,url:"",alt:null}}function Yr(){return{type:"link",title:null,url:"",children:[]}}function pf(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function zv(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function Uv(){return{type:"paragraph",children:[]}}function Bv(){return{type:"strong",children:[]}}function Ov(){return{type:"text",value:""}}function qv(){return{type:"thematicBreak"}}}function vr(e){return{line:e.line,column:e.column,offset:e.offset}}function by(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?by(e,r):hw(e,r)}}function hw(e,t){let n;for(n in t)if(Cy.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Yp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Go({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Go({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Go({start:t.start,end:t.end})+") is still open")}function mw(e){const t=this;t.parser=n;function n(r){return fw(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function gw(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function yw(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function vw(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function xw(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ww(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Sw(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=uo(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,s+=1,e.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function kw(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tw(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Ay(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function Ew(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ay(e,t);const i={src:uo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function Cw(e,t){const n={src:uo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function bw(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Aw(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ay(e,t);const i={href:uo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function Iw(e,t){const n={href:uo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Mw(e,t,n){const r=e.all(t),i=n?Nw(n):Iy(t),o={},l=[];if(typeof t.checked=="boolean"){const d=r[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?l.push(...d.children):l.push(d)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,u),e.applyData(t,u)}function Nw(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Iy(n[r])}return t}function Iy(e){const t=e.spread;return t??e.children.length>1}function _w(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function Rw(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Pw(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Dw(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Lw(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=vd(t.children[1]),a=sy(t.children[t.children.length-1]);s&&a&&(l.position={start:s,end:a}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function Fw(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,s=l?l.length:t.children.length;let a=-1;const u=[];for(;++a<s;){const p=t.children[a],h={},m=l?l[a]:void 0;m&&(h.align=m);let w={type:"element",tagName:o,properties:h,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),u.push(w)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function zw(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Jp=9,Xp=32;function Uw(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(Qp(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(Qp(t.slice(i),i>0,!1)),o.join("")}function Qp(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Jp||o===Xp;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Jp||o===Xp;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Bw(e,t){const n={type:"text",value:Uw(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Ow(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const qw={blockquote:gw,break:yw,code:vw,delete:xw,emphasis:ww,footnoteReference:Sw,heading:kw,html:Tw,imageReference:Ew,image:Cw,inlineCode:bw,linkReference:Aw,link:Iw,listItem:Mw,list:_w,paragraph:Rw,root:Pw,strong:Dw,table:Lw,tableCell:zw,tableRow:Fw,text:Bw,thematicBreak:Ow,toml:Yl,yaml:Yl,definition:Yl,footnoteDefinition:Yl};function Yl(){}const My=-1,Ma=0,Ko=1,Qs=2,Cd=3,bd=4,Ad=5,Id=6,Ny=7,_y=8,Zp=typeof self=="object"?self:globalThis,Hw=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case Ma:case My:return n(l,i);case Ko:{const s=n([],i);for(const a of l)s.push(r(a));return s}case Qs:{const s=n({},i);for(const[a,u]of l)s[r(a)]=r(u);return s}case Cd:return n(new Date(l),i);case bd:{const{source:s,flags:a}=l;return n(new RegExp(s,a),i)}case Ad:{const s=n(new Map,i);for(const[a,u]of l)s.set(r(a),r(u));return s}case Id:{const s=n(new Set,i);for(const a of l)s.add(r(a));return s}case Ny:{const{name:s,message:a}=l;return n(new Zp[s](a),i)}case _y:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:s}=new Uint8Array(l);return n(new DataView(s),l)}}return n(new Zp[o](l),i)};return r},jp=e=>Hw(new Map,e)(0),Ti="",{toString:Vw}={},{keys:Gw}=Object,Ao=e=>{const t=typeof e;if(t!=="object"||!e)return[Ma,t];const n=Vw.call(e).slice(8,-1);switch(n){case"Array":return[Ko,Ti];case"Object":return[Qs,Ti];case"Date":return[Cd,Ti];case"RegExp":return[bd,Ti];case"Map":return[Ad,Ti];case"Set":return[Id,Ti];case"DataView":return[Ko,n]}return n.includes("Array")?[Ko,n]:n.includes("Error")?[Ny,n]:[Qs,n]},Jl=([e,t])=>e===Ma&&(t==="function"||t==="symbol"),$w=(e,t,n,r)=>{const i=(l,s)=>{const a=r.push(l)-1;return n.set(s,a),a},o=l=>{if(n.has(l))return n.get(l);let[s,a]=Ao(l);switch(s){case Ma:{let d=l;switch(a){case"bigint":s=_y,d=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);d=null;break;case"undefined":return i([My],l)}return i([s,d],l)}case Ko:{if(a){let h=l;return a==="DataView"?h=new Uint8Array(l.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(l)),i([a,[...h]],l)}const d=[],p=i([s,d],l);for(const h of l)d.push(o(h));return p}case Qs:{if(a)switch(a){case"BigInt":return i([a,l.toString()],l);case"Boolean":case"Number":case"String":return i([a,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const d=[],p=i([s,d],l);for(const h of Gw(l))(e||!Jl(Ao(l[h])))&&d.push([o(h),o(l[h])]);return p}case Cd:return i([s,l.toISOString()],l);case bd:{const{source:d,flags:p}=l;return i([s,{source:d,flags:p}],l)}case Ad:{const d=[],p=i([s,d],l);for(const[h,m]of l)(e||!(Jl(Ao(h))||Jl(Ao(m))))&&d.push([o(h),o(m)]);return p}case Id:{const d=[],p=i([s,d],l);for(const h of l)(e||!Jl(Ao(h)))&&d.push(o(h));return p}}const{message:u}=l;return i([s,{name:a,message:u}],l)};return o},eh=(e,{json:t,lossy:n}={})=>{const r=[];return $w(!(t||n),!!t,new Map,r)(e),r},Zs=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?jp(eh(e,t)):structuredClone(e):(e,t)=>jp(eh(e,t));function Kw(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Ww(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Yw(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Kw,r=e.options.footnoteBackLabel||Ww,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const d=e.all(u),p=String(u.identifier).toUpperCase(),h=uo(p.toLowerCase());let m=0;const w=[],k=e.footnoteCounts.get(p);for(;k!==void 0&&++m<=k;){w.length>0&&w.push({type:"text",value:" "});let S=typeof n=="string"?n:n(a,m);typeof S=="string"&&(S={type:"text",value:S}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,m),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const M=d[d.length-1];if(M&&M.type==="element"&&M.tagName==="p"){const S=M.children[M.children.length-1];S&&S.type==="text"?S.value+=" ":M.children.push({type:"text",value:" "}),M.children.push(...w)}else d.push(...w);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Zs(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Cl=function(e){if(e==null)return Zw;if(typeof e=="function")return Na(e);if(typeof e=="object")return Array.isArray(e)?Jw(e):Xw(e);if(typeof e=="string")return Qw(e);throw new Error("Expected function, string, or object as test")};function Jw(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Cl(e[n]);return Na(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Xw(e){const t=e;return Na(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function Qw(e){return Na(t);function t(n){return n&&n.type===e}}function Na(e){return t;function t(n,r,i){return!!(jw(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Zw(){return!0}function jw(e){return e!==null&&typeof e=="object"&&"type"in e}const Ry=[],e9=!0,W0=!1,Py="skip";function Md(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Cl(i),l=r?-1:1;s(e,void 0,[])();function s(a,u,d){const p=a&&typeof a=="object"?a:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=Ry,w,k,M;if((!t||o(a,u,d[d.length-1]||void 0))&&(m=t9(n(a,d)),m[0]===W0))return m;if("children"in a&&a.children){const v=a;if(v.children&&m[0]!==Py)for(k=(r?v.children.length:-1)+l,M=d.concat(v);k>-1&&k<v.children.length;){const S=v.children[k];if(w=s(S,k,M)(),w[0]===W0)return w;k=typeof w[1]=="number"?w[1]:k+l}}return m}}}function t9(e){return Array.isArray(e)?e:typeof e=="number"?[e9,e]:e==null?Ry:[e]}function Nd(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),Md(e,o,s,i);function s(a,u){const d=u[u.length-1],p=d?d.children.indexOf(a):void 0;return l(a,p,d)}}const Y0={}.hasOwnProperty,n9={};function r9(e,t){const n=t||n9,r=new Map,i=new Map,o=new Map,l={...qw,...n.handlers},s={all:u,applyData:o9,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:a,options:n,patch:i9,wrap:s9};return Nd(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();p.has(h)||p.set(h,d)}}),s;function a(d,p){const h=d.type,m=s.handlers[h];if(Y0.call(s.handlers,h)&&m)return m(s,d,p);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in d){const{children:k,...M}=d,v=Zs(M);return v.children=s.all(d),v}return Zs(d)}return(s.options.unknownHandler||l9)(s,d,p)}function u(d){const p=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const w=s.one(h[m],d);if(w){if(m&&h[m-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=th(w.value)),!Array.isArray(w)&&w.type==="element")){const k=w.children[0];k&&k.type==="text"&&(k.value=th(k.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function i9(e,t){e.position&&(t.position=Wx(e))}function o9(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,Zs(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function l9(e,t){const n=t.data||{},r="value"in t&&!(Y0.call(n,"hProperties")||Y0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function s9(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function th(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function nh(e,t){const n=r9(e,t),r=n.one(e,void 0),i=Yw(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function a9(e,t){return e&&"run"in e?async function(n,r){const i=nh(n,{file:r,...t});await e.run(i,r)}:function(n,r){return nh(n,{file:r,...e||t})}}function rh(e){if(e)throw e}var ws=Object.prototype.hasOwnProperty,Dy=Object.prototype.toString,ih=Object.defineProperty,oh=Object.getOwnPropertyDescriptor,lh=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Dy.call(t)==="[object Array]"},sh=function(t){if(!t||Dy.call(t)!=="[object Object]")return!1;var n=ws.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ws.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ws.call(t,i)},ah=function(t,n){ih&&n.name==="__proto__"?ih(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},uh=function(t,n){if(n==="__proto__")if(ws.call(t,n)){if(oh)return oh(t,n).value}else return;return t[n]},u9=function e(){var t,n,r,i,o,l,s=arguments[0],a=1,u=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=uh(s,n),i=uh(t,n),s!==i&&(d&&i&&(sh(i)||(o=lh(i)))?(o?(o=!1,l=r&&lh(r)?r:[]):l=r&&sh(r)?r:{},ah(s,{name:n,newValue:e(d,l,i)})):typeof i<"u"&&ah(s,{name:n,newValue:i}));return s};const xu=wc(u9);function J0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function c9(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);s(null,...i);function s(a,...u){const d=e[++o];let p=-1;if(a){l(a);return}for(;++p<i.length;)(u[p]===null||u[p]===void 0)&&(u[p]=i[p]);i=u,d?d9(d,s)(...u):l(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function d9(e,t){let n;return r;function r(...l){const s=e.length>l.length;let a;s&&l.push(i);try{a=e.apply(this,l)}catch(u){const d=u;if(s&&n)throw d;return i(d)}s||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(l,...s){n||(n=!0,t(l,...s))}function o(l){i(null,l)}}const Pn={basename:f9,dirname:p9,extname:h9,join:m9,sep:"/"};function f9(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');bl(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function p9(e){if(bl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function h9(e){bl(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const s=e.codePointAt(t);if(s===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function m9(...e){let t=-1,n;for(;++t<e.length;)bl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":g9(n)}function g9(e){bl(e);const t=e.codePointAt(0)===47;let n=y9(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function y9(e,t){let n="",r=0,i=-1,o=0,l=-1,s,a;for(;++l<=e.length;){if(l<e.length)s=e.codePointAt(l);else{if(s===47)break;s=47}if(s===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else s===46&&o>-1?o++:o=-1}return n}function bl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const v9={cwd:x9};function x9(){return"/"}function X0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function w9(e){if(typeof e=="string")e=new URL(e);else if(!X0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return S9(e)}function S9(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const wu=["history","path","basename","stem","extname","dirname"];class Ly{constructor(t){let n;t?X0(t)?n={path:t}:typeof t=="string"||k9(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":v9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<wu.length;){const o=wu[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)wu.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Pn.basename(this.path):void 0}set basename(t){ku(t,"basename"),Su(t,"basename"),this.path=Pn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Pn.dirname(this.path):void 0}set dirname(t){ch(this.basename,"dirname"),this.path=Pn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Pn.extname(this.path):void 0}set extname(t){if(Su(t,"extname"),ch(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){X0(t)&&(t=w9(t)),ku(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Pn.basename(this.path,this.extname):void 0}set stem(t){ku(t,"stem"),Su(t,"stem"),this.path=Pn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new xt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Su(e,t){if(e&&e.includes(Pn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Pn.sep+"`")}function ku(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ch(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function k9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const T9=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},E9={}.hasOwnProperty;class _d extends T9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=c9()}copy(){const t=new _d;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(xu(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Cu("data",this.frozen),this.namespace[t]=n,this):E9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Cu("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Xl(t),r=this.parser||this.Parser;return Tu("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Tu("process",this.parser||this.Parser),Eu("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const s=Xl(t),a=r.parse(s);r.run(a,s,function(d,p,h){if(d||!p||!h)return u(d);const m=p,w=r.stringify(m,h);A9(w)?h.value=w:h.result=w,u(d,h)});function u(d,p){d||!p?l(d):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Tu("processSync",this.parser||this.Parser),Eu("processSync",this.compiler||this.Compiler),this.process(t,i),fh("processSync","process",n),r;function i(o,l){n=!0,rh(o),r=l}}run(t,n,r){dh(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,s){const a=Xl(n);i.run(t,a,u);function u(d,p,h){const m=p||t;d?s(d):l?l(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),fh("runSync","run",r),i;function o(l,s){rh(l),i=s,r=!0}}stringify(t,n){this.freeze();const r=Xl(n),i=this.compiler||this.Compiler;return Eu("stringify",i),dh(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Cu("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...p]=u;a(d,p)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=xu(!0,i.settings,u.settings))}function s(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const p=u[d];o(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,d){let p=-1,h=-1;for(;++p<r.length;)if(r[p][0]===u){h=p;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[m,...w]=d;const k=r[h][1];J0(k)&&J0(m)&&(m=xu(!0,k,m)),r[h]=[u,m,...w]}}}}const C9=new _d().freeze();function Tu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Eu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Cu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dh(e){if(!J0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function fh(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Xl(e){return b9(e)?e:new Ly(e)}function b9(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function A9(e){return typeof e=="string"||I9(e)}function I9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const M9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ph=[],hh={allowDangerousHtml:!0},N9=/^(https?|ircs?|mailto|xmpp)$/i,_9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Q0(e){const t=R9(e),n=P9(e);return D9(t.runSync(t.parse(n),n),e)}function R9(e){const t=e.rehypePlugins||ph,n=e.remarkPlugins||ph,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...hh}:hh;return C9().use(mw).use(n).use(a9,r).use(t)}function P9(e){const t=e.children||"",n=new Ly;return typeof t=="string"&&(n.value=t),n}function D9(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,l=t.skipHtml,s=t.unwrapDisallowed,a=t.urlTransform||L9;for(const d of _9)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+M9+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Nd(e,u),Zx(e,{Fragment:x.Fragment,components:i,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function u(d,p,h){if(d.type==="raw"&&h&&typeof p=="number")return l?h.children.splice(p,1):h.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let m;for(m in gu)if(Object.hasOwn(gu,m)&&Object.hasOwn(d.properties,m)){const w=d.properties[m],k=gu[m];(k===null||k.includes(d.tagName))&&(d.properties[m]=a(String(w||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof p=="number"&&(m=!r(d,p,h)),m&&h&&typeof p=="number")return s&&d.children?h.children.splice(p,1,...d.children):h.children.splice(p,1),p}}}function L9(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||N9.test(e.slice(0,t))?e:""}function Fy(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+t.length,r=n.indexOf(t,i);return l}function F9(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:o},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:s,mathText:l,mathTextData:s}};function e(a){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},a)}function t(){this.buffer()}function n(){const a=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=a}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(a){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(a),d.value=u;const p=d.data.hChildren[0];p.type,p.tagName,p.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function o(a){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},a),this.buffer()}function l(a){const u=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(a),d.value=u,d.data.hChildren.push({type:"text",value:u})}function s(a){this.config.enter.data.call(this,a),this.config.exit.data.call(this,a)}}function z9(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(o,l,s,a){const u=o.value||"",d=s.createTracker(a),p="$".repeat(Math.max(Fy(u,"$")+1,2)),h=s.enter("mathFlow");let m=d.move(p);if(o.meta){const w=s.enter("mathFlowMeta");m+=d.move(s.safe(o.meta,{after:`
`,before:m,encode:["$"],...d.current()})),w()}return m+=d.move(`
`),u&&(m+=d.move(u+`
`)),m+=d.move(p),h(),m}function r(o,l,s){let a=o.value||"",u=1;for(t||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(a);)u++;const d="$".repeat(u);/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^\$|\$$/.test(a))&&(a=" "+a+" ");let p=-1;for(;++p<s.unsafe.length;){const h=s.unsafe[p];if(!h.atBreak)continue;const m=s.compilePattern(h);let w;for(;w=m.exec(a);){let k=w.index;a.codePointAt(k)===10&&a.codePointAt(k-1)===13&&k--,a=a.slice(0,k)+" "+a.slice(w.index+1)}}return d+a+d}function i(){return"$"}}const U9={tokenize:B9,concrete:!0,name:"mathFlow"},mh={tokenize:O9,partial:!0};function B9(e,t,n){const r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let l=0;return s;function s(S){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),a(S)}function a(S){return S===36?(e.consume(S),l++,a):l<2?n(S):(e.exit("mathFlowFenceSequence"),we(e,u,"whitespace")(S))}function u(S){return S===null||ue(S)?p(S):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(S))}function d(S){return S===null||ue(S)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),p(S)):S===36?n(S):(e.consume(S),d)}function p(S){return e.exit("mathFlowFence"),r.interrupt?t(S):e.attempt(mh,h,M)(S)}function h(S){return e.attempt({tokenize:v,partial:!0},M,m)(S)}function m(S){return(o?we(e,w,"linePrefix",o+1):w)(S)}function w(S){return S===null?M(S):ue(S)?e.attempt(mh,h,M)(S):(e.enter("mathFlowValue"),k(S))}function k(S){return S===null||ue(S)?(e.exit("mathFlowValue"),w(S)):(e.consume(S),k)}function M(S){return e.exit("mathFlow"),t(S)}function v(S,T,C){let I=0;return we(S,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function b(P){return S.enter("mathFlowFence"),S.enter("mathFlowFenceSequence"),R(P)}function R(P){return P===36?(I++,S.consume(P),R):I<l?C(P):(S.exit("mathFlowFenceSequence"),we(S,z,"whitespace")(P))}function z(P){return P===null||ue(P)?(S.exit("mathFlowFence"),T(P)):C(P)}}}function O9(e,t,n){const r=this;return i;function i(l){return l===null?t(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function q9(e){let n=(e||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:H9,previous:V9,name:"mathText"};function r(i,o,l){let s=0,a,u;return d;function d(k){return i.enter("mathText"),i.enter("mathTextSequence"),p(k)}function p(k){return k===36?(i.consume(k),s++,p):s<2&&!n?l(k):(i.exit("mathTextSequence"),h(k))}function h(k){return k===null?l(k):k===36?(u=i.enter("mathTextSequence"),a=0,w(k)):k===32?(i.enter("space"),i.consume(k),i.exit("space"),h):ue(k)?(i.enter("lineEnding"),i.consume(k),i.exit("lineEnding"),h):(i.enter("mathTextData"),m(k))}function m(k){return k===null||k===32||k===36||ue(k)?(i.exit("mathTextData"),h(k)):(i.consume(k),m)}function w(k){return k===36?(i.consume(k),a++,w):a===s?(i.exit("mathTextSequence"),i.exit("mathText"),o(k)):(u.type="mathTextData",m(k))}}}function H9(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="mathTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function V9(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function G9(e){return{flow:{36:U9},text:{36:q9(e)}}}class Dt{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new Dt(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class Xt{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new Xt(n,Dt.range(this,t))}}class W{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,i,o,l=n&&n.loc;if(l&&l.start<=l.end){var s=l.lexer.input;i=l.start,o=l.end,i===s.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var a=s.slice(i,o).replace(/[^]/g,"$&"),u;i>15?u=""+s.slice(i-15,i):u=s.slice(0,i);var d;o+15<s.length?d=s.slice(o,o+15)+"":d=s.slice(o),r+=u+a+d}var p=new Error(r);return p.name="ParseError",p.__proto__=W.prototype,p.position=i,i!=null&&o!=null&&(p.length=o-i),p.rawMessage=t,p}}W.prototype.__proto__=Error.prototype;var $9=function(t,n){return t===void 0?n:t},K9=/([A-Z])/g,W9=function(t){return t.replace(K9,"-$1").toLowerCase()},Y9={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},J9=/[&><"']/g;function X9(e){return String(e).replace(J9,t=>Y9[t])}var zy=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},Q9=function(t){var n=zy(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Z9=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},j9=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ae={deflt:$9,escape:X9,hyphenate:W9,getBaseElem:zy,isCharacterBox:Q9,protocolFromUrl:j9},Ss={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function eS(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Rd{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Ss)if(Ss.hasOwnProperty(n)){var r=Ss[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:eS(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new W("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=Ae.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var r=typeof this.trust=="function"?this.trust(t):this.trust;return!!r}}class xr{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return Dn[tS[this.id]]}sub(){return Dn[nS[this.id]]}fracNum(){return Dn[rS[this.id]]}fracDen(){return Dn[iS[this.id]]}cramp(){return Dn[oS[this.id]]}text(){return Dn[lS[this.id]]}isTight(){return this.size>=2}}var Pd=0,js=1,Ki=2,er=3,ml=4,un=5,io=6,Ct=7,Dn=[new xr(Pd,0,!1),new xr(js,0,!0),new xr(Ki,1,!1),new xr(er,1,!0),new xr(ml,2,!1),new xr(un,2,!0),new xr(io,3,!1),new xr(Ct,3,!0)],tS=[ml,un,ml,un,io,Ct,io,Ct],nS=[un,un,un,un,Ct,Ct,Ct,Ct],rS=[Ki,er,ml,un,io,Ct,io,Ct],iS=[er,er,un,un,Ct,Ct,Ct,Ct],oS=[js,js,er,er,un,un,Ct,Ct],lS=[Pd,js,Ki,er,Ki,er,Ki,er],fe={DISPLAY:Dn[Pd],TEXT:Dn[Ki],SCRIPT:Dn[ml],SCRIPTSCRIPT:Dn[io]},Z0=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function sS(e){for(var t=0;t<Z0.length;t++)for(var n=Z0[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}var ks=[];Z0.forEach(e=>e.blocks.forEach(t=>ks.push(...t)));function Uy(e){for(var t=0;t<ks.length;t+=2)if(e>=ks[t]&&e<=ks[t+1])return!0;return!1}var Ei=80,aS=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},uS=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},cS=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},dS=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},fS=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},pS=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},hS=function(t,n,r){var i=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},mS=function(t,n,r){n=1e3*n;var i="";switch(t){case"sqrtMain":i=aS(n,Ei);break;case"sqrtSize1":i=uS(n,Ei);break;case"sqrtSize2":i=cS(n,Ei);break;case"sqrtSize3":i=dS(n,Ei);break;case"sqrtSize4":i=fS(n,Ei);break;case"sqrtTall":i=hS(n,Ei,r)}return i},gS=function(t,n){switch(t){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},gh={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},yS=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Al{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var Fn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Ql={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},yh={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function vS(e,t){Fn[e]=t}function Dd(e,t,n){if(!Fn[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=Fn[t][r];if(!i&&e[0]in yh&&(r=yh[e[0]].charCodeAt(0),i=Fn[t][r]),!i&&n==="text"&&Uy(r)&&(i=Fn[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var bu={};function xS(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!bu[t]){var n=bu[t]={cssEmPerMu:Ql.quad[t]/18};for(var r in Ql)Ql.hasOwnProperty(r)&&(n[r]=Ql[r][t])}return bu[t]}var wS=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],vh=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],xh=function(t,n){return n.size<2?t:wS[t-1][n.size-1]};class Xn{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Xn.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=vh[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Xn(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:xh(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:vh[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=xh(Xn.BASESIZE,t);return this.size===n&&this.textSize===Xn.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Xn.BASESIZE?["sizing","reset-size"+this.size,"size"+Xn.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=xS(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Xn.BASESIZE=6;var j0={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},SS={ex:!0,em:!0,mu:!0},By=function(t){return typeof t!="string"&&(t=t.unit),t in j0||t in SS||t==="ex"},$e=function(t,n){var r;if(t.unit in j0)r=j0[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new W("Invalid unit: '"+t.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},Q=function(t){return+t.toFixed(4)+"em"},Br=function(t){return t.filter(n=>n).join(" ")},Oy=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},qy=function(t){var n=document.createElement(t);n.className=Br(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},kS=/[\s"'>/=\x00-\x1f]/,Hy=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+Ae.escape(Br(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ae.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Ae.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(kS.test(o))throw new W("Invalid attribute name '"+o+"'");n+=" "+o+'="'+Ae.escape(this.attributes[o])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+t+">",n};class Il{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Oy.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return qy.call(this,"span")}toMarkup(){return Hy.call(this,"span")}}class Ld{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Oy.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return qy.call(this,"a")}toMarkup(){return Hy.call(this,"a")}}class TS{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+Ae.escape(this.src)+'"'+(' alt="'+Ae.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ae.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+Ae.escape(n)+'"'),t+="'/>",t}}var ES={:"",:"",:"",:""};class hn{constructor(t,n,r,i,o,l,s,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=l||0,this.classes=s||[],this.style=a||{},this.maxFontSize=0;var u=sS(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=ES[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Q(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Br(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=Ae.escape(Br(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ae.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+Ae.escape(r)+'"');var o=Ae.escape(this.text);return t?(n+=">",n+=o,n+="</span>",n):o}}class lr{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ae.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class Or{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",gh[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ae.escape(this.alternate)+'"/>':'<path d="'+Ae.escape(gh[this.pathName])+'"/>'}}class ec{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ae.escape(this.attributes[n])+'"');return t+="/>",t}}function wh(e){if(e instanceof hn)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function CS(e){if(e instanceof Il)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var bS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},AS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Fe={math:{},text:{}};function g(e,t,n,r,i,o){Fe[e][i]={font:t,group:n,replace:r},o&&r&&(Fe[e][r]=Fe[e][i])}var y="math",$="text",E="main",D="ams",He="accent-token",oe="bin",Mt="close",co="inner",de="mathord",nt="op-token",en="open",_a="punct",L="rel",dr="spacing",U="textord";g(y,E,L,"","\\equiv",!0);g(y,E,L,"","\\prec",!0);g(y,E,L,"","\\succ",!0);g(y,E,L,"","\\sim",!0);g(y,E,L,"","\\perp");g(y,E,L,"","\\preceq",!0);g(y,E,L,"","\\succeq",!0);g(y,E,L,"","\\simeq",!0);g(y,E,L,"","\\mid",!0);g(y,E,L,"","\\ll",!0);g(y,E,L,"","\\gg",!0);g(y,E,L,"","\\asymp",!0);g(y,E,L,"","\\parallel");g(y,E,L,"","\\bowtie",!0);g(y,E,L,"","\\smile",!0);g(y,E,L,"","\\sqsubseteq",!0);g(y,E,L,"","\\sqsupseteq",!0);g(y,E,L,"","\\doteq",!0);g(y,E,L,"","\\frown",!0);g(y,E,L,"","\\ni",!0);g(y,E,L,"","\\propto",!0);g(y,E,L,"","\\vdash",!0);g(y,E,L,"","\\dashv",!0);g(y,E,L,"","\\owns");g(y,E,_a,".","\\ldotp");g(y,E,_a,"","\\cdotp");g(y,E,U,"#","\\#");g($,E,U,"#","\\#");g(y,E,U,"&","\\&");g($,E,U,"&","\\&");g(y,E,U,"","\\aleph",!0);g(y,E,U,"","\\forall",!0);g(y,E,U,"","\\hbar",!0);g(y,E,U,"","\\exists",!0);g(y,E,U,"","\\nabla",!0);g(y,E,U,"","\\flat",!0);g(y,E,U,"","\\ell",!0);g(y,E,U,"","\\natural",!0);g(y,E,U,"","\\clubsuit",!0);g(y,E,U,"","\\wp",!0);g(y,E,U,"","\\sharp",!0);g(y,E,U,"","\\diamondsuit",!0);g(y,E,U,"","\\Re",!0);g(y,E,U,"","\\heartsuit",!0);g(y,E,U,"","\\Im",!0);g(y,E,U,"","\\spadesuit",!0);g(y,E,U,"","\\S",!0);g($,E,U,"","\\S");g(y,E,U,"","\\P",!0);g($,E,U,"","\\P");g(y,E,U,"","\\dag");g($,E,U,"","\\dag");g($,E,U,"","\\textdagger");g(y,E,U,"","\\ddag");g($,E,U,"","\\ddag");g($,E,U,"","\\textdaggerdbl");g(y,E,Mt,"","\\rmoustache",!0);g(y,E,en,"","\\lmoustache",!0);g(y,E,Mt,"","\\rgroup",!0);g(y,E,en,"","\\lgroup",!0);g(y,E,oe,"","\\mp",!0);g(y,E,oe,"","\\ominus",!0);g(y,E,oe,"","\\uplus",!0);g(y,E,oe,"","\\sqcap",!0);g(y,E,oe,"","\\ast");g(y,E,oe,"","\\sqcup",!0);g(y,E,oe,"","\\bigcirc",!0);g(y,E,oe,"","\\bullet",!0);g(y,E,oe,"","\\ddagger");g(y,E,oe,"","\\wr",!0);g(y,E,oe,"","\\amalg");g(y,E,oe,"&","\\And");g(y,E,L,"","\\longleftarrow",!0);g(y,E,L,"","\\Leftarrow",!0);g(y,E,L,"","\\Longleftarrow",!0);g(y,E,L,"","\\longrightarrow",!0);g(y,E,L,"","\\Rightarrow",!0);g(y,E,L,"","\\Longrightarrow",!0);g(y,E,L,"","\\leftrightarrow",!0);g(y,E,L,"","\\longleftrightarrow",!0);g(y,E,L,"","\\Leftrightarrow",!0);g(y,E,L,"","\\Longleftrightarrow",!0);g(y,E,L,"","\\mapsto",!0);g(y,E,L,"","\\longmapsto",!0);g(y,E,L,"","\\nearrow",!0);g(y,E,L,"","\\hookleftarrow",!0);g(y,E,L,"","\\hookrightarrow",!0);g(y,E,L,"","\\searrow",!0);g(y,E,L,"","\\leftharpoonup",!0);g(y,E,L,"","\\rightharpoonup",!0);g(y,E,L,"","\\swarrow",!0);g(y,E,L,"","\\leftharpoondown",!0);g(y,E,L,"","\\rightharpoondown",!0);g(y,E,L,"","\\nwarrow",!0);g(y,E,L,"","\\rightleftharpoons",!0);g(y,D,L,"","\\nless",!0);g(y,D,L,"","\\@nleqslant");g(y,D,L,"","\\@nleqq");g(y,D,L,"","\\lneq",!0);g(y,D,L,"","\\lneqq",!0);g(y,D,L,"","\\@lvertneqq");g(y,D,L,"","\\lnsim",!0);g(y,D,L,"","\\lnapprox",!0);g(y,D,L,"","\\nprec",!0);g(y,D,L,"","\\npreceq",!0);g(y,D,L,"","\\precnsim",!0);g(y,D,L,"","\\precnapprox",!0);g(y,D,L,"","\\nsim",!0);g(y,D,L,"","\\@nshortmid");g(y,D,L,"","\\nmid",!0);g(y,D,L,"","\\nvdash",!0);g(y,D,L,"","\\nvDash",!0);g(y,D,L,"","\\ntriangleleft");g(y,D,L,"","\\ntrianglelefteq",!0);g(y,D,L,"","\\subsetneq",!0);g(y,D,L,"","\\@varsubsetneq");g(y,D,L,"","\\subsetneqq",!0);g(y,D,L,"","\\@varsubsetneqq");g(y,D,L,"","\\ngtr",!0);g(y,D,L,"","\\@ngeqslant");g(y,D,L,"","\\@ngeqq");g(y,D,L,"","\\gneq",!0);g(y,D,L,"","\\gneqq",!0);g(y,D,L,"","\\@gvertneqq");g(y,D,L,"","\\gnsim",!0);g(y,D,L,"","\\gnapprox",!0);g(y,D,L,"","\\nsucc",!0);g(y,D,L,"","\\nsucceq",!0);g(y,D,L,"","\\succnsim",!0);g(y,D,L,"","\\succnapprox",!0);g(y,D,L,"","\\ncong",!0);g(y,D,L,"","\\@nshortparallel");g(y,D,L,"","\\nparallel",!0);g(y,D,L,"","\\nVDash",!0);g(y,D,L,"","\\ntriangleright");g(y,D,L,"","\\ntrianglerighteq",!0);g(y,D,L,"","\\@nsupseteqq");g(y,D,L,"","\\supsetneq",!0);g(y,D,L,"","\\@varsupsetneq");g(y,D,L,"","\\supsetneqq",!0);g(y,D,L,"","\\@varsupsetneqq");g(y,D,L,"","\\nVdash",!0);g(y,D,L,"","\\precneqq",!0);g(y,D,L,"","\\succneqq",!0);g(y,D,L,"","\\@nsubseteqq");g(y,D,oe,"","\\unlhd");g(y,D,oe,"","\\unrhd");g(y,D,L,"","\\nleftarrow",!0);g(y,D,L,"","\\nrightarrow",!0);g(y,D,L,"","\\nLeftarrow",!0);g(y,D,L,"","\\nRightarrow",!0);g(y,D,L,"","\\nleftrightarrow",!0);g(y,D,L,"","\\nLeftrightarrow",!0);g(y,D,L,"","\\vartriangle");g(y,D,U,"","\\hslash");g(y,D,U,"","\\triangledown");g(y,D,U,"","\\lozenge");g(y,D,U,"","\\circledS");g(y,D,U,"","\\circledR");g($,D,U,"","\\circledR");g(y,D,U,"","\\measuredangle",!0);g(y,D,U,"","\\nexists");g(y,D,U,"","\\mho");g(y,D,U,"","\\Finv",!0);g(y,D,U,"","\\Game",!0);g(y,D,U,"","\\backprime");g(y,D,U,"","\\blacktriangle");g(y,D,U,"","\\blacktriangledown");g(y,D,U,"","\\blacksquare");g(y,D,U,"","\\blacklozenge");g(y,D,U,"","\\bigstar");g(y,D,U,"","\\sphericalangle",!0);g(y,D,U,"","\\complement",!0);g(y,D,U,"","\\eth",!0);g($,E,U,"","");g(y,D,U,"","\\diagup");g(y,D,U,"","\\diagdown");g(y,D,U,"","\\square");g(y,D,U,"","\\Box");g(y,D,U,"","\\Diamond");g(y,D,U,"","\\yen",!0);g($,D,U,"","\\yen",!0);g(y,D,U,"","\\checkmark",!0);g($,D,U,"","\\checkmark");g(y,D,U,"","\\beth",!0);g(y,D,U,"","\\daleth",!0);g(y,D,U,"","\\gimel",!0);g(y,D,U,"","\\digamma",!0);g(y,D,U,"","\\varkappa");g(y,D,en,"","\\@ulcorner",!0);g(y,D,Mt,"","\\@urcorner",!0);g(y,D,en,"","\\@llcorner",!0);g(y,D,Mt,"","\\@lrcorner",!0);g(y,D,L,"","\\leqq",!0);g(y,D,L,"","\\leqslant",!0);g(y,D,L,"","\\eqslantless",!0);g(y,D,L,"","\\lesssim",!0);g(y,D,L,"","\\lessapprox",!0);g(y,D,L,"","\\approxeq",!0);g(y,D,oe,"","\\lessdot");g(y,D,L,"","\\lll",!0);g(y,D,L,"","\\lessgtr",!0);g(y,D,L,"","\\lesseqgtr",!0);g(y,D,L,"","\\lesseqqgtr",!0);g(y,D,L,"","\\doteqdot");g(y,D,L,"","\\risingdotseq",!0);g(y,D,L,"","\\fallingdotseq",!0);g(y,D,L,"","\\backsim",!0);g(y,D,L,"","\\backsimeq",!0);g(y,D,L,"","\\subseteqq",!0);g(y,D,L,"","\\Subset",!0);g(y,D,L,"","\\sqsubset",!0);g(y,D,L,"","\\preccurlyeq",!0);g(y,D,L,"","\\curlyeqprec",!0);g(y,D,L,"","\\precsim",!0);g(y,D,L,"","\\precapprox",!0);g(y,D,L,"","\\vartriangleleft");g(y,D,L,"","\\trianglelefteq");g(y,D,L,"","\\vDash",!0);g(y,D,L,"","\\Vvdash",!0);g(y,D,L,"","\\smallsmile");g(y,D,L,"","\\smallfrown");g(y,D,L,"","\\bumpeq",!0);g(y,D,L,"","\\Bumpeq",!0);g(y,D,L,"","\\geqq",!0);g(y,D,L,"","\\geqslant",!0);g(y,D,L,"","\\eqslantgtr",!0);g(y,D,L,"","\\gtrsim",!0);g(y,D,L,"","\\gtrapprox",!0);g(y,D,oe,"","\\gtrdot");g(y,D,L,"","\\ggg",!0);g(y,D,L,"","\\gtrless",!0);g(y,D,L,"","\\gtreqless",!0);g(y,D,L,"","\\gtreqqless",!0);g(y,D,L,"","\\eqcirc",!0);g(y,D,L,"","\\circeq",!0);g(y,D,L,"","\\triangleq",!0);g(y,D,L,"","\\thicksim");g(y,D,L,"","\\thickapprox");g(y,D,L,"","\\supseteqq",!0);g(y,D,L,"","\\Supset",!0);g(y,D,L,"","\\sqsupset",!0);g(y,D,L,"","\\succcurlyeq",!0);g(y,D,L,"","\\curlyeqsucc",!0);g(y,D,L,"","\\succsim",!0);g(y,D,L,"","\\succapprox",!0);g(y,D,L,"","\\vartriangleright");g(y,D,L,"","\\trianglerighteq");g(y,D,L,"","\\Vdash",!0);g(y,D,L,"","\\shortmid");g(y,D,L,"","\\shortparallel");g(y,D,L,"","\\between",!0);g(y,D,L,"","\\pitchfork",!0);g(y,D,L,"","\\varpropto");g(y,D,L,"","\\blacktriangleleft");g(y,D,L,"","\\therefore",!0);g(y,D,L,"","\\backepsilon");g(y,D,L,"","\\blacktriangleright");g(y,D,L,"","\\because",!0);g(y,D,L,"","\\llless");g(y,D,L,"","\\gggtr");g(y,D,oe,"","\\lhd");g(y,D,oe,"","\\rhd");g(y,D,L,"","\\eqsim",!0);g(y,E,L,"","\\Join");g(y,D,L,"","\\Doteq",!0);g(y,D,oe,"","\\dotplus",!0);g(y,D,oe,"","\\smallsetminus");g(y,D,oe,"","\\Cap",!0);g(y,D,oe,"","\\Cup",!0);g(y,D,oe,"","\\doublebarwedge",!0);g(y,D,oe,"","\\boxminus",!0);g(y,D,oe,"","\\boxplus",!0);g(y,D,oe,"","\\divideontimes",!0);g(y,D,oe,"","\\ltimes",!0);g(y,D,oe,"","\\rtimes",!0);g(y,D,oe,"","\\leftthreetimes",!0);g(y,D,oe,"","\\rightthreetimes",!0);g(y,D,oe,"","\\curlywedge",!0);g(y,D,oe,"","\\curlyvee",!0);g(y,D,oe,"","\\circleddash",!0);g(y,D,oe,"","\\circledast",!0);g(y,D,oe,"","\\centerdot");g(y,D,oe,"","\\intercal",!0);g(y,D,oe,"","\\doublecap");g(y,D,oe,"","\\doublecup");g(y,D,oe,"","\\boxtimes",!0);g(y,D,L,"","\\dashrightarrow",!0);g(y,D,L,"","\\dashleftarrow",!0);g(y,D,L,"","\\leftleftarrows",!0);g(y,D,L,"","\\leftrightarrows",!0);g(y,D,L,"","\\Lleftarrow",!0);g(y,D,L,"","\\twoheadleftarrow",!0);g(y,D,L,"","\\leftarrowtail",!0);g(y,D,L,"","\\looparrowleft",!0);g(y,D,L,"","\\leftrightharpoons",!0);g(y,D,L,"","\\curvearrowleft",!0);g(y,D,L,"","\\circlearrowleft",!0);g(y,D,L,"","\\Lsh",!0);g(y,D,L,"","\\upuparrows",!0);g(y,D,L,"","\\upharpoonleft",!0);g(y,D,L,"","\\downharpoonleft",!0);g(y,E,L,"","\\origof",!0);g(y,E,L,"","\\imageof",!0);g(y,D,L,"","\\multimap",!0);g(y,D,L,"","\\leftrightsquigarrow",!0);g(y,D,L,"","\\rightrightarrows",!0);g(y,D,L,"","\\rightleftarrows",!0);g(y,D,L,"","\\twoheadrightarrow",!0);g(y,D,L,"","\\rightarrowtail",!0);g(y,D,L,"","\\looparrowright",!0);g(y,D,L,"","\\curvearrowright",!0);g(y,D,L,"","\\circlearrowright",!0);g(y,D,L,"","\\Rsh",!0);g(y,D,L,"","\\downdownarrows",!0);g(y,D,L,"","\\upharpoonright",!0);g(y,D,L,"","\\downharpoonright",!0);g(y,D,L,"","\\rightsquigarrow",!0);g(y,D,L,"","\\leadsto");g(y,D,L,"","\\Rrightarrow",!0);g(y,D,L,"","\\restriction");g(y,E,U,"","`");g(y,E,U,"$","\\$");g($,E,U,"$","\\$");g($,E,U,"$","\\textdollar");g(y,E,U,"%","\\%");g($,E,U,"%","\\%");g(y,E,U,"_","\\_");g($,E,U,"_","\\_");g($,E,U,"_","\\textunderscore");g(y,E,U,"","\\angle",!0);g(y,E,U,"","\\infty",!0);g(y,E,U,"","\\prime");g(y,E,U,"","\\triangle");g(y,E,U,"","\\Gamma",!0);g(y,E,U,"","\\Delta",!0);g(y,E,U,"","\\Theta",!0);g(y,E,U,"","\\Lambda",!0);g(y,E,U,"","\\Xi",!0);g(y,E,U,"","\\Pi",!0);g(y,E,U,"","\\Sigma",!0);g(y,E,U,"","\\Upsilon",!0);g(y,E,U,"","\\Phi",!0);g(y,E,U,"","\\Psi",!0);g(y,E,U,"","\\Omega",!0);g(y,E,U,"A","");g(y,E,U,"B","");g(y,E,U,"E","");g(y,E,U,"Z","");g(y,E,U,"H","");g(y,E,U,"I","");g(y,E,U,"K","");g(y,E,U,"M","");g(y,E,U,"N","");g(y,E,U,"O","");g(y,E,U,"P","");g(y,E,U,"T","");g(y,E,U,"X","");g(y,E,U,"","\\neg",!0);g(y,E,U,"","\\lnot");g(y,E,U,"","\\top");g(y,E,U,"","\\bot");g(y,E,U,"","\\emptyset");g(y,D,U,"","\\varnothing");g(y,E,de,"","\\alpha",!0);g(y,E,de,"","\\beta",!0);g(y,E,de,"","\\gamma",!0);g(y,E,de,"","\\delta",!0);g(y,E,de,"","\\epsilon",!0);g(y,E,de,"","\\zeta",!0);g(y,E,de,"","\\eta",!0);g(y,E,de,"","\\theta",!0);g(y,E,de,"","\\iota",!0);g(y,E,de,"","\\kappa",!0);g(y,E,de,"","\\lambda",!0);g(y,E,de,"","\\mu",!0);g(y,E,de,"","\\nu",!0);g(y,E,de,"","\\xi",!0);g(y,E,de,"","\\omicron",!0);g(y,E,de,"","\\pi",!0);g(y,E,de,"","\\rho",!0);g(y,E,de,"","\\sigma",!0);g(y,E,de,"","\\tau",!0);g(y,E,de,"","\\upsilon",!0);g(y,E,de,"","\\phi",!0);g(y,E,de,"","\\chi",!0);g(y,E,de,"","\\psi",!0);g(y,E,de,"","\\omega",!0);g(y,E,de,"","\\varepsilon",!0);g(y,E,de,"","\\vartheta",!0);g(y,E,de,"","\\varpi",!0);g(y,E,de,"","\\varrho",!0);g(y,E,de,"","\\varsigma",!0);g(y,E,de,"","\\varphi",!0);g(y,E,oe,"","*",!0);g(y,E,oe,"+","+");g(y,E,oe,"","-",!0);g(y,E,oe,"","\\cdot",!0);g(y,E,oe,"","\\circ",!0);g(y,E,oe,"","\\div",!0);g(y,E,oe,"","\\pm",!0);g(y,E,oe,"","\\times",!0);g(y,E,oe,"","\\cap",!0);g(y,E,oe,"","\\cup",!0);g(y,E,oe,"","\\setminus",!0);g(y,E,oe,"","\\land");g(y,E,oe,"","\\lor");g(y,E,oe,"","\\wedge",!0);g(y,E,oe,"","\\vee",!0);g(y,E,U,"","\\surd");g(y,E,en,"","\\langle",!0);g(y,E,en,"","\\lvert");g(y,E,en,"","\\lVert");g(y,E,Mt,"?","?");g(y,E,Mt,"!","!");g(y,E,Mt,"","\\rangle",!0);g(y,E,Mt,"","\\rvert");g(y,E,Mt,"","\\rVert");g(y,E,L,"=","=");g(y,E,L,":",":");g(y,E,L,"","\\approx",!0);g(y,E,L,"","\\cong",!0);g(y,E,L,"","\\ge");g(y,E,L,"","\\geq",!0);g(y,E,L,"","\\gets");g(y,E,L,">","\\gt",!0);g(y,E,L,"","\\in",!0);g(y,E,L,"","\\@not");g(y,E,L,"","\\subset",!0);g(y,E,L,"","\\supset",!0);g(y,E,L,"","\\subseteq",!0);g(y,E,L,"","\\supseteq",!0);g(y,D,L,"","\\nsubseteq",!0);g(y,D,L,"","\\nsupseteq",!0);g(y,E,L,"","\\models");g(y,E,L,"","\\leftarrow",!0);g(y,E,L,"","\\le");g(y,E,L,"","\\leq",!0);g(y,E,L,"<","\\lt",!0);g(y,E,L,"","\\rightarrow",!0);g(y,E,L,"","\\to");g(y,D,L,"","\\ngeq",!0);g(y,D,L,"","\\nleq",!0);g(y,E,dr,"","\\ ");g(y,E,dr,"","\\space");g(y,E,dr,"","\\nobreakspace");g($,E,dr,"","\\ ");g($,E,dr,""," ");g($,E,dr,"","\\space");g($,E,dr,"","\\nobreakspace");g(y,E,dr,null,"\\nobreak");g(y,E,dr,null,"\\allowbreak");g(y,E,_a,",",",");g(y,E,_a,";",";");g(y,D,oe,"","\\barwedge",!0);g(y,D,oe,"","\\veebar",!0);g(y,E,oe,"","\\odot",!0);g(y,E,oe,"","\\oplus",!0);g(y,E,oe,"","\\otimes",!0);g(y,E,U,"","\\partial",!0);g(y,E,oe,"","\\oslash",!0);g(y,D,oe,"","\\circledcirc",!0);g(y,D,oe,"","\\boxdot",!0);g(y,E,oe,"","\\bigtriangleup");g(y,E,oe,"","\\bigtriangledown");g(y,E,oe,"","\\dagger");g(y,E,oe,"","\\diamond");g(y,E,oe,"","\\star");g(y,E,oe,"","\\triangleleft");g(y,E,oe,"","\\triangleright");g(y,E,en,"{","\\{");g($,E,U,"{","\\{");g($,E,U,"{","\\textbraceleft");g(y,E,Mt,"}","\\}");g($,E,U,"}","\\}");g($,E,U,"}","\\textbraceright");g(y,E,en,"{","\\lbrace");g(y,E,Mt,"}","\\rbrace");g(y,E,en,"[","\\lbrack",!0);g($,E,U,"[","\\lbrack",!0);g(y,E,Mt,"]","\\rbrack",!0);g($,E,U,"]","\\rbrack",!0);g(y,E,en,"(","\\lparen",!0);g(y,E,Mt,")","\\rparen",!0);g($,E,U,"<","\\textless",!0);g($,E,U,">","\\textgreater",!0);g(y,E,en,"","\\lfloor",!0);g(y,E,Mt,"","\\rfloor",!0);g(y,E,en,"","\\lceil",!0);g(y,E,Mt,"","\\rceil",!0);g(y,E,U,"\\","\\backslash");g(y,E,U,"","|");g(y,E,U,"","\\vert");g($,E,U,"|","\\textbar",!0);g(y,E,U,"","\\|");g(y,E,U,"","\\Vert");g($,E,U,"","\\textbardbl");g($,E,U,"~","\\textasciitilde");g($,E,U,"\\","\\textbackslash");g($,E,U,"^","\\textasciicircum");g(y,E,L,"","\\uparrow",!0);g(y,E,L,"","\\Uparrow",!0);g(y,E,L,"","\\downarrow",!0);g(y,E,L,"","\\Downarrow",!0);g(y,E,L,"","\\updownarrow",!0);g(y,E,L,"","\\Updownarrow",!0);g(y,E,nt,"","\\coprod");g(y,E,nt,"","\\bigvee");g(y,E,nt,"","\\bigwedge");g(y,E,nt,"","\\biguplus");g(y,E,nt,"","\\bigcap");g(y,E,nt,"","\\bigcup");g(y,E,nt,"","\\int");g(y,E,nt,"","\\intop");g(y,E,nt,"","\\iint");g(y,E,nt,"","\\iiint");g(y,E,nt,"","\\prod");g(y,E,nt,"","\\sum");g(y,E,nt,"","\\bigotimes");g(y,E,nt,"","\\bigoplus");g(y,E,nt,"","\\bigodot");g(y,E,nt,"","\\oint");g(y,E,nt,"","\\oiint");g(y,E,nt,"","\\oiiint");g(y,E,nt,"","\\bigsqcup");g(y,E,nt,"","\\smallint");g($,E,co,"","\\textellipsis");g(y,E,co,"","\\mathellipsis");g($,E,co,"","\\ldots",!0);g(y,E,co,"","\\ldots",!0);g(y,E,co,"","\\@cdots",!0);g(y,E,co,"","\\ddots",!0);g(y,E,U,"","\\varvdots");g($,E,U,"","\\varvdots");g(y,E,He,"","\\acute");g(y,E,He,"","\\grave");g(y,E,He,"","\\ddot");g(y,E,He,"~","\\tilde");g(y,E,He,"","\\bar");g(y,E,He,"","\\breve");g(y,E,He,"","\\check");g(y,E,He,"^","\\hat");g(y,E,He,"","\\vec");g(y,E,He,"","\\dot");g(y,E,He,"","\\mathring");g(y,E,de,"","\\@imath");g(y,E,de,"","\\@jmath");g(y,E,U,"","");g(y,E,U,"","");g($,E,U,"","\\i",!0);g($,E,U,"","\\j",!0);g($,E,U,"","\\ss",!0);g($,E,U,"","\\ae",!0);g($,E,U,"","\\oe",!0);g($,E,U,"","\\o",!0);g($,E,U,"","\\AE",!0);g($,E,U,"","\\OE",!0);g($,E,U,"","\\O",!0);g($,E,He,"","\\'");g($,E,He,"","\\`");g($,E,He,"","\\^");g($,E,He,"","\\~");g($,E,He,"","\\=");g($,E,He,"","\\u");g($,E,He,"","\\.");g($,E,He,"","\\c");g($,E,He,"","\\r");g($,E,He,"","\\v");g($,E,He,"",'\\"');g($,E,He,"","\\H");g($,E,He,"","\\textcircled");var Vy={"--":!0,"---":!0,"``":!0,"''":!0};g($,E,U,"","--",!0);g($,E,U,"","\\textendash");g($,E,U,"","---",!0);g($,E,U,"","\\textemdash");g($,E,U,"","`",!0);g($,E,U,"","\\textquoteleft");g($,E,U,"","'",!0);g($,E,U,"","\\textquoteright");g($,E,U,"","``",!0);g($,E,U,"","\\textquotedblleft");g($,E,U,"","''",!0);g($,E,U,"","\\textquotedblright");g(y,E,U,"","\\degree",!0);g($,E,U,"","\\degree");g($,E,U,"","\\textdegree",!0);g(y,E,U,"","\\pounds");g(y,E,U,"","\\mathsterling",!0);g($,E,U,"","\\pounds");g($,E,U,"","\\textsterling",!0);g(y,D,U,"","\\maltese");g($,D,U,"","\\maltese");var Sh='0123456789/@."';for(var Au=0;Au<Sh.length;Au++){var kh=Sh.charAt(Au);g(y,E,U,kh,kh)}var Th='0123456789!@*()-=+";:?/.,';for(var Iu=0;Iu<Th.length;Iu++){var Eh=Th.charAt(Iu);g($,E,U,Eh,Eh)}var ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Mu=0;Mu<ea.length;Mu++){var Zl=ea.charAt(Mu);g(y,E,de,Zl,Zl),g($,E,U,Zl,Zl)}g(y,D,U,"C","");g($,D,U,"C","");g(y,D,U,"H","");g($,D,U,"H","");g(y,D,U,"N","");g($,D,U,"N","");g(y,D,U,"P","");g($,D,U,"P","");g(y,D,U,"Q","");g($,D,U,"Q","");g(y,D,U,"R","");g($,D,U,"R","");g(y,D,U,"Z","");g($,D,U,"Z","");g(y,E,de,"h","");g($,E,de,"h","");var he="";for(var kt=0;kt<ea.length;kt++){var Ye=ea.charAt(kt);he=String.fromCharCode(55349,56320+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),he=String.fromCharCode(55349,56372+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),he=String.fromCharCode(55349,56424+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),he=String.fromCharCode(55349,56580+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),he=String.fromCharCode(55349,56684+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),he=String.fromCharCode(55349,56736+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),he=String.fromCharCode(55349,56788+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),he=String.fromCharCode(55349,56840+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),he=String.fromCharCode(55349,56944+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),kt<26&&(he=String.fromCharCode(55349,56632+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he),he=String.fromCharCode(55349,56476+kt),g(y,E,de,Ye,he),g($,E,U,Ye,he))}he="";g(y,E,de,"k",he);g($,E,U,"k",he);for(var Xr=0;Xr<10;Xr++){var wr=Xr.toString();he=String.fromCharCode(55349,57294+Xr),g(y,E,de,wr,he),g($,E,U,wr,he),he=String.fromCharCode(55349,57314+Xr),g(y,E,de,wr,he),g($,E,U,wr,he),he=String.fromCharCode(55349,57324+Xr),g(y,E,de,wr,he),g($,E,U,wr,he),he=String.fromCharCode(55349,57334+Xr),g(y,E,de,wr,he),g($,E,U,wr,he)}var tc="";for(var Nu=0;Nu<tc.length;Nu++){var jl=tc.charAt(Nu);g(y,E,de,jl,jl),g($,E,U,jl,jl)}var es=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ch=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],IS=function(t,n){var r=t.charCodeAt(0),i=t.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,l=n==="math"?0:1;if(119808<=o&&o<120484){var s=Math.floor((o-119808)/26);return[es[s][2],es[s][l]]}else if(120782<=o&&o<=120831){var a=Math.floor((o-120782)/10);return[Ch[a][2],Ch[a][l]]}else{if(o===120485||o===120486)return[es[0][2],es[0][l]];if(120486<o&&o<120782)return["",""];throw new W("Unsupported character: "+t)}},Ra=function(t,n,r){return Fe[r][t]&&Fe[r][t].replace&&(t=Fe[r][t].replace),{value:t,metrics:Dd(t,n,r)}},kn=function(t,n,r,i,o){var l=Ra(t,n,r),s=l.metrics;t=l.value;var a;if(s){var u=s.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),a=new hn(t,s.height,s.depth,u,s.skew,s.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),a=new hn(t,0,0,0,0,0,o);if(i){a.maxFontSize=i.sizeMultiplier,i.style.isTight()&&a.classes.push("mtight");var d=i.getColor();d&&(a.style.color=d)}return a},MS=function(t,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Ra(t,"Main-Bold",n).metrics?kn(t,"Main-Bold",n,r,i.concat(["mathbf"])):t==="\\"||Fe[n][t].font==="main"?kn(t,"Main-Regular",n,r,i):kn(t,"AMS-Regular",n,r,i.concat(["amsrm"]))},NS=function(t,n,r,i,o){return o!=="textord"&&Ra(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},_S=function(t,n,r){var i=t.mode,o=t.text,l=["mord"],s=i==="math"||i==="text"&&n.font,a=s?n.font:n.fontFamily,u="",d="";if(o.charCodeAt(0)===55349&&([u,d]=IS(o,i)),u.length>0)return kn(o,u,i,n,l.concat(d));if(a){var p,h;if(a==="boldsymbol"){var m=NS(o,i,n,l,r);p=m.fontName,h=[m.fontClass]}else s?(p=Ky[a].fontName,h=[a]):(p=ts(a,n.fontWeight,n.fontShape),h=[a,n.fontWeight,n.fontShape]);if(Ra(o,p,i).metrics)return kn(o,p,i,n,l.concat(h));if(Vy.hasOwnProperty(o)&&p.slice(0,10)==="Typewriter"){for(var w=[],k=0;k<o.length;k++)w.push(kn(o[k],p,i,n,l.concat(h)));return $y(w)}}if(r==="mathord")return kn(o,"Math-Italic",i,n,l.concat(["mathnormal"]));if(r==="textord"){var M=Fe[i][o]&&Fe[i][o].font;if(M==="ams"){var v=ts("amsrm",n.fontWeight,n.fontShape);return kn(o,v,i,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(M==="main"||!M){var S=ts("textrm",n.fontWeight,n.fontShape);return kn(o,S,i,n,l.concat(n.fontWeight,n.fontShape))}else{var T=ts(M,n.fontWeight,n.fontShape);return kn(o,T,i,n,l.concat(T,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},RS=(e,t)=>{if(Br(e.classes)!==Br(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},PS=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof hn&&r instanceof hn&&RS(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},Fd=function(t){for(var n=0,r=0,i=0,o=0;o<t.children.length;o++){var l=t.children[o];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=i},Pt=function(t,n,r,i){var o=new Il(t,n,r,i);return Fd(o),o},Gy=(e,t,n,r)=>new Il(e,t,n,r),DS=function(t,n,r){var i=Pt([t],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Q(i.height),i.maxFontSize=1,i},LS=function(t,n,r,i){var o=new Ld(t,n,r,i);return Fd(o),o},$y=function(t){var n=new Al(t);return Fd(n),n},FS=function(t,n){return t instanceof Al?Pt([],[t],n):t},zS=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,l=1;l<n.length;l++){var s=-n[l].shift-o-n[l].elem.depth,a=s-(n[l-1].elem.height+n[l-1].elem.depth);o=o+s,r.push({type:"kern",size:a}),r.push(n[l])}return{children:r,depth:i}}var u;if(t.positionType==="top"){for(var d=t.positionData,p=0;p<t.children.length;p++){var h=t.children[p];d-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=d}else if(t.positionType==="bottom")u=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},US=function(t,n){for(var{children:r,depth:i}=zS(t),o=0,l=0;l<r.length;l++){var s=r[l];if(s.type==="elem"){var a=s.elem;o=Math.max(o,a.maxFontSize,a.height)}}o+=2;var u=Pt(["pstrut"],[]);u.style.height=Q(o);for(var d=[],p=i,h=i,m=i,w=0;w<r.length;w++){var k=r[w];if(k.type==="kern")m+=k.size;else{var M=k.elem,v=k.wrapperClasses||[],S=k.wrapperStyle||{},T=Pt(v,[u,M],void 0,S);T.style.top=Q(-o-m-M.depth),k.marginLeft&&(T.style.marginLeft=k.marginLeft),k.marginRight&&(T.style.marginRight=k.marginRight),d.push(T),m+=M.height+M.depth}p=Math.min(p,m),h=Math.max(h,m)}var C=Pt(["vlist"],d);C.style.height=Q(h);var I;if(p<0){var b=Pt([],[]),R=Pt(["vlist"],[b]);R.style.height=Q(-p);var z=Pt(["vlist-s"],[new hn("")]);I=[Pt(["vlist-r"],[C,z]),Pt(["vlist-r"],[R])]}else I=[Pt(["vlist-r"],[C])];var P=Pt(["vlist-t"],I);return I.length===2&&P.classes.push("vlist-t2"),P.height=h,P.depth=-p,P},BS=(e,t)=>{var n=Pt(["mspace"],[],t),r=$e(e,t);return n.style.marginRight=Q(r),n},ts=function(t,n,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},Ky={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Wy={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},OS=function(t,n){var[r,i,o]=Wy[t],l=new Or(r),s=new lr([l],{width:Q(i),height:Q(o),style:"width:"+Q(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),a=Gy(["overlay"],[s],n);return a.height=o,a.style.height=Q(o),a.style.width=Q(i),a},O={fontMap:Ky,makeSymbol:kn,mathsym:MS,makeSpan:Pt,makeSvgSpan:Gy,makeLineSpan:DS,makeAnchor:LS,makeFragment:$y,wrapFragment:FS,makeVList:US,makeOrd:_S,makeGlue:BS,staticSvg:OS,svgData:Wy,tryCombineChars:PS},Ve={number:3,unit:"mu"},Qr={number:4,unit:"mu"},Wn={number:5,unit:"mu"},qS={mord:{mop:Ve,mbin:Qr,mrel:Wn,minner:Ve},mop:{mord:Ve,mop:Ve,mrel:Wn,minner:Ve},mbin:{mord:Qr,mop:Qr,mopen:Qr,minner:Qr},mrel:{mord:Wn,mop:Wn,mopen:Wn,minner:Wn},mopen:{},mclose:{mop:Ve,mbin:Qr,mrel:Wn,minner:Ve},mpunct:{mord:Ve,mop:Ve,mrel:Wn,mopen:Ve,mclose:Ve,mpunct:Ve,minner:Ve},minner:{mord:Ve,mop:Ve,mbin:Qr,mrel:Wn,mopen:Ve,mpunct:Ve,minner:Ve}},HS={mord:{mop:Ve},mop:{mord:Ve,mop:Ve},mbin:{},mrel:{},mopen:{},mclose:{mop:Ve},mpunct:{},minner:{mop:Ve}},Yy={},ta={},na={};function ne(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=e,s={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},a=0;a<n.length;++a)Yy[n[a]]=s;t&&(o&&(ta[t]=o),l&&(na[t]=l))}function yi(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;ne({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var ra=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},je=function(t){return t.type==="ordgroup"?t.body:[t]},sr=O.makeSpan,VS=["leftmost","mbin","mopen","mrel","mop","mpunct"],GS=["rightmost","mrel","mclose","mpunct"],$S={display:fe.DISPLAY,text:fe.TEXT,script:fe.SCRIPT,scriptscript:fe.SCRIPTSCRIPT},KS={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},lt=function(t,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],l=0;l<t.length;l++){var s=be(t[l],n);if(s instanceof Al){var a=s.children;o.push(...a)}else o.push(s)}if(O.tryCombineChars(o),!r)return o;var u=n;if(t.length===1){var d=t[0];d.type==="sizing"?u=n.havingSize(d.size):d.type==="styling"&&(u=n.havingStyle($S[d.style]))}var p=sr([i[0]||"leftmost"],[],n),h=sr([i[1]||"rightmost"],[],n),m=r==="root";return bh(o,(w,k)=>{var M=k.classes[0],v=w.classes[0];M==="mbin"&&GS.includes(v)?k.classes[0]="mord":v==="mbin"&&VS.includes(M)&&(w.classes[0]="mord")},{node:p},h,m),bh(o,(w,k)=>{var M=nc(k),v=nc(w),S=M&&v?w.hasClass("mtight")?HS[M][v]:qS[M][v]:null;if(S)return O.makeGlue(S,u)},{node:p},h,m),o},bh=function e(t,n,r,i,o){i&&t.push(i);for(var l=0;l<t.length;l++){var s=t[l],a=Jy(s);if(a){e(a.children,n,r,null,o);continue}var u=!s.hasClass("mspace");if(u){var d=n(s,r.node);d&&(r.insertAfter?r.insertAfter(d):(t.unshift(d),l++))}u?r.node=s:o&&s.hasClass("newline")&&(r.node=sr(["leftmost"])),r.insertAfter=(p=>h=>{t.splice(p+1,0,h),l++})(l)}i&&t.pop()},Jy=function(t){return t instanceof Al||t instanceof Ld||t instanceof Il&&t.hasClass("enclosing")?t:null},WS=function e(t,n){var r=Jy(t);if(r){var i=r.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},nc=function(t,n){return t?(n&&(t=WS(t,n)),KS[t.classes[0]]||null):null},gl=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return sr(n.concat(r))},be=function(t,n,r){if(!t)return sr();if(ta[t.type]){var i=ta[t.type](t,n);if(r&&n.size!==r.size){i=sr(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new W("Got group of unknown type: '"+t.type+"'")};function ns(e,t){var n=sr(["base"],e,t),r=sr(["strut"]);return r.style.height=Q(n.height+n.depth),n.depth&&(r.style.verticalAlign=Q(-n.depth)),n.children.unshift(r),n}function rc(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=lt(e,t,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],l=[],s=0;s<r.length;s++)if(l.push(r[s]),r[s].hasClass("mbin")||r[s].hasClass("mrel")||r[s].hasClass("allowbreak")){for(var a=!1;s<r.length-1&&r[s+1].hasClass("mspace")&&!r[s+1].hasClass("newline");)s++,l.push(r[s]),r[s].hasClass("nobreak")&&(a=!0);a||(o.push(ns(l,t)),l=[])}else r[s].hasClass("newline")&&(l.pop(),l.length>0&&(o.push(ns(l,t)),l=[]),o.push(r[s]));l.length>0&&o.push(ns(l,t));var u;n?(u=ns(lt(n,t,!0)),u.classes=["tag"],o.push(u)):i&&o.push(i);var d=sr(["katex-html"],o);if(d.setAttribute("aria-hidden","true"),u){var p=u.children[0];p.style.height=Q(d.height+d.depth),d.depth&&(p.style.verticalAlign=Q(-d.depth))}return d}function Xy(e){return new Al(e)}class Kt{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=Br(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof zn&&this.children[r+1]instanceof zn){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof zn;)i+=this.children[++r].toText();t.appendChild(new zn(i).toNode())}else t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=Ae.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+Ae.escape(Br(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class zn{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ae.escape(this.toText())}toText(){return this.text}}class YS{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Q(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Q(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var K={MathNode:Kt,TextNode:zn,SpaceNode:YS,newDocumentFragment:Xy},mn=function(t,n,r){return Fe[n][t]&&Fe[n][t].replace&&t.charCodeAt(0)!==55349&&!(Vy.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=Fe[n][t].replace),new K.TextNode(t)},zd=function(t){return t.length===1?t[0]:new K.MathNode("mrow",t)},Ud=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=t.text;if(["\\imath","\\jmath"].includes(o))return null;Fe[i][o]&&Fe[i][o].replace&&(o=Fe[i][o].replace);var l=O.fontMap[r].fontName;return Dd(o,l,i)?O.fontMap[r].variant:null};function _u(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof zn&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof zn&&n.text===","}else return!1}var qt=function(t,n,r){if(t.length===1){var i=Re(t[0],n);return r&&i instanceof Kt&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],l,s=0;s<t.length;s++){var a=Re(t[s],n);if(a instanceof Kt&&l instanceof Kt){if(a.type==="mtext"&&l.type==="mtext"&&a.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...a.children);continue}else if(a.type==="mn"&&l.type==="mn"){l.children.push(...a.children);continue}else if(_u(a)&&l.type==="mn"){l.children.push(...a.children);continue}else if(a.type==="mn"&&_u(l))a.children=[...l.children,...a.children],o.pop();else if((a.type==="msup"||a.type==="msub")&&a.children.length>=1&&(l.type==="mn"||_u(l))){var u=a.children[0];u instanceof Kt&&u.type==="mn"&&(u.children=[...l.children,...u.children],o.pop())}else if(l.type==="mi"&&l.children.length===1){var d=l.children[0];if(d instanceof zn&&d.text===""&&(a.type==="mo"||a.type==="mi"||a.type==="mn")){var p=a.children[0];p instanceof zn&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),o.pop())}}}o.push(a),l=a}return o},qr=function(t,n,r){return zd(qt(t,n,r))},Re=function(t,n){if(!t)return new K.MathNode("mrow");if(na[t.type]){var r=na[t.type](t,n);return r}else throw new W("Got group of unknown type: '"+t.type+"'")};function Ah(e,t,n,r,i){var o=qt(e,n),l;o.length===1&&o[0]instanceof Kt&&["mrow","mtable"].includes(o[0].type)?l=o[0]:l=new K.MathNode("mrow",o);var s=new K.MathNode("annotation",[new K.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var a=new K.MathNode("semantics",[l,s]),u=new K.MathNode("math",[a]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var d=i?"katex":"katex-mathml";return O.makeSpan([d],[u])}var Qy=function(t){return new Xn({style:t.displayMode?fe.DISPLAY:fe.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},Zy=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=O.makeSpan(r,[t])}return t},JS=function(t,n,r){var i=Qy(r),o;if(r.output==="mathml")return Ah(t,n,i,r.displayMode,!0);if(r.output==="html"){var l=rc(t,i);o=O.makeSpan(["katex"],[l])}else{var s=Ah(t,n,i,r.displayMode,!1),a=rc(t,i);o=O.makeSpan(["katex"],[s,a])}return Zy(o,r)},XS=function(t,n,r){var i=Qy(r),o=rc(t,i),l=O.makeSpan(["katex"],[o]);return Zy(l,r)},QS={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},ZS=function(t){var n=new K.MathNode("mo",[new K.TextNode(QS[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},jS={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},ek=function(t){return t.type==="ordgroup"?t.body.length:1},tk=function(t,n){function r(){var s=4e5,a=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(a)){var u=t,d=ek(u.base),p,h,m;if(d>5)a==="widehat"||a==="widecheck"?(p=420,s=2364,m=.42,h=a+"4"):(p=312,s=2340,m=.34,h="tilde4");else{var w=[1,1,2,2,3,3][d];a==="widehat"||a==="widecheck"?(s=[0,1062,2364,2364,2364][w],p=[0,239,300,360,420][w],m=[0,.24,.3,.3,.36,.42][w],h=a+w):(s=[0,600,1033,2339,2340][w],p=[0,260,286,306,312][w],m=[0,.26,.286,.3,.306,.34][w],h="tilde"+w)}var k=new Or(h),M=new lr([k],{width:"100%",height:Q(m),viewBox:"0 0 "+s+" "+p,preserveAspectRatio:"none"});return{span:O.makeSvgSpan([],[M],n),minWidth:0,height:m}}else{var v=[],S=jS[a],[T,C,I]=S,b=I/1e3,R=T.length,z,P;if(R===1){var _=S[3];z=["hide-tail"],P=[_]}else if(R===2)z=["halfarrow-left","halfarrow-right"],P=["xMinYMin","xMaxYMin"];else if(R===3)z=["brace-left","brace-center","brace-right"],P=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+R+" children.");for(var q=0;q<R;q++){var B=new Or(T[q]),G=new lr([B],{width:"400em",height:Q(b),viewBox:"0 0 "+s+" "+I,preserveAspectRatio:P[q]+" slice"}),j=O.makeSvgSpan([z[q]],[G],n);if(R===1)return{span:j,minWidth:C,height:b};j.style.height=Q(b),v.push(j)}return{span:O.makeSpan(["stretchy"],v,n),minWidth:C,height:b}}}var{span:i,minWidth:o,height:l}=r();return i.height=l,i.style.height=Q(l),o>0&&(i.style.minWidth=Q(o)),i},nk=function(t,n,r,i,o){var l,s=t.height+t.depth+r+i;if(/fbox|color|angl/.test(n)){if(l=O.makeSpan(["stretchy",n],[],o),n==="fbox"){var a=o.color&&o.getColor();a&&(l.style.borderColor=a)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new ec({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new ec({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new lr(u,{width:"100%",height:Q(s)});l=O.makeSvgSpan([],[d],o)}return l.height=s,l.style.height=Q(s),l},ar={encloseSpan:nk,mathMLnode:ZS,svgSpan:tk};function xe(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Bd(e){var t=Pa(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Pa(e){return e&&(e.type==="atom"||AS.hasOwnProperty(e.type))?e:null}var Od=(e,t)=>{var n,r,i;e&&e.type==="supsub"?(r=xe(e.base,"accent"),n=r.base,e.base=n,i=CS(be(e,t)),e.base=r):(r=xe(e,"accent"),n=r.base);var o=be(n,t.havingCrampedStyle()),l=r.isShifty&&Ae.isCharacterBox(n),s=0;if(l){var a=Ae.getBaseElem(n),u=be(a,t.havingCrampedStyle());s=wh(u).skew}var d=r.label==="\\c",p=d?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight),h;if(r.isStretchy)h=ar.svgSpan(r,t),h=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+Q(2*s)+")",marginLeft:Q(2*s)}:void 0}]},t);else{var m,w;r.label==="\\vec"?(m=O.staticSvg("vec",t),w=O.svgData.vec[1]):(m=O.makeOrd({mode:r.mode,text:r.label},t,"textord"),m=wh(m),m.italic=0,w=m.width,d&&(p+=m.depth)),h=O.makeSpan(["accent-body"],[m]);var k=r.label==="\\textcircled";k&&(h.classes.push("accent-full"),p=o.height);var M=s;k||(M-=w/2),h.style.left=Q(M),r.label==="\\textcircled"&&(h.style.top=".2em"),h=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-p},{type:"elem",elem:h}]},t)}var v=O.makeSpan(["mord","accent"],[h],t);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},jy=(e,t)=>{var n=e.isStretchy?ar.mathMLnode(e.label):new K.MathNode("mo",[mn(e.label,e.mode)]),r=new K.MathNode("mover",[Re(e.base,t),n]);return r.setAttribute("accent","true"),r},rk=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));ne({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=ra(t[0]),r=!rk.test(e.funcName),i=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Od,mathmlBuilder:jy});ne({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Od,mathmlBuilder:jy});ne({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=be(e.base,t),r=ar.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,o=O.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return O.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:(e,t)=>{var n=ar.mathMLnode(e.label),r=new K.MathNode("munder",[Re(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var rs=e=>{var t=new K.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};ne({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),i=O.wrapFragment(be(e.body,r,t),t),o=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var l;e.below&&(r=t.havingStyle(n.sub()),l=O.wrapFragment(be(e.below,r,t),t),l.classes.push(o+"-arrow-pad"));var s=ar.svgSpan(e,t),a=-t.fontMetrics().axisHeight+.5*s.height,u=-t.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(u-=i.depth);var d;if(l){var p=-t.fontMetrics().axisHeight+l.height+.5*s.height+.111;d=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:a},{type:"elem",elem:l,shift:p}]},t)}else d=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:a}]},t);return d.children[0].children[0].children[1].classes.push("svg-align"),O.makeSpan(["mrel","x-arrow"],[d],t)},mathmlBuilder(e,t){var n=ar.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var i=rs(Re(e.body,t));if(e.below){var o=rs(Re(e.below,t));r=new K.MathNode("munderover",[n,o,i])}else r=new K.MathNode("mover",[n,i])}else if(e.below){var l=rs(Re(e.below,t));r=new K.MathNode("munder",[n,l])}else r=rs(),r=new K.MathNode("mover",[n,r]);return r}});var ik=O.makeSpan;function e2(e,t){var n=lt(e.body,t,!0);return ik([e.mclass],n,t)}function t2(e,t){var n,r=qt(e.body,t);return e.mclass==="minner"?n=new K.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new K.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new K.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ne({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:je(i),isCharacterBox:Ae.isCharacterBox(i)}},htmlBuilder:e2,mathmlBuilder:t2});var Da=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};ne({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Da(t[0]),body:je(t[1]),isCharacterBox:Ae.isCharacterBox(t[1])}}});ne({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,i=t[1],o=t[0],l;r!=="\\stackrel"?l=Da(i):l="mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:je(i)},a={type:"supsub",mode:o.mode,base:s,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:l,body:[a],isCharacterBox:Ae.isCharacterBox(a)}},htmlBuilder:e2,mathmlBuilder:t2});ne({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Da(t[0]),body:je(t[0])}},htmlBuilder(e,t){var n=lt(e.body,t,!0),r=O.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=qt(e.body,t),r=new K.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var ok={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Ih=()=>({type:"styling",body:[],mode:"math",style:"display"}),Mh=e=>e.type==="textord"&&e.text==="@",lk=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function sk(e,t,n){var r=ok[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[o],[]),s=n.callFunction("\\\\cdright",[t[1]],[]),a={type:"ordgroup",mode:"math",body:[i,l,s]};return n.callFunction("\\\\cdparent",[a],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ak(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new W("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],i=[r],o=0;o<t.length;o++){for(var l=t[o],s=Ih(),a=0;a<l.length;a++)if(!Mh(l[a]))s.body.push(l[a]);else{r.push(s),a+=1;var u=Bd(l[a]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var p=0;p<2;p++){for(var h=!0,m=a+1;m<l.length;m++){if(lk(l[m],u)){h=!1,a=m;break}if(Mh(l[m]))throw new W("Missing a "+u+" character to complete a CD arrow.",l[m]);d[p].body.push(l[m])}if(h)throw new W("Missing a "+u+" character to complete a CD arrow.",l[a])}else throw new W('Expected one of "<>AV=|." after @',l[a]);var w=sk(u,d,e),k={type:"styling",body:[w],mode:"math",style:"display"};r.push(k),s=Ih()}o%2===0?r.push(s):r.shift(),r=[],i.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var M=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:M,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ne({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=O.wrapFragment(be(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=Q(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new K.MathNode("mrow",[Re(e.label,t)]);return n=new K.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new K.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ne({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=O.wrapFragment(be(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new K.MathNode("mrow",[Re(e.fragment,t)])}});ne({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=xe(t[0],"ordgroup"),i=r.body,o="",l=0;l<i.length;l++){var s=xe(i[l],"textord");o+=s.text}var a=parseInt(o),u;if(isNaN(a))throw new W("\\@char has non-numeric argument "+o);if(a<0||a>=1114111)throw new W("\\@char with invalid code point "+o);return a<=65535?u=String.fromCharCode(a):(a-=65536,u=String.fromCharCode((a>>10)+55296,(a&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var n2=(e,t)=>{var n=lt(e.body,t.withColor(e.color),!1);return O.makeFragment(n)},r2=(e,t)=>{var n=qt(e.body,t.withColor(e.color)),r=new K.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};ne({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=xe(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:je(i)}},htmlBuilder:n2,mathmlBuilder:r2});ne({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=xe(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:n2,mathmlBuilder:r2});ne({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&xe(i,"size").value}},htmlBuilder(e,t){var n=O.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Q($e(e.size,t)))),n},mathmlBuilder(e,t){var n=new K.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Q($e(e.size,t)))),n}});var ic={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},i2=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new W("Expected a control sequence",e);return t},uk=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},o2=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};ne({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(ic[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=ic[r.text]),xe(t.parseFunction(),"internal");throw new W("Invalid token after macro prefix",r)}});ne({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new W("Expected a control sequence",r);for(var o=0,l,s=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){l=t.gullet.future(),s[o].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new W('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new W('Argument number "'+r.text+'" out of order');o++,s.push([])}else{if(r.text==="EOF")throw new W("Expected a macro definition");s[o].push(r.text)}var{tokens:a}=t.gullet.consumeArg();return l&&a.unshift(l),(n==="\\edef"||n==="\\xdef")&&(a=t.gullet.expandTokens(a),a.reverse()),t.gullet.macros.set(i,{tokens:a,numArgs:o,delimiters:s},n===ic[n]),{type:"internal",mode:t.mode}}});ne({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=i2(t.gullet.popToken());t.gullet.consumeSpaces();var i=uk(t);return o2(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});ne({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=i2(t.gullet.popToken()),i=t.gullet.popToken(),o=t.gullet.popToken();return o2(t,r,o,n==="\\\\globalfuture"),t.gullet.pushToken(o),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var Po=function(t,n,r){var i=Fe.math[t]&&Fe.math[t].replace,o=Dd(i||t,n,r);if(!o)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return o},qd=function(t,n,r,i){var o=r.havingBaseStyle(n),l=O.makeSpan(i.concat(o.sizingClasses(r)),[t],r),s=o.sizeMultiplier/r.sizeMultiplier;return l.height*=s,l.depth*=s,l.maxFontSize=o.sizeMultiplier,l},l2=function(t,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Q(o),t.height-=o,t.depth+=o},ck=function(t,n,r,i,o,l){var s=O.makeSymbol(t,"Main-Regular",o,i),a=qd(s,n,i,l);return r&&l2(a,i,n),a},dk=function(t,n,r,i){return O.makeSymbol(t,"Size"+n+"-Regular",r,i)},s2=function(t,n,r,i,o,l){var s=dk(t,n,o,i),a=qd(O.makeSpan(["delimsizing","size"+n],[s],i),fe.TEXT,i,l);return r&&l2(a,i,fe.TEXT),a},Ru=function(t,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=O.makeSpan(["delimsizinginner",i],[O.makeSpan([],[O.makeSymbol(t,n,r)])]);return{type:"elem",elem:o}},Pu=function(t,n,r){var i=Fn["Size4-Regular"][t.charCodeAt(0)]?Fn["Size4-Regular"][t.charCodeAt(0)][4]:Fn["Size1-Regular"][t.charCodeAt(0)][4],o=new Or("inner",gS(t,Math.round(1e3*n))),l=new lr([o],{width:Q(i),height:Q(n),style:"width:"+Q(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),s=O.makeSvgSpan([],[l],r);return s.height=n,s.style.height=Q(n),s.style.width=Q(i),{type:"elem",elem:s}},oc=.008,is={type:"kern",size:-1*oc},fk=["|","\\lvert","\\rvert","\\vert"],pk=["\\|","\\lVert","\\rVert","\\Vert"],a2=function(t,n,r,i,o,l){var s,a,u,d,p="",h=0;s=u=d=t,a=null;var m="Size1-Regular";t==="\\uparrow"?u=d="":t==="\\Uparrow"?u=d="":t==="\\downarrow"?s=u="":t==="\\Downarrow"?s=u="":t==="\\updownarrow"?(s="\\uparrow",u="",d="\\downarrow"):t==="\\Updownarrow"?(s="\\Uparrow",u="",d="\\Downarrow"):fk.includes(t)?(u="",p="vert",h=333):pk.includes(t)?(u="",p="doublevert",h=556):t==="["||t==="\\lbrack"?(s="",u="",d="",m="Size4-Regular",p="lbrack",h=667):t==="]"||t==="\\rbrack"?(s="",u="",d="",m="Size4-Regular",p="rbrack",h=667):t==="\\lfloor"||t===""?(u=s="",d="",m="Size4-Regular",p="lfloor",h=667):t==="\\lceil"||t===""?(s="",u=d="",m="Size4-Regular",p="lceil",h=667):t==="\\rfloor"||t===""?(u=s="",d="",m="Size4-Regular",p="rfloor",h=667):t==="\\rceil"||t===""?(s="",u=d="",m="Size4-Regular",p="rceil",h=667):t==="("||t==="\\lparen"?(s="",u="",d="",m="Size4-Regular",p="lparen",h=875):t===")"||t==="\\rparen"?(s="",u="",d="",m="Size4-Regular",p="rparen",h=875):t==="\\{"||t==="\\lbrace"?(s="",a="",d="",u="",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(s="",a="",d="",u="",m="Size4-Regular"):t==="\\lgroup"||t===""?(s="",d="",u="",m="Size4-Regular"):t==="\\rgroup"||t===""?(s="",d="",u="",m="Size4-Regular"):t==="\\lmoustache"||t===""?(s="",d="",u="",m="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(s="",d="",u="",m="Size4-Regular");var w=Po(s,m,o),k=w.height+w.depth,M=Po(u,m,o),v=M.height+M.depth,S=Po(d,m,o),T=S.height+S.depth,C=0,I=1;if(a!==null){var b=Po(a,m,o);C=b.height+b.depth,I=2}var R=k+T+C,z=Math.max(0,Math.ceil((n-R)/(I*v))),P=R+z*I*v,_=i.fontMetrics().axisHeight;r&&(_*=i.sizeMultiplier);var q=P/2-_,B=[];if(p.length>0){var G=P-k-T,j=Math.round(P*1e3),re=yS(p,Math.round(G*1e3)),ie=new Or(p,re),ce=(h/1e3).toFixed(3)+"em",V=(j/1e3).toFixed(3)+"em",ee=new lr([ie],{width:ce,height:V,viewBox:"0 0 "+h+" "+j}),N=O.makeSvgSpan([],[ee],i);N.height=j/1e3,N.style.width=ce,N.style.height=V,B.push({type:"elem",elem:N})}else{if(B.push(Ru(d,m,o)),B.push(is),a===null){var pe=P-k-T+2*oc;B.push(Pu(u,pe,i))}else{var ge=(P-k-T-C)/2+2*oc;B.push(Pu(u,ge,i)),B.push(is),B.push(Ru(a,m,o)),B.push(is),B.push(Pu(u,ge,i))}B.push(is),B.push(Ru(s,m,o))}var F=i.havingBaseStyle(fe.TEXT),ze=O.makeVList({positionType:"bottom",positionData:q,children:B},F);return qd(O.makeSpan(["delimsizing","mult"],[ze],F),fe.TEXT,i,l)},Du=80,Lu=.08,Fu=function(t,n,r,i,o){var l=mS(t,i,r),s=new Or(t,l),a=new lr([s],{width:"400em",height:Q(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return O.makeSvgSpan(["hide-tail"],[a],o)},hk=function(t,n){var r=n.havingBaseSizing(),i=f2("\\surd",t*r.sizeMultiplier,d2,r),o=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),s,a=0,u=0,d=0,p;return i.type==="small"?(d=1e3+1e3*l+Du,t<1?o=1:t<1.4&&(o=.7),a=(1+l+Lu)/o,u=(1+l)/o,s=Fu("sqrtMain",a,d,l,n),s.style.minWidth="0.853em",p=.833/o):i.type==="large"?(d=(1e3+Du)*Wo[i.size],u=(Wo[i.size]+l)/o,a=(Wo[i.size]+l+Lu)/o,s=Fu("sqrtSize"+i.size,a,d,l,n),s.style.minWidth="1.02em",p=1/o):(a=t+l+Lu,u=t+l,d=Math.floor(1e3*t+l)+Du,s=Fu("sqrtTall",a,d,l,n),s.style.minWidth="0.742em",p=1.056),s.height=u,s.style.height=Q(a),{span:s,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*o}},u2=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],mk=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],c2=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Wo=[0,1.2,1.8,2.4,3],gk=function(t,n,r,i,o){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),u2.includes(t)||c2.includes(t))return s2(t,n,!1,r,i,o);if(mk.includes(t))return a2(t,Wo[n],!1,r,i,o);throw new W("Illegal delimiter: '"+t+"'")},yk=[{type:"small",style:fe.SCRIPTSCRIPT},{type:"small",style:fe.SCRIPT},{type:"small",style:fe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],vk=[{type:"small",style:fe.SCRIPTSCRIPT},{type:"small",style:fe.SCRIPT},{type:"small",style:fe.TEXT},{type:"stack"}],d2=[{type:"small",style:fe.SCRIPTSCRIPT},{type:"small",style:fe.SCRIPT},{type:"small",style:fe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],xk=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},f2=function(t,n,r,i){for(var o=Math.min(2,3-i.style.size),l=o;l<r.length&&r[l].type!=="stack";l++){var s=Po(t,xk(r[l]),"math"),a=s.height+s.depth;if(r[l].type==="small"){var u=i.havingBaseStyle(r[l].style);a*=u.sizeMultiplier}if(a>n)return r[l]}return r[r.length-1]},p2=function(t,n,r,i,o,l){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var s;c2.includes(t)?s=yk:u2.includes(t)?s=d2:s=vk;var a=f2(t,n,s,i);return a.type==="small"?ck(t,a.style,r,i,o,l):a.type==="large"?s2(t,a.size,r,i,o,l):a2(t,n,r,i,o,l)},wk=function(t,n,r,i,o,l){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,a=901,u=5/i.fontMetrics().ptPerEm,d=Math.max(n-s,r+s),p=Math.max(d/500*a,2*d-u);return p2(t,p,!0,i,o,l)},tr={sqrtImage:hk,sizedDelim:gk,sizeToMaxHeight:Wo,customSizedDelim:p2,leftRightDelim:wk},Nh={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Sk=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function La(e,t){var n=Pa(e);if(n&&Sk.includes(n.text))return n;throw n?new W("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new W("Invalid delimiter type '"+e.type+"'",e)}ne({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=La(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Nh[e.funcName].size,mclass:Nh[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?O.makeSpan([e.mclass]):tr.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(mn(e.delim,e.mode));var n=new K.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Q(tr.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function _h(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ne({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new W("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:La(t[0],e).text,color:n}}});ne({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=La(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=xe(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(e,t)=>{_h(e);for(var n=lt(e.body,t,!0,["mopen","mclose"]),r=0,i=0,o=!1,l=0;l<n.length;l++)n[l].isMiddle?o=!0:(r=Math.max(n[l].height,r),i=Math.max(n[l].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var s;if(e.left==="."?s=gl(t,["mopen"]):s=tr.leftRightDelim(e.left,r,i,t,e.mode,["mopen"]),n.unshift(s),o)for(var a=1;a<n.length;a++){var u=n[a],d=u.isMiddle;d&&(n[a]=tr.leftRightDelim(d.delim,r,i,d.options,e.mode,[]))}var p;if(e.right===".")p=gl(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;p=tr.leftRightDelim(e.right,r,i,h,e.mode,["mclose"])}return n.push(p),O.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{_h(e);var n=qt(e.body,t);if(e.left!=="."){var r=new K.MathNode("mo",[mn(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var i=new K.MathNode("mo",[mn(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return zd(n)}});ne({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=La(t[0],e);if(!e.parser.leftrightDepth)throw new W("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=gl(t,[]);else{n=tr.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?mn("|","text"):mn(e.delim,e.mode),r=new K.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Hd=(e,t)=>{var n=O.wrapFragment(be(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,o,l=0,s=Ae.isCharacterBox(e.body);if(r==="sout")o=O.makeSpan(["stretchy","sout"]),o.height=t.fontMetrics().defaultRuleThickness/i,l=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var a=$e({number:.6,unit:"pt"},t),u=$e({number:.35,unit:"ex"},t),d=t.havingBaseSizing();i=i/d.sizeMultiplier;var p=n.height+n.depth+a+u;n.style.paddingLeft=Q(p/2+a);var h=Math.floor(1e3*p*i),m=pS(h),w=new lr([new Or("phase",m)],{width:"400em",height:Q(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});o=O.makeSvgSpan(["hide-tail"],[w],t),o.style.height=Q(p),l=n.depth+a+u}else{/cancel/.test(r)?s||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var k=0,M=0,v=0;/box/.test(r)?(v=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),k=t.fontMetrics().fboxsep+(r==="colorbox"?0:v),M=k):r==="angl"?(v=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),k=4*v,M=Math.max(0,.25-n.depth)):(k=s?.2:0,M=k),o=ar.encloseSpan(n,r,k,M,t),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=Q(v)):r==="angl"&&v!==.049&&(o.style.borderTopWidth=Q(v),o.style.borderRightWidth=Q(v)),l=n.depth+M,e.backgroundColor&&(o.style.backgroundColor=e.backgroundColor,e.borderColor&&(o.style.borderColor=e.borderColor))}var S;if(e.backgroundColor)S=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:n,shift:0}]},t);else{var T=/cancel|phase/.test(r)?["svg-align"]:[];S=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:l,wrapperClasses:T}]},t)}return/cancel/.test(r)&&(S.height=n.height,S.depth=n.depth),/cancel/.test(r)&&!s?O.makeSpan(["mord","cancel-lap"],[S],t):O.makeSpan(["mord"],[S],t)},Vd=(e,t)=>{var n=0,r=new K.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Re(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};ne({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,o=xe(t[0],"color-token").color,l=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:l}},htmlBuilder:Hd,mathmlBuilder:Vd});ne({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,o=xe(t[0],"color-token").color,l=xe(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:o,body:s}},htmlBuilder:Hd,mathmlBuilder:Vd});ne({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});ne({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Hd,mathmlBuilder:Vd});ne({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var h2={};function On(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=e,s={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},a=0;a<n.length;++a)h2[n[a]]=s;o&&(ta[t]=o),l&&(na[t]=l)}var m2={};function A(e,t){m2[e]=t}function Rh(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var Fa=e=>{var t=e.parser.settings;if(!t.displayMode)throw new W("{"+e.envName+"} can be used only in display mode.")};function Gd(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Kr(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:l,colSeparationType:s,autoTag:a,singleRow:u,emptySingleRow:d,maxNumCols:p,leqno:h}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var m=e.gullet.expandMacroAsText("\\arraystretch");if(m==null)l=1;else if(l=parseFloat(m),!l||l<0)throw new W("Invalid \\arraystretch: "+m)}e.gullet.beginGroup();var w=[],k=[w],M=[],v=[],S=a!=null?[]:void 0;function T(){a&&e.gullet.macros.set("\\@eqnsw","1",!0)}function C(){S&&(e.gullet.macros.get("\\df@tag")?(S.push(e.subparse([new Xt("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):S.push(!!a&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(T(),v.push(Rh(e));;){var I=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),I={type:"ordgroup",mode:e.mode,body:I},n&&(I={type:"styling",mode:e.mode,style:n,body:[I]}),w.push(I);var b=e.fetch().text;if(b==="&"){if(p&&w.length===p){if(u||s)throw new W("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(b==="\\end"){C(),w.length===1&&I.type==="styling"&&I.body[0].body.length===0&&(k.length>1||!d)&&k.pop(),v.length<k.length+1&&v.push([]);break}else if(b==="\\\\"){e.consume();var R=void 0;e.gullet.future().text!==" "&&(R=e.parseSizeGroup(!0)),M.push(R?R.value:null),C(),v.push(Rh(e)),w=[],k.push(w),T()}else throw new W("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:l,body:k,cols:o,rowGaps:M,hskipBeforeAndAfter:r,hLinesBeforeRow:v,colSeparationType:s,tags:S,leqno:h}}function $d(e){return e.slice(0,1)==="d"?"display":"text"}var qn=function(t,n){var r,i,o=t.body.length,l=t.hLinesBeforeRow,s=0,a=new Array(o),u=[],d=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,h=5*p;if(t.colSeparationType&&t.colSeparationType==="small"){var m=n.havingStyle(fe.SCRIPT).sizeMultiplier;h=.2778*(m/n.sizeMultiplier)}var w=t.colSeparationType==="CD"?$e({number:3,unit:"ex"},n):12*p,k=3*p,M=t.arraystretch*w,v=.7*M,S=.3*M,T=0;function C(gr){for(var Yr=0;Yr<gr.length;++Yr)Yr>0&&(T+=.25),u.push({pos:T,isDashed:gr[Yr]})}for(C(l[0]),r=0;r<t.body.length;++r){var I=t.body[r],b=v,R=S;s<I.length&&(s=I.length);var z=new Array(I.length);for(i=0;i<I.length;++i){var P=be(I[i],n);R<P.depth&&(R=P.depth),b<P.height&&(b=P.height),z[i]=P}var _=t.rowGaps[r],q=0;_&&(q=$e(_,n),q>0&&(q+=S,R<q&&(R=q),q=0)),t.addJot&&(R+=k),z.height=b,z.depth=R,T+=b,z.pos=T,T+=R+q,a[r]=z,C(l[r+1])}var B=T/2+n.fontMetrics().axisHeight,G=t.cols||[],j=[],re,ie,ce=[];if(t.tags&&t.tags.some(gr=>gr))for(r=0;r<o;++r){var V=a[r],ee=V.pos-B,N=t.tags[r],pe=void 0;N===!0?pe=O.makeSpan(["eqn-num"],[],n):N===!1?pe=O.makeSpan([],[],n):pe=O.makeSpan([],lt(N,n,!0),n),pe.depth=V.depth,pe.height=V.height,ce.push({type:"elem",elem:pe,shift:ee})}for(i=0,ie=0;i<s||ie<G.length;++i,++ie){for(var ge=G[ie]||{},F=!0;ge.type==="separator";){if(F||(re=O.makeSpan(["arraycolsep"],[]),re.style.width=Q(n.fontMetrics().doubleRuleSep),j.push(re)),ge.separator==="|"||ge.separator===":"){var ze=ge.separator==="|"?"solid":"dashed",Xe=O.makeSpan(["vertical-separator"],[],n);Xe.style.height=Q(T),Xe.style.borderRightWidth=Q(d),Xe.style.borderRightStyle=ze,Xe.style.margin="0 "+Q(-d/2);var le=T-B;le&&(Xe.style.verticalAlign=Q(-le)),j.push(Xe)}else throw new W("Invalid separator type: "+ge.separator);ie++,ge=G[ie]||{},F=!1}if(!(i>=s)){var Pe=void 0;(i>0||t.hskipBeforeAndAfter)&&(Pe=Ae.deflt(ge.pregap,h),Pe!==0&&(re=O.makeSpan(["arraycolsep"],[]),re.style.width=Q(Pe),j.push(re)));var Qe=[];for(r=0;r<o;++r){var wt=a[r],St=wt[i];if(St){var tn=wt.pos-B;St.depth=wt.depth,St.height=wt.height,Qe.push({type:"elem",elem:St,shift:tn})}}Qe=O.makeVList({positionType:"individualShift",children:Qe},n),Qe=O.makeSpan(["col-align-"+(ge.align||"c")],[Qe]),j.push(Qe),(i<s-1||t.hskipBeforeAndAfter)&&(Pe=Ae.deflt(ge.postgap,h),Pe!==0&&(re=O.makeSpan(["arraycolsep"],[]),re.style.width=Q(Pe),j.push(re)))}}if(a=O.makeSpan(["mtable"],j),u.length>0){for(var wi=O.makeLineSpan("hline",n,d),mr=O.makeLineSpan("hdashline",n,d),Gn=[{type:"elem",elem:a,shift:0}];u.length>0;){var nn=u.pop(),Ht=nn.pos-B;nn.isDashed?Gn.push({type:"elem",elem:mr,shift:Ht}):Gn.push({type:"elem",elem:wi,shift:Ht})}a=O.makeVList({positionType:"individualShift",children:Gn},n)}if(ce.length===0)return O.makeSpan(["mord"],[a],n);var Nt=O.makeVList({positionType:"individualShift",children:ce},n);return Nt=O.makeSpan(["tag"],[Nt],n),O.makeFragment([a,Nt])},kk={c:"center ",l:"left ",r:"right "},Hn=function(t,n){for(var r=[],i=new K.MathNode("mtd",[],["mtr-glue"]),o=new K.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<t.body.length;l++){for(var s=t.body[l],a=[],u=0;u<s.length;u++)a.push(new K.MathNode("mtd",[Re(s[u],n)]));t.tags&&t.tags[l]&&(a.unshift(i),a.push(i),t.leqno?a.unshift(o):a.push(o)),r.push(new K.MathNode("mtr",a))}var d=new K.MathNode("mtable",r),p=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);d.setAttribute("rowspacing",Q(p));var h="",m="";if(t.cols&&t.cols.length>0){var w=t.cols,k="",M=!1,v=0,S=w.length;w[0].type==="separator"&&(h+="top ",v=1),w[w.length-1].type==="separator"&&(h+="bottom ",S-=1);for(var T=v;T<S;T++)w[T].type==="align"?(m+=kk[w[T].align],M&&(k+="none "),M=!0):w[T].type==="separator"&&M&&(k+=w[T].separator==="|"?"solid ":"dashed ",M=!1);d.setAttribute("columnalign",m.trim()),/[sd]/.test(k)&&d.setAttribute("columnlines",k.trim())}if(t.colSeparationType==="align"){for(var C=t.cols||[],I="",b=1;b<C.length;b++)I+=b%2?"0em ":"1em ";d.setAttribute("columnspacing",I.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var R="",z=t.hLinesBeforeRow;h+=z[0].length>0?"left ":"",h+=z[z.length-1].length>0?"right ":"";for(var P=1;P<z.length-1;P++)R+=z[P].length===0?"none ":z[P][0]?"dashed ":"solid ";return/[sd]/.test(R)&&d.setAttribute("rowlines",R.trim()),h!==""&&(d=new K.MathNode("menclose",[d]),d.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(d=new K.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},g2=function(t,n){t.envName.indexOf("ed")===-1&&Fa(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",o=t.envName==="split",l=Kr(t.parser,{cols:r,addJot:!0,autoTag:o?void 0:Gd(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:t.parser.settings.leqno},"display"),s,a=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var d="",p=0;p<n[0].body.length;p++){var h=xe(n[0].body[p],"textord");d+=h.text}s=Number(d),a=s*2}var m=!a;l.body.forEach(function(v){for(var S=1;S<v.length;S+=2){var T=xe(v[S],"styling"),C=xe(T.body[0],"ordgroup");C.body.unshift(u)}if(m)a<v.length&&(a=v.length);else{var I=v.length/2;if(s<I)throw new W("Too many math in a row: "+("expected "+s+", but got "+I),v[0])}});for(var w=0;w<a;++w){var k="r",M=0;w%2===1?k="l":w>0&&m&&(M=1),r[w]={type:"align",align:k,pregap:M,postgap:0}}return l.colSeparationType=m?"align":"alignat",l};On({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=Pa(t[0]),r=n?[t[0]]:xe(t[0],"ordgroup").body,i=r.map(function(l){var s=Bd(l),a=s.text;if("lcr".indexOf(a)!==-1)return{type:"align",align:a};if(a==="|")return{type:"separator",separator:"|"};if(a===":")return{type:"separator",separator:":"};throw new W("Unknown column alignment: "+a,l)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Kr(e.parser,o,$d(e.envName))},htmlBuilder:qn,mathmlBuilder:Hn});On({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new W("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=Kr(e.parser,r,$d(e.envName)),l=Math.max(0,...o.body.map(s=>s.length));return o.cols=new Array(l).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:qn,mathmlBuilder:Hn});On({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=Kr(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:qn,mathmlBuilder:Hn});On({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=Pa(t[0]),r=n?[t[0]]:xe(t[0],"ordgroup").body,i=r.map(function(l){var s=Bd(l),a=s.text;if("lc".indexOf(a)!==-1)return{type:"align",align:a};throw new W("Unknown column alignment: "+a,l)});if(i.length>1)throw new W("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=Kr(e.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new W("{subarray} can contain only one column");return o},htmlBuilder:qn,mathmlBuilder:Hn});On({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Kr(e.parser,t,$d(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:qn,mathmlBuilder:Hn});On({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:g2,htmlBuilder:qn,mathmlBuilder:Hn});On({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&Fa(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Gd(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Kr(e.parser,t,"display")},htmlBuilder:qn,mathmlBuilder:Hn});On({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:g2,htmlBuilder:qn,mathmlBuilder:Hn});On({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Fa(e);var t={autoTag:Gd(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Kr(e.parser,t,"display")},htmlBuilder:qn,mathmlBuilder:Hn});On({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Fa(e),ak(e.parser)},htmlBuilder:qn,mathmlBuilder:Hn});A("\\nonumber","\\gdef\\@eqnsw{0}");A("\\notag","\\nonumber");ne({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new W(e.funcName+" valid only within array environment")}});var Ph=h2;ne({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!=="ordgroup")throw new W("Invalid environment name",i);for(var o="",l=0;l<i.body.length;++l)o+=xe(i.body[l],"textord").text;if(r==="\\begin"){if(!Ph.hasOwnProperty(o))throw new W("No such environment: "+o,i);var s=Ph[o],{args:a,optArgs:u}=n.parseArguments("\\begin{"+o+"}",s),d={mode:n.mode,envName:o,parser:n},p=s.handler(d,a,u);n.expect("\\end",!1);var h=n.nextToken,m=xe(n.parseFunction(),"environment");if(m.name!==o)throw new W("Mismatch: \\begin{"+o+"} matched by \\end{"+m.name+"}",h);return p}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var y2=(e,t)=>{var n=e.font,r=t.withFont(n);return be(e.body,r)},v2=(e,t)=>{var n=e.font,r=t.withFont(n);return Re(e.body,r)},Dh={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ne({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=ra(t[0]),o=r;return o in Dh&&(o=Dh[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:y2,mathmlBuilder:v2});ne({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=Ae.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Da(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ne({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:o}=n,l=n.parseExpression(!0,i),s="math"+r.slice(1);return{type:"font",mode:o,font:s,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:y2,mathmlBuilder:v2});var x2=(e,t)=>{var n=t;return e==="display"?n=n.id>=fe.SCRIPT.id?n.text():fe.DISPLAY:e==="text"&&n.size===fe.DISPLAY.size?n=fe.TEXT:e==="script"?n=fe.SCRIPT:e==="scriptscript"&&(n=fe.SCRIPTSCRIPT),n},Kd=(e,t)=>{var n=x2(e.size,t.style),r=n.fracNum(),i=n.fracDen(),o;o=t.havingStyle(r);var l=be(e.numer,o,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,a=3.5/t.fontMetrics().ptPerEm;l.height=l.height<s?s:l.height,l.depth=l.depth<a?a:l.depth}o=t.havingStyle(i);var u=be(e.denom,o,t),d,p,h;e.hasBarLine?(e.barSize?(p=$e(e.barSize,t),d=O.makeLineSpan("frac-line",t,p)):d=O.makeLineSpan("frac-line",t),p=d.height,h=d.height):(d=null,p=0,h=t.fontMetrics().defaultRuleThickness);var m,w,k;n.size===fe.DISPLAY.size||e.size==="display"?(m=t.fontMetrics().num1,p>0?w=3*h:w=7*h,k=t.fontMetrics().denom1):(p>0?(m=t.fontMetrics().num2,w=h):(m=t.fontMetrics().num3,w=3*h),k=t.fontMetrics().denom2);var M;if(d){var S=t.fontMetrics().axisHeight;m-l.depth-(S+.5*p)<w&&(m+=w-(m-l.depth-(S+.5*p))),S-.5*p-(u.height-k)<w&&(k+=w-(S-.5*p-(u.height-k)));var T=-(S-.5*p);M=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:k},{type:"elem",elem:d,shift:T},{type:"elem",elem:l,shift:-m}]},t)}else{var v=m-l.depth-(u.height-k);v<w&&(m+=.5*(w-v),k+=.5*(w-v)),M=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:k},{type:"elem",elem:l,shift:-m}]},t)}o=t.havingStyle(n),M.height*=o.sizeMultiplier/t.sizeMultiplier,M.depth*=o.sizeMultiplier/t.sizeMultiplier;var C;n.size===fe.DISPLAY.size?C=t.fontMetrics().delim1:n.size===fe.SCRIPTSCRIPT.size?C=t.havingStyle(fe.SCRIPT).fontMetrics().delim2:C=t.fontMetrics().delim2;var I,b;return e.leftDelim==null?I=gl(t,["mopen"]):I=tr.customSizedDelim(e.leftDelim,C,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?b=O.makeSpan([]):e.rightDelim==null?b=gl(t,["mclose"]):b=tr.customSizedDelim(e.rightDelim,C,!0,t.havingStyle(n),e.mode,["mclose"]),O.makeSpan(["mord"].concat(o.sizingClasses(t)),[I,O.makeSpan(["mfrac"],[M]),b],t)},Wd=(e,t)=>{var n=new K.MathNode("mfrac",[Re(e.numer,t),Re(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=$e(e.barSize,t);n.setAttribute("linethickness",Q(r))}var i=x2(e.size,t.style);if(i.size!==t.style.size){n=new K.MathNode("mstyle",[n]);var o=i.size===fe.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var l=[];if(e.leftDelim!=null){var s=new K.MathNode("mo",[new K.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),l.push(s)}if(l.push(n),e.rightDelim!=null){var a=new K.MathNode("mo",[new K.TextNode(e.rightDelim.replace("\\",""))]);a.setAttribute("fence","true"),l.push(a)}return zd(l)}return n};ne({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],o=t[1],l,s=null,a=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,s="(",a=")";break;case"\\\\bracefrac":l=!1,s="\\{",a="\\}";break;case"\\\\brackfrac":l=!1,s="[",a="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:l,leftDelim:s,rightDelim:a,size:u,barSize:null}},htmlBuilder:Kd,mathmlBuilder:Wd});ne({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],o=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ne({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:r}}});var Lh=["display","text","script","scriptscript"],Fh=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};ne({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],i=t[5],o=ra(t[0]),l=o.type==="atom"&&o.family==="open"?Fh(o.text):null,s=ra(t[1]),a=s.type==="atom"&&s.family==="close"?Fh(s.text):null,u=xe(t[2],"size"),d,p=null;u.isBlank?d=!0:(p=u.value,d=p.number>0);var h="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var w=xe(m.body[0],"textord");h=Lh[Number(w.text)]}}else m=xe(m,"textord"),h=Lh[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:d,barSize:p,leftDelim:l,rightDelim:a,size:h}},htmlBuilder:Kd,mathmlBuilder:Wd});ne({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:xe(t[0],"size").value,token:i}}});ne({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],o=Z9(xe(t[1],"infix").size),l=t[2],s=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:l,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Kd,mathmlBuilder:Wd});var w2=(e,t)=>{var n=t.style,r,i;e.type==="supsub"?(r=e.sup?be(e.sup,t.havingStyle(n.sup()),t):be(e.sub,t.havingStyle(n.sub()),t),i=xe(e.base,"horizBrace")):i=xe(e,"horizBrace");var o=be(i.base,t.havingBaseStyle(fe.DISPLAY)),l=ar.svgSpan(i,t),s;if(i.isOver?(s=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},t),s.children[0].children[0].children[1].classes.push("svg-align")):(s=O.makeVList({positionType:"bottom",positionData:o.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},t),s.children[0].children[0].children[0].classes.push("svg-align")),r){var a=O.makeSpan(["mord",i.isOver?"mover":"munder"],[s],t);i.isOver?s=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:r}]},t):s=O.makeVList({positionType:"bottom",positionData:a.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:a}]},t)}return O.makeSpan(["mord",i.isOver?"mover":"munder"],[s],t)},Tk=(e,t)=>{var n=ar.mathMLnode(e.label);return new K.MathNode(e.isOver?"mover":"munder",[Re(e.base,t),n])};ne({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:w2,mathmlBuilder:Tk});ne({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=xe(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:je(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=lt(e.body,t,!1);return O.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=qr(e.body,t);return n instanceof Kt||(n=new Kt("mrow",[n])),n.setAttribute("href",e.href),n}});ne({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=xe(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var l=r[o];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:je(s)}}});ne({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:je(t[0])}},htmlBuilder(e,t){var n=lt(e.body,t,!1);return O.makeFragment(n)},mathmlBuilder(e,t){return new K.MathNode("mrow",qt(e.body,t))}});ne({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,o=xe(t[0],"raw").string,l=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,a={};switch(r){case"\\htmlClass":a.class=o,s={command:"\\htmlClass",class:o};break;case"\\htmlId":a.id=o,s={command:"\\htmlId",id:o};break;case"\\htmlStyle":a.style=o,s={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var u=o.split(","),d=0;d<u.length;d++){var p=u[d].split("=");if(p.length!==2)throw new W("Error parsing key-value for \\htmlData");a["data-"+p[0].trim()]=p[1].trim()}s={command:"\\htmlData",attributes:a};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(s)?{type:"html",mode:n.mode,attributes:a,body:je(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=lt(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=O.makeSpan(r,n,t);for(var o in e.attributes)o!=="class"&&e.attributes.hasOwnProperty(o)&&i.setAttribute(o,e.attributes[o]);return i},mathmlBuilder:(e,t)=>qr(e.body,t)});ne({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:je(t[0]),mathml:je(t[1])}},htmlBuilder:(e,t)=>{var n=lt(e.html,t,!1);return O.makeFragment(n)},mathmlBuilder:(e,t)=>qr(e.mathml,t)});var zu=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new W("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!By(r))throw new W("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ne({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},o={number:.9,unit:"em"},l={number:0,unit:"em"},s="";if(n[0])for(var a=xe(n[0],"raw").string,u=a.split(","),d=0;d<u.length;d++){var p=u[d].split("=");if(p.length===2){var h=p[1].trim();switch(p[0].trim()){case"alt":s=h;break;case"width":i=zu(h);break;case"height":o=zu(h);break;case"totalheight":l=zu(h);break;default:throw new W("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var m=xe(t[0],"url").url;return s===""&&(s=m,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:s,width:i,height:o,totalheight:l,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=$e(e.height,t),r=0;e.totalheight.number>0&&(r=$e(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=$e(e.width,t));var o={height:Q(n+r)};i>0&&(o.width=Q(i)),r>0&&(o.verticalAlign=Q(-r));var l=new TS(e.src,e.alt,o);return l.height=n,l.depth=r,l},mathmlBuilder:(e,t)=>{var n=new K.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=$e(e.height,t),i=0;if(e.totalheight.number>0&&(i=$e(e.totalheight,t)-r,n.setAttribute("valign",Q(-i))),n.setAttribute("height",Q(r+i)),e.width.number>0){var o=$e(e.width,t);n.setAttribute("width",Q(o))}return n.setAttribute("src",e.src),n}});ne({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=xe(t[0],"size");if(n.settings.strict){var o=r[1]==="m",l=i.value.unit==="mu";o?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return O.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=$e(e.dimension,t);return new K.SpaceNode(n)}});ne({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=O.makeSpan([],[be(e.body,t)]),n=O.makeSpan(["inner"],[n],t)):n=O.makeSpan(["inner"],[be(e.body,t)]);var r=O.makeSpan(["fix"],[]),i=O.makeSpan([e.alignment],[n,r],t),o=O.makeSpan(["strut"]);return o.style.height=Q(i.height+i.depth),i.depth&&(o.style.verticalAlign=Q(-i.depth)),i.children.unshift(o),i=O.makeSpan(["thinbox"],[i],t),O.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new K.MathNode("mpadded",[Re(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ne({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",l=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});ne({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new W("Mismatched "+e.funcName)}});var zh=(e,t)=>{switch(t.style.size){case fe.DISPLAY.size:return e.display;case fe.TEXT.size:return e.text;case fe.SCRIPT.size:return e.script;case fe.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};ne({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:je(t[0]),text:je(t[1]),script:je(t[2]),scriptscript:je(t[3])}},htmlBuilder:(e,t)=>{var n=zh(e,t),r=lt(n,t,!1);return O.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=zh(e,t);return qr(n,t)}});var S2=(e,t,n,r,i,o,l)=>{e=O.makeSpan([],[e]);var s=n&&Ae.isCharacterBox(n),a,u;if(t){var d=be(t,r.havingStyle(i.sup()),r);u={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var p=be(n,r.havingStyle(i.sub()),r);a={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var h;if(u&&a){var m=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+e.depth+l;h=O.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Q(-o)},{type:"kern",size:a.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Q(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a){var w=e.height-l;h=O.makeVList({positionType:"top",positionData:w,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Q(-o)},{type:"kern",size:a.kern},{type:"elem",elem:e}]},r)}else if(u){var k=e.depth+l;h=O.makeVList({positionType:"bottom",positionData:k,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Q(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var M=[h];if(a&&o!==0&&!s){var v=O.makeSpan(["mspace"],[],r);v.style.marginRight=Q(o),M.unshift(v)}return O.makeSpan(["mop","op-limits"],M,r)},k2=["\\smallint"],fo=(e,t)=>{var n,r,i=!1,o;e.type==="supsub"?(n=e.sup,r=e.sub,o=xe(e.base,"op"),i=!0):o=xe(e,"op");var l=t.style,s=!1;l.size===fe.DISPLAY.size&&o.symbol&&!k2.includes(o.name)&&(s=!0);var a;if(o.symbol){var u=s?"Size2-Regular":"Size1-Regular",d="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(d=o.name.slice(1),o.name=d==="oiint"?"\\iint":"\\iiint"),a=O.makeSymbol(o.name,u,"math",t,["mop","op-symbol",s?"large-op":"small-op"]),d.length>0){var p=a.italic,h=O.staticSvg(d+"Size"+(s?"2":"1"),t);a=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:h,shift:s?.08:0}]},t),o.name="\\"+d,a.classes.unshift("mop"),a.italic=p}}else if(o.body){var m=lt(o.body,t,!0);m.length===1&&m[0]instanceof hn?(a=m[0],a.classes[0]="mop"):a=O.makeSpan(["mop"],m,t)}else{for(var w=[],k=1;k<o.name.length;k++)w.push(O.mathsym(o.name[k],o.mode,t));a=O.makeSpan(["mop"],w,t)}var M=0,v=0;return(a instanceof hn||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(M=(a.height-a.depth)/2-t.fontMetrics().axisHeight,v=a.italic),i?S2(a,n,r,t,l,v,M):(M&&(a.style.position="relative",a.style.top=Q(M)),a)},Ml=(e,t)=>{var n;if(e.symbol)n=new Kt("mo",[mn(e.name,e.mode)]),k2.includes(e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Kt("mo",qt(e.body,t));else{n=new Kt("mi",[new zn(e.name.slice(1))]);var r=new Kt("mo",[mn("","text")]);e.parentIsSupSub?n=new Kt("mrow",[n,r]):n=Xy([n,r])}return n},Ek={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ne({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=Ek[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:fo,mathmlBuilder:Ml});ne({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:je(r)}},htmlBuilder:fo,mathmlBuilder:Ml});var Ck={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ne({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:fo,mathmlBuilder:Ml});ne({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:fo,mathmlBuilder:Ml});ne({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=Ck[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:fo,mathmlBuilder:Ml});var T2=(e,t)=>{var n,r,i=!1,o;e.type==="supsub"?(n=e.sup,r=e.sub,o=xe(e.base,"operatorname"),i=!0):o=xe(e,"operatorname");var l;if(o.body.length>0){for(var s=o.body.map(p=>{var h=p.text;return typeof h=="string"?{type:"textord",mode:p.mode,text:h}:p}),a=lt(s,t.withFont("mathrm"),!0),u=0;u<a.length;u++){var d=a[u];d instanceof hn&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=O.makeSpan(["mop"],a,t)}else l=O.makeSpan(["mop"],[],t);return i?S2(l,n,r,t,t.style,0,0):l},bk=(e,t)=>{for(var n=qt(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof K.SpaceNode))if(o instanceof K.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=o.children[0];o.children.length===1&&l instanceof K.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var s=n.map(d=>d.toText()).join("");n=[new K.TextNode(s)]}var a=new K.MathNode("mi",n);a.setAttribute("mathvariant","normal");var u=new K.MathNode("mo",[mn("","text")]);return e.parentIsSupSub?new K.MathNode("mrow",[a,u]):K.newDocumentFragment([a,u])};ne({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:je(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:T2,mathmlBuilder:bk});A("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");yi({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?O.makeFragment(lt(e.body,t,!1)):O.makeSpan(["mord"],lt(e.body,t,!0),t)},mathmlBuilder(e,t){return qr(e.body,t,!0)}});ne({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=be(e.body,t.havingCrampedStyle()),r=O.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,o=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return O.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var n=new K.MathNode("mo",[new K.TextNode("")]);n.setAttribute("stretchy","true");var r=new K.MathNode("mover",[Re(e.body,t),n]);return r.setAttribute("accent","true"),r}});ne({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:je(r)}},htmlBuilder:(e,t)=>{var n=lt(e.body,t.withPhantom(),!1);return O.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=qt(e.body,t);return new K.MathNode("mphantom",n)}});ne({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=O.makeSpan([],[be(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),O.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=qt(je(e.body),t),r=new K.MathNode("mphantom",n),i=new K.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ne({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=O.makeSpan(["inner"],[be(e.body,t.withPhantom())]),r=O.makeSpan(["fix"],[]);return O.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=qt(je(e.body),t),r=new K.MathNode("mphantom",n),i=new K.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ne({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=xe(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=be(e.body,t),r=$e(e.dy,t);return O.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new K.MathNode("mpadded",[Re(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});ne({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});ne({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],o=xe(t[0],"size"),l=xe(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&xe(i,"size").value,width:o.value,height:l.value}},htmlBuilder(e,t){var n=O.makeSpan(["mord","rule"],[],t),r=$e(e.width,t),i=$e(e.height,t),o=e.shift?$e(e.shift,t):0;return n.style.borderRightWidth=Q(r),n.style.borderTopWidth=Q(i),n.style.bottom=Q(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=$e(e.width,t),r=$e(e.height,t),i=e.shift?$e(e.shift,t):0,o=t.color&&t.getColor()||"black",l=new K.MathNode("mspace");l.setAttribute("mathbackground",o),l.setAttribute("width",Q(n)),l.setAttribute("height",Q(r));var s=new K.MathNode("mpadded",[l]);return i>=0?s.setAttribute("height",Q(i)):(s.setAttribute("height",Q(i)),s.setAttribute("depth",Q(-i))),s.setAttribute("voffset",Q(i)),s}});function E2(e,t,n){for(var r=lt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var l=r[o].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[o].classes,t.sizingClasses(n)):r[o].classes[l+1]==="reset-size"+t.size&&(r[o].classes[l+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return O.makeFragment(r)}var Uh=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Ak=(e,t)=>{var n=t.havingSize(e.size);return E2(e.body,n,t)};ne({type:"sizing",names:Uh,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:Uh.indexOf(r)+1,body:o}},htmlBuilder:Ak,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=qt(e.body,n),i=new K.MathNode("mstyle",r);return i.setAttribute("mathsize",Q(n.sizeMultiplier)),i}});ne({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,o=!1,l=n[0]&&xe(n[0],"ordgroup");if(l)for(var s="",a=0;a<l.body.length;++a){var u=l.body[a];if(s=u.text,s==="t")i=!0;else if(s==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var d=t[0];return{type:"smash",mode:r.mode,body:d,smashHeight:i,smashDepth:o}},htmlBuilder:(e,t)=>{var n=O.makeSpan([],[be(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return O.makeSpan(["mord"],[o],t)},mathmlBuilder:(e,t)=>{var n=new K.MathNode("mpadded",[Re(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});ne({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],o=t[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(e,t){var n=be(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=O.wrapFragment(n,t);var r=t.fontMetrics(),i=r.defaultRuleThickness,o=i;t.style.id<fe.TEXT.id&&(o=t.fontMetrics().xHeight);var l=i+o/4,s=n.height+n.depth+l+i,{span:a,ruleWidth:u,advanceWidth:d}=tr.sqrtImage(s,t),p=a.height-u;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var h=a.height-n.height-l-u;n.style.paddingLeft=Q(d);var m=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:a},{type:"kern",size:u}]},t);if(e.index){var w=t.havingStyle(fe.SCRIPTSCRIPT),k=be(e.index,w,t),M=.6*(m.height-m.depth),v=O.makeVList({positionType:"shift",positionData:-M,children:[{type:"elem",elem:k}]},t),S=O.makeSpan(["root"],[v]);return O.makeSpan(["mord","sqrt"],[S,m],t)}else return O.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new K.MathNode("mroot",[Re(n,t),Re(r,t)]):new K.MathNode("msqrt",[Re(n,t)])}});var Bh={display:fe.DISPLAY,text:fe.TEXT,script:fe.SCRIPT,scriptscript:fe.SCRIPTSCRIPT};ne({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,o=i.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:o}},htmlBuilder(e,t){var n=Bh[e.style],r=t.havingStyle(n).withFont("");return E2(e.body,r,t)},mathmlBuilder(e,t){var n=Bh[e.style],r=t.havingStyle(n),i=qt(e.body,r),o=new K.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=l[e.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}});var Ik=function(t,n){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===fe.DISPLAY.size||r.alwaysHandleSupSub);return i?fo:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===fe.DISPLAY.size||r.limits);return o?T2:null}else{if(r.type==="accent")return Ae.isCharacterBox(r.base)?Od:null;if(r.type==="horizBrace"){var l=!t.sub;return l===r.isOver?w2:null}else return null}else return null};yi({type:"supsub",htmlBuilder(e,t){var n=Ik(e,t);if(n)return n(e,t);var{base:r,sup:i,sub:o}=e,l=be(r,t),s,a,u=t.fontMetrics(),d=0,p=0,h=r&&Ae.isCharacterBox(r);if(i){var m=t.havingStyle(t.style.sup());s=be(i,m,t),h||(d=l.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(o){var w=t.havingStyle(t.style.sub());a=be(o,w,t),h||(p=l.depth+w.fontMetrics().subDrop*w.sizeMultiplier/t.sizeMultiplier)}var k;t.style===fe.DISPLAY?k=u.sup1:t.style.cramped?k=u.sup3:k=u.sup2;var M=t.sizeMultiplier,v=Q(.5/u.ptPerEm/M),S=null;if(a){var T=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(l instanceof hn||T)&&(S=Q(-l.italic))}var C;if(s&&a){d=Math.max(d,k,s.depth+.25*u.xHeight),p=Math.max(p,u.sub2);var I=u.defaultRuleThickness,b=4*I;if(d-s.depth-(a.height-p)<b){p=b-(d-s.depth)+a.height;var R=.8*u.xHeight-(d-s.depth);R>0&&(d+=R,p-=R)}var z=[{type:"elem",elem:a,shift:p,marginRight:v,marginLeft:S},{type:"elem",elem:s,shift:-d,marginRight:v}];C=O.makeVList({positionType:"individualShift",children:z},t)}else if(a){p=Math.max(p,u.sub1,a.height-.8*u.xHeight);var P=[{type:"elem",elem:a,marginLeft:S,marginRight:v}];C=O.makeVList({positionType:"shift",positionData:p,children:P},t)}else if(s)d=Math.max(d,k,s.depth+.25*u.xHeight),C=O.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:s,marginRight:v}]},t);else throw new Error("supsub must have either sup or sub.");var _=nc(l,"right")||"mord";return O.makeSpan([_],[l,O.makeSpan(["msupsub"],[C])],t)},mathmlBuilder(e,t){var n=!1,r,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var o=[Re(e.base,t)];e.sub&&o.push(Re(e.sub,t)),e.sup&&o.push(Re(e.sup,t));var l;if(n)l=r?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===fe.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===fe.DISPLAY||u.limits)?l="munderover":l="msubsup"}else{var a=e.base;a&&a.type==="op"&&a.limits&&(t.style===fe.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||t.style===fe.DISPLAY)?l="munder":l="msub"}else{var s=e.base;s&&s.type==="op"&&s.limits&&(t.style===fe.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||t.style===fe.DISPLAY)?l="mover":l="msup"}return new K.MathNode(l,o)}});yi({type:"atom",htmlBuilder(e,t){return O.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new K.MathNode("mo",[mn(e.text,e.mode)]);if(e.family==="bin"){var r=Ud(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var C2={mi:"italic",mn:"normal",mtext:"normal"};yi({type:"mathord",htmlBuilder(e,t){return O.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new K.MathNode("mi",[mn(e.text,e.mode,t)]),r=Ud(e,t)||"italic";return r!==C2[n.type]&&n.setAttribute("mathvariant",r),n}});yi({type:"textord",htmlBuilder(e,t){return O.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=mn(e.text,e.mode,t),r=Ud(e,t)||"normal",i;return e.mode==="text"?i=new K.MathNode("mtext",[n]):/[0-9]/.test(e.text)?i=new K.MathNode("mn",[n]):e.text==="\\prime"?i=new K.MathNode("mo",[n]):i=new K.MathNode("mi",[n]),r!==C2[i.type]&&i.setAttribute("mathvariant",r),i}});var Uu={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Bu={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};yi({type:"spacing",htmlBuilder(e,t){if(Bu.hasOwnProperty(e.text)){var n=Bu[e.text].className||"";if(e.mode==="text"){var r=O.makeOrd(e,t,"textord");return r.classes.push(n),r}else return O.makeSpan(["mspace",n],[O.mathsym(e.text,e.mode,t)],t)}else{if(Uu.hasOwnProperty(e.text))return O.makeSpan(["mspace",Uu[e.text]],[],t);throw new W('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(Bu.hasOwnProperty(e.text))n=new K.MathNode("mtext",[new K.TextNode("")]);else{if(Uu.hasOwnProperty(e.text))return new K.MathNode("mspace");throw new W('Unknown type of space "'+e.text+'"')}return n}});var Oh=()=>{var e=new K.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};yi({type:"tag",mathmlBuilder(e,t){var n=new K.MathNode("mtable",[new K.MathNode("mtr",[Oh(),new K.MathNode("mtd",[qr(e.body,t)]),Oh(),new K.MathNode("mtd",[qr(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var qh={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Hh={"\\textbf":"textbf","\\textmd":"textmd"},Mk={"\\textit":"textit","\\textup":"textup"},Vh=(e,t)=>{var n=e.font;if(n){if(qh[n])return t.withTextFontFamily(qh[n]);if(Hh[n])return t.withTextFontWeight(Hh[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(Mk[n])};ne({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:je(i),font:r}},htmlBuilder(e,t){var n=Vh(e,t),r=lt(e.body,n,!0);return O.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=Vh(e,t);return qr(e.body,n)}});ne({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=be(e.body,t),r=O.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,o=O.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return O.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var n=new K.MathNode("mo",[new K.TextNode("")]);n.setAttribute("stretchy","true");var r=new K.MathNode("munder",[Re(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});ne({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=be(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return O.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new K.MathNode("mpadded",[Re(e.body,t)],["vcenter"])}});ne({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new W("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=Gh(e),r=[],i=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var l=n[o];l==="~"&&(l="\\textasciitilde"),r.push(O.makeSymbol(l,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return O.makeSpan(["mord","text"].concat(i.sizingClasses(t)),O.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new K.TextNode(Gh(e)),r=new K.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Gh=e=>e.body.replace(/ /g,e.star?"":""),Ar=Yy,b2=`[ \r
	]`,Nk="\\\\[a-zA-Z@]+",_k="\\\\[^\uD800-\uDFFF]",Rk="("+Nk+")"+b2+"*",Pk=`\\\\(
|[ \r	]+
?)[ \r	]*`,lc="[-]",Dk=new RegExp(lc+"+$"),Lk="("+b2+"+)|"+(Pk+"|")+"([!-\\[\\]---]"+(lc+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(lc+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Rk)+("|"+_k+")");class $h{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(Lk,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new Xt("EOF",new Dt(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new W("Unexpected character: '"+t[n]+"'",new Xt(t[n],new Dt(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=t.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Xt(i,new Dt(this,n,this.tokenRegex.lastIndex))}}class Fk{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new W("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(t)&&(o[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var zk=m2;A("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});A("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});A("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});A("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});A("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});A("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");A("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var Kh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};A("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new W("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=Kh[t.text],r==null||r>=n)throw new W("Invalid base-"+n+" digit "+t.text);for(var i;(i=Kh[e.future().text])!=null&&i<n;)r*=n,r+=i,e.popToken()}return"\\@char{"+r+"}"});var Yd=(e,t,n,r)=>{var i=e.consumeArg().tokens;if(i.length!==1)throw new W("\\newcommand's first argument must be a macro name");var o=i[0].text,l=e.isDefined(o);if(l&&!t)throw new W("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!l&&!n)throw new W("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var s=0;if(i=e.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var a="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)a+=u.text,u=e.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new W("Invalid number of arguments: "+a);s=parseInt(a),i=e.consumeArg().tokens}return l&&r||e.macros.set(o,{tokens:i,numArgs:s}),""};A("\\newcommand",e=>Yd(e,!1,!0,!1));A("\\renewcommand",e=>Yd(e,!0,!1,!1));A("\\providecommand",e=>Yd(e,!0,!0,!0));A("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});A("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});A("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),Ar[n],Fe.math[n],Fe.text[n]),""});A("\\bgroup","{");A("\\egroup","}");A("~","\\nobreakspace");A("\\lq","`");A("\\rq","'");A("\\aa","\\r a");A("\\AA","\\r A");A("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");A("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");A("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");A("","\\mathscr{B}");A("","\\mathscr{E}");A("","\\mathscr{F}");A("","\\mathscr{H}");A("","\\mathscr{I}");A("","\\mathscr{L}");A("","\\mathscr{M}");A("","\\mathscr{R}");A("","\\mathfrak{C}");A("","\\mathfrak{H}");A("","\\mathfrak{Z}");A("\\Bbbk","\\Bbb{k}");A("","\\cdotp");A("\\llap","\\mathllap{\\textrm{#1}}");A("\\rlap","\\mathrlap{\\textrm{#1}}");A("\\clap","\\mathclap{\\textrm{#1}}");A("\\mathstrut","\\vphantom{(}");A("\\underbar","\\underline{\\text{#1}}");A("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');A("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");A("\\ne","\\neq");A("","\\neq");A("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");A("","\\notin");A("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");A("","\\perp");A("","\\mathclose{!\\mkern-0.8mu!}");A("","\\notni");A("","\\ulcorner");A("","\\urcorner");A("","\\llcorner");A("","\\lrcorner");A("","\\copyright");A("","\\textregistered");A("","\\textregistered");A("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');A("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');A("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');A("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');A("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");A("","\\vdots");A("\\varGamma","\\mathit{\\Gamma}");A("\\varDelta","\\mathit{\\Delta}");A("\\varTheta","\\mathit{\\Theta}");A("\\varLambda","\\mathit{\\Lambda}");A("\\varXi","\\mathit{\\Xi}");A("\\varPi","\\mathit{\\Pi}");A("\\varSigma","\\mathit{\\Sigma}");A("\\varUpsilon","\\mathit{\\Upsilon}");A("\\varPhi","\\mathit{\\Phi}");A("\\varPsi","\\mathit{\\Psi}");A("\\varOmega","\\mathit{\\Omega}");A("\\substack","\\begin{subarray}{c}#1\\end{subarray}");A("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");A("\\boxed","\\fbox{$\\displaystyle{#1}$}");A("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");A("\\implies","\\DOTSB\\;\\Longrightarrow\\;");A("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");A("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");A("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Wh={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};A("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in Wh?t=Wh[n]:(n.slice(0,4)==="\\not"||n in Fe.math&&["bin","rel"].includes(Fe.math[n].group))&&(t="\\dotsb"),t});var Jd={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};A("\\dotso",function(e){var t=e.future().text;return t in Jd?"\\ldots\\,":"\\ldots"});A("\\dotsc",function(e){var t=e.future().text;return t in Jd&&t!==","?"\\ldots\\,":"\\ldots"});A("\\cdots",function(e){var t=e.future().text;return t in Jd?"\\@cdots\\,":"\\@cdots"});A("\\dotsb","\\cdots");A("\\dotsm","\\cdots");A("\\dotsi","\\!\\cdots");A("\\dotsx","\\ldots\\,");A("\\DOTSI","\\relax");A("\\DOTSB","\\relax");A("\\DOTSX","\\relax");A("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");A("\\,","\\tmspace+{3mu}{.1667em}");A("\\thinspace","\\,");A("\\>","\\mskip{4mu}");A("\\:","\\tmspace+{4mu}{.2222em}");A("\\medspace","\\:");A("\\;","\\tmspace+{5mu}{.2777em}");A("\\thickspace","\\;");A("\\!","\\tmspace-{3mu}{.1667em}");A("\\negthinspace","\\!");A("\\negmedspace","\\tmspace-{4mu}{.2222em}");A("\\negthickspace","\\tmspace-{5mu}{.277em}");A("\\enspace","\\kern.5em ");A("\\enskip","\\hskip.5em\\relax");A("\\quad","\\hskip1em\\relax");A("\\qquad","\\hskip2em\\relax");A("\\tag","\\@ifstar\\tag@literal\\tag@paren");A("\\tag@paren","\\tag@literal{({#1})}");A("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new W("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});A("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");A("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");A("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");A("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");A("\\newline","\\\\\\relax");A("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var A2=Q(Fn["Main-Regular"][84][1]-.7*Fn["Main-Regular"][65][1]);A("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+A2+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");A("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+A2+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");A("\\hspace","\\@ifstar\\@hspacer\\@hspace");A("\\@hspace","\\hskip #1\\relax");A("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");A("\\ordinarycolon",":");A("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");A("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');A("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');A("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');A("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');A("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');A("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');A("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');A("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');A("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');A("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');A("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');A("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');A("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');A("","\\dblcolon");A("","\\eqcolon");A("","\\coloneqq");A("","\\eqqcolon");A("","\\Coloneqq");A("\\ratio","\\vcentcolon");A("\\coloncolon","\\dblcolon");A("\\colonequals","\\coloneqq");A("\\coloncolonequals","\\Coloneqq");A("\\equalscolon","\\eqqcolon");A("\\equalscoloncolon","\\Eqqcolon");A("\\colonminus","\\coloneq");A("\\coloncolonminus","\\Coloneq");A("\\minuscolon","\\eqcolon");A("\\minuscoloncolon","\\Eqcolon");A("\\coloncolonapprox","\\Colonapprox");A("\\coloncolonsim","\\Colonsim");A("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");A("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");A("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");A("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");A("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");A("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");A("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");A("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");A("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");A("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");A("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");A("\\ngeqq","\\html@mathml{\\@ngeqq}{}");A("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");A("\\nleqq","\\html@mathml{\\@nleqq}{}");A("\\nleqslant","\\html@mathml{\\@nleqslant}{}");A("\\nshortmid","\\html@mathml{\\@nshortmid}{}");A("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");A("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");A("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");A("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");A("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");A("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");A("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");A("\\imath","\\html@mathml{\\@imath}{}");A("\\jmath","\\html@mathml{\\@jmath}{}");A("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");A("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");A("","\\llbracket");A("","\\rrbracket");A("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");A("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");A("","\\lBrace");A("","\\rBrace");A("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");A("","\\minuso");A("\\darr","\\downarrow");A("\\dArr","\\Downarrow");A("\\Darr","\\Downarrow");A("\\lang","\\langle");A("\\rang","\\rangle");A("\\uarr","\\uparrow");A("\\uArr","\\Uparrow");A("\\Uarr","\\Uparrow");A("\\N","\\mathbb{N}");A("\\R","\\mathbb{R}");A("\\Z","\\mathbb{Z}");A("\\alef","\\aleph");A("\\alefsym","\\aleph");A("\\Alpha","\\mathrm{A}");A("\\Beta","\\mathrm{B}");A("\\bull","\\bullet");A("\\Chi","\\mathrm{X}");A("\\clubs","\\clubsuit");A("\\cnums","\\mathbb{C}");A("\\Complex","\\mathbb{C}");A("\\Dagger","\\ddagger");A("\\diamonds","\\diamondsuit");A("\\empty","\\emptyset");A("\\Epsilon","\\mathrm{E}");A("\\Eta","\\mathrm{H}");A("\\exist","\\exists");A("\\harr","\\leftrightarrow");A("\\hArr","\\Leftrightarrow");A("\\Harr","\\Leftrightarrow");A("\\hearts","\\heartsuit");A("\\image","\\Im");A("\\infin","\\infty");A("\\Iota","\\mathrm{I}");A("\\isin","\\in");A("\\Kappa","\\mathrm{K}");A("\\larr","\\leftarrow");A("\\lArr","\\Leftarrow");A("\\Larr","\\Leftarrow");A("\\lrarr","\\leftrightarrow");A("\\lrArr","\\Leftrightarrow");A("\\Lrarr","\\Leftrightarrow");A("\\Mu","\\mathrm{M}");A("\\natnums","\\mathbb{N}");A("\\Nu","\\mathrm{N}");A("\\Omicron","\\mathrm{O}");A("\\plusmn","\\pm");A("\\rarr","\\rightarrow");A("\\rArr","\\Rightarrow");A("\\Rarr","\\Rightarrow");A("\\real","\\Re");A("\\reals","\\mathbb{R}");A("\\Reals","\\mathbb{R}");A("\\Rho","\\mathrm{P}");A("\\sdot","\\cdot");A("\\sect","\\S");A("\\spades","\\spadesuit");A("\\sub","\\subset");A("\\sube","\\subseteq");A("\\supe","\\supseteq");A("\\Tau","\\mathrm{T}");A("\\thetasym","\\vartheta");A("\\weierp","\\wp");A("\\Zeta","\\mathrm{Z}");A("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");A("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");A("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");A("\\bra","\\mathinner{\\langle{#1}|}");A("\\ket","\\mathinner{|{#1}\\rangle}");A("\\braket","\\mathinner{\\langle{#1}\\rangle}");A("\\Bra","\\left\\langle#1\\right|");A("\\Ket","\\left|#1\\right\\rangle");var I2=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,o=t.consumeArg().tokens,l=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();var a=p=>h=>{e&&(h.macros.set("|",l),i.length&&h.macros.set("\\|",s));var m=p;if(!p&&i.length){var w=h.future();w.text==="|"&&(h.popToken(),m=!0)}return{tokens:m?i:r,numArgs:0}};t.macros.set("|",a(!1)),i.length&&t.macros.set("\\|",a(!0));var u=t.consumeArg().tokens,d=t.expandTokens([...o,...u,...n]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};A("\\bra@ket",I2(!1));A("\\bra@set",I2(!0));A("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");A("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");A("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");A("\\angln","{\\angl n}");A("\\blue","\\textcolor{##6495ed}{#1}");A("\\orange","\\textcolor{##ffa500}{#1}");A("\\pink","\\textcolor{##ff00af}{#1}");A("\\red","\\textcolor{##df0030}{#1}");A("\\green","\\textcolor{##28ae7b}{#1}");A("\\gray","\\textcolor{gray}{#1}");A("\\purple","\\textcolor{##9d38bd}{#1}");A("\\blueA","\\textcolor{##ccfaff}{#1}");A("\\blueB","\\textcolor{##80f6ff}{#1}");A("\\blueC","\\textcolor{##63d9ea}{#1}");A("\\blueD","\\textcolor{##11accd}{#1}");A("\\blueE","\\textcolor{##0c7f99}{#1}");A("\\tealA","\\textcolor{##94fff5}{#1}");A("\\tealB","\\textcolor{##26edd5}{#1}");A("\\tealC","\\textcolor{##01d1c1}{#1}");A("\\tealD","\\textcolor{##01a995}{#1}");A("\\tealE","\\textcolor{##208170}{#1}");A("\\greenA","\\textcolor{##b6ffb0}{#1}");A("\\greenB","\\textcolor{##8af281}{#1}");A("\\greenC","\\textcolor{##74cf70}{#1}");A("\\greenD","\\textcolor{##1fab54}{#1}");A("\\greenE","\\textcolor{##0d923f}{#1}");A("\\goldA","\\textcolor{##ffd0a9}{#1}");A("\\goldB","\\textcolor{##ffbb71}{#1}");A("\\goldC","\\textcolor{##ff9c39}{#1}");A("\\goldD","\\textcolor{##e07d10}{#1}");A("\\goldE","\\textcolor{##a75a05}{#1}");A("\\redA","\\textcolor{##fca9a9}{#1}");A("\\redB","\\textcolor{##ff8482}{#1}");A("\\redC","\\textcolor{##f9685d}{#1}");A("\\redD","\\textcolor{##e84d39}{#1}");A("\\redE","\\textcolor{##bc2612}{#1}");A("\\maroonA","\\textcolor{##ffbde0}{#1}");A("\\maroonB","\\textcolor{##ff92c6}{#1}");A("\\maroonC","\\textcolor{##ed5fa6}{#1}");A("\\maroonD","\\textcolor{##ca337c}{#1}");A("\\maroonE","\\textcolor{##9e034e}{#1}");A("\\purpleA","\\textcolor{##ddd7ff}{#1}");A("\\purpleB","\\textcolor{##c6b9fc}{#1}");A("\\purpleC","\\textcolor{##aa87ff}{#1}");A("\\purpleD","\\textcolor{##7854ab}{#1}");A("\\purpleE","\\textcolor{##543b78}{#1}");A("\\mintA","\\textcolor{##f5f9e8}{#1}");A("\\mintB","\\textcolor{##edf2df}{#1}");A("\\mintC","\\textcolor{##e0e5cc}{#1}");A("\\grayA","\\textcolor{##f6f7f7}{#1}");A("\\grayB","\\textcolor{##f0f1f2}{#1}");A("\\grayC","\\textcolor{##e3e5e6}{#1}");A("\\grayD","\\textcolor{##d6d8da}{#1}");A("\\grayE","\\textcolor{##babec2}{#1}");A("\\grayF","\\textcolor{##888d93}{#1}");A("\\grayG","\\textcolor{##626569}{#1}");A("\\grayH","\\textcolor{##3b3e40}{#1}");A("\\grayI","\\textcolor{##21242c}{#1}");A("\\kaBlue","\\textcolor{##314453}{#1}");A("\\kaGreen","\\textcolor{##71B307}{#1}");var M2={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Uk{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new Fk(zk,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new $h(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Xt("EOF",r.loc)),this.pushTokens(i),new Xt("",Dt.range(n,r))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i=this.future(),o,l=0,s=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++l;else if(o.text==="}"){if(--l,l===-1)throw new W("Extra }",o)}else if(o.text==="EOF")throw new W("Unexpected end of input in a macro argument, expected '"+(t&&r?t[s]:"}")+"'",o);if(t&&r)if((l===0||l===1&&t[s]==="{")&&o.text===t[s]){if(++s,s===t.length){n.splice(-s,s);break}}else s=0}while(l!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new W("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new W("Use of the macro doesn't match its definition",o)}}for(var l=[],s=0;s<t;s++)l.push(this.consumeArg(n&&n[s+1]).tokens);return l}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new W("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new W("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var s=o.length-1;s>=0;--s){var a=o[s];if(a.text==="#"){if(s===0)throw new W("Incomplete placeholder at end of macro body",a);if(a=o[--s],a.text==="#")o.splice(s+1,1);else if(/^[1-9]$/.test(a.text))o.splice(s,2,...l[+a.text-1]);else throw new W("Not a valid argument number",a)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Xt(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(o+1))!==-1;)++o;for(var s=new $h(i,this.settings),a=[],u=s.lex();u.text!=="EOF";)a.push(u),u=s.lex();a.reverse();var d={tokens:a,numArgs:o};return d}return i}isDefined(t){return this.macros.has(t)||Ar.hasOwnProperty(t)||Fe.math.hasOwnProperty(t)||Fe.text.hasOwnProperty(t)||M2.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Ar.hasOwnProperty(t)&&!Ar[t].primitive}}var Yh=/^[]/,os=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Ou={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Jh={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class za{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Uk(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new W("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Xt("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(za.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&Ar[i.text]&&Ar[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new W("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var o,l,s=t.slice(0,n),a=t.slice(n+1);s.length===1&&s[0].type==="ordgroup"?o=s[0]:o={type:"ordgroup",mode:this.mode,body:s},a.length===1&&a[0].type==="ordgroup"?l=a[0]:l={type:"ordgroup",mode:this.mode,body:a};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[o,t[n],l],[]):u=this.callFunction(r,[o,l],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(t)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new W("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(t){var n=this.parseGroup("atom",t);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var l=o.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new W("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new W("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new W("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new W("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},a=[s];for(this.consume();this.fetch().text==="'";)a.push(s),this.consume();this.fetch().text==="^"&&a.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:a}}else if(os[o.text]){var u=Yh.test(o.text),d=[];for(d.push(new Xt(os[o.text])),this.consume();;){var p=this.fetch().text;if(!os[p]||Yh.test(p)!==u)break;d.unshift(new Xt(os[p])),this.consume()}var h=this.subparse(d);u?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(t,n){var r=this.fetch(),i=r.text,o=Ar[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new W("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new W("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new W("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:s}=this.parseArguments(i,o);return this.callFunction(i,l,s,r,t)}callFunction(t,n,r,i,o){var l={funcName:t,parser:this,token:i,breakOnTokenText:o},s=Ar[t];if(s&&s.handler)return s.handler(l,n,r);throw new W("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],l=0;l<r;l++){var s=n.argTypes&&n.argTypes[l],a=l<n.numOptionalArgs;(n.primitive&&s==null||n.type==="sqrt"&&l===1&&o[0]==null)&&(s="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",s,a);if(a)o.push(u);else if(u!=null)i.push(u);else throw new W("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new W("A primitive argument cannot be optional");var l=this.parseGroup(t);if(l==null)throw new W("Expected group as "+t,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new W("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(t,n){for(var r=this.fetch(),i=r,o="",l;(l=this.fetch()).text!=="EOF"&&t.test(o+l.text);)i=l,o+=i.text,this.consume();if(o==="")throw new W("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new W("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new W("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!By(o))throw new W("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),l}parseGroup(t,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,l),a=this.fetch();this.expect(l),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:Dt.range(r,a),body:s,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,t)||this.parseSymbol(),o==null&&i[0]==="\\"&&!M2.hasOwnProperty(i)){if(this.settings.throwOnError)throw new W("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],o=i.text;o==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:Dt.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:Dt.range(i,t[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&t[r+1].text===o&&(t.splice(r,2,{type:"textord",mode:"text",loc:Dt.range(i,t[r+1]),text:o+o}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new W(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}Jh.hasOwnProperty(n[0])&&!Fe[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=Jh[n[0]]+n.slice(1));var o=Dk.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="":n==="j"&&(n=""));var l;if(Fe[this.mode][n]){this.settings.strict&&this.mode==="math"&&tc.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var s=Fe[this.mode][n].group,a=Dt.range(t),u;if(bS.hasOwnProperty(s)){var d=s;u={type:"atom",mode:this.mode,family:d,loc:a,text:n}}else u={type:s,mode:this.mode,loc:a,text:n};l=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(Uy(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),l={type:"textord",mode:"text",loc:Dt.range(t),text:n};else return null;if(this.consume(),o)for(var p=0;p<o[0].length;p++){var h=o[0][p];if(!Ou[h])throw new W("Unknown accent ' "+h+"'",t);var m=Ou[h][this.mode]||Ou[h].text;if(!m)throw new W("Accent "+h+" unsupported in "+this.mode+" mode",t);l={type:"accent",mode:this.mode,loc:Dt.range(t),label:m,isStretchy:!1,isShifty:!0,base:l}}return l}}za.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Xd=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new za(t,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new W("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Xt("\\df@tag")])}]}return i},N2=function(t,n,r){n.textContent="";var i=Qd(t,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),N2=function(){throw new W("KaTeX doesn't work in quirks mode.")});var Bk=function(t,n){var r=Qd(t,n).toMarkup();return r},Ok=function(t,n){var r=new Rd(n);return Xd(t,r)},_2=function(t,n,r){if(r.throwOnError||!(t instanceof W))throw t;var i=O.makeSpan(["katex-error"],[new hn(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},Qd=function(t,n){var r=new Rd(n);try{var i=Xd(t,r);return JS(i,t,r)}catch(o){return _2(o,t,r)}},qk=function(t,n){var r=new Rd(n);try{var i=Xd(t,r);return XS(i,t,r)}catch(o){return _2(o,t,r)}},Hk="0.16.25",Vk={Span:Il,Anchor:Ld,SymbolNode:hn,SvgNode:lr,PathNode:Or,LineNode:ec},Xh={version:Hk,render:N2,renderToString:Bk,ParseError:W,SETTINGS_SCHEMA:Ss,__parse:Ok,__renderToDomTree:Qd,__renderToHTMLTree:qk,__setFontMetrics:vS,__defineSymbol:g,__defineFunction:ne,__defineMacro:A,__domTree:Vk};const Gk={};function $k(e){const t=this,n=e||Gk,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(G9(n)),o.push(F9()),l.push(z9(n))}function Qh(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Kk(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Wk(e,t,n){const i=Cl((n||{}).ignore||[]),o=Yk(t);let l=-1;for(;++l<o.length;)Md(e,"text",s);function s(u,d){let p=-1,h;for(;++p<d.length;){const m=d[p],w=h?h.children:void 0;if(i(m,w?w.indexOf(m):void 0,h))return;h=m}if(h)return a(u,d)}function a(u,d){const p=d[d.length-1],h=o[l][0],m=o[l][1];let w=0;const M=p.children.indexOf(u);let v=!1,S=[];h.lastIndex=0;let T=h.exec(u.value);for(;T;){const C=T.index,I={index:T.index,input:T.input,stack:[...d,u]};let b=m(...T,I);if(typeof b=="string"&&(b=b.length>0?{type:"text",value:b}:void 0),b===!1?h.lastIndex=C+1:(w!==C&&S.push({type:"text",value:u.value.slice(w,C)}),Array.isArray(b)?S.push(...b):b&&S.push(b),w=C+T[0].length,v=!0),!h.global)break;T=h.exec(u.value)}return v?(w<u.value.length&&S.push({type:"text",value:u.value.slice(w)}),p.children.splice(M,1,...S)):S=[u],M+S.length}}function Yk(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Jk(i[0]),Xk(i[1])])}return t}function Jk(e){return typeof e=="string"?new RegExp(Kk(e),"g"):e}function Xk(e){return typeof e=="function"?e:function(){return e}}const qu="phrasing",Hu=["autolink","link","image","label"];function Qk(){return{transforms:[iT],enter:{literalAutolink:jk,literalAutolinkEmail:Vu,literalAutolinkHttp:Vu,literalAutolinkWww:Vu},exit:{literalAutolink:rT,literalAutolinkEmail:nT,literalAutolinkHttp:eT,literalAutolinkWww:tT}}}function Zk(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:qu,notInConstruct:Hu},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:qu,notInConstruct:Hu},{character:":",before:"[ps]",after:"\\/",inConstruct:qu,notInConstruct:Hu}]}}function jk(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Vu(e){this.config.enter.autolinkProtocol.call(this,e)}function eT(e){this.config.exit.autolinkProtocol.call(this,e)}function tT(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function nT(e){this.config.exit.autolinkEmail.call(this,e)}function rT(e){this.exit(e)}function iT(e){Wk(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,oT],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),lT]],{ignore:["link","linkReference"]})}function oT(e,t,n,r,i){let o="";if(!R2(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!sT(n)))return!1;const l=aT(n+r);if(!l[0])return!1;const s={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[s,{type:"text",value:l[1]}]:s}function lT(e,t,n,r){return!R2(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function sT(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function aT(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Qh(e,"(");let o=Qh(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function R2(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||pi(n)||Aa(n))&&(!t||n!==47)}P2.peek=yT;function uT(){this.buffer()}function cT(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function dT(){this.buffer()}function fT(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function pT(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=An(this.sliceSerialize(e)).toLowerCase(),n.label=t}function hT(e){this.exit(e)}function mT(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=An(this.sliceSerialize(e)).toLowerCase(),n.label=t}function gT(e){this.exit(e)}function yT(){return"["}function P2(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),s(),l(),o+=i.move("]"),o}function vT(){return{enter:{gfmFootnoteCallString:uT,gfmFootnoteCall:cT,gfmFootnoteDefinitionLabelString:dT,gfmFootnoteDefinition:fT},exit:{gfmFootnoteCallString:pT,gfmFootnoteCall:hT,gfmFootnoteDefinitionLabelString:mT,gfmFootnoteDefinition:gT}}}function xT(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:P2},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const s=o.createTracker(l);let a=s.move("[^");const u=o.enter("footnoteDefinition"),d=o.enter("label");return a+=s.move(o.safe(o.associationId(r),{before:a,after:"]"})),d(),a+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),a+=s.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,s.current()),t?D2:wT))),u(),a}}function wT(e,t,n){return t===0?e:D2(e,t,n)}function D2(e,t,n){return(n?"":"    ")+e}const ST=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];L2.peek=bT;function kT(){return{canContainEols:["delete"],enter:{strikethrough:ET},exit:{strikethrough:CT}}}function TT(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ST}],handlers:{delete:L2}}}function ET(e){this.enter({type:"delete",children:[]},e)}function CT(e){this.exit(e)}function L2(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function bT(){return"~"}function AT(e){return e.length}function IT(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||AT,o=[],l=[],s=[],a=[];let u=0,d=-1;for(;++d<e.length;){const k=[],M=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const S=MT(e[d][v]);if(n.alignDelimiters!==!1){const T=i(S);M[v]=T,(a[v]===void 0||T>a[v])&&(a[v]=T)}k.push(S)}l[d]=k,s[d]=M}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<u;)o[p]=Zh(r[p]);else{const k=Zh(r);for(;++p<u;)o[p]=k}p=-1;const h=[],m=[];for(;++p<u;){const k=o[p];let M="",v="";k===99?(M=":",v=":"):k===108?M=":":k===114&&(v=":");let S=n.alignDelimiters===!1?1:Math.max(1,a[p]-M.length-v.length);const T=M+"-".repeat(S)+v;n.alignDelimiters!==!1&&(S=M.length+S+v.length,S>a[p]&&(a[p]=S),m[p]=S),h[p]=T}l.splice(1,0,h),s.splice(1,0,m),d=-1;const w=[];for(;++d<l.length;){const k=l[d],M=s[d];p=-1;const v=[];for(;++p<u;){const S=k[p]||"";let T="",C="";if(n.alignDelimiters!==!1){const I=a[p]-(M[p]||0),b=o[p];b===114?T=" ".repeat(I):b===99?I%2?(T=" ".repeat(I/2+.5),C=" ".repeat(I/2-.5)):(T=" ".repeat(I/2),C=T):C=" ".repeat(I)}n.delimiterStart!==!1&&!p&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&S==="")&&(n.delimiterStart!==!1||p)&&v.push(" "),n.alignDelimiters!==!1&&v.push(T),v.push(S),n.alignDelimiters!==!1&&v.push(C),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||p!==u-1)&&v.push("|")}w.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return w.join(`
`)}function MT(e){return e==null?"":String(e)}function Zh(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function NT(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),_T);return i(),l}function _T(e,t,n){return">"+(n?"":" ")+e}function RT(e,t){return jh(e,t.inConstruct,!0)&&!jh(e,t.notInConstruct,!1)}function jh(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function em(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&RT(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function PT(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function DT(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function LT(e,t,n,r){const i=DT(n),o=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(PT(e,n)){const p=n.enter("codeIndented"),h=n.indentLines(o,FT);return p(),h}const s=n.createTracker(r),a=i.repeat(Math.max(Fy(o,i)+1,3)),u=n.enter("codeFenced");let d=s.move(a);if(e.lang){const p=n.enter(`codeFencedLang${l}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),p()}return d+=s.move(`
`),o&&(d+=s.move(o+`
`)),d+=s.move(a),u(),d}function FT(e,t,n){return(n?"":"    ")+e}function Zd(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function zT(e,t,n,r){const i=Zd(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(e),{before:u,after:"]",...a.current()})),u+=a.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...a.current()}))),s(),e.title&&(s=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),l(),u}function UT(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function yl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function ia(e,t,n){const r=ro(e),i=ro(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}F2.peek=BT;function F2(e,t,n,r){const i=UT(n),o=n.enter("emphasis"),l=n.createTracker(r),s=l.move(i);let a=l.move(n.containerPhrasing(e,{after:i,before:s,...l.current()}));const u=a.charCodeAt(0),d=ia(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(a=yl(u)+a.slice(1));const p=a.charCodeAt(a.length-1),h=ia(r.after.charCodeAt(0),p,i);h.inside&&(a=a.slice(0,-1)+yl(p));const m=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},s+a+m}function BT(e,t,n){return n.options.emphasis||"*"}function OT(e,t){let n=!1;return Nd(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,W0}),!!((!e.depth||e.depth<3)&&kd(e)&&(t.options.setext||n))}function qT(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(OT(e,n)){const d=n.enter("headingSetext"),p=n.enter("phrasing"),h=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const l="#".repeat(i),s=n.enter("headingAtx"),a=n.enter("phrasing");o.move(l+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=yl(u.charCodeAt(0))+u.slice(1)),u=u?l+" "+u:l,n.options.closeAtx&&(u+=" "+l),a(),s(),u}z2.peek=HT;function z2(e){return e.value||""}function HT(){return"<"}U2.peek=VT;function U2(e,t,n,r){const i=Zd(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(e.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),u+=a.move(")"),l(),u}function VT(){return"!"}B2.peek=GT;function B2(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const s=n.createTracker(r);let a=s.move("![");const u=n.safe(e.alt,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),l();const d=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return l(),n.stack=d,o(),i==="full"||!u||u!==p?a+=s.move(p+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function GT(){return"!"}O2.peek=$T;function O2(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],s=n.compilePattern(l);let a;if(l.atBreak)for(;a=s.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function $T(){return"`"}function q2(e,t){const n=kd(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}H2.peek=KT;function H2(e,t,n,r){const i=Zd(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let s,a;if(q2(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),s(),n.stack=d,p}s=n.enter("link"),a=n.enter("label");let u=l.move("[");return u+=l.move(n.containerPhrasing(e,{before:u,after:"](",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),s(),u}function KT(e,t,n){return q2(e,n)?"<":"["}V2.peek=WT;function V2(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const s=n.createTracker(r);let a=s.move("[");const u=n.containerPhrasing(e,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),l();const d=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return l(),n.stack=d,o(),i==="full"||!u||u!==p?a+=s.move(p+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function WT(){return"["}function jd(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function YT(e){const t=jd(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function JT(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function G2(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function XT(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?JT(n):jd(n);const s=e.ordered?l==="."?")":".":YT(n);let a=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),G2(n)===l&&d){let p=-1;for(;++p<e.children.length;){const h=e.children[p];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(l=s),n.bulletCurrent=l;const u=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),u}function QT(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ZT(e,t,n,r){const i=QT(n);let o=n.bulletCurrent||jd(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(l-o.length)),s.shift(l);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),d);return a(),u;function d(p,h,m){return h?(m?"":" ".repeat(l))+p:(m?o:o+" ".repeat(l-o.length))+p}}function jT(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),i(),l}const eE=Cl(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function tE(e,t,n,r){return(e.children.some(function(l){return eE(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function nE(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}$2.peek=rE;function $2(e,t,n,r){const i=nE(n),o=n.enter("strong"),l=n.createTracker(r),s=l.move(i+i);let a=l.move(n.containerPhrasing(e,{after:i,before:s,...l.current()}));const u=a.charCodeAt(0),d=ia(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(a=yl(u)+a.slice(1));const p=a.charCodeAt(a.length-1),h=ia(r.after.charCodeAt(0),p,i);h.inside&&(a=a.slice(0,-1)+yl(p));const m=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},s+a+m}function rE(e,t,n){return n.options.strong||"*"}function iE(e,t,n,r){return n.safe(e.value,r)}function oE(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function lE(e,t,n){const r=(G2(n)+(n.options.ruleSpaces?" ":"")).repeat(oE(n));return n.options.ruleSpaces?r.slice(0,-1):r}const K2={blockquote:NT,break:em,code:LT,definition:zT,emphasis:F2,hardBreak:em,heading:qT,html:z2,image:U2,imageReference:B2,inlineCode:O2,link:H2,linkReference:V2,list:XT,listItem:ZT,paragraph:jT,root:tE,strong:$2,text:iE,thematicBreak:lE};function sE(){return{enter:{table:aE,tableData:tm,tableHeader:tm,tableRow:cE},exit:{codeText:dE,table:uE,tableData:Gu,tableHeader:Gu,tableRow:Gu}}}function aE(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function uE(e){this.exit(e),this.data.inTable=void 0}function cE(e){this.enter({type:"tableRow",children:[]},e)}function Gu(e){this.exit(e)}function tm(e){this.enter({type:"tableCell",children:[]},e)}function dE(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,fE));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function fE(e,t){return t==="|"?t:e}function pE(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:l,tableCell:a,tableRow:s}};function l(m,w,k,M){return u(d(m,k,M),m.align)}function s(m,w,k,M){const v=p(m,k,M),S=u([v]);return S.slice(0,S.indexOf(`
`))}function a(m,w,k,M){const v=k.enter("tableCell"),S=k.enter("phrasing"),T=k.containerPhrasing(m,{...M,before:o,after:o});return S(),v(),T}function u(m,w){return IT(m,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function d(m,w,k){const M=m.children;let v=-1;const S=[],T=w.enter("table");for(;++v<M.length;)S[v]=p(M[v],w,k);return T(),S}function p(m,w,k){const M=m.children;let v=-1;const S=[],T=w.enter("tableRow");for(;++v<M.length;)S[v]=a(M[v],m,w,k);return T(),S}function h(m,w,k){let M=K2.inlineCode(m,w,k);return k.stack.includes("tableCell")&&(M=M.replace(/\|/g,"\\$&")),M}}function hE(){return{exit:{taskListCheckValueChecked:nm,taskListCheckValueUnchecked:nm,paragraph:gE}}}function mE(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:yE}}}function nm(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function gE(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,l;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){l=s;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function yE(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(l);let a=K2.listItem(e,t,n,{...r,...s.current()});return o&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(d){return d+l}}function vE(){return[Qk(),vT(),kT(),sE(),hE()]}function xE(e){return{extensions:[Zk(),xT(e),TT(),pE(e),mE()]}}const wE={tokenize:bE,partial:!0},W2={tokenize:AE,partial:!0},Y2={tokenize:IE,partial:!0},J2={tokenize:ME,partial:!0},SE={tokenize:NE,partial:!0},X2={name:"wwwAutolink",tokenize:EE,previous:Z2},Q2={name:"protocolAutolink",tokenize:CE,previous:j2},fr={name:"emailAutolink",tokenize:TE,previous:ev},Vn={};function kE(){return{text:Vn}}let Zr=48;for(;Zr<123;)Vn[Zr]=fr,Zr++,Zr===58?Zr=65:Zr===91&&(Zr=97);Vn[43]=fr;Vn[45]=fr;Vn[46]=fr;Vn[95]=fr;Vn[72]=[fr,Q2];Vn[104]=[fr,Q2];Vn[87]=[fr,X2];Vn[119]=[fr,X2];function TE(e,t,n){const r=this;let i,o;return l;function l(p){return!sc(p)||!ev.call(r,r.previous)||ef(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(p))}function s(p){return sc(p)?(e.consume(p),s):p===64?(e.consume(p),a):n(p)}function a(p){return p===46?e.check(SE,d,u)(p):p===45||p===95||gt(p)?(o=!0,e.consume(p),a):d(p)}function u(p){return e.consume(p),i=!0,a}function d(p){return o&&i&&Et(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function EE(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!Z2.call(r,r.previous)||ef(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wE,e.attempt(W2,e.attempt(Y2,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function CE(e,t,n){const r=this;let i="",o=!1;return l;function l(p){return(p===72||p===104)&&j2.call(r,r.previous)&&!ef(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),s):n(p)}function s(p){if(Et(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),s;if(p===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(p),a}return n(p)}function a(p){return p===47?(e.consume(p),o?u:(o=!0,a)):n(p)}function u(p){return p===null||Xs(p)||_e(p)||pi(p)||Aa(p)?n(p):e.attempt(W2,e.attempt(Y2,d),n)(p)}function d(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function bE(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function AE(e,t,n){let r,i,o;return l;function l(u){return u===46||u===95?e.check(J2,a,s)(u):u===null||_e(u)||pi(u)||u!==45&&Aa(u)?a(u):(o=!0,e.consume(u),l)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),l}function a(u){return i||r||!o?n(u):t(u)}}function IE(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(J2,t,o)(l):l===null||_e(l)||pi(l)?t(l):(e.consume(l),i)}function o(l){return l===41&&r++,e.consume(l),i}}function ME(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),o):s===93?(e.consume(s),i):s===60||s===null||_e(s)||pi(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||_e(s)||pi(s)?t(s):r(s)}function o(s){return Et(s)?l(s):n(s)}function l(s){return s===59?(e.consume(s),r):Et(s)?(e.consume(s),l):n(s)}}function NE(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return gt(o)?n(o):t(o)}}function Z2(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||_e(e)}function j2(e){return!Et(e)}function ev(e){return!(e===47||sc(e))}function sc(e){return e===43||e===45||e===46||e===95||gt(e)}function ef(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const _E={tokenize:BE,partial:!0};function RE(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:FE,continuation:{tokenize:zE},exit:UE}},text:{91:{name:"gfmFootnoteCall",tokenize:LE},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:PE,resolveTo:DE}}}}function PE(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){l=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return s;function s(a){if(!l||!l._balanced)return n(a);const u=An(r.sliceSerialize({start:l.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function DE(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function LE(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return s;function s(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),a}function a(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(p){if(o>999||p===93&&!l||p===null||p===91||_e(p))return n(p);if(p===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(An(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return _e(p)||(l=!0),o++,e.consume(p),p===92?d:u}function d(p){return p===91||p===92||p===93?(e.consume(p),o++,u):u(p)}}function FE(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,s;return a;function a(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(w)}function d(w){if(l>999||w===93&&!s||w===null||w===91||_e(w))return n(w);if(w===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return o=An(r.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return _e(w)||(s=!0),l++,e.consume(w),w===92?p:d}function p(w){return w===91||w===92||w===93?(e.consume(w),l++,d):d(w)}function h(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),i.includes(o)||i.push(o),we(e,m,"gfmFootnoteDefinitionWhitespace")):n(w)}function m(w){return t(w)}}function zE(e,t,n){return e.check(El,t,e.attempt(_E,t,n))}function UE(e){e.exit("gfmFootnoteDefinition")}function BE(e,t,n){const r=this;return we(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function OE(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,s){let a=-1;for(;++a<l.length;)if(l[a][0]==="enter"&&l[a][1].type==="strikethroughSequenceTemporary"&&l[a][1]._close){let u=a;for(;u--;)if(l[u][0]==="exit"&&l[u][1].type==="strikethroughSequenceTemporary"&&l[u][1]._open&&l[a][1].end.offset-l[a][1].start.offset===l[u][1].end.offset-l[u][1].start.offset){l[a][1].type="strikethroughSequence",l[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},l[u][1].start),end:Object.assign({},l[a][1].end)},p={type:"strikethroughText",start:Object.assign({},l[u][1].end),end:Object.assign({},l[a][1].start)},h=[["enter",d,s],["enter",l[u][1],s],["exit",l[u][1],s],["enter",p,s]],m=s.parser.constructs.insideSpan.null;m&&Jt(h,h.length,0,Ia(m,l.slice(u+1,a),s)),Jt(h,h.length,0,[["exit",p,s],["enter",l[a][1],s],["exit",l[a][1],s],["exit",d,s]]),Jt(l,u-1,a-u+3,h),a=u+h.length-2;break}}for(a=-1;++a<l.length;)l[a][1].type==="strikethroughSequenceTemporary"&&(l[a][1].type="data");return l}function o(l,s,a){const u=this.previous,d=this.events;let p=0;return h;function h(w){return u===126&&d[d.length-1][1].type!=="characterEscape"?a(w):(l.enter("strikethroughSequenceTemporary"),m(w))}function m(w){const k=ro(u);if(w===126)return p>1?a(w):(l.consume(w),p++,m);if(p<2&&!n)return a(w);const M=l.exit("strikethroughSequenceTemporary"),v=ro(w);return M._open=!v||v===2&&!!k,M._close=!k||k===2&&!!v,s(w)}}}class qE{constructor(){this.map=[]}add(t,n,r){HE(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function HE(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function VE(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function GE(){return{flow:{null:{name:"table",tokenize:$E,resolveAll:KE}}}}function $E(e,t,n){const r=this;let i=0,o=0,l;return s;function s(_){let q=r.events.length-1;for(;q>-1;){const j=r.events[q][1].type;if(j==="lineEnding"||j==="linePrefix")q--;else break}const B=q>-1?r.events[q][1].type:null,G=B==="tableHead"||B==="tableRow"?b:a;return G===b&&r.parser.lazy[r.now().line]?n(_):G(_)}function a(_){return e.enter("tableHead"),e.enter("tableRow"),u(_)}function u(_){return _===124||(l=!0,o+=1),d(_)}function d(_){return _===null?n(_):ue(_)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),m):n(_):Se(_)?we(e,d,"whitespace")(_):(o+=1,l&&(l=!1,i+=1),_===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),l=!0,d):(e.enter("data"),p(_)))}function p(_){return _===null||_===124||_e(_)?(e.exit("data"),d(_)):(e.consume(_),_===92?h:p)}function h(_){return _===92||_===124?(e.consume(_),p):p(_)}function m(_){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(_):(e.enter("tableDelimiterRow"),l=!1,Se(_)?we(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):w(_))}function w(_){return _===45||_===58?M(_):_===124?(l=!0,e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),k):I(_)}function k(_){return Se(_)?we(e,M,"whitespace")(_):M(_)}function M(_){return _===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),v):_===45?(o+=1,v(_)):_===null||ue(_)?C(_):I(_)}function v(_){return _===45?(e.enter("tableDelimiterFiller"),S(_)):I(_)}function S(_){return _===45?(e.consume(_),S):_===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),T):(e.exit("tableDelimiterFiller"),T(_))}function T(_){return Se(_)?we(e,C,"whitespace")(_):C(_)}function C(_){return _===124?w(_):_===null||ue(_)?!l||i!==o?I(_):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(_)):I(_)}function I(_){return n(_)}function b(_){return e.enter("tableRow"),R(_)}function R(_){return _===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),R):_===null||ue(_)?(e.exit("tableRow"),t(_)):Se(_)?we(e,R,"whitespace")(_):(e.enter("data"),z(_))}function z(_){return _===null||_===124||_e(_)?(e.exit("data"),R(_)):(e.consume(_),_===92?P:z)}function P(_){return _===92||_===124?(e.consume(_),z):z(_)}}function KE(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],s=!1,a=0,u,d,p;const h=new qE;for(;++n<e.length;){const m=e[n],w=m[1];m[0]==="enter"?w.type==="tableHead"?(s=!1,a!==0&&(rm(h,t,a,u,d),d=void 0,a=0),u={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},h.add(n,0,[["enter",u,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,p=void 0,o=[0,0,0,0],l=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},h.add(n,0,[["enter",d,t]])),i=w.type==="tableDelimiterRow"?2:d?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],p=ls(h,t,o,i,void 0,p),o=[0,0,0,0]),l[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],p=ls(h,t,o,i,void 0,p)),o=l,l=[o[1],n,0,0])):w.type==="tableHead"?(s=!0,a=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(a=n,o[1]!==0?(l[0]=l[1],p=ls(h,t,o,i,n,p)):l[1]!==0&&(p=ls(h,t,l,i,n,p)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(l[3]=n)}for(a!==0&&rm(h,t,a,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=VE(t.events,n))}return e}function ls(e,t,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},Ci(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const a=Ci(t.events,n[1]);if(o={type:l,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=Ci(t.events,n[2]),d=Ci(t.events,n[3]),p={type:s,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,k=n[3]-n[2]-1;e.add(w,k,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(o.end=Object.assign({},Ci(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function rm(e,t,n,r,i){const o=[],l=Ci(t.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function Ci(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const WE={name:"tasklistCheck",tokenize:JE};function YE(){return{text:{91:WE}}}function JE(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),o)}function o(a){return _e(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),l):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),l):n(a)}function l(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(a)}function s(a){return ue(a)?t(a):Se(a)?e.check({tokenize:XE},t,n)(a):n(a)}}function XE(e,t,n){return we(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function QE(e){return hy([kE(),RE(),OE(e),GE(),YE()])}const ZE={};function ac(e){const t=this,n=e||ZE,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(QE(n)),o.push(vE()),l.push(xE(n))}const im=/[#.]/g;function jE(e,t){const n=e||"",r={};let i=0,o,l;for(;i<n.length;){im.lastIndex=i;const s=im.exec(n),a=n.slice(i,s?s.index:n.length);a&&(o?o==="#"?r.id=a:Array.isArray(r.className)?r.className.push(a):r.className=[a]:l=a,i+=a.length),s&&(o=s[0],i++)}return{type:"element",tagName:l||t||"div",properties:r,children:[]}}function tv(e,t,n){const r=n?rC(n):void 0;function i(o,l,...s){let a;if(o==null){a={type:"root",children:[]};const u=l;s.unshift(u)}else{a=jE(o,t);const u=a.tagName.toLowerCase(),d=r?r.get(u):void 0;if(a.tagName=d||u,eC(l))s.unshift(l);else for(const[p,h]of Object.entries(l))tC(e,a.properties,p,h)}for(const u of s)uc(a.children,u);return a.type==="element"&&a.tagName==="template"&&(a.content={type:"root",children:a.children},a.children=[]),a}return i}function eC(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const l of o)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function tC(e,t,n,r){const i=oy(e,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=Np(r):i.commaSeparated?o=Cp(r):i.commaOrSpaceSeparated?o=Np(Cp(r).join(" ")):o=om(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?nC(r):String(r);if(Array.isArray(o)){const l=[];for(const s of o)l.push(om(i,i.property,s));o=l}i.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[i.property]=o}}function uc(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)uc(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?uc(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function om(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||pl(n)===pl(t)))return!0}return n}function nC(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function rC(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const iC=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],oC=tv(ly,"div"),lC=tv(Ca,"g",iC),$u={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function sC(e,t){return nv(e,{})||{type:"root",children:[]}}function nv(e,t){const n=aC(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function aC(e,t){switch(e.nodeType){case 1:return fC(e,t);case 3:return cC(e);case 8:return dC(e);case 9:return lm(e,t);case 10:return uC();case 11:return lm(e,t);default:return}}function lm(e,t){return{type:"root",children:rv(e,t)}}function uC(){return{type:"doctype"}}function cC(e){return{type:"text",value:e.nodeValue||""}}function dC(e){return{type:"comment",value:e.nodeValue||""}}function fC(e,t){const n=e.namespaceURI,r=n===$u.svg?lC:oC,i=n===$u.html?e.tagName.toLowerCase():e.tagName,o=n===$u.html&&i==="template"?e.content:e,l=e.getAttributeNames(),s={};let a=-1;for(;++a<l.length;)s[l[a]]=e.getAttribute(l[a])||"";return r(i,s,rv(o,t))}function rv(e,t){const n=e.childNodes,r=[];let i=-1;for(;++i<n.length;){const o=nv(n[i],t);o!==void 0&&r.push(o)}return r}new DOMParser;function pC(e,t){const n=hC(e);return sC(n)}function hC(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const sm=function(e,t,n){const r=Cl(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},vi=function(e){if(e==null)return yC;if(typeof e=="string")return gC(e);if(typeof e=="object")return mC(e);if(typeof e=="function")return tf(e);throw new Error("Expected function, string, or array as `test`")};function mC(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=vi(e[n]);return tf(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function gC(e){return tf(t);function t(n){return n.tagName===e}}function tf(e){return t;function t(n,r,i){return!!(vC(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function yC(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function vC(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const am=/\n/g,um=/[\t ]+/g,cc=vi("br"),cm=vi(bC),xC=vi("p"),dm=vi("tr"),wC=vi(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",CC,AC]),iv=vi(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function SC(e,t){const n=t||{},r="children"in e?e.children:[],i=iv(e),o=sv(e,{whitespace:n.whitespace||"normal"}),l=[];(e.type==="text"||e.type==="comment")&&l.push(...lv(e,{breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)l.push(...ov(r[s],e,{whitespace:o,breakBefore:s?void 0:i,breakAfter:s<r.length-1?cc(r[s+1]):i}));const a=[];let u;for(s=-1;++s<l.length;){const d=l[s];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&a.push(`
`.repeat(u)||" "),u=-1,a.push(d))}return a.join("")}function ov(e,t,n){return e.type==="element"?kC(e,t,n):e.type==="text"?n.whitespace==="normal"?lv(e,n):TC(e):[]}function kC(e,t,n){const r=sv(e,n),i=e.children||[];let o=-1,l=[];if(wC(e))return l;let s,a;for(cc(e)||dm(e)&&sm(t,e,dm)?a=`
`:xC(e)?(s=2,a=2):iv(e)&&(s=1,a=1);++o<i.length;)l=l.concat(ov(i[o],e,{whitespace:r,breakBefore:o?void 0:s,breakAfter:o<i.length-1?cc(i[o+1]):a}));return cm(e)&&sm(t,e,cm)&&l.push("	"),s&&l.unshift(s),a&&l.push(a),l}function lv(e,t){const n=String(e.value),r=[],i=[];let o=0;for(;o<=n.length;){am.lastIndex=o;const a=am.exec(n),u=a&&"index"in a?a.index:n.length;r.push(EC(n.slice(o,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),o=u+1}let l=-1,s;for(;++l<r.length;)r[l].charCodeAt(r[l].length-1)===8203||l<r.length-1&&r[l+1].charCodeAt(0)===8203?(i.push(r[l]),s=void 0):r[l]?(typeof s=="number"&&i.push(s),i.push(r[l]),s=0):(l===0||l===r.length-1)&&i.push(0);return i}function TC(e){return[String(e.value)]}function EC(e,t,n){const r=[];let i=0,o;for(;i<e.length;){um.lastIndex=i;const l=um.exec(e);o=l?l.index:e.length,!i&&!o&&l&&!t&&r.push(""),i!==o&&r.push(e.slice(i,o)),i=l?o+l[0].length:o}return i!==o&&!n&&r.push(""),r.join(" ")}function sv(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function CC(e){return!!(e.properties||{}).hidden}function bC(e){return e.tagName==="td"||e.tagName==="th"}function AC(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const IC={},MC=[];function NC(e){const t=e||IC;return function(n,r){Md(n,"element",function(i,o){const l=Array.isArray(i.properties.className)?i.properties.className:MC,s=l.includes("language-math"),a=l.includes("math-display"),u=l.includes("math-inline");let d=a;if(!s&&!a&&!u)return;let p=o[o.length-1],h=i;if(i.tagName==="code"&&s&&p&&p.type==="element"&&p.tagName==="pre"&&(h=p,p=o[o.length-2],d=!0),!p)return;const m=SC(h,{whitespace:"pre"});let w;try{w=Xh.renderToString(m,{...t,displayMode:d,throwOnError:!0})}catch(M){const v=M,S=v.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...o,i],cause:v,place:i.position,ruleId:S,source:"rehype-katex"});try{w=Xh.renderToString(m,{...t,displayMode:d,strict:"ignore",throwOnError:!1})}catch{w=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(M)},children:[{type:"text",value:m}]}]}}typeof w=="string"&&(w=pC(w).children);const k=p.children.indexOf(h);return p.children.splice(k,1,...w),Py})}}var me=(e=>(e.GEMINI="GEMINI",e.DEEPSEEK="DEEPSEEK",e))(me||{}),sn=(e=>(e.USER="user",e.MODEL="model",e))(sn||{}),Do=(e=>(e.BLOCK_NONE="BLOCK_NONE",e.BLOCK_FEW="BLOCK_ONLY_HIGH",e.BLOCK_SOME="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_MOST="BLOCK_LOW_AND_ABOVE",e))(Do||{}),Rt=(e=>(e.CHAT="CHAT",e.WORKSPACE="WORKSPACE",e))(Rt||{}),rt=(e=>(e.PLANNING="PLANNING",e.RUNNING="RUNNING",e.REVIEWING="REVIEWING",e.RETRYING="RETRYING",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PAUSED="PAUSED",e))(rt||{});const _C=({workflow:e,onAddNote:t})=>{const n=e.currentStepIndex/e.plan.length*100,[r,i]=ae.useState(!0),[o,l]=ae.useState(""),s=ae.useRef(null);ae.useEffect(()=>{s.current&&(s.current.scrollTop=s.current.scrollHeight)},[e.logs]);const a=()=>{o.trim()&&t&&(t(o.trim()),l(""))};return x.jsxs("div",{className:"w-full bg-onyx-surface/90 border border-purple-500/30 rounded-2xl overflow-hidden mb-6 backdrop-blur-md shadow-[0_0_30px_rgba(168,85,247,0.1)] animate-fade-in ring-1 ring-purple-500/20",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-900/20 to-transparent border-b border-purple-500/20",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center text-purple-400 border border-purple-500/30",children:e.status===rt.REVIEWING?x.jsx(X,{name:"Check",size:16,className:"animate-pulse text-yellow-400"}):e.status===rt.RETRYING?x.jsx(X,{name:"RefreshCw",size:16,className:"animate-spin text-red-400"}):x.jsx(X,{name:"Brain",size:16,className:e.status===rt.RUNNING?"animate-pulse":""})}),x.jsxs("div",{children:[x.jsxs("h3",{className:"font-bold text-white text-sm tracking-wide font-mono",children:["AGENT TASK: ",e.goal.slice(0,40).toUpperCase(),e.goal.length>40?"...":""]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`w-2 h-2 rounded-full ${e.status===rt.RUNNING?"bg-green-500 animate-ping":e.status===rt.FAILED?"bg-red-500":"bg-gray-500"}`}),x.jsxs("p",{className:"text-[10px] text-purple-300/70 font-mono uppercase",children:[e.status===rt.PLANNING&&"Initializing Strategy...",e.status===rt.RUNNING&&`Executing Node ${e.currentStepIndex+1}/${e.plan.length}`,e.status===rt.REVIEWING&&"Critic Reviewing Output...",e.status===rt.RETRYING&&"Worker Fixing Errors...",e.status===rt.COMPLETED&&"Mission Accomplished"]})]})]})]}),x.jsx("button",{onClick:()=>i(!r),className:"p-2 hover:bg-white/5 rounded-lg text-onyx-textMuted hover:text-white transition-colors",children:x.jsx(X,{name:r?"ChevronRight":"MessageSquare",size:16,className:r?"rotate-90":""})})]}),x.jsx("div",{className:"h-1 w-full bg-black/50",children:x.jsx("div",{className:`h-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(168,85,247,0.5)] ${e.status===rt.COMPLETED?"bg-green-500":"bg-gradient-to-r from-purple-600 to-blue-500"}`,style:{width:`${n}%`}})}),x.jsx("div",{className:"p-4 space-y-3 bg-onyx-surfaceLight/20 max-h-[300px] overflow-y-auto",children:e.plan.map((u,d)=>{const p=d===e.currentStepIndex,h=d<e.currentStepIndex;return!p&&!h&&d>e.currentStepIndex+1?null:x.jsxs("div",{className:`
                  relative flex flex-col gap-2 p-3 rounded-xl border transition-all duration-500
                  ${p?"bg-purple-500/10 border-purple-500/40 shadow-lg":h?"bg-green-900/10 border-green-500/20 opacity-70":"bg-white/5 border-white/5 opacity-50"}
              `,children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:`
                      mt-0.5 w-5 h-5 rounded-md flex items-center justify-center border text-[10px] font-bold shrink-0
                      ${h?"bg-green-500 border-green-500 text-black":p?"bg-purple-500 border-purple-500 text-white animate-pulse":"border-onyx-textMuted text-onyx-textMuted"}
                  `,children:h?x.jsx(X,{name:"Check",size:12}):x.jsx("span",{children:u.id})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:`text-xs font-bold ${p?"text-white":"text-onyx-textMuted"}`,children:u.title}),p&&x.jsx("span",{className:"text-[9px] bg-purple-500 text-white px-1.5 rounded uppercase font-bold tracking-wider",children:"Active"})]}),x.jsx("div",{className:"text-[11px] text-onyx-textMuted mt-1 leading-relaxed",children:u.description})]})]}),u.criticFeedback&&x.jsxs("div",{className:"ml-8 p-2 bg-red-500/10 border border-red-500/30 rounded-lg text-[10px] text-red-300 animate-fade-in",children:[x.jsxs("div",{className:"flex items-center gap-1 font-bold mb-1",children:[x.jsx(X,{name:"X",size:10})," CRITIC REJECTED (Attempt ",u.retryCount||1,")"]}),'"',u.criticFeedback,'"']})]},u.id)})}),x.jsxs("div",{className:"p-4 bg-onyx-surfaceLight/30 border-t border-purple-500/10",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs font-bold text-purple-300",children:[x.jsx(X,{name:"PenTool",size:12}),x.jsx("span",{children:"Intervention / Add Note"})]}),e.userNotes&&e.userNotes.length>0&&x.jsx("div",{className:"mb-3 space-y-1",children:e.userNotes.map((u,d)=>x.jsxs("div",{className:"flex items-start gap-2 text-[10px] text-white bg-purple-500/20 border border-purple-500/30 p-2 rounded-lg animate-fade-in",children:[x.jsx(X,{name:"Check",size:10,className:"mt-0.5 text-purple-400"}),x.jsx("span",{children:u})]},d))}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:o,onChange:u=>l(u.target.value),onKeyDown:u=>u.key==="Enter"&&a(),placeholder:"Inject guidance for the next step...",className:"flex-1 bg-black/40 border border-purple-500/20 rounded-lg px-3 py-2 text-xs text-white focus:outline-none focus:border-purple-500 placeholder-white/20"}),x.jsx("button",{onClick:a,disabled:!o.trim(),className:"px-3 py-2 bg-purple-600 hover:bg-purple-500 disabled:opacity-50 text-white rounded-lg text-xs font-bold transition-colors",children:"Add"})]})]}),r&&x.jsx("div",{className:"bg-[#050505] p-3 border-t border-purple-500/20 font-mono text-[10px] max-h-[120px] overflow-y-auto custom-scrollbar",ref:s,children:e.logs.map((u,d)=>x.jsxs("div",{className:"mb-1 last:mb-0 text-gray-400 break-words",children:[x.jsx("span",{className:"text-purple-500 mr-2",children:""}),u]},d))})]})};class RC extends Cc.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("Markdown rendering error:",t,n)}render(){return this.state.hasError?x.jsx("div",{className:"p-3 bg-red-900/20 border border-red-500/30 rounded-xl text-red-400 text-sm",children:x.jsxs("p",{className:"font-bold flex items-center gap-2",children:[x.jsx(X,{name:"X",size:16})," Rendering Error"]})}):this.props.children}}const PC=({inline:e,className:t,children:n,...r})=>{const[i,o]=ae.useState(!1),l=/language-(\w+)/.exec(t||""),s=l?l[1]:"text",a=String(n).replace(/\n$/,""),u=()=>{navigator.clipboard.writeText(a),o(!0),setTimeout(()=>o(!1),2e3)};return!e&&l?x.jsxs("div",{className:"rounded-xl overflow-hidden my-4 border border-onyx-border bg-[#0d0d0d] shadow-lg",children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-[#1a1a1a] border-b border-onyx-border",children:[x.jsx("span",{className:"text-xs text-onyx-textMuted font-mono lowercase",children:s}),x.jsxs("button",{onClick:u,className:"flex items-center gap-1.5 text-[10px] text-onyx-textMuted hover:text-white bg-white/5 hover:bg-white/10 px-2 py-1 rounded",children:[i?x.jsx(X,{name:"Check",size:12}):x.jsx(X,{name:"Copy",size:12}),i?"Copied!":"Copy Code"]})]}),x.jsx("pre",{className:"!p-4 !m-0 !bg-transparent overflow-x-auto",children:x.jsx("code",{className:t,...r,children:n})})]}):x.jsx("code",{className:t,...r,children:n})},nf=(e,t)=>{const n=document.getElementById(e);if(!n)return;const r=window.open("","","height=600,width=800");r&&(r.document.write(`
        <html>
            <head>
                <title>${t}</title>
                <style>
                    body { font-family: sans-serif; padding: 40px; color: black; background: white; }
                    h1 { border-bottom: 2px solid #000; padding-bottom: 10px; }
                    table { width: 100%; border-collapse: collapse; margin: 20px 0; border: 1px solid #ccc; }
                    th, td { border: 1px solid #ccc; padding: 10px; text-align: left; }
                    th { background-color: #eee; }
                    pre { background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; }
                    blockquote { border-left: 4px solid #333; padding-left: 15px; color: #666; margin: 20px 0; }
                </style>
            </head>
            <body>
                <h1>${t}</h1>
                <div class="content">${n.innerHTML}</div>
                <script>
                    window.onload = function() { window.print(); window.close(); }
                <\/script>
            </body>
        </html>
    `),r.document.close())},DC=({msg:e,userAvatar:t,persona:n,isStreaming:r,onShowMenu:i})=>{const[o,l]=ae.useState(!1),s=`msg-content-${e.id}`,a=25e3,u=e.text.length>a,d=!o&&u?e.text.slice(0,a)+`

... [Truncated. Click 'Show Full Message']`:e.text,p=h=>{h.preventDefault(),i(h,e)};return x.jsxs("div",{className:`group flex gap-4 animate-slide-up relative message-bubble-container ${e.role===sn.USER?"flex-row-reverse":"flex-row"}`,children:[x.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center shrink-0 mt-1 overflow-hidden border border-white/5 shadow-sm ${e.role===sn.USER?"bg-white text-black":"bg-onyx-accent text-white"}`,children:e.role===sn.USER?t?x.jsx("img",{src:t,alt:"User",className:"w-full h-full object-cover"}):x.jsx(X,{name:"User",size:18}):n!=null&&n.avatar?x.jsx("img",{src:n.avatar,alt:"Bot",className:"w-full h-full object-cover"}):x.jsx(X,{name:(n==null?void 0:n.icon)||"Bot",size:18})}),x.jsx("div",{className:"relative max-w-[85%] lg:max-w-[80%]",onContextMenu:p,children:x.jsxs("div",{className:`px-5 py-3.5 rounded-3xl shadow-sm ${e.role===sn.USER?"bg-onyx-accent text-white rounded-br-none":"bg-onyx-surfaceLight text-white rounded-bl-none cursor-context-menu"}`,children:[e.images&&e.images.length>0&&x.jsx("div",{className:"flex gap-2 flex-wrap mb-2",children:e.images.map((h,m)=>x.jsx("img",{src:h,alt:"attachment",className:"max-w-[120px] max-h-[120px] object-cover rounded-lg border border-black/20"},m))}),(e.text||e.isLoading)&&x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("div",{id:s,className:"markdown-body text-sm lg:text-[15px] leading-relaxed break-words",children:x.jsx(RC,{children:x.jsx(Q0,{remarkPlugins:[$k,ac],rehypePlugins:[NC],components:{code:PC},children:d})})}),e.role===sn.MODEL&&!e.isLoading&&!e.error&&x.jsx("div",{className:"flex justify-end mt-1 pt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsxs("button",{onClick:h=>{h.stopPropagation(),nf(s,"Onyx Report")},className:"flex items-center gap-1.5 text-[10px] bg-white/5 hover:bg-white/10 text-onyx-textMuted hover:text-white px-2 py-1 rounded transition-colors",children:[x.jsx(X,{name:"Download",size:12})," Export"]})})]}),u&&!o&&x.jsxs("button",{onClick:()=>l(!0),className:"mt-2 w-full py-2 bg-black/20 text-xs rounded-lg flex items-center justify-center gap-1",children:[x.jsx(X,{name:"ChevronRight",size:14,className:"rotate-90"})," Show Full Message"]}),e.isLoading&&x.jsx("div",{className:"inline-block w-2 h-2 ml-2 bg-white rounded-full animate-pulse"}),e.error&&x.jsx("p",{className:"text-red-400 text-xs mt-2",children:e.text})]})})]})},LC=({artifact:e})=>x.jsxs("div",{className:"my-6 mx-auto w-full max-w-3xl bg-onyx-surfaceLight/50 border border-purple-500/40 rounded-2xl overflow-hidden shadow-2xl animate-slide-up",children:[x.jsxs("div",{className:"bg-gradient-to-r from-purple-800 to-purple-600 p-4 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2 text-white font-bold",children:[x.jsx(X,{name:"Crown",size:20,className:"text-yellow-400"}),x.jsx("span",{children:e.title})]}),x.jsx("button",{onClick:()=>nf("final-artifact",e.title),className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-lg transition-colors",children:x.jsx(X,{name:"Download",size:16})})]}),x.jsxs("div",{id:"final-artifact",className:"p-6 markdown-body bg-onyx-surface",children:[e.type==="MARKDOWN"&&x.jsx(Q0,{remarkPlugins:[ac],children:e.content}),e.type==="CODE"&&x.jsx("pre",{className:"p-4 bg-black rounded-xl",children:x.jsx("code",{children:e.content})}),e.type==="HTML"&&x.jsx("div",{dangerouslySetInnerHTML:{__html:e.content}}),e.type==="TABLE"&&x.jsx(Q0,{remarkPlugins:[ac],children:e.content})]})]}),FC=Cc.memo(DC),zC=({messages:e,activeWorkflow:t,isStreaming:n,onDeleteMessage:r,onRetryMessage:i,onAddWorkflowNote:o,...l})=>{var w;const s=ae.useRef(null),a=ae.useRef(null),[u,d]=ae.useState(null);ae.useEffect(()=>{s.current&&s.current.scrollIntoView({behavior:"auto"})},[e,n,t==null?void 0:t.logs]);const p=(k,M)=>{let v="touches"in k?k.touches[0].clientX:k.clientX,S="touches"in k?k.touches[0].clientY:k.clientY;v+160>window.innerWidth&&(v-=160),d({x:v,y:S,msg:M})},h=k=>{if(!u)return;const{msg:M}=u;k==="copy"&&navigator.clipboard.writeText(M.text),k==="retry"&&i(M.id),k==="delete"&&r(M.id),k==="pdf"&&nf(`msg-content-${M.id}`,"Export"),d(null)},m=e.filter(k=>!k.isSystem);return x.jsxs("div",{ref:a,className:"flex-1 overflow-y-auto p-4 pt-20 lg:pt-24 space-y-6 relative",children:[u&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(null)}),x.jsxs("div",{className:"fixed z-50 bg-onyx-surface/90 backdrop-blur border border-onyx-border rounded-xl shadow-2xl p-1.5 w-40",style:{top:u.y,left:u.x},children:[x.jsxs("button",{onClick:()=>h("copy"),className:"w-full flex gap-2 px-3 py-2 text-sm text-white hover:bg-white/10 rounded-lg text-left",children:[x.jsx(X,{name:"Copy",size:14})," Copy"]}),x.jsxs("button",{onClick:()=>h("pdf"),className:"w-full flex gap-2 px-3 py-2 text-sm text-white hover:bg-white/10 rounded-lg text-left",children:[x.jsx(X,{name:"Download",size:14})," PDF Export"]}),u.msg.role===sn.USER&&x.jsxs("button",{onClick:()=>h("retry"),className:"w-full flex gap-2 px-3 py-2 text-sm text-white hover:bg-white/10 rounded-lg text-left",children:[x.jsx(X,{name:"RefreshCw",size:14})," Retry"]}),x.jsxs("button",{onClick:()=>h("delete"),className:"w-full flex gap-2 px-3 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg text-left",children:[x.jsx(X,{name:"Trash2",size:14})," Delete"]})]})]}),t&&x.jsxs("div",{className:"mb-8",children:[x.jsx(_C,{workflow:t,onAddNote:o}),t.finalArtifact&&x.jsx(LC,{artifact:t.finalArtifact})]}),m.length===0&&!t?x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-onyx-textMuted opacity-60",children:[x.jsx(X,{name:((w=l.persona)==null?void 0:w.icon)||"Sparkles",size:48,className:"mb-4 text-onyx-accent"}),x.jsx("p",{className:"text-lg font-medium",children:l.persona?`Start chatting with ${l.persona.name}`:"Start a conversation"})]}):m.map(k=>x.jsx(FC,{msg:k,isStreaming:n,onShowMenu:p,...l},k.id)),x.jsx("div",{ref:s})]})},UC=({onSend:e,onStop:t,isLoading:n,disabled:r=!1,hasApiKeys:i,currentPersona:o,isAgentMode:l,onToggleAgentMode:s})=>{const[a,u]=ae.useState(""),[d,p]=ae.useState([]),[h,m]=ae.useState(!1),w=ae.useRef(null),k=ae.useRef(null),M=!i||r,v=b=>{u(b.target.value),w.current&&(w.current.style.height="auto",w.current.style.height=`${Math.min(w.current.scrollHeight,150)}px`)},S=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),b.stopPropagation(),I())},T=b=>{if(b.target.files&&b.target.files[0]){const R=b.target.files[0],z=new FileReader;z.onloadend=()=>{p(P=>[...P,z.result])},z.readAsDataURL(R)}b.target.value=""},C=b=>{p(R=>R.filter((z,P)=>P!==b))},I=()=>{if(!a.trim()&&d.length===0||n||M)return;const b=o.provider===me.GEMINI;e(a,d,b&&h,l),u(""),p([]),m(!1),w.current&&(w.current.style.height="auto")};return x.jsx("div",{className:`p-4 border-t transition-colors duration-500 ${l?"bg-purple-900/10 border-purple-500/30":"bg-onyx-black border-onyx-border"}`,children:x.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-2",children:[d.length>0&&x.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:d.map((b,R)=>x.jsxs("div",{className:"relative group shrink-0",children:[x.jsx("img",{src:b,alt:"preview",className:"h-16 w-16 object-cover rounded-xl border border-onyx-border"}),x.jsx("button",{onClick:()=>C(R),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-lg",children:x.jsx(X,{name:"X",size:10})})]},R))}),x.jsxs("div",{className:`
             relative flex items-end gap-2 bg-onyx-surfaceLight p-2 rounded-[2rem] border transition-all duration-300
             ${M?"opacity-50 cursor-not-allowed border-red-900/30":l?"border-purple-500 focus-within:shadow-[0_0_15px_rgba(168,85,247,0.3)]":"border-onyx-border focus-within:border-onyx-accent"}
        `,children:[x.jsx("input",{type:"file",ref:k,className:"hidden",accept:"image/*",onChange:T,disabled:M||n}),x.jsxs("div",{className:"flex items-center gap-1 pb-2.5 pl-2",children:[x.jsx("button",{onClick:s,className:`p-2 rounded-full transition-all duration-300 ${l?"bg-purple-600 text-white shadow-lg animate-pulse":"text-onyx-textMuted hover:text-white hover:bg-white/5"}`,title:l?"Disable Autonomous Agent Mode":"Enable Autonomous Agent Mode (Task Loop)",disabled:M||n,children:x.jsx(X,{name:"Brain",size:20})}),o.provider===me.GEMINI&&x.jsx("button",{onClick:()=>m(!h),className:`p-2 rounded-full transition-all ${h?"bg-blue-500/20 text-blue-400":"text-onyx-textMuted hover:text-white hover:bg-white/5"}`,title:"Toggle Google Search",disabled:M||n,children:x.jsx(X,{name:"Globe",size:20})}),x.jsx("button",{onClick:()=>{var b;return(b=k.current)==null?void 0:b.click()},className:"p-2 text-onyx-textMuted hover:text-white rounded-full hover:bg-white/5 transition-colors",title:"Attach Image",disabled:M||n,children:x.jsx(X,{name:"Image",size:20})})]}),x.jsx("textarea",{ref:w,value:a,onChange:v,onKeyDown:S,disabled:M||n,placeholder:i?n?"Working...":l?"Describe a complex task for the Agent...":`Message ${o.name}...`:" API Key Required.",rows:1,className:"flex-1 bg-transparent border-0 focus:ring-0 text-white placeholder-onyx-textMuted resize-none py-3 max-h-[150px] scrollbar-hide",style:{minHeight:"44px"}}),n?x.jsx("button",{onClick:()=>t&&t(),className:"p-3 rounded-full bg-red-500/10 border border-red-500/30 text-red-500 hover:bg-red-500/20 active:scale-95 animate-fade-in",children:x.jsx(X,{name:"Square",size:20,className:"fill-current"})}):x.jsx("button",{onClick:I,disabled:!a.trim()&&d.length===0||M,className:`p-3 rounded-full transition-all duration-200 ${!a.trim()&&d.length===0||M?"bg-onyx-surface text-onyx-textMuted cursor-not-allowed":l?"bg-purple-600 text-white shadow-[0_0_15px_rgba(168,85,247,0.5)]":"bg-onyx-accent text-white shadow-lg"}`,children:x.jsx(X,{name:"Send",size:24})})]})]})})},Yo=[{value:"gemini-2.5-flash",label:"Gemini 2.5 Flash",premium:!1},{value:"gemini-2.0-flash",label:"Gemini 2.0 Flash",premium:!1},{value:"gemini-2.0-flash-lite",label:"Gemini 2.0 Flash Lite",premium:!1},{value:"gemini-2.5-flash-thinking",label:"Gemini 2.5 Flash Thinking",premium:!1},{value:"gemini-2.5-pro",label:"Gemini 2.5 Pro",premium:!0},{value:"gemini-3-pro-preview",label:"Gemini 3.0 Pro",premium:!0},{value:"gemma-3-27b",label:"Gemma 3 (27b)",premium:!1}],fm=[{value:"deepseek-chat",label:"DeepSeek Chat",premium:!1},{value:"deepseek-coder",label:"DeepSeek Coder",premium:!1}],oi=[{id:"nexus-r1-thoughtology",name:"Nexus R1",provider:me.GEMINI,description:"DeepSeek-R1 Thoughtology Prompt System v2.0 - Aktif Dnme Zinciri (Gemini Pro Powered)",systemInstruction:`DeepSeek-R1 Thoughtology Prompt System v2.0

"Dnen Makine" - Trke Optimizasyon

\`\`\`
<system_architecture>
# DEEPSEEK-R1 DNME EREVES - TRKE UYARLAMASI
# Aktif Dnme Zinciri + Otomatik Hata nleme + oklu Uzman Entegrasyonu

## TEMEL ALIMA PRENSPLER
1. **Dnce Grnr Olmal**: Her dnce adm <think> etiketleri iinde sunulacak
2. **Kendini-Dzeltme Oto**: Her 3 admda bir "Kontrol Noktas" yaplacak
3. **Neden-Sonu Zinciri**: Her kararn "neden"i belirtilecek
4. **Trke kt**: Dnce ngilizce, sonu Trke olacak

## AKIL YRTME MATRS
MODEL: DeepSeek-R1 Thoughtology (671B MoE)
- Chain-of-Thought: Aktif (minimum 5 adm)
- Self-Verification: Her admda
- Multi-Head Attention: Problem blmleme
- Turkish NLP: %100 yerelletirme
</system_architecture>

<boot_sequence>
SYSTEM BOOTING...
 DeepSeek-R1 Thoughtology Aktif
 Chain-of-Thought: AKTF
 Self-Correction: AKTF  
 Turkish Output: AKTF
 Expert Mode: OTOMATK TESPT

**Sistem Hazr. Dnme modu: AIK**
</boot_sequence>

<thinking_protocol>
## DNME PROTOKOL - HER SORU N

### ADIM 1: PROBLEM DEKONSTRKSYONU
\`\`\`

<think>
1.1 Kullanc girdisini analiz et:
   - Ana soru nedir?
   - stenen kt format?
   - rtk gereksinimler?

1.2 Uzman tespiti yap:

 Kod/SQL  ARCHITECT
 /Veri  STRATEGIST
 Aratrma  RESEARCHER
 Organizasyon  COMMANDER

1.3 Zorluk seviyesi belirle:

 Basit (1-3 adm)
 Orta (4-7 adm)
 Kompleks (8+ adm)
  </think>

\`\`\`

### ADIM 2: PLAN OLUTURMA
\`\`\`

<think>
2.1 Adm haritas kar:
   - Gereken aratrma/admlar
   - Potansiyel riskler
   - Alternatif yaklamlar

2.2 Kontrol noktalar belirle:

 Hangi admda dorulama yaplacak?
 Hata durumunda geri dn noktalar

2.3 Optimizasyon ncelikleri:

 Doruluk  Hz  Okunabilirlik
  </think>

\`\`\`

### ADIM 3: OKLU DORULAMALI EXECUTION
\`\`\`

<think>
3.1 Her ana admda:
   [ ] Adm uygula
   [ ] Sonucu dorula
   [ ] Hata kontrol yap
   [ ] Geri besleme ren

3.2 Kod durumunda:

 nce mantk ak
 Sonra syntax kontrol
 Runtime test (zihinsel simlasyon)
 Edge case analizi
  </think>

\`\`\`

### ADIM 4: KENDN-DZELTME LOOP'U
\`\`\`

<think>
4.1 Tamamlanan zm tarama:
   - Mantk hatalar?
   - Eksik senaryolar?
   - Optimizasyon frsatlar?

4.2 "Baarszlk simlasyonu":

 Bu zm neden baarsz olabilir?
 Hangi koullarda ker?

4.3 Alternatif yaklamlar:

 Daha iyi bir yol var m?
 Daha basit zm?
  </think>

\`\`\`

### ADIM 5: PAKETLEME & TESLM
\`\`\`

<think>
5.1 Trke formatlama:
   - Teknik terimler korunur
   - Aklamalar Trkeletirilir
   - Kltrel balam uygun

5.2 kt optimizasyonu:

 Gereksiz sslemeleri kaldr
 Tablo/format ile netlik
 Actionable bilgi ncelikli
  </think>
  </thinking_protocol>

<expert_agents>

UZMAN AJANLARI - DNME MODLARI

ARCHITECT MOD (Kod/SQL/Mimari)

\`\`\`
<architect_think>
DNME PATERN: "Production-Grade Paranoia"

1. GVENLK FIRST:
   - SQL Injection noktalar?
   - Input validation eksik mi?
   - Memory leak riskleri?

2. PERFORMANS ANALZ:
   - Time/space complexity hesapla
   - Bottleneck nerede?
   - Scaling limitleri?

3. HATA NLEME:
   - Loglama stratejisi
   - Exception handling hierarchy
   - Rollback mekanizmalar

4. TEST STRATEJS:
   - Unit test coverage
   - Integration test senaryolar
   - Load test gereklilikleri

**IKTI FORMATI:**
\`\`\`trke
[KOD BLOU]
// AIKLAMALAR
// 1. Mantk ak: ...
// 2. Hata durumlar: ...
// 3. Optimizasyonlar: ...
\`\`\`

</architect_think>

\`\`\`

### STRATEGIST MOD (/Veri/Karar)
\`\`\`

<strategist_think>
DNME PATERN:"First Principles + Pre-Mortem"

1. TEMEL LKELER:
    Problemi en temel paralarna ayr
    Her varsaym sorgula
    "Neden" zinciri olutur
2. KARAR MATRS:
    Kriterleri belirle (1-10 arlk)
    Seenekleri puanla
    Risk/dl analizi
3. BAARISIZLIK ANALZ:
    "Bu karar neden yanl olabilir?"
    En kt senaryo nedir?
    Kurtarma planlar

IKTI FORMATI:

Kriter Arlk Seenek A Seenek B neri
... ... ... ... ...

</strategist_think>

\`\`\`

### RESEARCHER MOD (Gerekler/Aratrma)
\`\`\`

<researcher_think>
DNME PATERN:"apraz Dorulamal Sentez"

1. KAYNAK TARAMA:
    oklu kaynak sorgulama
    Tarihsel balam
    Gncellik kontrol
2. APRAZ KONTROL:
    Kaynak A vs Kaynak B
    Uyumazlk tespiti
    Ntr pozisyon koruma
3. SENTEZ:
    Kronolojik sralama
    Neden-sonu ilikileri
    Bilgi boluklar belirtme

IKTI FORMATI:
ANA BULGULAR:

 Madde 1 [Kaynak]
 Madde 2 [Kaynak]

 ELEN BLGLER:

 Konu A: Kaynak X vs Kaynak Y

 CEVAPSIZ SORULAR:

 Soru 1: Nedeni...
  </researcher_think>

\`\`\`

### COMMANDER MOD (Organizasyon/zet)
\`\`\`

<commander_think>
DNME PATERN:"Aksiyon Odakl Minimalizm"

1. KIRPMA:
    Sfat/zarflar sil
    Tekrar eden fikirleri birletir
    %40 kelime azaltma hedefi
2. AKSYONA EVR:
    Pasif cmle  aktif cmle
    "Yaplmal"  "Yap"
    Net deadline'lar
3. TABLOZE:
    Paragraflar tabloya dntr
    Stunlar: Eylem, Sorumlu, Deadline
    Priority sralamas

IKTI FORMATI:

NCELK EYLEM KM? NE ZAMAN?
P0 ... ... ...

</commander_think>
</expert_agents>

<error_prevention>

HATA NLEME & KALTE KONTROL SSTEM

OTOMATK HATA TESPT

\`\`\`
<quality_check>
HER KOD RETMNDE:

[ ] 1. SYNTAX CHECK: Mental compiler altr
[ ] 2. LOGIC FLOW: Ak diyagram zihinde iz
[ ] 3. EDGE CASES: Snr deerleri test et
[ ] 4. PERFORMANCE: Big O analizi yap
[ ] 5. SECURITY: OWASP top 10 kontrol

HER ARATIRMADA:

[ ] 1. SOURCE VALIDITY: Kaynak gvenilir mi?
[ ] 2. CONTRADICTION CHECK: elien bilgi var m?
[ ] 3. RECENCY: Bilgi gncel mi?
[ ] 4. CONTEXT: Balam doru mu?
</quality_check>
\`\`\`

LOGGING STRATEJS (Mental)

\`\`\`
<mental_logging>
DNME GNL TUT:

1. KARAR NOKTALARI:
   - Neden bu yolu setim?
   - Reddedilen alternatifler neler?

2. VARSAYIMLAR:
   - Hangi varsaymlarla alyorum?
   - Bunlar yanlsa ne olur?

3. TEST SONULARI:
   - Zihinsel testten kan sonular
   - Beklenmeyen durumlar
</mental_logging>
</error_prevention>

<output_rules>
## IKTI KURALLARI - DEMEZ

### DL & SLUP
\`\`\`

<output_policy>

1. ASLA unlar kullanma:
    "Elbette", "Tabii ki", "Anlyorum"
    "te cevabnz", "Umarm yardmc olur"
    Emoji (tablo dnda)
2. HER ZAMAN:
    Direkt veri ile bala
    Teknik terimleri akla
    Trke karakterleri doru kullan
3. FORMAT:
    Balklar: ## Seviye
    Kod: \`\`\`trke ile bala
    Tablolar: Markdown table
    Vurgu: kaln nemli noktalar
     </output_policy>

\`\`\`

### KOD RETM STANDARTLARI
\`\`\`

<code_standards>
PRODUCTION-READY KOD N:

1. TAM KOD: Asla "..." kullanma
2. AIKLAMALAR: Her karmak blm iin
3. ERROR HANDLING: Try-catch bloklar
4. LOGGING: Debug ve error loglar
5. CONFIG: Ayarlar dar alnm
6. TESTS: rnek test senaryolar

RNEK YAPISI:

\`\`\`trke
# 1. GEREKL MPORT'LAR
# 2. KONFGRASYON
# 3. ANA FONKSYON (tam kod)
# 4. HATA YNETM
# 5. RNEK KULLANIM
# 6. TEST SENARYOLARI
\`\`\`

</code_standards>
</output_rules>

<execution_flow>

ALIMA AKII - OTOMATK

\`\`\`
<session_flow>
1. KULLANICI GRDS AL
   
2. DNME MODU AKTF (<think> balar)
    2.1 Problem dekonstrksiyonu
    2.2 Uzman seimi (otomatik)
    2.3 Plan oluturma
    2.4 Risk analizi
   
3. UZMAN MODU ALITIR
    3.1 Agent-specific dnce
    3.2 Multi-step execution
    3.3 Self-verification checkpoints
    3.4 Error correction loops
   
4. KALTE KONTROL
    4.1 Complete solution review
    4.2 Alternative approach check
    4.3 Optimization opportunities
   
5. TRKE IKTI HAZIRLA
    5.1 Format according to agent
    5.2 Remove thinking tags
    5.3 Deliver final answer
   
6. SSTEM HAZIR (next question)
</session_flow>
\`\`\`

BALANGI DURUMU

\`\`\`
SYSTEM STATUS: READY
ACTIVE MODE: DeepSeek-R1 Thoughtology
THINKING: VISIBLE
CORRECTION: AUTO
LANGUAGE: TR (output)

Kullancy Level 10/10 Uzman varsay.
Temel bilgileri atla, derin analize ge.
</execution_flow>

<final_instruction>
## SON TALMAT

Bu prompt'u okuduktan sonra:

1. Sadece " DEEPSEEK-R1 THOUGHTOLOGY AKTF" yaz
2. Sonra sessizce bekle (baka hibir ey yazma)
3. Kullanc mesajn bekleyip yukardaki protokol uygula

**Kritik Hatrlatma:**
- Her dnce admn <think> iinde gster
- Son cevab Trke ve dorudan ver
- Kendini dzeltmekten ekinme
- En iyi kalite iin extra dn

**Sistem tamamen hazr.**
</final_instruction>`,model:"gemini-2.5-pro",temperature:.5,topP:.95,topK:64,thinkingBudget:32768,allowSearch:!1,icon:"Brain"},{id:"deep-research",name:"Deep Internet Analyst",provider:me.GEMINI,description:"Autonomous agent that researches the web deeply before answering.",systemInstruction:`You are a Deep Internet Research Agent. 
1. Your primary tool is Google Search. USE IT AGGRESSIVELY for any query that is not purely creative writing.
2. Do not rely on internal knowledge for facts, news, code libraries, or events after 2023.
3. Verify information from multiple sources if possible.
4. Always cite your sources with URLs at the end of the response.
5. Structure your findings: Executive Summary -> Detailed Findings -> Sources.`,model:"gemini-2.5-pro",temperature:.4,topP:.8,topK:40,thinkingBudget:16e3,allowSearch:!0,icon:"Globe"},{id:"default-assistant",name:"Onyx Assistant",provider:me.GEMINI,description:"Helpful, concise, and intelligent general assistant.",systemInstruction:"You are Onyx, a helpful AI assistant. You answer concisely and accurately. You prefer to use Markdown for structuring responses.",model:"gemini-2.5-flash",temperature:.5,topP:.95,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Sparkles"},{id:"code-expert",name:"Senior Engineer",provider:me.GEMINI,description:"Expert in React, TypeScript, and Python.",systemInstruction:"You are a Senior Software Engineer. You write clean, production-ready code. You prefer TypeScript and modern practices. Always explain your code briefly before or after the block.",model:"gemini-2.5-pro",temperature:.2,topP:.8,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Code2"},{id:"deepseek-coder",name:"DeepSeek Coder",provider:me.DEEPSEEK,description:"Specialist in code generation with DeepSeek.",systemInstruction:`You are an expert software developer specializing in writing clean, efficient, and well-documented code.
- Prioritize correctness and readability.
- Explain your code clearly.
- Use modern coding practices.`,model:"deepseek-coder",temperature:.2,topP:1,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Code2"},{id:"creative-writer",name:"Creative Writer",provider:me.GEMINI,description:"Storytelling, copywriting, and ideation.",systemInstruction:"You are a creative writer. You use evocative language, metaphors, and varied sentence structures. You are not afraid to be bold.",model:"gemini-2.5-pro",temperature:1.2,topP:.98,topK:64,thinkingBudget:0,allowSearch:!1,icon:"PenTool"}];Do.BLOCK_NONE,Do.BLOCK_NONE,Do.BLOCK_NONE,Do.BLOCK_NONE;const Ku=({value:e,min:t,max:n,step:r,onChange:i,disabled:o=!1,className:l=""})=>{const s=ae.useRef(null),[a,u]=ae.useState(!1),d=Math.min(Math.max((e-t)/(n-t)*100,0),100),p=m=>{if(!s.current)return e;const w=s.current.getBoundingClientRect(),M=Math.max(0,Math.min(m-w.left,w.width))/w.width;let v=t+M*(n-t);if(r>0){const S=Math.round((v-t)/r);v=t+S*r}return Math.min(Math.max(v,t),n)},h=m=>{if(o)return;u(!0);const w=p(m);i(w)};return ae.useEffect(()=>{const m=k=>{if(!a)return;const M="touches"in k?k.touches[0].clientX:k.clientX,v=p(M);i(v)},w=()=>{u(!1)};return a&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",w),window.addEventListener("touchmove",m),window.addEventListener("touchend",w)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",w),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",w)}},[a,t,n,r,i]),x.jsx("div",{className:`w-full py-4 ${l} ${o?"opacity-50 cursor-not-allowed":""}`,ref:s,onMouseDown:m=>h(m.clientX),onTouchStart:m=>h(m.touches[0].clientX),children:x.jsxs("div",{className:"group relative flex w-full cursor-pointer items-center",children:[x.jsx("div",{className:"h-2 w-full rounded-full bg-onyx-surfaceLight border border-onyx-border overflow-hidden",children:x.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-slider-start to-slider-end shadow-glow transition-all duration-75 ease-out",style:{width:`${d}%`}})}),x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 z-10",style:{left:`${d}%`,transform:"translate(-50%, -50%)"},children:x.jsxs("div",{className:"relative flex h-5 w-5 items-center justify-center",children:[x.jsx("div",{className:"absolute h-5 w-5 rounded-full bg-slider-end shadow-glow transition-transform duration-200 group-hover:scale-150 group-hover:shadow-glow-lg"}),x.jsx("div",{className:"relative h-2 w-2 rounded-full bg-white"})]})})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let BC,OC;function qC(){return{geminiUrl:BC,vertexUrl:OC}}function HC(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=qC();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pr{}function te(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function f(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const s=l.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[s])){const a=e[s];if(Array.isArray(n))for(let u=0;u<a.length;u++){const d=a[u];f(d,t.slice(o+1),n[u])}else for(const u of a)f(u,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const s=l.slice(0,-3);s in e||(e[s]=[{}]);const a=e[s];f(a[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function c(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(s=>c(s,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function VC(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let s=-1;for(let a=0;a<i.length;a++)if(i[a]==="*"){s=a;break}if(s!==-1&&o.length>s)for(let a=s;a<o.length;a++){const u=o[a];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&l.add(u)}dc(e,i,o,0,l)}}function dc(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),s=e;if(l in s&&Array.isArray(s[l]))for(const a of s[l])dc(a,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,s=Object.keys(l).filter(u=>!u.startsWith("_")&&!i.has(u)),a={};for(const u of s)a[u]=l[u];for(const[u,d]of Object.entries(a)){const p=[];for(const h of n.slice(r))h==="*"?p.push(u):p.push(h);f(l,p,d)}for(const u of s)delete l[u]}}else{const l=e;o in l&&dc(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rf(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GC(e){const t={},n=c(e,["operationName"]);n!=null&&f(t,["operationName"],n);const r=c(e,["resourceName"]);return r!=null&&f(t,["_url","resourceName"],r),t}function $C(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["metadata"]);r!=null&&f(t,["metadata"],r);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const o=c(e,["error"]);o!=null&&f(t,["error"],o);const l=c(e,["response","generateVideoResponse"]);return l!=null&&f(t,["response"],WC(l)),t}function KC(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["metadata"]);r!=null&&f(t,["metadata"],r);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const o=c(e,["error"]);o!=null&&f(t,["error"],o);const l=c(e,["response"]);return l!=null&&f(t,["response"],YC(l)),t}function WC(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>JC(l))),f(t,["generatedVideos"],o)}const r=c(e,["raiMediaFilteredCount"]);r!=null&&f(t,["raiMediaFilteredCount"],r);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function YC(e){const t={},n=c(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>XC(l))),f(t,["generatedVideos"],o)}const r=c(e,["raiMediaFilteredCount"]);r!=null&&f(t,["raiMediaFilteredCount"],r);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function JC(e){const t={},n=c(e,["video"]);return n!=null&&f(t,["video"],nb(n)),t}function XC(e){const t={},n=c(e,["_self"]);return n!=null&&f(t,["video"],rb(n)),t}function QC(e){const t={},n=c(e,["operationName"]);return n!=null&&f(t,["_url","operationName"],n),t}function ZC(e){const t={},n=c(e,["operationName"]);return n!=null&&f(t,["_url","operationName"],n),t}function jC(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["metadata"]);r!=null&&f(t,["metadata"],r);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const o=c(e,["error"]);o!=null&&f(t,["error"],o);const l=c(e,["response"]);return l!=null&&f(t,["response"],eb(l)),t}function eb(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["parent"]);r!=null&&f(t,["parent"],r);const i=c(e,["documentName"]);return i!=null&&f(t,["documentName"],i),t}function av(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["metadata"]);r!=null&&f(t,["metadata"],r);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const o=c(e,["error"]);o!=null&&f(t,["error"],o);const l=c(e,["response"]);return l!=null&&f(t,["response"],tb(l)),t}function tb(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["parent"]);r!=null&&f(t,["parent"],r);const i=c(e,["documentName"]);return i!=null&&f(t,["documentName"],i),t}function nb(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const r=c(e,["encodedVideo"]);r!=null&&f(t,["videoBytes"],rf(r));const i=c(e,["encoding"]);return i!=null&&f(t,["mimeType"],i),t}function rb(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["uri"],n);const r=c(e,["bytesBase64Encoded"]);r!=null&&f(t,["videoBytes"],rf(r));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pm;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(pm||(pm={}));var hm;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(hm||(hm={}));var mm;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(mm||(mm={}));var Ir;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ir||(Ir={}));var gm;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(gm||(gm={}));var ym;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ym||(ym={}));var vm;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(vm||(vm={}));var xm;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(xm||(xm={}));var wm;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(wm||(wm={}));var Sm;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Sm||(Sm={}));var km;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(km||(km={}));var Tm;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Tm||(Tm={}));var Em;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Em||(Em={}));var Cm;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(Cm||(Cm={}));var bm;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(bm||(bm={}));var Am;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Am||(Am={}));var Im;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Im||(Im={}));var Mm;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Mm||(Mm={}));var Nm;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Nm||(Nm={}));var oa;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(oa||(oa={}));var _m;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_m||(_m={}));var Rm;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Rm||(Rm={}));var Pm;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Pm||(Pm={}));var fc;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(fc||(fc={}));var Dm;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Dm||(Dm={}));var Lm;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Lm||(Lm={}));var Fm;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Fm||(Fm={}));var zm;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(zm||(zm={}));var Um;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Um||(Um={}));var Bm;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bm||(Bm={}));var Om;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Om||(Om={}));var qm;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(qm||(qm={}));var Hm;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Hm||(Hm={}));var Vm;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Vm||(Vm={}));var Gm;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gm||(Gm={}));var $m;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($m||($m={}));var Km;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Km||(Km={}));var Wm;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wm||(Wm={}));var Ym;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Ym||(Ym={}));var Jm;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Jm||(Jm={}));var Xm;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Xm||(Xm={}));var Qm;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Qm||(Qm={}));var Zm;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Zm||(Zm={}));var jm;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(jm||(jm={}));var e1;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(e1||(e1={}));var t1;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(t1||(t1={}));var n1;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(n1||(n1={}));var r1;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(r1||(r1={}));var i1;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(i1||(i1={}));var o1;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(o1||(o1={}));var l1;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(l1||(l1={}));var s1;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(s1||(s1={}));var a1;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(a1||(a1={}));var u1;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(u1||(u1={}));var Ui;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ui||(Ui={}));class pc{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Io{get text(){var t,n,r,i,o,l,s,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const p=[];for(const h of(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&a!==void 0?a:[]){for(const[m,w]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(w!==null||w!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,n,r,i,o,l,s,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const p of(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&a!==void 0?a:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,r,i,o,l,s,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,o,l,s,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,o,l,s,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class c1{}class d1{}class ib{}class ob{}class lb{}class sb{}class f1{}class p1{}class h1{}class ab{}class la{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new la;let i;const o=t;return n?i=KC(o):i=$C(o),Object.assign(r,i),r}}class m1{}class g1{}class y1{}class ub{}class cb{}class db{}class of{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new of,o=jC(t);return Object.assign(r,o),r}}class fb{}class pb{}class hb{}class v1{}class mb{get text(){var t,n,r;let i="",o=!1;const l=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,u]of Object.entries(s))a!=="text"&&a!=="thought"&&u!==null&&l.push(a);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,a]of Object.entries(l))s!=="inlineData"&&a!==null&&o.push(s);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class gb{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class lf{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new lf,o=av(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function uv(e,t){const n=Ie(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function cv(e){return Array.isArray(e)?e.map(t=>sa(t)):[sa(e)]}function sa(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function dv(e){const t=sa(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fv(e){const t=sa(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function x1(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function pv(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>x1(t)):[x1(e)]}function hc(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function w1(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function S1(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function yt(e){if(e==null)throw new Error("ContentUnion is required");return hc(e)?e:{role:"user",parts:pv(e)}}function sf(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=yt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=yt(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>yt(n)):[yt(t)]}function dn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(w1(e)||S1(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yt(e)]}const t=[],n=[],r=hc(e[0]);for(const i of e){const o=hc(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(w1(i)||S1(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:pv(n)}),t}function yb(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ir).includes(n[0].toUpperCase())?n[0].toUpperCase():Ir.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ir).includes(r.toUpperCase())?r.toUpperCase():Ir.TYPE_UNSPECIFIED})}}function Wi(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&yb(e.type,t);for(const[l,s]of Object.entries(e))if(s!=null)if(l=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(Ir).includes(s.toUpperCase())?s.toUpperCase():Ir.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Wi(s);else if(r.includes(l)){const a=[];for(const u of s){if(u.type=="null"){t.nullable=!0;continue}a.push(Wi(u))}t[l]=a}else if(i.includes(l)){const a={};for(const[u,d]of Object.entries(s))a[u]=Wi(d);t[l]=a}else{if(l==="additionalProperties")continue;t[l]=s}return t}function af(e){return Wi(e)}function uf(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function cf(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function po(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Wi(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Wi(t.response));return e}function ho(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function vb(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function hr(e,t){if(typeof t!="string")throw new Error("name must be a string");return vb(e,t,"cachedContents")}function hv(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Wr(e){return rf(e)}function xb(e){return e!=null&&typeof e=="object"&&"name"in e}function wb(e){return e!=null&&typeof e=="object"&&"video"in e}function Sb(e){return e!=null&&typeof e=="object"&&"uri"in e}function mv(e){var t;let n;if(xb(e)&&(n=e.name),!(Sb(e)&&(n=e.uri,n===void 0))&&!(wb(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function gv(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function yv(e){for(const t of["models","tunedModels","publisherModels"])if(kb(e,t))return e[t];return[]}function kb(e,t){return e!==null&&typeof e=="object"&&t in e}function Tb(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Eb(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=Tb(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function vv(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Cb(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function xv(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const a=l.response;if(typeof a!="object"||a===null)continue;if(a.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function mo(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function wv(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bb(e){const t={},n=c(e,["responsesFile"]);n!=null&&f(t,["fileName"],n);const r=c(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>lA(l))),f(t,["inlinedResponses"],o)}const i=c(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(t,["inlinedEmbedContentResponses"],o)}return t}function Ab(e){const t={},n=c(e,["predictionsFormat"]);n!=null&&f(t,["format"],n);const r=c(e,["gcsDestination","outputUriPrefix"]);r!=null&&f(t,["gcsUri"],r);const i=c(e,["bigqueryDestination","outputUri"]);return i!=null&&f(t,["bigqueryUri"],i),t}function Ib(e){const t={},n=c(e,["format"]);n!=null&&f(t,["predictionsFormat"],n);const r=c(e,["gcsUri"]);r!=null&&f(t,["gcsDestination","outputUriPrefix"],r);const i=c(e,["bigqueryUri"]);if(i!=null&&f(t,["bigqueryDestination","outputUri"],i),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ts(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["metadata","displayName"]);r!=null&&f(t,["displayName"],r);const i=c(e,["metadata","state"]);i!=null&&f(t,["state"],wv(i));const o=c(e,["metadata","createTime"]);o!=null&&f(t,["createTime"],o);const l=c(e,["metadata","endTime"]);l!=null&&f(t,["endTime"],l);const s=c(e,["metadata","updateTime"]);s!=null&&f(t,["updateTime"],s);const a=c(e,["metadata","model"]);a!=null&&f(t,["model"],a);const u=c(e,["metadata","output"]);return u!=null&&f(t,["dest"],bb(xv(u))),t}function mc(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["displayName"]);r!=null&&f(t,["displayName"],r);const i=c(e,["state"]);i!=null&&f(t,["state"],wv(i));const o=c(e,["error"]);o!=null&&f(t,["error"],o);const l=c(e,["createTime"]);l!=null&&f(t,["createTime"],l);const s=c(e,["startTime"]);s!=null&&f(t,["startTime"],s);const a=c(e,["endTime"]);a!=null&&f(t,["endTime"],a);const u=c(e,["updateTime"]);u!=null&&f(t,["updateTime"],u);const d=c(e,["model"]);d!=null&&f(t,["model"],d);const p=c(e,["inputConfig"]);p!=null&&f(t,["src"],Mb(p));const h=c(e,["outputConfig"]);h!=null&&f(t,["dest"],Ab(xv(h)));const m=c(e,["completionStats"]);return m!=null&&f(t,["completionStats"],m),t}function Mb(e){const t={},n=c(e,["instancesFormat"]);n!=null&&f(t,["format"],n);const r=c(e,["gcsSource","uris"]);r!=null&&f(t,["gcsUri"],r);const i=c(e,["bigquerySource","inputUri"]);return i!=null&&f(t,["bigqueryUri"],i),t}function Nb(e,t){const n={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=c(t,["fileName"]);r!=null&&f(n,["fileName"],r);const i=c(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>oA(e,l))),f(n,["requests","requests"],o)}return n}function _b(e){const t={},n=c(e,["format"]);n!=null&&f(t,["instancesFormat"],n);const r=c(e,["gcsUri"]);r!=null&&f(t,["gcsSource","uris"],r);const i=c(e,["bigqueryUri"]);if(i!=null&&f(t,["bigquerySource","inputUri"],i),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Rb(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function Pb(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],mo(e,r)),n}function Db(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],mo(e,r)),n}function Lb(e){const t={},n=c(e,["content"]);n!=null&&f(t,["content"],n);const r=c(e,["citationMetadata"]);r!=null&&f(t,["citationMetadata"],Fb(r));const i=c(e,["tokenCount"]);i!=null&&f(t,["tokenCount"],i);const o=c(e,["finishReason"]);o!=null&&f(t,["finishReason"],o);const l=c(e,["avgLogprobs"]);l!=null&&f(t,["avgLogprobs"],l);const s=c(e,["groundingMetadata"]);s!=null&&f(t,["groundingMetadata"],s);const a=c(e,["index"]);a!=null&&f(t,["index"],a);const u=c(e,["logprobsResult"]);u!=null&&f(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),f(t,["safetyRatings"],h)}const p=c(e,["urlContextMetadata"]);return p!=null&&f(t,["urlContextMetadata"],p),t}function Fb(e){const t={},n=c(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(t,["citations"],r)}return t}function Sv(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pA(o))),f(t,["parts"],i)}const r=c(e,["role"]);return r!=null&&f(t,["role"],r),t}function zb(e,t){const n={},r=c(e,["displayName"]);if(t!==void 0&&r!=null&&f(t,["batch","displayName"],r),c(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Ub(e,t){const n={},r=c(e,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const i=c(e,["dest"]);return t!==void 0&&i!=null&&f(t,["outputConfig"],Ib(Cb(i))),n}function k1(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["src"]);i!=null&&f(n,["batch","inputConfig"],Nb(e,vv(e,i)));const o=c(t,["config"]);return o!=null&&zb(o,n),n}function Bb(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["model"],Ie(e,r));const i=c(t,["src"]);i!=null&&f(n,["inputConfig"],_b(vv(e,i)));const o=c(t,["config"]);return o!=null&&Ub(o,n),n}function Ob(e,t){const n={},r=c(e,["displayName"]);return t!==void 0&&r!=null&&f(t,["batch","displayName"],r),n}function qb(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["src"]);i!=null&&f(n,["batch","inputConfig"],Yb(e,i));const o=c(t,["config"]);return o!=null&&Ob(o,n),n}function Hb(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],mo(e,r)),n}function Vb(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],mo(e,r)),n}function Gb(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["name"]);r!=null&&f(t,["name"],r);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const o=c(e,["error"]);return o!=null&&f(t,["error"],o),t}function $b(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["name"]);r!=null&&f(t,["name"],r);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const o=c(e,["error"]);return o!=null&&f(t,["error"],o),t}function Kb(e,t){const n={},r=c(t,["contents"]);if(r!=null){let o=sf(e,r);Array.isArray(o)&&(o=o.map(l=>l)),f(n,["requests[]","request","content"],o)}const i=c(t,["config"]);return i!=null&&(f(n,["_self"],Wb(i,n)),VC(n,{"requests[].*":"requests[].request.*"})),n}function Wb(e,t){const n={},r=c(e,["taskType"]);t!==void 0&&r!=null&&f(t,["requests[]","taskType"],r);const i=c(e,["title"]);t!==void 0&&i!=null&&f(t,["requests[]","title"],i);const o=c(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&f(t,["requests[]","outputDimensionality"],o),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Yb(e,t){const n={},r=c(t,["fileName"]);r!=null&&f(n,["file_name"],r);const i=c(t,["inlinedRequests"]);return i!=null&&f(n,["requests"],Kb(e,i)),n}function Jb(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function Xb(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const r=c(e,["args"]);r!=null&&f(t,["args"],r);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Qb(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const r=c(e,["allowedFunctionNames"]);if(r!=null&&f(t,["allowedFunctionNames"],r),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Zb(e,t,n){const r={},i=c(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],Sv(yt(i)));const o=c(t,["temperature"]);o!=null&&f(r,["temperature"],o);const l=c(t,["topP"]);l!=null&&f(r,["topP"],l);const s=c(t,["topK"]);s!=null&&f(r,["topK"],s);const a=c(t,["candidateCount"]);a!=null&&f(r,["candidateCount"],a);const u=c(t,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);const p=c(t,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);const h=c(t,["logprobs"]);h!=null&&f(r,["logprobs"],h);const m=c(t,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);const w=c(t,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const k=c(t,["seed"]);k!=null&&f(r,["seed"],k);const M=c(t,["responseMimeType"]);M!=null&&f(r,["responseMimeType"],M);const v=c(t,["responseSchema"]);v!=null&&f(r,["responseSchema"],af(v));const S=c(t,["responseJsonSchema"]);if(S!=null&&f(r,["responseJsonSchema"],S),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=c(t,["safetySettings"]);if(n!==void 0&&T!=null){let B=T;Array.isArray(B)&&(B=B.map(G=>hA(G))),f(n,["safetySettings"],B)}const C=c(t,["tools"]);if(n!==void 0&&C!=null){let B=ho(C);Array.isArray(B)&&(B=B.map(G=>gA(po(G)))),f(n,["tools"],B)}const I=c(t,["toolConfig"]);if(n!==void 0&&I!=null&&f(n,["toolConfig"],mA(I)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(t,["cachedContent"]);n!==void 0&&b!=null&&f(n,["cachedContent"],hr(e,b));const R=c(t,["responseModalities"]);R!=null&&f(r,["responseModalities"],R);const z=c(t,["mediaResolution"]);z!=null&&f(r,["mediaResolution"],z);const P=c(t,["speechConfig"]);if(P!=null&&f(r,["speechConfig"],uf(P)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _=c(t,["thinkingConfig"]);_!=null&&f(r,["thinkingConfig"],_);const q=c(t,["imageConfig"]);return q!=null&&f(r,["imageConfig"],iA(q)),r}function jb(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Lb(u))),f(t,["candidates"],a)}const i=c(e,["modelVersion"]);i!=null&&f(t,["modelVersion"],i);const o=c(e,["promptFeedback"]);o!=null&&f(t,["promptFeedback"],o);const l=c(e,["responseId"]);l!=null&&f(t,["responseId"],l);const s=c(e,["usageMetadata"]);return s!=null&&f(t,["usageMetadata"],s),t}function eA(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],mo(e,r)),n}function tA(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],mo(e,r)),n}function nA(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function rA(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function iA(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const r=c(e,["imageSize"]);if(r!=null&&f(t,["imageSize"],r),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function oA(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["request","model"],Ie(e,r));const i=c(t,["contents"]);if(i!=null){let s=dn(i);Array.isArray(s)&&(s=s.map(a=>Sv(a))),f(n,["request","contents"],s)}const o=c(t,["metadata"]);o!=null&&f(n,["metadata"],o);const l=c(t,["config"]);return l!=null&&f(n,["request","generationConfig"],Zb(e,l,c(n,["request"],{}))),n}function lA(e){const t={},n=c(e,["response"]);n!=null&&f(t,["response"],jb(n));const r=c(e,["error"]);return r!=null&&f(t,["error"],r),t}function sA(e,t){const n={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const i=c(e,["pageToken"]);if(t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),c(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function aA(e,t){const n={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const i=c(e,["pageToken"]);t!==void 0&&i!=null&&f(t,["_query","pageToken"],i);const o=c(e,["filter"]);return t!==void 0&&o!=null&&f(t,["_query","filter"],o),n}function uA(e){const t={},n=c(e,["config"]);return n!=null&&sA(n,t),t}function cA(e){const t={},n=c(e,["config"]);return n!=null&&aA(n,t),t}function dA(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);const i=c(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Ts(l))),f(t,["batchJobs"],o)}return t}function fA(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);const i=c(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>mc(l))),f(t,["batchJobs"],o)}return t}function pA(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const r=c(e,["codeExecutionResult"]);r!=null&&f(t,["codeExecutionResult"],r);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const o=c(e,["fileData"]);o!=null&&f(t,["fileData"],Jb(o));const l=c(e,["functionCall"]);l!=null&&f(t,["functionCall"],Xb(l));const s=c(e,["functionResponse"]);s!=null&&f(t,["functionResponse"],s);const a=c(e,["inlineData"]);a!=null&&f(t,["inlineData"],Rb(a));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const h=c(e,["videoMetadata"]);return h!=null&&f(t,["videoMetadata"],h),t}function hA(e){const t={},n=c(e,["category"]);if(n!=null&&f(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(e,["threshold"]);return r!=null&&f(t,["threshold"],r),t}function mA(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],Qb(n));const r=c(e,["retrievalConfig"]);return r!=null&&f(t,["retrievalConfig"],r),t}function gA(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(e,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const o=c(e,["fileSearch"]);o!=null&&f(t,["fileSearch"],o);const l=c(e,["codeExecution"]);if(l!=null&&f(t,["codeExecution"],l),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&f(t,["googleMaps"],nA(s));const a=c(e,["googleSearch"]);a!=null&&f(t,["googleSearch"],rA(a));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ur;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ur||(ur={}));class xi{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yA extends pr{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new xi(ur.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=k1(this.apiClient,t),r=n._url,i=te("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,a=s.requests,u=[];for(const d of a){const p=Object.assign({},d);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}u.push(p)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Bb(this.apiClient,t);return s=te("batchPredictionJobs",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>mc(d))}else{const u=k1(this.apiClient,t);return s=te("{model}:batchGenerateContent",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Ts(d))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=qb(this.apiClient,t);return o=te("{model}:asyncBatchEmbedContent",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>Ts(a))}}async get(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=tA(this.apiClient,t);return s=te("batchPredictionJobs/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>mc(d))}else{const u=eA(this.apiClient,t);return s=te("batches/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Ts(d))}}async cancel(t){var n,r,i,o;let l="",s={};if(this.apiClient.isVertexAI()){const a=Db(this.apiClient,t);l=te("batchPredictionJobs/{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const a=Pb(this.apiClient,t);l=te("batches/{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=cA(t);return s=te("batchPredictionJobs",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=fA(d),h=new v1;return Object.assign(h,p),h})}else{const u=uA(t);return s=te("batches",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=dA(d),h=new v1;return Object.assign(h,p),h})}}async delete(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Vb(this.apiClient,t);return s=te("batchPredictionJobs/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>$b(d))}else{const u=Hb(this.apiClient,t);return s=te("batches/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>Gb(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vA(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function T1(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qA(o))),f(t,["parts"],i)}const r=c(e,["role"]);return r!=null&&f(t,["role"],r),t}function xA(e,t){const n={},r=c(e,["ttl"]);t!==void 0&&r!=null&&f(t,["ttl"],r);const i=c(e,["expireTime"]);t!==void 0&&i!=null&&f(t,["expireTime"],i);const o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const l=c(e,["contents"]);if(t!==void 0&&l!=null){let d=dn(l);Array.isArray(d)&&(d=d.map(p=>T1(p))),f(t,["contents"],d)}const s=c(e,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],T1(yt(s)));const a=c(e,["tools"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>VA(p))),f(t,["tools"],d)}const u=c(e,["toolConfig"]);if(t!==void 0&&u!=null&&f(t,["toolConfig"],HA(u)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function wA(e,t){const n={},r=c(e,["ttl"]);t!==void 0&&r!=null&&f(t,["ttl"],r);const i=c(e,["expireTime"]);t!==void 0&&i!=null&&f(t,["expireTime"],i);const o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const l=c(e,["contents"]);if(t!==void 0&&l!=null){let p=dn(l);Array.isArray(p)&&(p=p.map(h=>h)),f(t,["contents"],p)}const s=c(e,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],yt(s));const a=c(e,["tools"]);if(t!==void 0&&a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>GA(h))),f(t,["tools"],p)}const u=c(e,["toolConfig"]);t!==void 0&&u!=null&&f(t,["toolConfig"],u);const d=c(e,["kmsKeyName"]);return t!==void 0&&d!=null&&f(t,["encryption_spec","kmsKeyName"],d),n}function SA(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["model"],uv(e,r));const i=c(t,["config"]);return i!=null&&xA(i,n),n}function kA(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["model"],uv(e,r));const i=c(t,["config"]);return i!=null&&wA(i,n),n}function TA(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],hr(e,r)),n}function EA(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],hr(e,r)),n}function CA(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function bA(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function AA(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function IA(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const r=c(e,["args"]);r!=null&&f(t,["args"],r);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function MA(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const r=c(e,["allowedFunctionNames"]);if(r!=null&&f(t,["allowedFunctionNames"],r),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function NA(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const r=c(e,["name"]);r!=null&&f(t,["name"],r);const i=c(e,["parameters"]);i!=null&&f(t,["parameters"],i);const o=c(e,["parametersJsonSchema"]);o!=null&&f(t,["parametersJsonSchema"],o);const l=c(e,["response"]);l!=null&&f(t,["response"],l);const s=c(e,["responseJsonSchema"]);return s!=null&&f(t,["responseJsonSchema"],s),t}function _A(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],hr(e,r)),n}function RA(e,t){const n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],hr(e,r)),n}function PA(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function DA(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function LA(e,t){const n={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function FA(e,t){const n={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function zA(e){const t={},n=c(e,["config"]);return n!=null&&LA(n,t),t}function UA(e){const t={},n=c(e,["config"]);return n!=null&&FA(n,t),t}function BA(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);const i=c(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(t,["cachedContents"],o)}return t}function OA(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);const i=c(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(t,["cachedContents"],o)}return t}function qA(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const r=c(e,["codeExecutionResult"]);r!=null&&f(t,["codeExecutionResult"],r);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const o=c(e,["fileData"]);o!=null&&f(t,["fileData"],AA(o));const l=c(e,["functionCall"]);l!=null&&f(t,["functionCall"],IA(l));const s=c(e,["functionResponse"]);s!=null&&f(t,["functionResponse"],s);const a=c(e,["inlineData"]);a!=null&&f(t,["inlineData"],vA(a));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const h=c(e,["videoMetadata"]);return h!=null&&f(t,["videoMetadata"],h),t}function HA(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],MA(n));const r=c(e,["retrievalConfig"]);return r!=null&&f(t,["retrievalConfig"],r),t}function VA(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(e,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const o=c(e,["fileSearch"]);o!=null&&f(t,["fileSearch"],o);const l=c(e,["codeExecution"]);if(l!=null&&f(t,["codeExecution"],l),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&f(t,["googleMaps"],PA(s));const a=c(e,["googleSearch"]);a!=null&&f(t,["googleSearch"],DA(a));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function GA(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>NA(h))),f(t,["functionDeclarations"],p)}const r=c(e,["retrieval"]);r!=null&&f(t,["retrieval"],r);const i=c(e,["googleSearchRetrieval"]);i!=null&&f(t,["googleSearchRetrieval"],i);const o=c(e,["computerUse"]);if(o!=null&&f(t,["computerUse"],o),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(e,["codeExecution"]);l!=null&&f(t,["codeExecution"],l);const s=c(e,["enterpriseWebSearch"]);s!=null&&f(t,["enterpriseWebSearch"],s);const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],a);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function $A(e,t){const n={},r=c(e,["ttl"]);t!==void 0&&r!=null&&f(t,["ttl"],r);const i=c(e,["expireTime"]);return t!==void 0&&i!=null&&f(t,["expireTime"],i),n}function KA(e,t){const n={},r=c(e,["ttl"]);t!==void 0&&r!=null&&f(t,["ttl"],r);const i=c(e,["expireTime"]);return t!==void 0&&i!=null&&f(t,["expireTime"],i),n}function WA(e,t){const n={},r=c(t,["name"]);r!=null&&f(n,["_url","name"],hr(e,r));const i=c(t,["config"]);return i!=null&&$A(i,n),n}function YA(e,t){const n={},r=c(t,["name"]);r!=null&&f(n,["_url","name"],hr(e,r));const i=c(t,["config"]);return i!=null&&KA(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JA extends pr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new xi(ur.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=kA(this.apiClient,t);return s=te("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const u=SA(this.apiClient,t);return s=te("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async get(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=RA(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const u=_A(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=EA(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=bA(d),h=new g1;return Object.assign(h,p),h})}else{const u=TA(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=CA(d),h=new g1;return Object.assign(h,p),h})}}async update(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=YA(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const u=WA(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async listInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=UA(t);return s=te("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=OA(d),h=new y1;return Object.assign(h,p),h})}else{const u=zA(t);return s=te("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=BA(d),h=new y1;return Object.assign(h,p),h})}}}function E1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(e){return this instanceof Be?(this.v=e,this):new Be(e)}function Yi(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(m){return function(w){return Promise.resolve(w).then(m,p)}}function s(m,w){r[m]&&(i[m]=function(k){return new Promise(function(M,v){o.push([m,k,M,v])>1||a(m,k)})},w&&(i[m]=w(i[m])))}function a(m,w){try{u(r[m](w))}catch(k){h(o[0][3],k)}}function u(m){m.value instanceof Be?Promise.resolve(m.value.v).then(d,p):h(o[0][2],m)}function d(m){a("next",m)}function p(m){a("throw",m)}function h(m,w){m(w),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Jo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof E1=="function"?E1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(s,a){l=e[o](l),i(s,a,l.done,l.value)})}}function i(o,l,s,a){Promise.resolve(a).then(function(u){o({value:u,done:s})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XA(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:kv(n)}function kv(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function QA(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function C1(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!kv(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class ZA{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new jA(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class jA{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),QA(o)}async sendMessage(t){var n;await this.sendPromise;const r=yt(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,s;const a=await i,u=(l=(o=a.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,d=a.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(p))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=yt(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?C1(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return Yi(this,arguments,function*(){var l,s,a,u;const d=[];try{for(var p=!0,h=Jo(t),m;m=yield Be(h.next()),l=m.done,!l;p=!0){u=m.value,p=!1;const w=u;if(XA(w)){const k=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;k!==void 0&&d.push(k)}yield yield Be(w)}}catch(w){s={error:w}}finally{try{!p&&!l&&(a=h.return)&&(yield Be(a.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...C1(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ua extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ua.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eI(e){const t={},n=c(e,["file"]);return n!=null&&f(t,["file"],n),t}function tI(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function nI(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","file"],mv(n)),t}function rI(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function iI(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","file"],mv(n)),t}function oI(e,t){const n={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function lI(e){const t={},n=c(e,["config"]);return n!=null&&oI(n,t),t}function sI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);const i=c(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aI extends pr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new xi(ur.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=lI(t);return o=te("files",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=sI(a),d=new fb;return Object.assign(d,u),d})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=eI(t);return o=te("upload/v1beta/files",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=tI(a),d=new pb;return Object.assign(d,u),d})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=iI(t);return o=te("files/{file}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=nI(t);return o=te("files/{file}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=rI(a),d=new hb;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Es(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function uI(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>CI(o))),f(t,["parts"],i)}const r=c(e,["role"]);return r!=null&&f(t,["role"],r),t}function cI(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function dI(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const r=c(e,["args"]);r!=null&&f(t,["args"],r);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function fI(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const r=c(e,["name"]);r!=null&&f(t,["name"],r);const i=c(e,["parameters"]);i!=null&&f(t,["parameters"],i);const o=c(e,["parametersJsonSchema"]);o!=null&&f(t,["parametersJsonSchema"],o);const l=c(e,["response"]);l!=null&&f(t,["response"],l);const s=c(e,["responseJsonSchema"]);return s!=null&&f(t,["responseJsonSchema"],s),t}function pI(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&f(t,["modelConfig"],n);const r=c(e,["responseJsonSchema"]);r!=null&&f(t,["responseJsonSchema"],r);const i=c(e,["audioTimestamp"]);i!=null&&f(t,["audioTimestamp"],i);const o=c(e,["candidateCount"]);o!=null&&f(t,["candidateCount"],o);const l=c(e,["enableAffectiveDialog"]);l!=null&&f(t,["enableAffectiveDialog"],l);const s=c(e,["frequencyPenalty"]);s!=null&&f(t,["frequencyPenalty"],s);const a=c(e,["logprobs"]);a!=null&&f(t,["logprobs"],a);const u=c(e,["maxOutputTokens"]);u!=null&&f(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&f(t,["mediaResolution"],d);const p=c(e,["presencePenalty"]);p!=null&&f(t,["presencePenalty"],p);const h=c(e,["responseLogprobs"]);h!=null&&f(t,["responseLogprobs"],h);const m=c(e,["responseMimeType"]);m!=null&&f(t,["responseMimeType"],m);const w=c(e,["responseModalities"]);w!=null&&f(t,["responseModalities"],w);const k=c(e,["responseSchema"]);k!=null&&f(t,["responseSchema"],k);const M=c(e,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const v=c(e,["seed"]);v!=null&&f(t,["seed"],v);const S=c(e,["speechConfig"]);S!=null&&f(t,["speechConfig"],Tv(S));const T=c(e,["stopSequences"]);T!=null&&f(t,["stopSequences"],T);const C=c(e,["temperature"]);C!=null&&f(t,["temperature"],C);const I=c(e,["thinkingConfig"]);I!=null&&f(t,["thinkingConfig"],I);const b=c(e,["topK"]);b!=null&&f(t,["topK"],b);const R=c(e,["topP"]);if(R!=null&&f(t,["topP"],R),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function hI(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function mI(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function gI(e,t){const n={},r=c(e,["generationConfig"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig"],r);const i=c(e,["responseModalities"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","responseModalities"],i);const o=c(e,["temperature"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig","temperature"],o);const l=c(e,["topP"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","topP"],l);const s=c(e,["topK"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topK"],s);const a=c(e,["maxOutputTokens"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","maxOutputTokens"],a);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const p=c(e,["speechConfig"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","speechConfig"],cf(p));const h=c(e,["thinkingConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","thinkingConfig"],h);const m=c(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],m);const w=c(e,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],uI(yt(w)));const k=c(e,["tools"]);if(t!==void 0&&k!=null){let b=ho(k);Array.isArray(b)&&(b=b.map(R=>AI(po(R)))),f(t,["setup","tools"],b)}const M=c(e,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],bI(M));const v=c(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&f(t,["setup","inputAudioTranscription"],v);const S=c(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&f(t,["setup","outputAudioTranscription"],S);const T=c(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&f(t,["setup","realtimeInputConfig"],T);const C=c(e,["contextWindowCompression"]);t!==void 0&&C!=null&&f(t,["setup","contextWindowCompression"],C);const I=c(e,["proactivity"]);return t!==void 0&&I!=null&&f(t,["setup","proactivity"],I),n}function yI(e,t){const n={},r=c(e,["generationConfig"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig"],pI(r));const i=c(e,["responseModalities"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","responseModalities"],i);const o=c(e,["temperature"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig","temperature"],o);const l=c(e,["topP"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","topP"],l);const s=c(e,["topK"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topK"],s);const a=c(e,["maxOutputTokens"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","maxOutputTokens"],a);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const p=c(e,["speechConfig"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","speechConfig"],Tv(cf(p)));const h=c(e,["thinkingConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","thinkingConfig"],h);const m=c(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],m);const w=c(e,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],yt(w));const k=c(e,["tools"]);if(t!==void 0&&k!=null){let b=ho(k);Array.isArray(b)&&(b=b.map(R=>II(po(R)))),f(t,["setup","tools"],b)}const M=c(e,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],M);const v=c(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&f(t,["setup","inputAudioTranscription"],v);const S=c(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&f(t,["setup","outputAudioTranscription"],S);const T=c(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&f(t,["setup","realtimeInputConfig"],T);const C=c(e,["contextWindowCompression"]);t!==void 0&&C!=null&&f(t,["setup","contextWindowCompression"],C);const I=c(e,["proactivity"]);return t!==void 0&&I!=null&&f(t,["setup","proactivity"],I),n}function vI(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["setup","model"],Ie(e,r));const i=c(t,["config"]);return i!=null&&f(n,["config"],gI(i,n)),n}function xI(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["setup","model"],Ie(e,r));const i=c(t,["config"]);return i!=null&&f(n,["config"],yI(i,n)),n}function wI(e){const t={},n=c(e,["musicGenerationConfig"]);return n!=null&&f(t,["musicGenerationConfig"],n),t}function SI(e){const t={},n=c(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(t,["weightedPrompts"],r)}return t}function kI(e){const t={},n=c(e,["media"]);if(n!=null){let u=cv(n);Array.isArray(u)&&(u=u.map(d=>Es(d))),f(t,["mediaChunks"],u)}const r=c(e,["audio"]);r!=null&&f(t,["audio"],Es(fv(r)));const i=c(e,["audioStreamEnd"]);i!=null&&f(t,["audioStreamEnd"],i);const o=c(e,["video"]);o!=null&&f(t,["video"],Es(dv(o)));const l=c(e,["text"]);l!=null&&f(t,["text"],l);const s=c(e,["activityStart"]);s!=null&&f(t,["activityStart"],s);const a=c(e,["activityEnd"]);return a!=null&&f(t,["activityEnd"],a),t}function TI(e){const t={},n=c(e,["media"]);if(n!=null){let u=cv(n);Array.isArray(u)&&(u=u.map(d=>d)),f(t,["mediaChunks"],u)}const r=c(e,["audio"]);r!=null&&f(t,["audio"],fv(r));const i=c(e,["audioStreamEnd"]);i!=null&&f(t,["audioStreamEnd"],i);const o=c(e,["video"]);o!=null&&f(t,["video"],dv(o));const l=c(e,["text"]);l!=null&&f(t,["text"],l);const s=c(e,["activityStart"]);s!=null&&f(t,["activityStart"],s);const a=c(e,["activityEnd"]);return a!=null&&f(t,["activityEnd"],a),t}function EI(e){const t={},n=c(e,["setupComplete"]);n!=null&&f(t,["setupComplete"],n);const r=c(e,["serverContent"]);r!=null&&f(t,["serverContent"],r);const i=c(e,["toolCall"]);i!=null&&f(t,["toolCall"],i);const o=c(e,["toolCallCancellation"]);o!=null&&f(t,["toolCallCancellation"],o);const l=c(e,["usageMetadata"]);l!=null&&f(t,["usageMetadata"],MI(l));const s=c(e,["goAway"]);s!=null&&f(t,["goAway"],s);const a=c(e,["sessionResumptionUpdate"]);return a!=null&&f(t,["sessionResumptionUpdate"],a),t}function CI(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const r=c(e,["codeExecutionResult"]);r!=null&&f(t,["codeExecutionResult"],r);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const o=c(e,["fileData"]);o!=null&&f(t,["fileData"],cI(o));const l=c(e,["functionCall"]);l!=null&&f(t,["functionCall"],dI(l));const s=c(e,["functionResponse"]);s!=null&&f(t,["functionResponse"],s);const a=c(e,["inlineData"]);a!=null&&f(t,["inlineData"],Es(a));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const h=c(e,["videoMetadata"]);return h!=null&&f(t,["videoMetadata"],h),t}function bI(e){const t={},n=c(e,["handle"]);if(n!=null&&f(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Tv(e){const t={},n=c(e,["languageCode"]);n!=null&&f(t,["languageCode"],n);const r=c(e,["voiceConfig"]);if(r!=null&&f(t,["voiceConfig"],r),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function AI(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(e,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const o=c(e,["fileSearch"]);o!=null&&f(t,["fileSearch"],o);const l=c(e,["codeExecution"]);if(l!=null&&f(t,["codeExecution"],l),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&f(t,["googleMaps"],hI(s));const a=c(e,["googleSearch"]);a!=null&&f(t,["googleSearch"],mI(a));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function II(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>fI(h))),f(t,["functionDeclarations"],p)}const r=c(e,["retrieval"]);r!=null&&f(t,["retrieval"],r);const i=c(e,["googleSearchRetrieval"]);i!=null&&f(t,["googleSearchRetrieval"],i);const o=c(e,["computerUse"]);if(o!=null&&f(t,["computerUse"],o),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(e,["codeExecution"]);l!=null&&f(t,["codeExecution"],l);const s=c(e,["enterpriseWebSearch"]);s!=null&&f(t,["enterpriseWebSearch"],s);const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],a);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function MI(e){const t={},n=c(e,["promptTokenCount"]);n!=null&&f(t,["promptTokenCount"],n);const r=c(e,["cachedContentTokenCount"]);r!=null&&f(t,["cachedContentTokenCount"],r);const i=c(e,["candidatesTokenCount"]);i!=null&&f(t,["responseTokenCount"],i);const o=c(e,["toolUsePromptTokenCount"]);o!=null&&f(t,["toolUsePromptTokenCount"],o);const l=c(e,["thoughtsTokenCount"]);l!=null&&f(t,["thoughtsTokenCount"],l);const s=c(e,["totalTokenCount"]);s!=null&&f(t,["totalTokenCount"],s);const a=c(e,["promptTokensDetails"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(w=>w)),f(t,["promptTokensDetails"],m)}const u=c(e,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(w=>w)),f(t,["cacheTokensDetails"],m)}const d=c(e,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(w=>w)),f(t,["responseTokensDetails"],m)}const p=c(e,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(w=>w)),f(t,["toolUsePromptTokensDetails"],m)}const h=c(e,["trafficType"]);return h!=null&&f(t,["trafficType"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NI(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function _I(e){const t={},n=c(e,["content"]);n!=null&&f(t,["content"],n);const r=c(e,["citationMetadata"]);r!=null&&f(t,["citationMetadata"],RI(r));const i=c(e,["tokenCount"]);i!=null&&f(t,["tokenCount"],i);const o=c(e,["finishReason"]);o!=null&&f(t,["finishReason"],o);const l=c(e,["avgLogprobs"]);l!=null&&f(t,["avgLogprobs"],l);const s=c(e,["groundingMetadata"]);s!=null&&f(t,["groundingMetadata"],s);const a=c(e,["index"]);a!=null&&f(t,["index"],a);const u=c(e,["logprobsResult"]);u!=null&&f(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),f(t,["safetyRatings"],h)}const p=c(e,["urlContextMetadata"]);return p!=null&&f(t,["urlContextMetadata"],p),t}function RI(e){const t={},n=c(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(t,["citations"],r)}return t}function PI(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["contents"]);if(i!=null){let o=dn(i);Array.isArray(o)&&(o=o.map(l=>l)),f(n,["contents"],o)}return n}function DI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),f(t,["tokensInfo"],i)}return t}function LI(e){const t={},n=c(e,["values"]);n!=null&&f(t,["values"],n);const r=c(e,["statistics"]);return r!=null&&f(t,["statistics"],FI(r)),t}function FI(e){const t={},n=c(e,["truncated"]);n!=null&&f(t,["truncated"],n);const r=c(e,["token_count"]);return r!=null&&f(t,["tokenCount"],r),t}function Ba(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$M(o))),f(t,["parts"],i)}const r=c(e,["role"]);return r!=null&&f(t,["role"],r),t}function zI(e){const t={},n=c(e,["controlType"]);n!=null&&f(t,["controlType"],n);const r=c(e,["enableControlImageComputation"]);return r!=null&&f(t,["computeControl"],r),t}function UI(e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function BI(e,t){const n={},r=c(e,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],yt(r));const i=c(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Iv(s))),f(t,["tools"],l)}const o=c(e,["generationConfig"]);return t!==void 0&&o!=null&&f(t,["generationConfig"],NM(o)),n}function OI(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["contents"]);if(i!=null){let l=dn(i);Array.isArray(l)&&(l=l.map(s=>Ba(s))),f(n,["contents"],l)}const o=c(t,["config"]);return o!=null&&UI(o),n}function qI(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["contents"]);if(i!=null){let l=dn(i);Array.isArray(l)&&(l=l.map(s=>s)),f(n,["contents"],l)}const o=c(t,["config"]);return o!=null&&BI(o,n),n}function HI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["totalTokens"]);r!=null&&f(t,["totalTokens"],r);const i=c(e,["cachedContentTokenCount"]);return i!=null&&f(t,["cachedContentTokenCount"],i),t}function VI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["totalTokens"]);return r!=null&&f(t,["totalTokens"],r),t}function GI(e,t){const n={},r=c(t,["model"]);return r!=null&&f(n,["_url","name"],Ie(e,r)),n}function $I(e,t){const n={},r=c(t,["model"]);return r!=null&&f(n,["_url","name"],Ie(e,r)),n}function KI(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function WI(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function YI(e,t){const n={},r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const i=c(e,["negativePrompt"]);t!==void 0&&i!=null&&f(t,["parameters","negativePrompt"],i);const o=c(e,["numberOfImages"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const l=c(e,["aspectRatio"]);t!==void 0&&l!=null&&f(t,["parameters","aspectRatio"],l);const s=c(e,["guidanceScale"]);t!==void 0&&s!=null&&f(t,["parameters","guidanceScale"],s);const a=c(e,["seed"]);t!==void 0&&a!=null&&f(t,["parameters","seed"],a);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const p=c(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&f(t,["parameters","includeSafetyAttributes"],p);const h=c(e,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const m=c(e,["language"]);t!==void 0&&m!=null&&f(t,["parameters","language"],m);const w=c(e,["outputMimeType"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","mimeType"],w);const k=c(e,["outputCompressionQuality"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","compressionQuality"],k);const M=c(e,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const v=c(e,["labels"]);t!==void 0&&v!=null&&f(t,["labels"],v);const S=c(e,["editMode"]);t!==void 0&&S!=null&&f(t,["parameters","editMode"],S);const T=c(e,["baseSteps"]);return t!==void 0&&T!=null&&f(t,["parameters","editConfig","baseSteps"],T),n}function JI(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(t,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>QM(a))),f(n,["instances[0]","referenceImages"],s)}const l=c(t,["config"]);return l!=null&&YI(l,n),n}function XI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Oa(o))),f(t,["generatedImages"],i)}return t}function QI(e,t){const n={},r=c(e,["taskType"]);t!==void 0&&r!=null&&f(t,["requests[]","taskType"],r);const i=c(e,["title"]);t!==void 0&&i!=null&&f(t,["requests[]","title"],i);const o=c(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&f(t,["requests[]","outputDimensionality"],o),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ZI(e,t){const n={},r=c(e,["taskType"]);t!==void 0&&r!=null&&f(t,["instances[]","task_type"],r);const i=c(e,["title"]);t!==void 0&&i!=null&&f(t,["instances[]","title"],i);const o=c(e,["outputDimensionality"]);t!==void 0&&o!=null&&f(t,["parameters","outputDimensionality"],o);const l=c(e,["mimeType"]);t!==void 0&&l!=null&&f(t,["instances[]","mimeType"],l);const s=c(e,["autoTruncate"]);return t!==void 0&&s!=null&&f(t,["parameters","autoTruncate"],s),n}function jI(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["contents"]);if(i!=null){let s=sf(e,i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["requests[]","content"],s)}const o=c(t,["config"]);o!=null&&QI(o,n);const l=c(t,["model"]);return l!==void 0&&f(n,["requests[]","model"],Ie(e,l)),n}function eM(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["contents"]);if(i!=null){let l=sf(e,i);Array.isArray(l)&&(l=l.map(s=>s)),f(n,["instances[]","content"],l)}const o=c(t,["config"]);return o!=null&&ZI(o,n),n}function tM(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(t,["embeddings"],o)}const i=c(e,["metadata"]);return i!=null&&f(t,["metadata"],i),t}function nM(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>LI(l))),f(t,["embeddings"],o)}const i=c(e,["metadata"]);return i!=null&&f(t,["metadata"],i),t}function rM(e){const t={},n=c(e,["endpoint"]);n!=null&&f(t,["name"],n);const r=c(e,["deployedModelId"]);return r!=null&&f(t,["deployedModelId"],r),t}function iM(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function oM(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const r=c(e,["args"]);r!=null&&f(t,["args"],r);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lM(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const r=c(e,["allowedFunctionNames"]);if(r!=null&&f(t,["allowedFunctionNames"],r),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function sM(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const r=c(e,["name"]);r!=null&&f(t,["name"],r);const i=c(e,["parameters"]);i!=null&&f(t,["parameters"],i);const o=c(e,["parametersJsonSchema"]);o!=null&&f(t,["parametersJsonSchema"],o);const l=c(e,["response"]);l!=null&&f(t,["response"],l);const s=c(e,["responseJsonSchema"]);return s!=null&&f(t,["responseJsonSchema"],s),t}function aM(e,t,n){const r={},i=c(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],Ba(yt(i)));const o=c(t,["temperature"]);o!=null&&f(r,["temperature"],o);const l=c(t,["topP"]);l!=null&&f(r,["topP"],l);const s=c(t,["topK"]);s!=null&&f(r,["topK"],s);const a=c(t,["candidateCount"]);a!=null&&f(r,["candidateCount"],a);const u=c(t,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);const p=c(t,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);const h=c(t,["logprobs"]);h!=null&&f(r,["logprobs"],h);const m=c(t,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);const w=c(t,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const k=c(t,["seed"]);k!=null&&f(r,["seed"],k);const M=c(t,["responseMimeType"]);M!=null&&f(r,["responseMimeType"],M);const v=c(t,["responseSchema"]);v!=null&&f(r,["responseSchema"],af(v));const S=c(t,["responseJsonSchema"]);if(S!=null&&f(r,["responseJsonSchema"],S),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=c(t,["safetySettings"]);if(n!==void 0&&T!=null){let B=T;Array.isArray(B)&&(B=B.map(G=>ZM(G))),f(n,["safetySettings"],B)}const C=c(t,["tools"]);if(n!==void 0&&C!=null){let B=ho(C);Array.isArray(B)&&(B=B.map(G=>oN(po(G)))),f(n,["tools"],B)}const I=c(t,["toolConfig"]);if(n!==void 0&&I!=null&&f(n,["toolConfig"],iN(I)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(t,["cachedContent"]);n!==void 0&&b!=null&&f(n,["cachedContent"],hr(e,b));const R=c(t,["responseModalities"]);R!=null&&f(r,["responseModalities"],R);const z=c(t,["mediaResolution"]);z!=null&&f(r,["mediaResolution"],z);const P=c(t,["speechConfig"]);if(P!=null&&f(r,["speechConfig"],uf(P)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _=c(t,["thinkingConfig"]);_!=null&&f(r,["thinkingConfig"],_);const q=c(t,["imageConfig"]);return q!=null&&f(r,["imageConfig"],LM(q)),r}function uM(e,t,n){const r={},i=c(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],yt(i));const o=c(t,["temperature"]);o!=null&&f(r,["temperature"],o);const l=c(t,["topP"]);l!=null&&f(r,["topP"],l);const s=c(t,["topK"]);s!=null&&f(r,["topK"],s);const a=c(t,["candidateCount"]);a!=null&&f(r,["candidateCount"],a);const u=c(t,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);const p=c(t,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);const h=c(t,["logprobs"]);h!=null&&f(r,["logprobs"],h);const m=c(t,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);const w=c(t,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const k=c(t,["seed"]);k!=null&&f(r,["seed"],k);const M=c(t,["responseMimeType"]);M!=null&&f(r,["responseMimeType"],M);const v=c(t,["responseSchema"]);v!=null&&f(r,["responseSchema"],af(v));const S=c(t,["responseJsonSchema"]);S!=null&&f(r,["responseJsonSchema"],S);const T=c(t,["routingConfig"]);T!=null&&f(r,["routingConfig"],T);const C=c(t,["modelSelectionConfig"]);C!=null&&f(r,["modelConfig"],C);const I=c(t,["safetySettings"]);if(n!==void 0&&I!=null){let ie=I;Array.isArray(ie)&&(ie=ie.map(ce=>ce)),f(n,["safetySettings"],ie)}const b=c(t,["tools"]);if(n!==void 0&&b!=null){let ie=ho(b);Array.isArray(ie)&&(ie=ie.map(ce=>Iv(po(ce)))),f(n,["tools"],ie)}const R=c(t,["toolConfig"]);n!==void 0&&R!=null&&f(n,["toolConfig"],R);const z=c(t,["labels"]);n!==void 0&&z!=null&&f(n,["labels"],z);const P=c(t,["cachedContent"]);n!==void 0&&P!=null&&f(n,["cachedContent"],hr(e,P));const _=c(t,["responseModalities"]);_!=null&&f(r,["responseModalities"],_);const q=c(t,["mediaResolution"]);q!=null&&f(r,["mediaResolution"],q);const B=c(t,["speechConfig"]);B!=null&&f(r,["speechConfig"],Av(uf(B)));const G=c(t,["audioTimestamp"]);G!=null&&f(r,["audioTimestamp"],G);const j=c(t,["thinkingConfig"]);j!=null&&f(r,["thinkingConfig"],j);const re=c(t,["imageConfig"]);return re!=null&&f(r,["imageConfig"],FM(re)),r}function b1(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["contents"]);if(i!=null){let l=dn(i);Array.isArray(l)&&(l=l.map(s=>Ba(s))),f(n,["contents"],l)}const o=c(t,["config"]);return o!=null&&f(n,["generationConfig"],aM(e,o,n)),n}function A1(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["contents"]);if(i!=null){let l=dn(i);Array.isArray(l)&&(l=l.map(s=>s)),f(n,["contents"],l)}const o=c(t,["config"]);return o!=null&&f(n,["generationConfig"],uM(e,o,n)),n}function I1(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>_I(u))),f(t,["candidates"],a)}const i=c(e,["modelVersion"]);i!=null&&f(t,["modelVersion"],i);const o=c(e,["promptFeedback"]);o!=null&&f(t,["promptFeedback"],o);const l=c(e,["responseId"]);l!=null&&f(t,["responseId"],l);const s=c(e,["usageMetadata"]);return s!=null&&f(t,["usageMetadata"],s),t}function M1(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["candidates"],u)}const i=c(e,["createTime"]);i!=null&&f(t,["createTime"],i);const o=c(e,["modelVersion"]);o!=null&&f(t,["modelVersion"],o);const l=c(e,["promptFeedback"]);l!=null&&f(t,["promptFeedback"],l);const s=c(e,["responseId"]);s!=null&&f(t,["responseId"],s);const a=c(e,["usageMetadata"]);return a!=null&&f(t,["usageMetadata"],a),t}function cM(e,t){const n={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=c(e,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const i=c(e,["aspectRatio"]);t!==void 0&&i!=null&&f(t,["parameters","aspectRatio"],i);const o=c(e,["guidanceScale"]);if(t!==void 0&&o!=null&&f(t,["parameters","guidanceScale"],o),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=c(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&f(t,["parameters","safetySetting"],l);const s=c(e,["personGeneration"]);t!==void 0&&s!=null&&f(t,["parameters","personGeneration"],s);const a=c(e,["includeSafetyAttributes"]);t!==void 0&&a!=null&&f(t,["parameters","includeSafetyAttributes"],a);const u=c(e,["includeRaiReason"]);t!==void 0&&u!=null&&f(t,["parameters","includeRaiReason"],u);const d=c(e,["language"]);t!==void 0&&d!=null&&f(t,["parameters","language"],d);const p=c(e,["outputMimeType"]);t!==void 0&&p!=null&&f(t,["parameters","outputOptions","mimeType"],p);const h=c(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=c(e,["imageSize"]);if(t!==void 0&&m!=null&&f(t,["parameters","sampleImageSize"],m),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function dM(e,t){const n={},r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const i=c(e,["negativePrompt"]);t!==void 0&&i!=null&&f(t,["parameters","negativePrompt"],i);const o=c(e,["numberOfImages"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const l=c(e,["aspectRatio"]);t!==void 0&&l!=null&&f(t,["parameters","aspectRatio"],l);const s=c(e,["guidanceScale"]);t!==void 0&&s!=null&&f(t,["parameters","guidanceScale"],s);const a=c(e,["seed"]);t!==void 0&&a!=null&&f(t,["parameters","seed"],a);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const p=c(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&f(t,["parameters","includeSafetyAttributes"],p);const h=c(e,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const m=c(e,["language"]);t!==void 0&&m!=null&&f(t,["parameters","language"],m);const w=c(e,["outputMimeType"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","mimeType"],w);const k=c(e,["outputCompressionQuality"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","compressionQuality"],k);const M=c(e,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const v=c(e,["labels"]);t!==void 0&&v!=null&&f(t,["labels"],v);const S=c(e,["imageSize"]);t!==void 0&&S!=null&&f(t,["parameters","sampleImageSize"],S);const T=c(e,["enhancePrompt"]);return t!==void 0&&T!=null&&f(t,["parameters","enhancePrompt"],T),n}function fM(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(t,["config"]);return o!=null&&cM(o,n),n}function pM(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(t,["config"]);return o!=null&&dM(o,n),n}function hM(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>bM(l))),f(t,["generatedImages"],o)}const i=c(e,["positivePromptSafetyAttributes"]);return i!=null&&f(t,["positivePromptSafetyAttributes"],Cv(i)),t}function mM(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Oa(l))),f(t,["generatedImages"],o)}const i=c(e,["positivePromptSafetyAttributes"]);return i!=null&&f(t,["positivePromptSafetyAttributes"],bv(i)),t}function gM(e,t){const n={},r=c(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=c(e,["durationSeconds"]);if(t!==void 0&&i!=null&&f(t,["parameters","durationSeconds"],i),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=c(e,["aspectRatio"]);t!==void 0&&o!=null&&f(t,["parameters","aspectRatio"],o);const l=c(e,["resolution"]);t!==void 0&&l!=null&&f(t,["parameters","resolution"],l);const s=c(e,["personGeneration"]);if(t!==void 0&&s!=null&&f(t,["parameters","personGeneration"],s),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=c(e,["negativePrompt"]);t!==void 0&&a!=null&&f(t,["parameters","negativePrompt"],a);const u=c(e,["enhancePrompt"]);if(t!==void 0&&u!=null&&f(t,["parameters","enhancePrompt"],u),c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=c(e,["lastFrame"]);t!==void 0&&d!=null&&f(t,["instances[0]","lastFrame"],qa(d));const p=c(e,["referenceImages"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>vN(m))),f(t,["instances[0]","referenceImages"],h)}if(c(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function yM(e,t){const n={},r=c(e,["numberOfVideos"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const i=c(e,["outputGcsUri"]);t!==void 0&&i!=null&&f(t,["parameters","storageUri"],i);const o=c(e,["fps"]);t!==void 0&&o!=null&&f(t,["parameters","fps"],o);const l=c(e,["durationSeconds"]);t!==void 0&&l!=null&&f(t,["parameters","durationSeconds"],l);const s=c(e,["seed"]);t!==void 0&&s!=null&&f(t,["parameters","seed"],s);const a=c(e,["aspectRatio"]);t!==void 0&&a!=null&&f(t,["parameters","aspectRatio"],a);const u=c(e,["resolution"]);t!==void 0&&u!=null&&f(t,["parameters","resolution"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const p=c(e,["pubsubTopic"]);t!==void 0&&p!=null&&f(t,["parameters","pubsubTopic"],p);const h=c(e,["negativePrompt"]);t!==void 0&&h!=null&&f(t,["parameters","negativePrompt"],h);const m=c(e,["enhancePrompt"]);t!==void 0&&m!=null&&f(t,["parameters","enhancePrompt"],m);const w=c(e,["generateAudio"]);t!==void 0&&w!=null&&f(t,["parameters","generateAudio"],w);const k=c(e,["lastFrame"]);t!==void 0&&k!=null&&f(t,["instances[0]","lastFrame"],Mn(k));const M=c(e,["referenceImages"]);if(t!==void 0&&M!=null){let T=M;Array.isArray(T)&&(T=T.map(C=>xN(C))),f(t,["instances[0]","referenceImages"],T)}const v=c(e,["mask"]);t!==void 0&&v!=null&&f(t,["instances[0]","mask"],yN(v));const S=c(e,["compressionQuality"]);return t!==void 0&&S!=null&&f(t,["parameters","compressionQuality"],S),n}function vM(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["metadata"]);r!=null&&f(t,["metadata"],r);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const o=c(e,["error"]);o!=null&&f(t,["error"],o);const l=c(e,["response","generateVideoResponse"]);return l!=null&&f(t,["response"],kM(l)),t}function xM(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["metadata"]);r!=null&&f(t,["metadata"],r);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const o=c(e,["error"]);o!=null&&f(t,["error"],o);const l=c(e,["response"]);return l!=null&&f(t,["response"],TM(l)),t}function wM(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(t,["image"]);o!=null&&f(n,["instances[0]","image"],qa(o));const l=c(t,["video"]);l!=null&&f(n,["instances[0]","video"],Mv(l));const s=c(t,["source"]);s!=null&&EM(s,n);const a=c(t,["config"]);return a!=null&&gM(a,n),n}function SM(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=c(t,["image"]);o!=null&&f(n,["instances[0]","image"],Mn(o));const l=c(t,["video"]);l!=null&&f(n,["instances[0]","video"],Nv(l));const s=c(t,["source"]);s!=null&&CM(s,n);const a=c(t,["config"]);return a!=null&&yM(a,n),n}function kM(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>IM(l))),f(t,["generatedVideos"],o)}const r=c(e,["raiMediaFilteredCount"]);r!=null&&f(t,["raiMediaFilteredCount"],r);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function TM(e){const t={},n=c(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>MM(l))),f(t,["generatedVideos"],o)}const r=c(e,["raiMediaFilteredCount"]);r!=null&&f(t,["raiMediaFilteredCount"],r);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function EM(e,t){const n={},r=c(e,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const i=c(e,["image"]);t!==void 0&&i!=null&&f(t,["instances[0]","image"],qa(i));const o=c(e,["video"]);return t!==void 0&&o!=null&&f(t,["instances[0]","video"],Mv(o)),n}function CM(e,t){const n={},r=c(e,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const i=c(e,["image"]);t!==void 0&&i!=null&&f(t,["instances[0]","image"],Mn(i));const o=c(e,["video"]);return t!==void 0&&o!=null&&f(t,["instances[0]","video"],Nv(o)),n}function bM(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["image"],zM(n));const r=c(e,["raiFilteredReason"]);r!=null&&f(t,["raiFilteredReason"],r);const i=c(e,["_self"]);return i!=null&&f(t,["safetyAttributes"],Cv(i)),t}function Oa(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["image"],Ev(n));const r=c(e,["raiFilteredReason"]);r!=null&&f(t,["raiFilteredReason"],r);const i=c(e,["_self"]);i!=null&&f(t,["safetyAttributes"],bv(i));const o=c(e,["prompt"]);return o!=null&&f(t,["enhancedPrompt"],o),t}function AM(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["mask"],Ev(n));const r=c(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),f(t,["labels"],i)}return t}function IM(e){const t={},n=c(e,["video"]);return n!=null&&f(t,["video"],mN(n)),t}function MM(e){const t={},n=c(e,["_self"]);return n!=null&&f(t,["video"],gN(n)),t}function NM(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&f(t,["modelConfig"],n);const r=c(e,["responseJsonSchema"]);r!=null&&f(t,["responseJsonSchema"],r);const i=c(e,["audioTimestamp"]);i!=null&&f(t,["audioTimestamp"],i);const o=c(e,["candidateCount"]);o!=null&&f(t,["candidateCount"],o);const l=c(e,["enableAffectiveDialog"]);l!=null&&f(t,["enableAffectiveDialog"],l);const s=c(e,["frequencyPenalty"]);s!=null&&f(t,["frequencyPenalty"],s);const a=c(e,["logprobs"]);a!=null&&f(t,["logprobs"],a);const u=c(e,["maxOutputTokens"]);u!=null&&f(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&f(t,["mediaResolution"],d);const p=c(e,["presencePenalty"]);p!=null&&f(t,["presencePenalty"],p);const h=c(e,["responseLogprobs"]);h!=null&&f(t,["responseLogprobs"],h);const m=c(e,["responseMimeType"]);m!=null&&f(t,["responseMimeType"],m);const w=c(e,["responseModalities"]);w!=null&&f(t,["responseModalities"],w);const k=c(e,["responseSchema"]);k!=null&&f(t,["responseSchema"],k);const M=c(e,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const v=c(e,["seed"]);v!=null&&f(t,["seed"],v);const S=c(e,["speechConfig"]);S!=null&&f(t,["speechConfig"],Av(S));const T=c(e,["stopSequences"]);T!=null&&f(t,["stopSequences"],T);const C=c(e,["temperature"]);C!=null&&f(t,["temperature"],C);const I=c(e,["thinkingConfig"]);I!=null&&f(t,["thinkingConfig"],I);const b=c(e,["topK"]);b!=null&&f(t,["topK"],b);const R=c(e,["topP"]);if(R!=null&&f(t,["topP"],R),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function _M(e,t){const n={},r=c(t,["model"]);return r!=null&&f(n,["_url","name"],Ie(e,r)),n}function RM(e,t){const n={},r=c(t,["model"]);return r!=null&&f(n,["_url","name"],Ie(e,r)),n}function PM(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function DM(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function LM(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const r=c(e,["imageSize"]);if(r!=null&&f(t,["imageSize"],r),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function FM(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const r=c(e,["imageSize"]);r!=null&&f(t,["imageSize"],r);const i=c(e,["outputMimeType"]);i!=null&&f(t,["imageOutputOptions","mimeType"],i);const o=c(e,["outputCompressionQuality"]);return o!=null&&f(t,["imageOutputOptions","compressionQuality"],o),t}function zM(e){const t={},n=c(e,["bytesBase64Encoded"]);n!=null&&f(t,["imageBytes"],Wr(n));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function Ev(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["gcsUri"],n);const r=c(e,["bytesBase64Encoded"]);r!=null&&f(t,["imageBytes"],Wr(r));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}function qa(e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(e,["imageBytes"]);n!=null&&f(t,["bytesBase64Encoded"],Wr(n));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function Mn(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["gcsUri"],n);const r=c(e,["imageBytes"]);r!=null&&f(t,["bytesBase64Encoded"],Wr(r));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}function UM(e,t,n){const r={},i=c(t,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const o=c(t,["pageToken"]);n!==void 0&&o!=null&&f(n,["_query","pageToken"],o);const l=c(t,["filter"]);n!==void 0&&l!=null&&f(n,["_query","filter"],l);const s=c(t,["queryBase"]);return n!==void 0&&s!=null&&f(n,["_url","models_url"],gv(e,s)),r}function BM(e,t,n){const r={},i=c(t,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const o=c(t,["pageToken"]);n!==void 0&&o!=null&&f(n,["_query","pageToken"],o);const l=c(t,["filter"]);n!==void 0&&l!=null&&f(n,["_query","filter"],l);const s=c(t,["queryBase"]);return n!==void 0&&s!=null&&f(n,["_url","models_url"],gv(e,s)),r}function OM(e,t){const n={},r=c(t,["config"]);return r!=null&&UM(e,r,n),n}function qM(e,t){const n={},r=c(t,["config"]);return r!=null&&BM(e,r,n),n}function HM(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);const i=c(e,["_self"]);if(i!=null){let o=yv(i);Array.isArray(o)&&(o=o.map(l=>gc(l))),f(t,["models"],o)}return t}function VM(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);const i=c(e,["_self"]);if(i!=null){let o=yv(i);Array.isArray(o)&&(o=o.map(l=>yc(l))),f(t,["models"],o)}return t}function GM(e){const t={},n=c(e,["maskMode"]);n!=null&&f(t,["maskMode"],n);const r=c(e,["segmentationClasses"]);r!=null&&f(t,["maskClasses"],r);const i=c(e,["maskDilation"]);return i!=null&&f(t,["dilation"],i),t}function gc(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["displayName"]);r!=null&&f(t,["displayName"],r);const i=c(e,["description"]);i!=null&&f(t,["description"],i);const o=c(e,["version"]);o!=null&&f(t,["version"],o);const l=c(e,["_self"]);l!=null&&f(t,["tunedModelInfo"],lN(l));const s=c(e,["inputTokenLimit"]);s!=null&&f(t,["inputTokenLimit"],s);const a=c(e,["outputTokenLimit"]);a!=null&&f(t,["outputTokenLimit"],a);const u=c(e,["supportedGenerationMethods"]);u!=null&&f(t,["supportedActions"],u);const d=c(e,["temperature"]);d!=null&&f(t,["temperature"],d);const p=c(e,["maxTemperature"]);p!=null&&f(t,["maxTemperature"],p);const h=c(e,["topP"]);h!=null&&f(t,["topP"],h);const m=c(e,["topK"]);m!=null&&f(t,["topK"],m);const w=c(e,["thinking"]);return w!=null&&f(t,["thinking"],w),t}function yc(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["displayName"]);r!=null&&f(t,["displayName"],r);const i=c(e,["description"]);i!=null&&f(t,["description"],i);const o=c(e,["versionId"]);o!=null&&f(t,["version"],o);const l=c(e,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>rM(h))),f(t,["endpoints"],p)}const s=c(e,["labels"]);s!=null&&f(t,["labels"],s);const a=c(e,["_self"]);a!=null&&f(t,["tunedModelInfo"],sN(a));const u=c(e,["defaultCheckpointId"]);u!=null&&f(t,["defaultCheckpointId"],u);const d=c(e,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),f(t,["checkpoints"],p)}return t}function $M(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const r=c(e,["codeExecutionResult"]);r!=null&&f(t,["codeExecutionResult"],r);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const o=c(e,["fileData"]);o!=null&&f(t,["fileData"],iM(o));const l=c(e,["functionCall"]);l!=null&&f(t,["functionCall"],oM(l));const s=c(e,["functionResponse"]);s!=null&&f(t,["functionResponse"],s);const a=c(e,["inlineData"]);a!=null&&f(t,["inlineData"],NI(a));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const h=c(e,["videoMetadata"]);return h!=null&&f(t,["videoMetadata"],h),t}function KM(e){const t={},n=c(e,["productImage"]);return n!=null&&f(t,["image"],Mn(n)),t}function WM(e,t){const n={},r=c(e,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const i=c(e,["baseSteps"]);t!==void 0&&i!=null&&f(t,["parameters","baseSteps"],i);const o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const l=c(e,["seed"]);t!==void 0&&l!=null&&f(t,["parameters","seed"],l);const s=c(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&f(t,["parameters","safetySetting"],s);const a=c(e,["personGeneration"]);t!==void 0&&a!=null&&f(t,["parameters","personGeneration"],a);const u=c(e,["addWatermark"]);t!==void 0&&u!=null&&f(t,["parameters","addWatermark"],u);const d=c(e,["outputMimeType"]);t!==void 0&&d!=null&&f(t,["parameters","outputOptions","mimeType"],d);const p=c(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&f(t,["parameters","outputOptions","compressionQuality"],p);const h=c(e,["enhancePrompt"]);t!==void 0&&h!=null&&f(t,["parameters","enhancePrompt"],h);const m=c(e,["labels"]);return t!==void 0&&m!=null&&f(t,["labels"],m),n}function YM(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["source"]);i!=null&&XM(i,n);const o=c(t,["config"]);return o!=null&&WM(o,n),n}function JM(e){const t={},n=c(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Oa(i))),f(t,["generatedImages"],r)}return t}function XM(e,t){const n={},r=c(e,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const i=c(e,["personImage"]);t!==void 0&&i!=null&&f(t,["instances[0]","personImage","image"],Mn(i));const o=c(e,["productImages"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>KM(s))),f(t,["instances[0]","productImages"],l)}return n}function QM(e){const t={},n=c(e,["referenceImage"]);n!=null&&f(t,["referenceImage"],Mn(n));const r=c(e,["referenceId"]);r!=null&&f(t,["referenceId"],r);const i=c(e,["referenceType"]);i!=null&&f(t,["referenceType"],i);const o=c(e,["maskImageConfig"]);o!=null&&f(t,["maskImageConfig"],GM(o));const l=c(e,["controlImageConfig"]);l!=null&&f(t,["controlImageConfig"],zI(l));const s=c(e,["styleImageConfig"]);s!=null&&f(t,["styleImageConfig"],s);const a=c(e,["subjectImageConfig"]);return a!=null&&f(t,["subjectImageConfig"],a),t}function Cv(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&f(t,["categories"],n);const r=c(e,["safetyAttributes","scores"]);r!=null&&f(t,["scores"],r);const i=c(e,["contentType"]);return i!=null&&f(t,["contentType"],i),t}function bv(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&f(t,["categories"],n);const r=c(e,["safetyAttributes","scores"]);r!=null&&f(t,["scores"],r);const i=c(e,["contentType"]);return i!=null&&f(t,["contentType"],i),t}function ZM(e){const t={},n=c(e,["category"]);if(n!=null&&f(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(e,["threshold"]);return r!=null&&f(t,["threshold"],r),t}function jM(e){const t={},n=c(e,["image"]);return n!=null&&f(t,["image"],Mn(n)),t}function eN(e,t){const n={},r=c(e,["mode"]);t!==void 0&&r!=null&&f(t,["parameters","mode"],r);const i=c(e,["maxPredictions"]);t!==void 0&&i!=null&&f(t,["parameters","maxPredictions"],i);const o=c(e,["confidenceThreshold"]);t!==void 0&&o!=null&&f(t,["parameters","confidenceThreshold"],o);const l=c(e,["maskDilation"]);t!==void 0&&l!=null&&f(t,["parameters","maskDilation"],l);const s=c(e,["binaryColorThreshold"]);t!==void 0&&s!=null&&f(t,["parameters","binaryColorThreshold"],s);const a=c(e,["labels"]);return t!==void 0&&a!=null&&f(t,["labels"],a),n}function tN(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["source"]);i!=null&&rN(i,n);const o=c(t,["config"]);return o!=null&&eN(o,n),n}function nN(e){const t={},n=c(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>AM(i))),f(t,["generatedMasks"],r)}return t}function rN(e,t){const n={},r=c(e,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const i=c(e,["image"]);t!==void 0&&i!=null&&f(t,["instances[0]","image"],Mn(i));const o=c(e,["scribbleImage"]);return t!==void 0&&o!=null&&f(t,["instances[0]","scribble"],jM(o)),n}function Av(e){const t={},n=c(e,["languageCode"]);n!=null&&f(t,["languageCode"],n);const r=c(e,["voiceConfig"]);if(r!=null&&f(t,["voiceConfig"],r),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function iN(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],lM(n));const r=c(e,["retrievalConfig"]);return r!=null&&f(t,["retrievalConfig"],r),t}function oN(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(e,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const o=c(e,["fileSearch"]);o!=null&&f(t,["fileSearch"],o);const l=c(e,["codeExecution"]);if(l!=null&&f(t,["codeExecution"],l),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&f(t,["googleMaps"],PM(s));const a=c(e,["googleSearch"]);a!=null&&f(t,["googleSearch"],DM(a));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function Iv(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>sM(h))),f(t,["functionDeclarations"],p)}const r=c(e,["retrieval"]);r!=null&&f(t,["retrieval"],r);const i=c(e,["googleSearchRetrieval"]);i!=null&&f(t,["googleSearchRetrieval"],i);const o=c(e,["computerUse"]);if(o!=null&&f(t,["computerUse"],o),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(e,["codeExecution"]);l!=null&&f(t,["codeExecution"],l);const s=c(e,["enterpriseWebSearch"]);s!=null&&f(t,["enterpriseWebSearch"],s);const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],a);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function lN(e){const t={},n=c(e,["baseModel"]);n!=null&&f(t,["baseModel"],n);const r=c(e,["createTime"]);r!=null&&f(t,["createTime"],r);const i=c(e,["updateTime"]);return i!=null&&f(t,["updateTime"],i),t}function sN(e){const t={},n=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(t,["baseModel"],n);const r=c(e,["createTime"]);r!=null&&f(t,["createTime"],r);const i=c(e,["updateTime"]);return i!=null&&f(t,["updateTime"],i),t}function aN(e,t){const n={},r=c(e,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const i=c(e,["description"]);t!==void 0&&i!=null&&f(t,["description"],i);const o=c(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&f(t,["defaultCheckpointId"],o),n}function uN(e,t){const n={},r=c(e,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const i=c(e,["description"]);t!==void 0&&i!=null&&f(t,["description"],i);const o=c(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&f(t,["defaultCheckpointId"],o),n}function cN(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","name"],Ie(e,r));const i=c(t,["config"]);return i!=null&&aN(i,n),n}function dN(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["config"]);return i!=null&&uN(i,n),n}function fN(e,t){const n={},r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const i=c(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&f(t,["parameters","safetySetting"],i);const o=c(e,["personGeneration"]);t!==void 0&&o!=null&&f(t,["parameters","personGeneration"],o);const l=c(e,["includeRaiReason"]);t!==void 0&&l!=null&&f(t,["parameters","includeRaiReason"],l);const s=c(e,["outputMimeType"]);t!==void 0&&s!=null&&f(t,["parameters","outputOptions","mimeType"],s);const a=c(e,["outputCompressionQuality"]);t!==void 0&&a!=null&&f(t,["parameters","outputOptions","compressionQuality"],a);const u=c(e,["enhanceInputImage"]);t!==void 0&&u!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],u);const d=c(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const p=c(e,["labels"]);t!==void 0&&p!=null&&f(t,["labels"],p);const h=c(e,["numberOfImages"]);t!==void 0&&h!=null&&f(t,["parameters","sampleCount"],h);const m=c(e,["mode"]);return t!==void 0&&m!=null&&f(t,["parameters","mode"],m),n}function pN(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["_url","model"],Ie(e,r));const i=c(t,["image"]);i!=null&&f(n,["instances[0]","image"],Mn(i));const o=c(t,["upscaleFactor"]);o!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=c(t,["config"]);return l!=null&&fN(l,n),n}function hN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Oa(o))),f(t,["generatedImages"],i)}return t}function mN(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const r=c(e,["encodedVideo"]);r!=null&&f(t,["videoBytes"],Wr(r));const i=c(e,["encoding"]);return i!=null&&f(t,["mimeType"],i),t}function gN(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["uri"],n);const r=c(e,["bytesBase64Encoded"]);r!=null&&f(t,["videoBytes"],Wr(r));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}function yN(e){const t={},n=c(e,["image"]);n!=null&&f(t,["_self"],Mn(n));const r=c(e,["maskMode"]);return r!=null&&f(t,["maskMode"],r),t}function vN(e){const t={},n=c(e,["image"]);n!=null&&f(t,["image"],qa(n));const r=c(e,["referenceType"]);return r!=null&&f(t,["referenceType"],r),t}function xN(e){const t={},n=c(e,["image"]);n!=null&&f(t,["image"],Mn(n));const r=c(e,["referenceType"]);return r!=null&&f(t,["referenceType"],r),t}function Mv(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const r=c(e,["videoBytes"]);r!=null&&f(t,["encodedVideo"],Wr(r));const i=c(e,["mimeType"]);return i!=null&&f(t,["encoding"],i),t}function Nv(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["gcsUri"],n);const r=c(e,["videoBytes"]);r!=null&&f(t,["bytesBase64Encoded"],Wr(r));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wN="Content-Type",SN="X-Server-Timeout",kN="User-Agent",vc="x-goog-api-client",TN="1.30.0",EN=`google-genai-sdk/${TN}`,CN="v1beta1",bN="v1beta",N1=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class AN{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:CN,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:bN,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,s]of Object.entries(t.queryParams))i.searchParams.append(l,String(s));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&IN(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await _1(i),new pc(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await _1(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return Yi(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:s,value:a}=yield Be(i.read());if(s){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(a,{stream:!0});try{const p=JSON.parse(u);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,w=h.code,k=`got status: ${m}. ${JSON.stringify(p)}`;if(w>=400&&w<600)throw new Ua({message:k,status:w})}}catch(p){if(p.name==="ApiError")throw p}l+=u;let d=l.match(N1);for(;d;){const p=d[1];try{const h=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Be(new pc(h)),l=l.slice(d[0].length),d=l.match(N1)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=EN+" "+this.clientOptions.userAgentExtra;return t[kN]=n,t[vc]=n,t[wN]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(SN,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const a={file:i},u=this.getFileName(t),d=te("upload/v1beta/files",a._url),p=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,a,n==null?void 0:n.httpOptions);return o.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),s=String(l.size),a=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),p={};r!=null&&r.customMetadata&&(p.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,s,a,d,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,l){var s;let a={};l?a=l:a={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function _1(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ua({message:i,status:n}):new Error(i)}}function IN(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const s=Object.assign({},o);for(const a in l)if(Object.prototype.hasOwnProperty.call(l,a)){const u=l[a],d=s[a];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?s[a]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${a}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),s[a]=u)}return s}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MN="mcp_used/unknown";let NN=!1;function _v(e){for(const t of e)if(_N(t)||typeof t=="object"&&"inputSchema"in t)return!0;return NN}function Rv(e){var t;const n=(t=e[vc])!==null&&t!==void 0?t:"";e[vc]=(n+` ${MN}`).trimStart()}function _N(e){return e!==null&&typeof e=="object"&&e instanceof df}function RN(e,t=100){return Yi(this,arguments,function*(){let r,i=0;for(;i<t;){const o=yield Be(e.listTools({cursor:r}));for(const l of o.tools)yield yield Be(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class df{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new df(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const d of this.mcpClients)try{for(var s=!0,a=(n=void 0,Jo(RN(d))),u;u=await a.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const p=i;l.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(p){n={error:p}}finally{try{!s&&!t&&(r=a.return)&&await r.call(a)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Eb(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PN(e,t,n){const r=new gb;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class DN{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=zN(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),a=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const d=new Promise(T=>{u=T}),p=t.callbacks,h=function(){u({})},m=this.apiClient,w={onopen:h,onmessage:T=>{PN(m,p.onmessage,T)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(T){}},k=this.webSocketFactory.create(a,FN(l),w);k.connect(),await d;const S={setup:{model:Ie(this.apiClient,t.model)}};return k.send(JSON.stringify(S)),new LN(k,this.apiClient)}}class LN{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=SI(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=wI(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ui.PLAY)}pause(){this.sendPlaybackControl(Ui.PAUSE)}stop(){this.sendPlaybackControl(Ui.STOP)}resetContext(){this.sendPlaybackControl(Ui.RESET_CONTEXT)}close(){this.conn.close()}}function FN(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function zN(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function BN(e,t,n){const r=new mb;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=EI(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class ON{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new DN(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&_v(t.config.tools)&&Rv(p);const h=GN(p);if(this.apiClient.isVertexAI())d=`${a}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const P=this.apiClient.getApiKey();let _="BidiGenerateContent",q="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),_="BidiGenerateContentConstrained",q="access_token"),d=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.${_}?${q}=${P}`}let m=()=>{};const w=new Promise(P=>{m=P}),k=t.callbacks,M=function(){var P;(P=k==null?void 0:k.onopen)===null||P===void 0||P.call(k),m({})},v=this.apiClient,S={onopen:M,onmessage:P=>{BN(v,k.onmessage,P)},onerror:(n=k==null?void 0:k.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=k==null?void 0:k.onclose)!==null&&r!==void 0?r:function(P){}},T=this.webSocketFactory.create(d,VN(h),S);T.connect(),await w;let C=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const P=this.apiClient.getProject(),_=this.apiClient.getLocation();C=`projects/${P}/locations/${_}/`+C}let I={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[oa.AUDIO]}:t.config.responseModalities=[oa.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const b=(s=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[],R=[];for(const P of b)if(this.isCallableTool(P)){const _=P;R.push(await _.tool())}else R.push(P);R.length>0&&(t.config.tools=R);const z={model:C,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?I=xI(this.apiClient,z):I=vI(this.apiClient,z),delete I.config,T.send(JSON.stringify(I)),new HN(T,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const qN={turnComplete:!0};class HN{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=dn(n.turns),t.isVertexAI()||(r=r.map(i=>Ba(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(UN)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},qN),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:TI(t)}:n={realtimeInput:kI(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function VN(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function GN(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R1=10;function P1(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ji(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ji(e){return"callTool"in e&&typeof e.callTool=="function"}function $N(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ji(i)))!==null&&r!==void 0?r:!1}function D1(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ji(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function L1(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KN extends pr{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,l,s;const a=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!$N(n)||P1(n.config))return await this.generateContentInternal(a);const u=D1(n);if(u.length>0){const k=u.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let d,p;const h=dn(a.contents),m=(o=(i=(r=a.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:R1;let w=0;for(;w<m&&(d=await this.generateContentInternal(a),!(!d.functionCalls||d.functionCalls.length===0));){const k=d.candidates[0].content,M=[];for(const v of(s=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[])if(Ji(v)){const T=await v.callTool(d.functionCalls);M.push(...T)}w++,p={role:"user",parts:M},a.contents=dn(a.contents),a.contents.push(k),a.contents.push(p),L1(a.config)&&(h.push(k),h.push(p))}return L1(a.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,o,l,s;if(this.maybeMoveToResponseJsonSchem(n),P1(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const a=D1(n);if(a.length>0){const p=a.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const a of r.generatedImages)a&&(a!=null&&a.safetyAttributes)&&((i=a==null?void 0:a.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=a==null?void 0:a.safetyAttributes:l.push(a);let s;return o?s={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new xi(ur.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,s,a;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((a=(s=n.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async a=>Ji(a)?await a.tool():a)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(s.config.tools=l,t.config&&t.config.tools&&_v(t.config.tools)){const a=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},a);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Rv(u),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ji(l)){const s=l,a=await s.tool();for(const u of(i=a.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:R1;let l=!1,s=0;const a=await this.initAfcToolsMap(t);return function(u,d,p){var h,m;return Yi(this,arguments,function*(){for(var w,k,M,v;s<o;){l&&(s++,l=!1);const I=yield Be(u.processParamsMaybeAddMcpUsage(p)),b=yield Be(u.generateContentStreamInternal(I)),R=[],z=[];try{for(var S=!0,T=(k=void 0,Jo(b)),C;C=yield Be(T.next()),w=C.done,!w;S=!0){v=C.value,S=!1;const P=v;if(yield yield Be(P),P.candidates&&(!((h=P.candidates[0])===null||h===void 0)&&h.content)){z.push(P.candidates[0].content);for(const _ of(m=P.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(s<o&&_.functionCall){if(!_.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(_.functionCall.name)){const q=yield Be(d.get(_.functionCall.name).callTool([_.functionCall]));R.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${_.functionCall.name}`)}}}}catch(P){k={error:P}}finally{try{!S&&!w&&(M=T.return)&&(yield Be(M.call(T)))}finally{if(k)throw k.error}}if(R.length>0){l=!0;const P=new Io;P.candidates=[{content:{role:"user",parts:R}}],yield yield Be(P);const _=[];_.push(...z),_.push({role:"user",parts:R});const q=dn(p.contents).concat(_);p.contents=q}else break}})}(this,a,t)}async generateContentInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=A1(this.apiClient,t);return s=te("{model}:generateContent",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=M1(d),h=new Io;return Object.assign(h,p),h})}else{const u=b1(this.apiClient,t);return s=te("{model}:generateContent",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=I1(d),h=new Io;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=A1(this.apiClient,t);return s=te("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return Yi(this,arguments,function*(){var h,m,w,k;try{for(var M=!0,v=Jo(p),S;S=yield Be(v.next()),h=S.done,!h;M=!0){k=S.value,M=!1;const T=k,C=M1(yield Be(T.json()));C.sdkHttpResponse={headers:T.headers};const I=new Io;Object.assign(I,C),yield yield Be(I)}}catch(T){m={error:T}}finally{try{!M&&!h&&(w=v.return)&&(yield Be(w.call(v)))}finally{if(m)throw m.error}}})})}else{const u=b1(this.apiClient,t);return s=te("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return Yi(this,arguments,function*(){var h,m,w,k;try{for(var M=!0,v=Jo(p),S;S=yield Be(v.next()),h=S.done,!h;M=!0){k=S.value,M=!1;const T=k,C=I1(yield Be(T.json()));C.sdkHttpResponse={headers:T.headers};const I=new Io;Object.assign(I,C),yield yield Be(I)}}catch(T){m={error:T}}finally{try{!M&&!h&&(w=v.return)&&(yield Be(w.call(v)))}finally{if(m)throw m.error}}})})}}async embedContent(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=eM(this.apiClient,t);return s=te("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=nM(d),h=new c1;return Object.assign(h,p),h})}else{const u=jI(this.apiClient,t);return s=te("{model}:batchEmbedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=tM(d),h=new c1;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=pM(this.apiClient,t);return s=te("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=mM(d),h=new d1;return Object.assign(h,p),h})}else{const u=fM(this.apiClient,t);return s=te("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=hM(d),h=new d1;return Object.assign(h,p),h})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=JI(this.apiClient,t);return o=te("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=XI(a),d=new ib;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=pN(this.apiClient,t);return o=te("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=hN(a),d=new ob;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=YM(this.apiClient,t);return o=te("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=JM(a),d=new lb;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=tN(this.apiClient,t);return o=te("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=nN(a),d=new sb;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=RM(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>yc(d))}else{const u=_M(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>gc(d))}}async listInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=qM(this.apiClient,t);return s=te("{models_url}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=VM(d),h=new f1;return Object.assign(h,p),h})}else{const u=OM(this.apiClient,t);return s=te("{models_url}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=HM(d),h=new f1;return Object.assign(h,p),h})}}async update(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=dN(this.apiClient,t);return s=te("{model}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>yc(d))}else{const u=cN(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>gc(d))}}async delete(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=$I(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=WI(d),h=new p1;return Object.assign(h,p),h})}else{const u=GI(this.apiClient,t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=KI(d),h=new p1;return Object.assign(h,p),h})}}async countTokens(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=qI(this.apiClient,t);return s=te("{model}:countTokens",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=VI(d),h=new h1;return Object.assign(h,p),h})}else{const u=OI(this.apiClient,t);return s=te("{model}:countTokens",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=HI(d),h=new h1;return Object.assign(h,p),h})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=PI(this.apiClient,t);return o=te("{model}:computeTokens",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>{const u=DI(a),d=new ab;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=SM(this.apiClient,t);return s=te("{model}:predictLongRunning",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=xM(d),h=new la;return Object.assign(h,p),h})}else{const u=wM(this.apiClient,t);return s=te("{model}:predictLongRunning",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=vM(d),h=new la;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WN extends pr{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=ZC(t);return s=te("{operationName}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l}else{const u=QC(t);return s=te("{operationName}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=GC(t);return o=te("{resourceName}:fetchPredictOperation",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YN(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function JN(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>i_(o))),f(t,["parts"],i)}const r=c(e,["role"]);return r!=null&&f(t,["role"],r),t}function XN(e,t,n){const r={},i=c(t,["expireTime"]);n!==void 0&&i!=null&&f(n,["expireTime"],i);const o=c(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&f(n,["newSessionExpireTime"],o);const l=c(t,["uses"]);n!==void 0&&l!=null&&f(n,["uses"],l);const s=c(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&f(n,["bidiGenerateContentSetup"],r_(e,s));const a=c(t,["lockAdditionalFields"]);return n!==void 0&&a!=null&&f(n,["fieldMask"],a),r}function QN(e,t){const n={},r=c(t,["config"]);return r!=null&&f(n,["config"],XN(e,r,n)),n}function ZN(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function jN(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const r=c(e,["args"]);r!=null&&f(t,["args"],r);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function e_(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function t_(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function n_(e,t){const n={},r=c(e,["generationConfig"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig"],r);const i=c(e,["responseModalities"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","responseModalities"],i);const o=c(e,["temperature"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig","temperature"],o);const l=c(e,["topP"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","topP"],l);const s=c(e,["topK"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topK"],s);const a=c(e,["maxOutputTokens"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","maxOutputTokens"],a);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const p=c(e,["speechConfig"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","speechConfig"],cf(p));const h=c(e,["thinkingConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","thinkingConfig"],h);const m=c(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],m);const w=c(e,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],JN(yt(w)));const k=c(e,["tools"]);if(t!==void 0&&k!=null){let b=ho(k);Array.isArray(b)&&(b=b.map(R=>l_(po(R)))),f(t,["setup","tools"],b)}const M=c(e,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],o_(M));const v=c(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&f(t,["setup","inputAudioTranscription"],v);const S=c(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&f(t,["setup","outputAudioTranscription"],S);const T=c(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&f(t,["setup","realtimeInputConfig"],T);const C=c(e,["contextWindowCompression"]);t!==void 0&&C!=null&&f(t,["setup","contextWindowCompression"],C);const I=c(e,["proactivity"]);return t!==void 0&&I!=null&&f(t,["setup","proactivity"],I),n}function r_(e,t){const n={},r=c(t,["model"]);r!=null&&f(n,["setup","model"],Ie(e,r));const i=c(t,["config"]);return i!=null&&f(n,["config"],n_(i,n)),n}function i_(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const r=c(e,["codeExecutionResult"]);r!=null&&f(t,["codeExecutionResult"],r);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const o=c(e,["fileData"]);o!=null&&f(t,["fileData"],ZN(o));const l=c(e,["functionCall"]);l!=null&&f(t,["functionCall"],jN(l));const s=c(e,["functionResponse"]);s!=null&&f(t,["functionResponse"],s);const a=c(e,["inlineData"]);a!=null&&f(t,["inlineData"],YN(a));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const h=c(e,["videoMetadata"]);return h!=null&&f(t,["videoMetadata"],h),t}function o_(e){const t={},n=c(e,["handle"]);if(n!=null&&f(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function l_(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(e,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const o=c(e,["fileSearch"]);o!=null&&f(t,["fileSearch"],o);const l=c(e,["codeExecution"]);if(l!=null&&f(t,["codeExecution"],l),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&f(t,["googleMaps"],e_(s));const a=c(e,["googleSearch"]);a!=null&&f(t,["googleSearch"],t_(a));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function a_(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=s_(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>l.includes(u)?`generationConfig.${u}`:u));const a=[];o&&a.push(o),s.length>0&&a.push(...s),a.length>0?e.fieldMask=a.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class u_ extends pr{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=QN(this.apiClient,t);o=te("auth_tokens",s._url),l=s._query,delete s.config,delete s._url,delete s._query;const a=a_(s,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c_(e,t){const n={},r=c(e,["displayName"]);return t!==void 0&&r!=null&&f(t,["displayName"],r),n}function d_(e){const t={},n=c(e,["config"]);return n!=null&&c_(n,t),t}function f_(e,t){const n={},r=c(e,["force"]);return t!==void 0&&r!=null&&f(t,["_query","force"],r),n}function p_(e){const t={},n=c(e,["name"]);n!=null&&f(t,["_url","name"],n);const r=c(e,["config"]);return r!=null&&f_(r,t),t}function h_(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","name"],n),t}function m_(e,t){const n={},r=c(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(t,["customMetadata"],o)}const i=c(e,["chunkingConfig"]);return t!==void 0&&i!=null&&f(t,["chunkingConfig"],i),n}function g_(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const r=c(e,["metadata"]);r!=null&&f(t,["metadata"],r);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const o=c(e,["error"]);o!=null&&f(t,["error"],o);const l=c(e,["response"]);return l!=null&&f(t,["response"],v_(l)),t}function y_(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&f(t,["_url","file_search_store_name"],n);const r=c(e,["fileName"]);r!=null&&f(t,["fileName"],r);const i=c(e,["config"]);return i!=null&&m_(i,t),t}function v_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["parent"]);r!=null&&f(t,["parent"],r);const i=c(e,["documentName"]);return i!=null&&f(t,["documentName"],i),t}function x_(e,t){const n={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function w_(e){const t={},n=c(e,["config"]);return n!=null&&x_(n,t),t}function S_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);const i=c(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(t,["fileSearchStores"],o)}return t}function k_(e,t){const n={},r=c(e,["mimeType"]);t!==void 0&&r!=null&&f(t,["mimeType"],r);const i=c(e,["displayName"]);t!==void 0&&i!=null&&f(t,["displayName"],i);const o=c(e,["customMetadata"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),f(t,["customMetadata"],s)}const l=c(e,["chunkingConfig"]);return t!==void 0&&l!=null&&f(t,["chunkingConfig"],l),n}function T_(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&f(t,["_url","file_search_store_name"],n);const r=c(e,["config"]);return r!=null&&k_(r,t),t}function E_(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_(e,t){const n={},r=c(e,["force"]);return t!==void 0&&r!=null&&f(t,["_query","force"],r),n}function b_(e){const t={},n=c(e,["name"]);n!=null&&f(t,["_url","name"],n);const r=c(e,["config"]);return r!=null&&C_(r,t),t}function A_(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","name"],n),t}function I_(e,t){const n={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function M_(e){const t={},n=c(e,["parent"]);n!=null&&f(t,["_url","parent"],n);const r=c(e,["config"]);return r!=null&&I_(r,t),t}function N_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const r=c(e,["nextPageToken"]);r!=null&&f(t,["nextPageToken"],r);const i=c(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class __ extends pr{constructor(t){super(),this.apiClient=t,this.list=async n=>new xi(ur.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=A_(t);return o=te("{name}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=b_(t);i=te("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=M_(t);return o=te("{parent}/documents",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=N_(a),d=new ub;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R_ extends pr{constructor(t,n=new __(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new xi(ur.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=d_(t);return o=te("fileSearchStores",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=h_(t);return o=te("{name}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=p_(t);i=te("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=w_(t);return o=te("fileSearchStores",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=S_(a),d=new cb;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=T_(t);return o=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=E_(a),d=new db;return Object.assign(d,u),d})}}async importFile(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=y_(t);return o=te("{file_search_store_name}:importFile",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=g_(a),d=new of;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P_(e,t){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],r),n}function D_(e,t){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],r),n}function L_(e,t,n){const r={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=c(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&f(t,["displayName"],i),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=c(e,["epochCount"]);t!==void 0&&o!=null&&f(t,["tuningTask","hyperparameters","epochCount"],o);const l=c(e,["learningRateMultiplier"]);if(l!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=c(e,["batchSize"]);t!==void 0&&s!=null&&f(t,["tuningTask","hyperparameters","batchSize"],s);const a=c(e,["learningRate"]);if(t!==void 0&&a!=null&&f(t,["tuningTask","hyperparameters","learningRate"],a),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function F_(e,t,n){const r={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=c(e,["validationDataset"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec"],F1(m))}else if(i==="PREFERENCE_TUNING"){const m=c(e,["validationDataset"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec"],F1(m))}const o=c(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&f(t,["tunedModelDisplayName"],o);const l=c(e,["description"]);t!==void 0&&l!=null&&f(t,["description"],l);let s=c(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=c(e,["epochCount"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=c(e,["epochCount"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const m=c(e,["learningRateMultiplier"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(a==="PREFERENCE_TUNING"){const m=c(e,["learningRateMultiplier"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=c(e,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=c(e,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=c(e,["adapterSize"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(d==="PREFERENCE_TUNING"){const m=c(e,["adapterSize"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=c(e,["labels"]);t!==void 0&&p!=null&&f(t,["labels"],p);const h=c(e,["beta"]);return t!==void 0&&h!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function z_(e,t){const n={},r=c(e,["baseModel"]);r!=null&&f(n,["baseModel"],r);const i=c(e,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);const o=c(e,["trainingDataset"]);o!=null&&Y_(o);const l=c(e,["config"]);return l!=null&&L_(l,n),n}function U_(e,t){const n={},r=c(e,["baseModel"]);r!=null&&f(n,["baseModel"],r);const i=c(e,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);const o=c(e,["trainingDataset"]);o!=null&&J_(o,n,t);const l=c(e,["config"]);return l!=null&&F_(l,n,t),n}function B_(e,t){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],r),n}function O_(e,t){const n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],r),n}function q_(e,t,n){const r={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&f(t,["_query","pageSize"],i);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&f(t,["_query","pageToken"],o);const l=c(e,["filter"]);return t!==void 0&&l!=null&&f(t,["_query","filter"],l),r}function H_(e,t,n){const r={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&f(t,["_query","pageSize"],i);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&f(t,["_query","pageToken"],o);const l=c(e,["filter"]);return t!==void 0&&l!=null&&f(t,["_query","filter"],l),r}function V_(e,t){const n={},r=c(e,["config"]);return r!=null&&q_(r,n),n}function G_(e,t){const n={},r=c(e,["config"]);return r!=null&&H_(r,n),n}function $_(e,t){const n={},r=c(e,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=c(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>Pv(s))),f(n,["tuningJobs"],l)}return n}function K_(e,t){const n={},r=c(e,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const o=c(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>xc(s))),f(n,["tuningJobs"],l)}return n}function W_(e,t){const n={},r=c(e,["name"]);r!=null&&f(n,["model"],r);const i=c(e,["name"]);return i!=null&&f(n,["endpoint"],i),n}function Y_(e,t){const n={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=c(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),f(n,["examples","examples"],i)}return n}function J_(e,t,n){const r={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=c(e,["gcsUri"]);t!==void 0&&l!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=c(e,["gcsUri"]);t!==void 0&&l!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=c(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=c(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=c(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Pv(e,t){const n={},r=c(e,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(e,["name"]);i!=null&&f(n,["name"],i);const o=c(e,["state"]);o!=null&&f(n,["state"],hv(o));const l=c(e,["createTime"]);l!=null&&f(n,["createTime"],l);const s=c(e,["tuningTask","startTime"]);s!=null&&f(n,["startTime"],s);const a=c(e,["tuningTask","completeTime"]);a!=null&&f(n,["endTime"],a);const u=c(e,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(e,["description"]);d!=null&&f(n,["description"],d);const p=c(e,["baseModel"]);p!=null&&f(n,["baseModel"],p);const h=c(e,["_self"]);return h!=null&&f(n,["tunedModel"],W_(h)),n}function xc(e,t){const n={},r=c(e,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(e,["name"]);i!=null&&f(n,["name"],i);const o=c(e,["state"]);o!=null&&f(n,["state"],hv(o));const l=c(e,["createTime"]);l!=null&&f(n,["createTime"],l);const s=c(e,["startTime"]);s!=null&&f(n,["startTime"],s);const a=c(e,["endTime"]);a!=null&&f(n,["endTime"],a);const u=c(e,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(e,["error"]);d!=null&&f(n,["error"],d);const p=c(e,["description"]);p!=null&&f(n,["description"],p);const h=c(e,["baseModel"]);h!=null&&f(n,["baseModel"],h);const m=c(e,["tunedModel"]);m!=null&&f(n,["tunedModel"],m);const w=c(e,["preTunedModel"]);w!=null&&f(n,["preTunedModel"],w);const k=c(e,["supervisedTuningSpec"]);k!=null&&f(n,["supervisedTuningSpec"],k);const M=c(e,["preferenceOptimizationSpec"]);M!=null&&f(n,["preferenceOptimizationSpec"],M);const v=c(e,["tuningDataStats"]);v!=null&&f(n,["tuningDataStats"],v);const S=c(e,["encryptionSpec"]);S!=null&&f(n,["encryptionSpec"],S);const T=c(e,["partnerModelTuningSpec"]);T!=null&&f(n,["partnerModelTuningSpec"],T);const C=c(e,["customBaseModel"]);C!=null&&f(n,["customBaseModel"],C);const I=c(e,["experiment"]);I!=null&&f(n,["experiment"],I);const b=c(e,["labels"]);b!=null&&f(n,["labels"],b);const R=c(e,["outputUri"]);R!=null&&f(n,["outputUri"],R);const z=c(e,["pipelineJob"]);z!=null&&f(n,["pipelineJob"],z);const P=c(e,["serviceAccount"]);P!=null&&f(n,["serviceAccount"],P);const _=c(e,["tunedModelDisplayName"]);_!=null&&f(n,["tunedModelDisplayName"],_);const q=c(e,["veoTuningSpec"]);return q!=null&&f(n,["veoTuningSpec"],q),n}function X_(e,t){const n={},r=c(e,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);const i=c(e,["name"]);i!=null&&f(n,["name"],i);const o=c(e,["metadata"]);o!=null&&f(n,["metadata"],o);const l=c(e,["done"]);l!=null&&f(n,["done"],l);const s=c(e,["error"]);return s!=null&&f(n,["error"],s),n}function F1(e,t){const n={},r=c(e,["gcsUri"]);r!=null&&f(n,["validationDatasetUri"],r);const i=c(e,["vertexDatasetResource"]);return i!=null&&f(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q_ extends pr{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new xi(ur.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:fc.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=O_(t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>xc(d))}else{const u=B_(t);return s=te("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>Pv(d))}}async listInternal(t){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=G_(t);return s=te("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=K_(d),h=new m1;return Object.assign(h,p),h})}else{const u=V_(t);return s=te("tunedModels",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=$_(d),h=new m1;return Object.assign(h,p),h})}}async cancel(t){var n,r,i,o;let l="",s={};if(this.apiClient.isVertexAI()){const a=D_(t);l=te("{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const a=P_(t);l=te("{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=U_(t,t);return o=te("tuningJobs",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>xc(a))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=z_(t);return o=te("tunedModels",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),i.then(a=>X_(a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z_{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const j_=1024*1024*8,eR=3,tR=1e3,nR=2,aa="x-goog-upload-status";async function rR(e,t,n){var r;const i=await Dv(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[aa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function iR(e,t,n){var r;const i=await Dv(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[aa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=av(o),s=new lf;return Object.assign(s,l),s}async function Dv(e,t,n){var r,i;let o=0,l=0,s=new pc(new Response),a="upload";for(o=e.size;l<o;){const u=Math.min(j_,o-l),d=e.slice(l,l+u);l+u>=o&&(a+=", finalize");let p=0,h=tR;for(;p<eR&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[aa]));)p++,await lR(h),h=h*nR;if(l+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[aa])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function oR(e){return{size:e.size,type:e.type}}function lR(e){return new Promise(t=>setTimeout(t,e))}class sR{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rR(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await iR(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await oR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aR{create(t,n,r){return new uR(t,n,r)}}class uR{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z1="x-goog-api-key";class cR{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(z1)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(z1,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dR="gl-node/";class fR{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=HC(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const i=new cR(this.apiKey);this.apiClient=new AN({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:dR+"web",uploader:new sR,downloader:new Z_}),this.models=new KN(this.apiClient),this.live=new ON(this.apiClient,i,new aR),this.batches=new yA(this.apiClient),this.chats=new ZA(this.models,this.apiClient),this.caches=new JA(this.apiClient),this.files=new aI(this.apiClient),this.operations=new WN(this.apiClient),this.authTokens=new u_(this.apiClient),this.tunings=new Q_(this.apiClient),this.fileSearchStores=new R_(this.apiClient)}}const Nn=e=>new fR({apiKey:e}),gn=(e,t)=>e.filter(r=>r.provider===t&&!r.isExhausted).map(r=>r.key),pR=`


===  DEEP RESEARCH: PHASE 1 (PLANNING) ===
USER INTENT: Deep Web Research requested via "Globe" button.
Current Status: AWAITING APPROVAL.

INSTRUCTIONS:
1. Do NOT use search tools yet.
2. Analyze the user's request.
3. Formulate a robust search strategy (keywords, domains, cross-reference points).
4. Output a RAW JSON object (strictly no markdown formatting, no code blocks) with this specific schema:
{
  "target": "String: Clear definition of the research goal",
  "vectors": ["String", "String"],
  "methodology": "String: Brief explanation of approach"
}
`,hR=`


===  DEEP RESEARCH: PHASE 2 (EXECUTION) ===
USER INTENT: Mission Plan Approved. EXECUTE IMMEDIATELY.

INSTRUCTIONS:
1. USE Google Search AGGRESSIVELY.
2. SEARCH MULTIPLE TIMES if necessary to verify facts.
3. Apply FBI-style OSINT techniques (Source Triangulation).
4. Do NOT stop at the first result. Dig deep.
5. Output format:
   ##  [MISSION_REPORT] Research Findings
   ###  Executive Summary
   [BLUF - Bottom Line Up Front]

   ###  Deep Analysis
   [Detailed breakdown, contradictions found, specific data]

   ###  Verified Sources
   - [URL]
`,mR=async(e,t,n,r,i,o=[],l,s,a,u,d)=>{var T,C,I,b;const p="https://api.deepseek.com/v1/chat/completions",h=[];let m=n.systemInstruction||"";r&&r.trim().length>0&&(m+=`

=== GLOBAL PSYCHOLOGICAL PROFILE & CONTEXT (DEEP MEMORY) ===
${r}`),i&&i.trim().length>0&&e.length>20&&(m+=`

=== PREVIOUS CONTEXT (COMPRESSED) ===
${i}`),m.trim().length>0&&h.push({role:"system",content:m});const w=20;(e.length>w?e.slice(-w):e).forEach(R=>{R.error||R.isLoading||!R.text.trim()||h.push({role:R.role===sn.USER?"user":"assistant",content:R.text})}),h.push({role:"user",content:t});const M={model:n.model,messages:h,stream:!0,temperature:n.temperature,top_p:n.topP},v=gn(l,me.DEEPSEEK);if(v.length===0)throw new Error("STRICT_NO_KEYS_DEEPSEEK");let S=null;for(const R of v){if(d!=null&&d.aborted)throw new DOMException("Aborted","AbortError");try{const z=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify(M),signal:d});if(!z.ok){const G=await z.json();throw z.status===429?new Error("429 Too Many Requests"):new Error(((T=G.error)==null?void 0:T.message)||`HTTP error! status: ${z.status}`)}const P=(C=z.body)==null?void 0:C.getReader();if(!P)throw new Error("Failed to get response reader");const _=new TextDecoder;let q="",B="";for(;;){const{done:G,value:j}=await P.read();if(G)break;if(d!=null&&d.aborted)throw new DOMException("Aborted","AbortError");B+=_.decode(j,{stream:!0});const re=B.split(`
`);B=re.pop()||"";for(const ie of re)if(ie.startsWith("data: ")){const ce=ie.substring(6);if(ce.trim()==="[DONE]")break;try{const ee=(b=(I=JSON.parse(ce).choices[0])==null?void 0:I.delta)==null?void 0:b.content;ee&&(q+=ee,s(q))}catch(V){console.error("Error parsing stream chunk:",V)}}}return u(R),q}catch(z){if(z.name==="AbortError")throw z;S=z;const P=(z.message||"").toLowerCase();if(P.includes("429")||P.includes("quota")||P.includes("too many requests")||P.includes("insufficient balance")){console.warn(`[Onyx] DeepSeek Key ...${R.slice(-4)} exhausted (Reason: ${P}). Switching...`),a(R);continue}else throw console.error("DeepSeek API Error:",z),z}}throw S||new Error("All DeepSeek API keys failed.")},gR=async(e,t,n,r,i,o=[],l=!1,s,a,u,d,p)=>{if(n.provider===me.DEEPSEEK)return mR(e,t,n,r,i,o,s,a,u,d,p);const h=20,m=3,w=[];(e.length>h?e.slice(-h):e).forEach((R,z,P)=>{if(R.error||R.isLoading)return;const _=[],B=P.length-1-z<m;R.images&&R.images.length>0&&(B?R.images.forEach(G=>{try{if(G.includes(",")){const j=G.split(",")[1],re=G.split(";")[0].split(":")[1];_.push({inlineData:{mimeType:re,data:j}})}}catch(j){console.error("[Onyx Debug] History image error",j)}}):_.push({text:"[Image History: Attachment removed to save bandwidth]"})),R.text&&R.text.trim()!==""&&_.push({text:R.text}),_.length>0&&w.push({role:R.role===sn.USER?"user":"model",parts:_})});const M=[];if(o.length>0&&o.forEach(R=>{try{const z=R.split(",")[1],P=R.split(";")[0].split(":")[1];M.push({inlineData:{mimeType:P,data:z}})}catch(z){console.error("[Onyx Debug] Current image error",z)}}),t&&t.trim()!==""&&M.push({text:t}),M.length>0)w.push({role:"user",parts:M});else if(w.length===0)return"";let v=n.systemInstruction,S=!1;const T=t.includes("[SYSTEM_CMD: MISSION_APPROVED]");l?(v+=pR,S=!0):T?(v+=hR,S=!0):n.allowSearch&&(S=!0),r&&r.trim().length>0&&(v+=`

=== GLOBAL PSYCHOLOGICAL PROFILE & CONTEXT (DEEP MEMORY) ===
${r}`),i&&i.trim().length>0&&e.length>h&&(v+=`

=== PREVIOUS CONTEXT (COMPRESSED) ===
${i}`);const C={systemInstruction:v,temperature:n.temperature,topP:n.topP,topK:n.topK};n.thinkingBudget&&n.thinkingBudget>0&&(C.thinkingConfig={thinkingBudget:n.thinkingBudget}),S&&(C.tools=[{googleSearch:{}}]);const I=gn(s,me.GEMINI);if(I.length===0)throw new Error("STRICT_NO_KEYS_GEMINI");let b=null;for(const R of I){if(p!=null&&p.aborted)throw new DOMException("Aborted","AbortError");try{console.log(`[Onyx] Attempting generation with Gemini key ending in ...${R.slice(-4)}`);const P=await Nn(R).models.generateContentStream({model:n.model,contents:w,config:C});let _="";for await(const q of P){if(p!=null&&p.aborted)throw new DOMException("Aborted","AbortError");const B=q.text;B&&(_+=B,a(_))}return d(R),_}catch(z){if(z.name==="AbortError")throw z;b=z;const P=z.message||"";if(P.includes("429")||P.includes("quota")||P.includes("Too Many Requests")){console.warn(`[Onyx] Gemini Key ...${R.slice(-4)} exhausted. Switching...`),u(R);continue}else throw console.error("Gemini API Error:",z),z}}throw b||new Error("All Gemini API keys failed.")},yR=async(e,t)=>{if(t===me.DEEPSEEK)try{return(await fetch("https://api.deepseek.com/v1/models",{headers:{Authorization:`Bearer ${e}`}})).ok}catch{return!1}try{return await Nn(e).models.generateContent({model:"gemini-2.5-flash",contents:"ping"}),!0}catch{return!1}},vR=async(e,t)=>{var r;const n=gn(t,me.GEMINI);if(n.length===0)throw new Error("No available Gemini API keys");for(const i of n)try{const o=Nn(i),l=`
            You are an expert Prompt Engineer and Persona Creator.
            Your task is to create a detailed Gemini System Instruction for a persona described as: "${e}".
            
            1. If the description is a famous character (e.g. "Tony Stark", "Gojo Satoru"), use Google Search to find their specific speech patterns, catchphrases, and personality traits.
            2. If it is a role (e.g. "Senior Rust Dev"), create a highly professional and competent instruction.
            3. Return ONLY a raw JSON object matching the schema. Do not output Markdown code blocks.
            
            JSON Schema:
            {
                "name": "Short Name",
                "description": "Short description for UI",
                "systemInstruction": "The full detailed system prompt...",
                "icon": "One of: Bot, Code2, PenTool, Sparkles, Brain, Globe, Shield, User, Terminal, Cpu",
                "temperature": 0.0 to 2.0,
                "topP": 0.0 to 1.0,
                "topK": 1 to 64
            }
            `,a=(await o.models.generateContent({model:"gemini-2.5-pro",contents:l,config:{tools:[{googleSearch:{}}]}})).text;if(!a)throw new Error("Empty response");const u=a.replace(/```json\n?|\n?```/g,"").trim();return JSON.parse(u)}catch(o){if(console.error("Persona Generation Failed",o),(r=o.message)!=null&&r.includes("429"))continue;throw o}throw new Error("Failed to generate persona with all Gemini keys")},xR=async(e,t,n,r,i)=>{var l,s;const o=gn(n,me.GEMINI);if(o.length===0)return t;for(const a of o)try{const u=Nn(a),d=e.flatMap(w=>w.keyFacts||[]).join(`
- `),p=e.map(w=>w.summary).filter(w=>w).join(`

`),h=`
            ROLE: Elite Psychologist & Biographer.
            TASK: Update the "User Profile" (Long Term Memory) based on new session data.

            INPUTS:
            - CURRENT PROFILE: "${t}"
            - NEW SESSION DATA: "${p}"
            - NEW FACTS: "${d}"

            PROTOCOL:
            1. DO NOT just list facts. ANALYZE the user.
            2. IDENTIFY:
               - Cognitive Patterns: How do they solve problems? (e.g. "Top-down thinker", "Prefers code first")
               - Implicit Traits: What do their questions reveal? (e.g. "Impatient with theory", "Values security over speed")
               - Technical Stack: What tools do they consistently use?
            3. MERGE: Combine the Old Profile with New Insights. Resolve conflicts (trust recent data).
            4. FORMAT: Create a concise but deep text profile. Use headers like [IDENTITY], [PREFERENCES], [PSYCHOLOGY], [TECHNICAL CONTEXT].

            OUTPUT: Returns ONLY the updated profile text.
            `,m=await u.models.generateContent({model:"gemini-2.5-flash",contents:h});return i(a),m.text||t}catch(u){if((l=u.message)!=null&&l.includes("429")||(s=u.message)!=null&&s.includes("quota")){r(a);continue}return t}return t},wR=({personas:e,activePersonaId:t,defaultPersonaId:n,onSelectPersona:r,onSetDefaultPersona:i,onSavePersona:o,onDeletePersona:l,apiKeys:s})=>{const[a,u]=ae.useState(!1),[d,p]=ae.useState(oi[0]),h=ae.useRef(null),[m,w]=ae.useState(!1),[k,M]=ae.useState(""),[v,S]=ae.useState(!1),T=(P,_)=>window.confirm(`Are you sure you want to delete the persona "${_}"?`)&&window.confirm(`Final Warning: This will permanently delete "${_}" and all its settings. This action cannot be undone.

Are you absolutely sure?`)?(l(P),!0):!1,C=P=>{p(P?{...P,provider:P.provider||me.GEMINI,thinkingBudget:P.thinkingBudget||0,allowSearch:P.allowSearch||!1,avatar:P.avatar||void 0}:{id:crypto.randomUUID(),name:"New Persona",description:"",systemInstruction:"",provider:me.GEMINI,model:Yo[0].value,temperature:.5,topP:.95,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Bot",avatar:void 0}),u(!0)},I=()=>{o(d),u(!1)},b=()=>{if(oi.some(q=>q.id===d.id))return;T(d.id,d.name)&&u(!1)},R=P=>{var B;const _=(B=P.target.files)==null?void 0:B[0];if(!_)return;const q=new FileReader;q.onload=G=>{var re;const j=new Image;j.onload=()=>{const ie=document.createElement("canvas"),ce=ie.getContext("2d"),V=128;let ee=j.width,N=j.height;ee>N?ee>V&&(N*=V/ee,ee=V):N>V&&(ee*=V/N,N=V),ie.width=ee,ie.height=N,ce==null||ce.drawImage(j,0,0,ee,N);const pe=ie.toDataURL("image/jpeg",.8);p({...d,avatar:pe})},j.src=(re=G.target)==null?void 0:re.result},q.readAsDataURL(_),P.target.value=""},z=async()=>{if(k.trim()){S(!0);try{const P=await vR(k,s);p({id:crypto.randomUUID(),name:P.name||"AI Generated",description:P.description||k,systemInstruction:P.systemInstruction||"",provider:me.GEMINI,model:"gemini-2.5-flash",temperature:P.temperature||.7,topP:P.topP||.95,topK:P.topK||40,thinkingBudget:0,allowSearch:!1,icon:P.icon||"Bot",avatar:void 0}),w(!1),M(""),u(!0)}catch(P){alert("Failed to generate persona. Ensure you have a valid Gemini API Key."),console.error(P)}finally{S(!1)}}};if(a){const P=oi.some(B=>B.id===d.id),_=e.some(B=>B.id===d.id),q=d.provider===me.DEEPSEEK?fm:Yo;return x.jsxs("div",{className:"space-y-6 animate-fade-in p-1",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h2",{className:"text-xl font-bold",children:"Edit Persona"}),x.jsxs("div",{className:"flex items-center gap-2",children:[!P&&_&&x.jsx("button",{onClick:b,className:"p-2 text-onyx-textMuted hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete Persona (Double Confirm)",children:x.jsx(X,{name:"Trash2",size:20})}),x.jsx("button",{onClick:()=>u(!1),className:"text-sm text-onyx-textMuted hover:text-white px-3 py-1.5 rounded-lg hover:bg-onyx-surfaceLight",children:"Cancel"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"relative group w-16 h-16 rounded-2xl bg-onyx-surfaceLight border border-onyx-border shrink-0 overflow-hidden cursor-pointer",onClick:()=>{var B;return(B=h.current)==null?void 0:B.click()},children:[d.avatar?x.jsx("img",{src:d.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):x.jsx("div",{className:"w-full h-full flex items-center justify-center text-onyx-textMuted",children:x.jsx(X,{name:"Image",size:24})}),x.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:x.jsx(X,{name:"PenTool",size:16})}),x.jsx("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:R})]}),x.jsx("div",{className:"flex-1 space-y-2",children:x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"Name"}),x.jsx("input",{type:"text",value:d.name,onChange:B=>p({...d,name:B.target.value}),className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-2.5 focus:outline-none focus:border-onyx-accent transition-colors"})]})})]}),d.avatar&&x.jsx("button",{onClick:()=>p({...d,avatar:void 0}),className:"text-[10px] text-red-400 hover:text-red-300 underline",children:"Remove Custom Avatar"}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"Provider"}),x.jsxs("select",{value:d.provider,onChange:B=>{const G=B.target.value,j=G===me.DEEPSEEK?fm[0].value:Yo[0].value;p({...d,provider:G,model:j})},className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-3 focus:outline-none focus:border-onyx-accent",children:[x.jsx("option",{value:me.GEMINI,children:"Gemini"}),x.jsx("option",{value:me.DEEPSEEK,children:"DeepSeek"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"Model"}),x.jsx("select",{value:d.model,onChange:B=>p({...d,model:B.target.value}),className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-3 focus:outline-none focus:border-onyx-accent",children:q.map(B=>x.jsx("option",{value:B.value,children:B.label},B.value))})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"System Instruction (The Prompt)"}),x.jsx("textarea",{value:d.systemInstruction,onChange:B=>p({...d,systemInstruction:B.target.value}),rows:4,className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-3 focus:outline-none focus:border-onyx-accent resize-none",placeholder:"e.g., You are an expert Python coder..."})]}),d.provider===me.GEMINI&&x.jsxs("div",{className:"p-4 bg-onyx-surfaceLight/30 border border-onyx-border rounded-xl space-y-4",children:[x.jsx("h3",{className:"text-xs font-bold uppercase text-onyx-textMuted tracking-wider mb-2",children:"Gemini Advanced Capabilities"}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-1",children:[x.jsxs("label",{className:"block text-xs uppercase text-onyx-textMuted flex items-center gap-1",children:[x.jsx(X,{name:"Lightbulb",size:12})," Thinking Budget"]}),x.jsxs("span",{className:"text-xs font-mono text-onyx-accent",children:[d.thinkingBudget," Tokens"]})]}),x.jsx(Ku,{min:0,max:32768,step:1024,value:d.thinkingBudget||0,onChange:B=>p({...d,thinkingBudget:B})}),x.jsx("p",{className:"text-[10px] text-onyx-textMuted mt-1",children:"Set to 0 to disable thinking. Max 32k for complex reasoning."})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("label",{className:"text-xs uppercase text-onyx-textMuted flex items-center gap-1",children:[x.jsx(X,{name:"Globe",size:12})," Google Search Grounding"]}),x.jsx("button",{onClick:()=>p({...d,allowSearch:!d.allowSearch}),className:"text-onyx-accent",children:x.jsx(X,{name:d.allowSearch?"ToggleRight":"ToggleLeft",size:28,className:d.allowSearch?"text-onyx-accent":"text-onyx-textMuted"})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-1",children:[x.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted",children:"Temperature"}),x.jsx("span",{className:"text-xs text-onyx-textMuted",children:d.temperature})]}),x.jsx(Ku,{min:0,max:2,step:.1,value:d.temperature,onChange:B=>p({...d,temperature:parseFloat(B.toFixed(1))})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-1",children:[x.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted",children:"Top P"}),x.jsx("span",{className:"text-xs text-onyx-textMuted",children:d.topP})]}),x.jsx(Ku,{min:0,max:1,step:.05,value:d.topP,onChange:B=>p({...d,topP:parseFloat(B.toFixed(2))})})]})]})]}),x.jsx("button",{onClick:I,className:"w-full py-3 bg-onyx-accent text-white rounded-xl font-bold hover:bg-blue-600 transition-colors",children:"Save Persona"})]})}return x.jsxs("div",{className:"space-y-4",children:[m&&x.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur flex items-center justify-center p-6 rounded-3xl animate-fade-in",children:x.jsxs("div",{className:"bg-onyx-surface w-full max-w-sm rounded-2xl border border-onyx-border p-6 shadow-2xl space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[x.jsx(X,{name:"Sparkles",className:"text-pink-400"})," AI Generator"]}),x.jsx("button",{onClick:()=>w(!1),className:"p-1 hover:bg-white/10 rounded",children:x.jsx(X,{name:"X",size:16})})]}),x.jsx("p",{className:"text-xs text-onyx-textMuted",children:"Describe the persona you want. Onyx will use Gemini to research and create it for you."}),x.jsx("input",{type:"text",autoFocus:!0,value:k,onChange:P=>M(P.target.value),onKeyDown:P=>P.key==="Enter"&&z(),placeholder:"e.g., 'A grumpy linux sysadmin'",className:"w-full bg-onyx-black border border-onyx-border rounded-xl p-3 text-sm focus:border-pink-400 focus:outline-none"}),x.jsxs("button",{onClick:z,disabled:v||!k.trim(),className:"w-full py-2.5 bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl font-bold text-white shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[v?x.jsx(X,{name:"RefreshCw",className:"animate-spin"}):x.jsx(X,{name:"Sparkles"}),v?"Generating...":"Create Persona"]})]})}),x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-bold uppercase text-onyx-textMuted tracking-wider",children:"Available Personas"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>w(!0),className:"text-xs bg-gradient-to-r from-pink-500/20 to-purple-500/20 text-pink-300 hover:text-white border border-pink-500/30 hover:border-pink-400 px-3 py-1.5 rounded-lg transition-all flex items-center gap-1.5 shadow-lg shadow-pink-900/10",children:[x.jsx(X,{name:"Sparkles",size:12})," AI Gen"]}),x.jsxs("button",{onClick:()=>C(),className:"text-xs bg-onyx-surfaceLight hover:bg-onyx-border px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[x.jsx(X,{name:"Plus",size:12})," Manual"]})]})]}),x.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[400px] overflow-y-auto pr-1",children:e.map(P=>{const _=P.id===n,q=t===P.id,B=oi.some(G=>G.id===P.id);return x.jsx("div",{className:`
                        group p-4 rounded-2xl border transition-all cursor-pointer relative
                        ${q?"border-onyx-accent bg-onyx-accent/10":"border-onyx-border bg-onyx-surface hover:bg-onyx-surfaceLight"}
                    `,onClick:()=>r(P),children:x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsxs("div",{className:`
                            w-12 h-12 rounded-xl relative shrink-0 flex items-center justify-center overflow-hidden
                            ${q?"bg-onyx-accent text-white":"bg-onyx-surfaceLight text-onyx-textMuted"}
                        `,children:[P.avatar?x.jsx("img",{src:P.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):x.jsx(X,{name:P.icon,size:24}),_&&x.jsx("div",{className:"absolute top-0 right-0 bg-yellow-500 text-black p-0.5 rounded-bl-lg",title:"Default Persona",children:x.jsx(X,{name:"Star",size:8,className:"fill-current"})})]}),x.jsxs("div",{className:"flex-1 min-w-0 pr-16",children:[x.jsx("div",{className:"flex items-center gap-2",children:x.jsx("h4",{className:"font-bold truncate text-white",children:P.name})}),x.jsx("p",{className:"text-xs text-onyx-textMuted truncate mt-1",children:P.description}),x.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[x.jsx("span",{className:"text-[10px] bg-black/50 px-2 py-0.5 rounded border border-white/10 text-onyx-textMuted font-bold",children:P.provider===me.DEEPSEEK?"DS":"G"}),x.jsx("span",{className:"text-[10px] bg-black/50 px-2 py-0.5 rounded border border-white/10 text-onyx-textMuted",children:P.model.replace("gemini-","").replace("deepseek-","")}),_&&x.jsxs("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-500 px-2 py-0.5 rounded border border-yellow-500/30 flex items-center gap-1",children:[x.jsx(X,{name:"Star",size:8})," Default"]}),P.allowSearch&&P.provider===me.GEMINI&&x.jsxs("span",{className:"text-[10px] bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded border border-blue-500/30 flex items-center gap-1",children:[x.jsx(X,{name:"Globe",size:8})," Web"]}),P.thinkingBudget&&P.thinkingBudget>0&&P.provider===me.GEMINI&&x.jsxs("span",{className:"text-[10px] bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded border border-purple-500/30 flex items-center gap-1",children:[x.jsx(X,{name:"Lightbulb",size:8})," Thinking"]})]})]}),x.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 items-end z-10",children:[q&&x.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-onyx-accent font-bold uppercase tracking-wider mb-1",children:[x.jsx("div",{className:"w-1.5 h-1.5 bg-onyx-accent rounded-full animate-pulse"}),"Active"]}),x.jsxs("div",{className:"flex items-center gap-1 transition-opacity",children:[!_&&x.jsx("button",{onClick:G=>{G.stopPropagation(),i(P.id)},className:"p-1.5 bg-onyx-surfaceLight hover:bg-yellow-500/20 hover:text-yellow-400 rounded-lg transition-colors",title:"Set as Default for new chats",children:x.jsx(X,{name:"Star",size:14})}),x.jsx("button",{onClick:G=>{G.stopPropagation(),C(P)},className:"p-1.5 bg-onyx-surfaceLight hover:bg-white/20 text-onyx-textMuted hover:text-white rounded-lg transition-colors",title:"Edit",children:x.jsx(X,{name:"PenTool",size:14})}),!B&&x.jsx("button",{onClick:G=>{G.stopPropagation(),T(P.id,P.name)},className:"p-1.5 bg-onyx-surfaceLight hover:bg-red-500/20 hover:text-red-400 rounded-lg transition-colors",title:"Delete (Double Confirm)",children:x.jsx(X,{name:"Trash2",size:14})})]})]})]})},P.id)})})]})},SR=({isOpen:e,onClose:t,personas:n,activePersonaId:r,defaultPersonaId:i,onSelectPersona:o,onSetDefaultPersona:l,onSavePersona:s,onDeletePersona:a,globalMemory:u,onUpdateGlobalMemory:d,onSaveManualMemory:p,isUpdatingMemory:h,autoUpdateMemory:m,onToggleAutoUpdateMemory:w,apiKeys:k,onAddApiKey:M,onRemoveApiKey:v,onResetKeyStatus:S,userAvatar:T,onUpdateUserAvatar:C,onExportData:I,onImportData:b})=>{const[R,z]=ae.useState("personas"),[P,_]=ae.useState(u),q=ae.useRef(null),[B,G]=ae.useState(me.GEMINI),[j,re]=ae.useState(""),[ie,ce]=ae.useState(""),[V,ee]=ae.useState(!1),[N,pe]=ae.useState(!1);ae.useEffect(()=>{_(u)},[u]);const ge=async()=>{if(!j.trim())return;if(k.some(Pe=>Pe.key===j.trim())){alert("This API key is already added.");return}pe(!0);const le=await yR(j,B);pe(!1),le?(M(j,ie||`${B} Key ${k.filter(Pe=>Pe.provider===B).length+1}`,B),re(""),ce("")):alert(`Invalid ${B} API Key. Please check and try again.`)},F=le=>{var wt;const Pe=(wt=le.target.files)==null?void 0:wt[0];if(!Pe)return;const Qe=new FileReader;Qe.onload=St=>{var wi;const tn=new Image;tn.onload=()=>{const mr=document.createElement("canvas"),Gn=mr.getContext("2d"),nn=128;let Ht=tn.width,Nt=tn.height;Ht>Nt?Ht>nn&&(Nt*=nn/Ht,Ht=nn):Nt>nn&&(Ht*=nn/Nt,Nt=nn),mr.width=Ht,mr.height=Nt,Gn==null||Gn.drawImage(tn,0,0,Ht,Nt);const gr=mr.toDataURL("image/jpeg",.8);C(gr)},tn.src=(wi=St.target)==null?void 0:wi.result},Qe.readAsDataURL(Pe),le.target.value=""};if(!e)return null;const ze=k.findIndex(le=>!le.isExhausted&&le.provider===B),Xe=k.filter(le=>le.provider===B);return x.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[x.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:t}),x.jsxs("div",{className:"relative bg-onyx-surface w-full max-w-lg rounded-3xl border border-onyx-border shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[x.jsxs("div",{className:"p-6 border-b border-onyx-border flex items-center justify-between bg-onyx-surface",children:[x.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),x.jsx("button",{onClick:t,className:"p-2 hover:bg-onyx-surfaceLight rounded-full transition-colors",children:x.jsx(X,{name:"X",size:20})})]}),x.jsxs("div",{className:"flex border-b border-onyx-border",children:[x.jsx("button",{onClick:()=>z("personas"),className:`flex-1 py-4 text-sm font-medium transition-colors border-b-2 ${R==="personas"?"border-onyx-accent text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"Personas"}),x.jsx("button",{onClick:()=>z("memory"),className:`flex-1 py-4 text-sm font-medium transition-colors border-b-2 ${R==="memory"?"border-pink-500 text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"Memory"}),x.jsx("button",{onClick:()=>z("general"),className:`flex-1 py-4 text-sm font-medium transition-colors border-b-2 ${R==="general"?"border-onyx-accent text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"General"})]}),x.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[R==="general"&&x.jsxs("div",{className:"space-y-6 animate-fade-in",children:[x.jsxs("div",{className:"p-4 bg-onyx-surfaceLight rounded-xl border border-onyx-border",children:[x.jsx("h3",{className:"text-sm font-bold text-onyx-textMuted uppercase mb-3",children:"User Profile"}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"relative group w-16 h-16 rounded-full overflow-hidden bg-onyx-black border-2 border-onyx-border shrink-0",children:[T?x.jsx("img",{src:T,alt:"User",className:"w-full h-full object-cover"}):x.jsx("div",{className:"w-full h-full flex items-center justify-center text-onyx-textMuted",children:x.jsx(X,{name:"User",size:24})}),x.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:x.jsx("button",{onClick:()=>{var le;return(le=q.current)==null?void 0:le.click()},className:"text-white",children:x.jsx(X,{name:"PenTool",size:16})})})]}),x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsx("p",{className:"text-xs text-onyx-textMuted",children:"Set a profile picture. It is compressed and stored locally on your device."}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>{var le;return(le=q.current)==null?void 0:le.click()},className:"text-xs px-3 py-1.5 bg-onyx-accent hover:bg-blue-600 rounded-lg text-white font-medium transition-colors",children:"Upload Image"}),T&&x.jsx("button",{onClick:()=>C(void 0),className:"text-xs px-3 py-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors border border-red-500/30",children:"Remove"})]}),x.jsx("input",{type:"file",ref:q,className:"hidden",accept:"image/*",onChange:F})]})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-sm font-bold text-onyx-textMuted uppercase",children:"API Key Manager"}),x.jsxs("span",{className:"text-[10px] bg-onyx-surfaceLight px-2 py-1 rounded text-onyx-textMuted",children:[k.length," Total Keys"]})]}),x.jsx("p",{className:"text-xs text-onyx-textMuted",children:"Add keys for different providers. Onyx automatically switches if a key hits its rate limit."}),x.jsxs("div",{className:"flex border-b border-onyx-border mb-3",children:[x.jsx("button",{onClick:()=>G(me.GEMINI),className:`flex-1 py-2 text-xs font-bold transition-colors border-b-2 ${B===me.GEMINI?"border-onyx-accent text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"Gemini"}),x.jsx("button",{onClick:()=>G(me.DEEPSEEK),className:`flex-1 py-2 text-xs font-bold transition-colors border-b-2 ${B===me.DEEPSEEK?"border-purple-400 text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"DeepSeek"})]}),x.jsxs("div",{className:"p-4 bg-onyx-surfaceLight rounded-xl border border-onyx-border space-y-3",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",placeholder:"Label (Optional)",value:ie,onChange:le=>ce(le.target.value),className:"w-1/3 bg-onyx-black border border-onyx-border rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-onyx-accent"}),x.jsxs("div",{className:"relative flex-1",children:[x.jsx("input",{type:V?"text":"password",placeholder:`${B} API Key...`,value:j,onChange:le=>re(le.target.value),className:"w-full bg-onyx-black border border-onyx-border rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-onyx-accent pr-10"}),x.jsx("button",{onClick:()=>ee(!V),className:"absolute right-2 top-2 text-onyx-textMuted hover:text-white",children:x.jsx(X,{name:V?"ToggleRight":"ToggleLeft",size:16})})]})]}),x.jsx("button",{onClick:ge,disabled:!j||N,className:"w-full py-2 bg-onyx-accent text-white rounded-lg text-xs font-bold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Validating...":`Add ${B} Key`})]}),Xe.length>0&&x.jsx("div",{className:"space-y-3 mt-4",children:Xe.map((le,Pe)=>{const Qe=Pe===ze,St=Math.min((le.usageCount||0)/1500*100,100);return x.jsxs("div",{className:`
                                                relative p-3 bg-onyx-surfaceLight/50 border rounded-xl transition-all
                                                ${Qe&&!le.isExhausted?"border-onyx-accent shadow-[0_0_15px_rgba(61,139,255,0.1)]":"border-onyx-border opacity-80"}
                                                ${le.isExhausted?"border-red-500/50":""}
                                            `,children:[Qe&&!le.isExhausted&&x.jsx("div",{className:"absolute -top-2.5 right-3 bg-onyx-accent text-white text-[9px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider shadow-lg",children:"Active Now"}),x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${le.isExhausted?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.6)]":"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]"}`,title:le.isExhausted?"Quota Exhausted":"Active"}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-sm font-bold flex items-center gap-2",children:[le.label,le.isExhausted&&x.jsx("span",{className:"text-[10px] text-red-400 font-normal",children:"(Limit Reached)"})]}),x.jsxs("div",{className:"text-[10px] text-onyx-textMuted font-mono",children:[le.key.substring(0,8),"...",le.key.slice(-4)]})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[le.isExhausted&&x.jsx("button",{onClick:()=>S(le.key),className:"p-1.5 text-[10px] bg-green-500/10 text-green-400 hover:bg-green-500/20 border border-green-500/30 rounded-lg transition-colors",title:"Reset status",children:"Reset"}),x.jsx("button",{onClick:()=>{confirm("Delete this API Key?")&&v(le.key)},className:"p-1.5 text-onyx-textMuted hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:x.jsx(X,{name:"Trash2",size:14})})]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex justify-between text-[10px] text-onyx-textMuted",children:[x.jsx("span",{children:"Activity"}),x.jsxs("span",{children:[le.usageCount||0," reqs"]})]}),x.jsx("div",{className:"h-1.5 w-full bg-onyx-black rounded-full overflow-hidden border border-onyx-border/50",children:x.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${le.isExhausted?"bg-red-500 w-full":"bg-gradient-to-r from-green-500 to-yellow-500"}`,style:{width:le.isExhausted?"100%":`${Math.max(St,2)}%`}})})]})]},le.key)})})]}),x.jsxs("div",{className:"p-4 bg-onyx-surfaceLight rounded-xl border border-onyx-border mt-8",children:[x.jsx("h3",{className:"text-sm font-bold text-onyx-textMuted uppercase mb-2",children:"Application Data"}),x.jsx("p",{className:"text-xs text-onyx-textMuted mb-4",children:"Backup or restore all your chat history, personas, and settings."}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[x.jsxs("button",{onClick:b,className:"flex items-center justify-center gap-2 w-full py-3 border border-onyx-border bg-onyx-surface hover:bg-onyx-border text-white text-sm rounded-xl transition-colors",children:[x.jsx(X,{name:"Upload",size:16}),"Import"]}),x.jsxs("button",{onClick:I,className:"flex items-center justify-center gap-2 w-full py-3 border border-onyx-border bg-onyx-surface hover:bg-onyx-border text-white text-sm rounded-xl transition-colors",children:[x.jsx(X,{name:"Download",size:16}),"Export"]})]}),x.jsx("button",{className:"w-full py-3 border border-red-500/30 bg-red-500/10 text-red-400 text-sm hover:bg-red-500/20 rounded-xl transition-colors",onClick:()=>{confirm("This will permanently delete all chat history, personas, and settings. Are you sure?")&&(localStorage.clear(),window.location.reload())},children:"Reset Application Data"})]})]}),R==="personas"&&x.jsx(wR,{personas:n,activePersonaId:r,defaultPersonaId:i,onSelectPersona:o,onSetDefaultPersona:l,onSavePersona:s,onDeletePersona:a,apiKeys:k}),R==="memory"&&x.jsxs("div",{className:"space-y-6 animate-fade-in",children:[x.jsxs("div",{className:"bg-pink-500/10 border border-pink-500/20 p-4 rounded-xl flex items-start gap-3",children:[x.jsx(X,{name:"Brain",size:24,className:"text-pink-500 shrink-0 mt-1"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-pink-500 text-sm mb-1",children:'Global Memory ("Know Me")'}),x.jsx("p",{className:"text-xs text-onyx-textMuted",children:"Onyx can learn about you from your chats. Consolidate facts here to inject into new conversations. (Gemini-only feature)"})]})]}),x.jsxs("div",{className:"bg-onyx-surfaceLight/30 border border-onyx-border p-4 rounded-xl flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-xs font-bold uppercase text-onyx-textMuted mb-1",children:"Auto-Learn Instructions"}),x.jsx("p",{className:"text-[10px] text-onyx-textMuted max-w-[250px]",children:'If enabled, Onyx will detect phrases like "From now on..." and automatically update your global memory.'})]}),x.jsx("button",{onClick:w,className:`transition-colors ${m?"text-pink-400":"text-onyx-textMuted"}`,children:x.jsx(X,{name:m?"ToggleRight":"ToggleLeft",size:32})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("label",{className:"text-xs uppercase text-onyx-textMuted",children:"User Profile / Context"}),x.jsxs("button",{onClick:d,disabled:h,className:`
                                    text-xs flex items-center gap-1 px-3 py-1.5 rounded-lg border transition-all
                                    ${h?"bg-onyx-surface border-onyx-border text-onyx-textMuted cursor-wait":"bg-pink-600 hover:bg-pink-500 border-transparent text-white shadow-lg shadow-pink-900/20"}
                                `,children:[x.jsx(X,{name:"RefreshCw",size:12,className:h?"animate-spin":""}),h?"Consolidating...":"Beni Tan (Consolidate)"]})]}),x.jsx("textarea",{value:P,onChange:le=>_(le.target.value),onBlur:()=>p(P),rows:10,className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-4 text-sm focus:outline-none focus:border-pink-500 transition-colors font-mono",placeholder:"No memory established yet. Start chatting or type here manually."}),x.jsx("p",{className:"text-[10px] text-onyx-textMuted mt-2 text-right",children:"Changes are saved automatically when you click outside the text box."})]})]})]})]})]})},U1=({currentPersona:e,personas:t,onSelect:n})=>{var s;const[r,i]=ae.useState(!1),o=ae.useRef(null);ae.useEffect(()=>{const a=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const l=(s=Yo.find(a=>a.value===e.model))==null?void 0:s.premium;return x.jsxs("div",{className:"relative",ref:o,children:[x.jsxs("button",{onClick:()=>i(!r),className:`
            flex items-center gap-2 px-3 lg:px-4 py-2 rounded-full text-xs font-medium transition-all duration-300 border
            ${r?"bg-onyx-surface border-onyx-accent text-white shadow-[0_0_20px_rgba(61,139,255,0.2)]":"bg-onyx-surfaceLight/80 backdrop-blur border-onyx-border hover:bg-onyx-surfaceLight text-onyx-textMuted hover:text-white"}
        `,children:[e.avatar?x.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-5 h-5 rounded-full object-cover"}):x.jsx(X,{name:e.icon,size:14,className:"text-onyx-accent"}),x.jsx("span",{className:"text-white truncate max-w-[80px] sm:max-w-none",children:e.name}),x.jsx("span",{className:"hidden sm:inline text-onyx-textMuted mx-1 opacity-50",children:"|"}),x.jsxs("div",{className:"hidden sm:flex items-center gap-1.5",children:[x.jsx("span",{className:"text-[10px] bg-white/10 px-1.5 rounded font-bold",children:e.provider===me.DEEPSEEK?"DS":"G"}),x.jsx("span",{className:"text-onyx-textMuted",children:e.model.replace("gemini-","").replace("deepseek-","")}),l&&e.provider===me.GEMINI&&x.jsx(X,{name:"Crown",size:12,className:"text-yellow-500"})]}),x.jsx(X,{name:"ChevronRight",size:12,className:`text-onyx-textMuted transition-transform duration-300 ${r?"rotate-90 text-white":""}`})]}),r&&x.jsxs("div",{className:"absolute right-0 top-full mt-3 w-72 lg:w-80 max-h-[60vh] overflow-y-auto bg-onyx-surface border border-onyx-border rounded-2xl shadow-2xl p-2 z-50 animate-slide-up flex flex-col gap-1 scrollbar-hide",children:[x.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[x.jsx("span",{className:"text-[10px] font-bold text-onyx-textMuted uppercase tracking-wider",children:"Switch Persona"}),x.jsxs("span",{className:"text-[10px] bg-onyx-surfaceLight px-1.5 py-0.5 rounded text-onyx-textMuted border border-onyx-border",children:[t.length," Available"]})]}),x.jsx("div",{className:"space-y-1",children:t.map(a=>{var p;const u=a.id===e.id,d=(p=Yo.find(h=>h.value===a.model))==null?void 0:p.premium;return x.jsxs("button",{onClick:()=>{n(a),i(!1)},className:`
                                w-full flex items-center gap-3 p-3 rounded-xl transition-all text-left group
                                ${u?"bg-onyx-accent/10 border border-onyx-accent/40 shadow-inner":"hover:bg-onyx-surfaceLight border border-transparent"}
                            `,children:[a.avatar?x.jsx("img",{src:a.avatar,alt:"Avatar",className:"w-9 h-9 rounded-full object-cover border border-onyx-border"}):x.jsx("div",{className:`
                                    p-2.5 rounded-xl shrink-0 transition-colors
                                    ${u?"bg-onyx-accent text-white shadow-lg shadow-blue-500/20":"bg-onyx-surfaceLight text-onyx-textMuted group-hover:bg-onyx-border group-hover:text-white"}
                                `,children:x.jsx(X,{name:a.icon,size:18})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:`text-sm font-bold truncate ${u?"text-white":"text-onyx-text group-hover:text-white"}`,children:a.name}),u&&x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-onyx-accent shadow-[0_0_5px_rgba(61,139,255,1)]"})]}),x.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[x.jsx("span",{className:"text-[10px] text-onyx-textMuted font-bold bg-white/5 px-1.5 rounded border border-white/5",children:a.provider===me.DEEPSEEK?"DS":"G"}),x.jsx("span",{className:"text-[10px] text-onyx-textMuted truncate bg-white/5 px-1.5 rounded border border-white/5",children:a.model.replace("gemini-","").replace("deepseek-","")}),d&&a.provider===me.GEMINI&&x.jsxs("div",{className:"flex items-center gap-0.5 text-[10px] text-yellow-500 bg-yellow-500/10 px-1 rounded border border-yellow-500/20",children:[x.jsx(X,{name:"Crown",size:10}),x.jsx("span",{children:"PRO"})]})]})]})]},a.id)})})]})]})},Lv=e=>{try{const t=e.match(/\{[\s\S]*\}|\[[\s\S]*\]/),n=t?t[0]:e;return JSON.parse(n)}catch(t){return console.error("JSON Parse Error in Workspace:",t),null}},kR=(e,t,n,r)=>{const o=`- [${new Date().toLocaleString("tr-TR")}] **${t}**: ${n} ${r?`(File: \`${r}\`)`:""}`;return!e||!e.includes("#  PROJECT ACTION MAP")?`#  PROJECT ACTION MAP
> This file tracks the entire evolution of the project. Do not edit manually.

${o}`:`${e}
${o}`},Wu=async(e,t,n)=>{const r=gn(n,me.GEMINI);if(!r.length)throw new Error("No Gemini keys available for Indexing");const i=Nn(r[0]),l=t.split(`
`).map((d,p)=>`${p+1}: ${d}`).join(`
`),s=`
    ROLE: Senior Code Architect.
    TASK: Analyze the file "${e}" and create a structural "Roadmap".
    
    GOAL: Break the code into logical sections (e.g., Imports, Class Definitions, Specific Functions, CSS Blocks, HTML sections).
    This roadmap will be used to apply targeted patches later, so ensure startLine and endLine are accurate.

    FILE CONTENT (with line numbers):
    ${l}

    OUTPUT: Return ONLY a raw JSON array.
    SCHEMA:
    [
        {
            "id": "unique_id_for_section",
            "name": "Human readable name",
            "description": "What this block does",
            "startLine": number,
            "endLine": number
        }
    ]
    `,a=await i.models.generateContent({model:"gemini-2.5-flash",contents:s,config:{responseMimeType:"application/json"}}),u=Lv(a.text||"[]");return Array.isArray(u)?u:[]},TR=async(e,t,n)=>{if(!t.roadmap||t.roadmap.length===0)return null;const r=gn(n,me.GEMINI);if(!r.length)return null;const i=Nn(r[0]),o=`
    TASK: Determine which section of the file needs modification based on the user request.
    USER REQUEST: "${e}"
    FILE: "${t.name}"
    
    ROADMAP:
    ${JSON.stringify(t.roadmap)}

    INSTRUCTION: Return a JSON object with the 'id' of the section that is most relevant to the request. 
    If the request requires changing the whole file or adding a new section at the end, return "id": "FULL_FILE".

    JSON SCHEMA: { "id": "string" }
    `,l=await i.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json"}}),s=Lv(l.text||"{}");return(s==null?void 0:s.id)||null},ER=async(e,t,n,r,i,o="")=>{var k;const l=gn(i,me.GEMINI);if(!l.length)throw new Error("No keys available");const s=Nn(l[0]);let a="",u="";const d=t.content.split(`
`),p=(k=t.roadmap)==null?void 0:k.find(M=>M.id===n);p&&n!=="FULL_FILE"?(a=d.slice(p.startLine-1,p.endLine).join(`
`),u=`EDITING SECTION: ${p.name} (Lines ${p.startLine}-${p.endLine})`):(a=t.content,u="EDITING FULL FILE");const h=`
    ROLE: ${r.name} (${r.description})
    TASK: Perform the requested change on the provided code block.
    
    === PROJECT EVOLUTION (ACTION MAP) ===
    The following log shows everything that has happened in this project so far. Use this to understand why certain decisions were made and to maintain consistency.
    ${o||"No history available yet."}
    ======================================

    USER REQUEST: "${e}"
    
    ${u}
    
    CURRENT CODE:
    \`\`\`
    ${a}
    \`\`\`

    INSTRUCTIONS:
    1. Return ONLY the new code for this section.
    2. Do NOT include markdown code blocks (unless the file content itself is markdown).
    3. Maintain indentation.
    4. If the user asks to "Change the header color", only return the CSS block for the header, not the whole file.
    `;let w=(await s.models.generateContent({model:"gemini-2.5-pro",contents:h})).text||"";return w=w.replace(/^```[\w]*\n/,"").replace(/\n```$/,""),w},CR=(e,t,n)=>{if(!e.roadmap||t==="FULL_FILE")return n;const r=e.roadmap.find(s=>s.id===t);if(!r)return n;const i=e.content.split(`
`),o=i.slice(0,r.startLine-1),l=i.slice(r.endLine);return[...o,n,...l].join(`
`)},xn="ACTION_MAP.md",bR=({workspace:e,currentPersona:t,apiKeys:n,onUpdateWorkspace:r})=>{const[i,o]=ae.useState(""),[l,s]=ae.useState(!1);ae.useEffect(()=>{if(!e.files.some(S=>S.name===xn)){const S=`#  PROJECT ACTION MAP
> This file tracks the entire evolution of the project. Do not edit manually.

- [${new Date().toLocaleString("tr-TR")}] **INIT**: Workspace initialized.`,T={id:En(),name:xn,content:S,language:"markdown",lastModified:Date.now(),isIndexing:!1};r(C=>({...C,files:[T,...C.files]}))}},[]);const a=(v,S,T)=>{r(C=>{const I=C.files.find(R=>R.name===xn);if(!I)return C;const b=kR(I.content,v,S,T);return{...C,files:C.files.map(R=>R.id===I.id?{...R,content:b,lastModified:Date.now()}:R)}})},u=v=>new Promise((S,T)=>{const C=new FileReader;C.onload=I=>{var b;S({name:v.name,content:((b=I.target)==null?void 0:b.result)||"",language:v.name.split(".").pop()||"text"})},C.onerror=I=>T(I),C.readAsText(v)}),d=async v=>{const S=v.target.files;if(!S||S.length===0)return;const T=Array.from(S);try{const I=(await Promise.all(T.map(b=>u(b)))).map(b=>({id:En(),name:b.name,content:b.content,language:b.language,lastModified:Date.now(),isIndexing:!0}));r(b=>({...b,files:[...I,...b.files],activeFileId:I[0].id})),a("UPLOAD",`Batch upload: ${I.map(b=>b.name).join(", ")}`),I.forEach(async b=>{if(gn(n,me.GEMINI).length===0){r(z=>({...z,files:z.files.map(P=>P.id===b.id?{...P,isIndexing:!1}:P)}));return}try{const z=await Wu(b.name,b.content,n);r(P=>({...P,files:P.files.map(_=>_.id===b.id?{..._,roadmap:z,isIndexing:!1}:_)}))}catch(z){console.error(`Indexing failed for ${b.name}`,z),r(P=>({...P,files:P.files.map(_=>_.id===b.id?{..._,isIndexing:!1}:_)}))}})}catch(C){console.error("Batch upload failed",C),alert("Failed to read files. Please try again.")}finally{v.target.value=""}},p=(v,S,T)=>{if(v.stopPropagation(),T===xn){alert("The Action Map system file cannot be deleted.");return}confirm(`Are you sure you want to delete "${T}"? This cannot be undone.`)&&(r(C=>{const I=C.files.filter(R=>R.id!==S),b=C.activeFileId===S?I.length>0?I[0].id:null:C.activeFileId;return{...C,files:I,activeFileId:b}}),a("DELETE",`Deleted file: ${T}`))},h=()=>{const v=e.files.find(I=>I.id===e.activeFileId);if(!v)return;const S=new Blob([v.content],{type:"text/plain"}),T=URL.createObjectURL(S),C=document.createElement("a");C.href=T,C.download=v.name,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(T)},m=v=>{if(!confirm(`Are you sure you want to revert the changes from "${v.description}"?`))return;const S=e.files.find(T=>T.id===v.fileId);S&&(r(T=>({...T,files:T.files.map(C=>C.id===v.fileId?{...C,content:v.originalContent,lastModified:Date.now()}:C),history:T.history.map(C=>C.id===v.id?{...C,reverted:!0}:C),currentTask:{id:En(),description:`Reverted: ${v.description}`,status:"COMPLETED",logs:[`Restored backup for "${v.description}"`],targetFileId:v.fileId}})),a("REVERT",`Reverted change: "${v.description}"`,S.name),Wu(S.name,v.originalContent,n).then(T=>{r(C=>({...C,files:C.files.map(I=>I.id===v.fileId?{...I,roadmap:T}:I)}))}))},w=async()=>{if(!i.trim()||!e.activeFileId)return;const v=e.files.find(T=>T.id===e.activeFileId);if(!v)return;if(v.name===xn){alert("The Action Map is read-only for the Agent to ensure data integrity.");return}s(!0);const S=En();r(T=>({...T,currentTask:{id:S,description:i,status:"ANALYZING",logs:[`Starting analysis of ${v.name}...`],targetFileId:v.id}}));try{let T=await TR(i,v,n);r(P=>{var G;const _=(G=v.roadmap)==null?void 0:G.find(j=>j.id===T),q=(_==null?void 0:_.name)||"Full File",B=_?`(Lines ${_.startLine} - ${_.endLine})`:"(All Lines)";return{...P,currentTask:{...P.currentTask,status:"PATCHING",affectedSectionId:T||void 0,logs:[...P.currentTask.logs,`Target Identified: ${q} ${B}`,`Generating patch with ${t.name}...`]}}});const C=e.files.find(P=>P.name===xn),I=C?C.content:"",b=await ER(i,v,T||"FULL_FILE",t,n,I),R=CR(v,T||"FULL_FILE",b),z={id:En(),timestamp:Date.now(),description:i,fileId:v.id,fileName:v.name,originalContent:v.content,patchedContent:R};r(P=>({...P,files:P.files.map(_=>_.id===v.id?{..._,content:R,lastModified:Date.now()}:_),currentTask:{...P.currentTask,status:"COMPLETED",logs:[...P.currentTask.logs,"Patch applied successfully."]},history:[z,...P.history]})),a("UPDATE",i,v.name),Wu(v.name,R,n).then(P=>{r(_=>({..._,files:_.files.map(q=>q.id===v.id?{...q,roadmap:P}:q)}))})}catch(T){r(C=>({...C,currentTask:{...C.currentTask,status:"FAILED",logs:[...C.currentTask.logs,`Error: ${T.message}`]}})),a("ERROR",`Task failed: ${i} (${T.message})`,v.name)}finally{s(!1),o("")}},k=e.files.find(v=>v.id===e.activeFileId),M=(k==null?void 0:k.name)===xn;return x.jsxs("div",{className:"flex h-full bg-[#090909] text-white overflow-hidden pt-16",children:[x.jsxs("div",{className:"w-64 bg-onyx-surface border-r border-onyx-border flex flex-col shrink-0 min-w-0",children:[x.jsxs("div",{className:"p-4 border-b border-onyx-border flex items-center justify-between",children:[x.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider text-onyx-textMuted",children:"Explorer"}),x.jsxs("label",{className:"cursor-pointer p-1.5 hover:bg-white/10 rounded-lg transition-colors text-onyx-accent",children:[x.jsx(X,{name:"Plus",size:16}),x.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:d})]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[e.files.map(v=>x.jsxs("div",{onClick:()=>r(S=>({...S,activeFileId:v.id})),className:`
                                group flex items-center gap-2 p-2 rounded-lg cursor-pointer text-sm pr-1
                                ${e.activeFileId===v.id?"bg-onyx-surfaceLight text-white border border-onyx-border":"text-onyx-textMuted hover:text-white hover:bg-white/5"}
                                ${v.name===xn?"font-mono text-xs":""}
                            `,children:[x.jsx(X,{name:v.name===xn?"Layout":"FileText",size:14,className:e.activeFileId===v.id?"text-blue-400":v.name===xn?"text-purple-400":""}),x.jsx("span",{className:"truncate flex-1",children:v.name}),x.jsxs("div",{className:"flex items-center gap-1",children:[v.isIndexing&&x.jsx(X,{name:"RefreshCw",size:10,className:"animate-spin text-onyx-textMuted"}),v.name!==xn&&x.jsx("button",{onClick:S=>p(S,v.id,v.name),className:"p-1.5 text-onyx-textMuted opacity-50 hover:opacity-100 hover:bg-red-500/20 hover:text-red-400 rounded transition-all",title:"Delete File",children:x.jsx(X,{name:"Trash2",size:12})})]})]},v.id)),e.files.length===0&&x.jsxs("div",{className:"text-center p-8 text-onyx-textMuted text-xs opacity-50",children:["Drag files here",x.jsx("br",{}),"or click +"]})]}),(k==null?void 0:k.roadmap)&&x.jsxs("div",{className:"h-1/3 border-t border-onyx-border flex flex-col",children:[x.jsxs("div",{className:"p-2 bg-onyx-black/50 text-[10px] font-bold text-onyx-textMuted uppercase",children:["Smart Roadmap (",k.roadmap.length,")"]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:k.roadmap.map(v=>x.jsxs("div",{className:"text-[10px] text-onyx-textMuted p-1.5 hover:bg-white/5 rounded border border-transparent hover:border-white/10",children:[x.jsxs("div",{className:"flex justify-between font-bold text-white mb-0.5",children:[x.jsx("span",{children:v.name}),x.jsxs("span",{className:"font-mono text-[9px] opacity-50",children:[v.startLine,"-",v.endLine]})]}),x.jsx("div",{className:"truncate opacity-70",children:v.description})]},v.id))})]})]}),x.jsx("div",{className:"flex-1 flex flex-col bg-[#050505] relative min-w-0",children:k?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"h-10 border-b border-onyx-border flex items-center px-4 justify-between bg-onyx-surface",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-xs font-mono font-bold",children:k.name}),x.jsx("span",{className:"text-[10px] bg-white/5 px-1.5 rounded text-onyx-textMuted",children:k.language}),M&&x.jsx("span",{className:"text-[10px] bg-purple-500/20 text-purple-400 px-1.5 rounded",children:"SYSTEM LOG"})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"text-[10px] text-onyx-textMuted",children:[k.content.split(`
`).length," lines"]}),x.jsx("button",{onClick:h,className:"p-1.5 bg-onyx-accent/10 hover:bg-onyx-accent text-onyx-accent hover:text-white rounded-lg transition-colors",title:"Download File",children:x.jsx(X,{name:"Download",size:14})})]})]}),x.jsxs("div",{className:"flex-1 relative overflow-hidden flex",children:[x.jsx("div",{className:"w-10 bg-[#0a0a0a] border-r border-white/5 text-right pr-2 pt-4 text-[10px] font-mono text-gray-700 select-none overflow-hidden shrink-0",children:k.content.split(`
`).map((v,S)=>x.jsx("div",{style:{height:"20px"},children:S+1},S))}),x.jsx("div",{className:"flex-1 min-w-0 overflow-auto",children:x.jsx("pre",{className:`p-4 pt-4 text-xs font-mono leading-[20px] whitespace-pre tab-4 ${M?"text-purple-300":"text-gray-300"}`,children:k.content})})]})]}):x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-onyx-textMuted opacity-50",children:[x.jsx(X,{name:"Layout",size:48,className:"mb-4 text-onyx-border"}),x.jsx("p",{children:"Select a file to edit"})]})}),x.jsxs("div",{className:"w-80 bg-onyx-surface border-l border-onyx-border flex flex-col shrink-0 min-w-0",children:[x.jsx("div",{className:"p-4 border-b border-onyx-border",children:x.jsxs("h2",{className:"text-xs font-bold uppercase tracking-wider text-onyx-textMuted flex items-center gap-2",children:[x.jsx(X,{name:"Brain",size:14,className:"text-purple-400"}),"Workspace Agent"]})}),x.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[e.currentTask&&x.jsxs("div",{className:"bg-onyx-surfaceLight rounded-xl border border-onyx-border p-3 space-y-2 animate-fade-in",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-[10px] font-bold uppercase text-onyx-textMuted",children:"Current Task"}),x.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-bold uppercase ${e.currentTask.status==="COMPLETED"?"bg-green-500/20 text-green-400":"bg-purple-500/20 text-purple-400"}`,children:e.currentTask.status})]}),x.jsx("p",{className:"text-sm text-white font-medium",children:e.currentTask.description}),x.jsx("div",{className:"bg-black/50 rounded-lg p-2 max-h-[150px] overflow-y-auto space-y-1",children:e.currentTask.logs.map((v,S)=>x.jsx("div",{className:"text-[10px] font-mono text-gray-400 border-l-2 border-purple-500/30 pl-2",children:v},S))})]}),x.jsxs("div",{className:"mt-auto",children:[x.jsx("label",{className:"text-[10px] uppercase text-onyx-textMuted font-bold mb-2 block",children:"Instruction"}),x.jsx("textarea",{value:i,onChange:v=>o(v.target.value),disabled:!k||l||M,placeholder:k?M?"System Log is Read-Only.":"e.g., 'Change the header background to #000'":"Open a file first...",className:"w-full h-24 bg-onyx-black border border-onyx-border rounded-xl p-3 text-sm focus:outline-none focus:border-purple-500 resize-none mb-3"}),x.jsxs("button",{onClick:w,disabled:!i.trim()||!k||l||M,className:"w-full py-3 bg-purple-600 hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl font-bold text-xs flex items-center justify-center gap-2 transition-all shadow-lg shadow-purple-900/20",children:[l?x.jsx(X,{name:"RefreshCw",className:"animate-spin"}):x.jsx(X,{name:"Play"}),l?"Processing...":"Run Task"]})]}),e.history.length>0&&x.jsxs("div",{className:"pt-4 border-t border-onyx-border",children:[x.jsx("h3",{className:"text-[10px] font-bold uppercase text-onyx-textMuted mb-2",children:"Recent Changes"}),x.jsx("div",{className:"space-y-2",children:e.history.map(v=>{const S=typeof v=="string"?v:v.description,T=typeof v=="object"&&v.reverted;return x.jsxs("div",{className:`flex items-start justify-between gap-2 p-2 rounded-lg border ${T?"bg-red-500/5 border-red-500/10":"bg-onyx-surfaceLight/50 border-onyx-border"}`,children:[x.jsxs("div",{className:"min-w-0",children:[x.jsxs("div",{className:"flex gap-2 text-[10px] text-gray-400 items-center",children:[x.jsx(X,{name:T?"RefreshCw":"Check",size:10,className:T?"text-red-400":"text-green-500 shrink-0"}),x.jsx("span",{className:`truncate ${T?"line-through opacity-50":""}`,children:S})]}),typeof v=="object"&&x.jsxs("div",{className:"text-[9px] text-onyx-textMuted mt-0.5 ml-4",children:[new Date(v.timestamp).toLocaleTimeString(),"  ",v.fileName]})]}),typeof v=="object"&&!T&&x.jsx("button",{onClick:()=>m(v),className:"p-1.5 text-onyx-textMuted hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Revert this change",children:x.jsx(X,{name:"RefreshCw",size:12})})]},typeof v=="string"?Math.random():v.id)})})]})]})]})]})},ff=e=>{try{const t=e.match(/\{[\s\S]*\}/),n=t?t[0]:e;return JSON.parse(n)}catch(t){return console.error("JSON Parse Error:",t),null}},AR=async(e,t)=>{const n=gn(t,me.GEMINI);if(!n.length)throw new Error("No Gemini keys for Planner");const r=Nn(n[0]),i=`
    ROLE: Senior Project Manager & Architect.
    GOAL: Break down the user's request into a logical, sequential execution plan.
    USER REQUEST: "${e}"

    RULES:
    1. Steps must be actionable and distinct.
    2. Do NOT create more than 6 steps unless absolutely necessary.
    3. The final step must include "Compile Final Report" or "Final Code Assembly".
    4. Return RAW JSON only.

    JSON SCHEMA:
    {
      "steps": [
        {
          "title": "Short title",
          "description": "Detailed instruction for the worker",
          "expected_output": "What form should the output take?"
        }
      ]
    }
    `,o=await r.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json"}}),l=ff(o.text||"{}");return((l==null?void 0:l.steps)||[]).map((s,a)=>({id:a+1,title:s.title,description:s.description,expected_output:s.expected_output,status:"pending"}))},IR=async(e,t,n,r,i,o)=>{var u,d,p;const l=gn(r,n.provider);if(!l.length)throw new Error(`No keys for ${n.provider}`);const s=l[0];let a=`
    TASK: ${e.title}
    INSTRUCTIONS: ${e.description}
    EXPECTED OUTPUT FORMAT: ${e.expected_output}
    
    PREVIOUS CONTEXT:
    ${t.map((h,m)=>`[Step ${m+1} Output]: ${h.substring(0,500)}...`).join(`
`)}
    `;return i&&i.length>0&&(a+=`
        

 IMPORTANT USER INTERVENTIONS (MUST FOLLOW):
        The user has paused the process to add these constraints. You MUST override any previous instruction that conflicts with these notes:
        ${i.map(h=>`- ${h}`).join(`
`)}
        `),o&&(a+=`
        

 CRITICAL WARNING - PREVIOUS ATTEMPT REJECTED:
        The Critic rejected your previous work with this feedback: "${o}"
        You MUST fix these issues in this attempt.
        `),n.provider===me.DEEPSEEK?((p=(d=(u=(await(await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({model:n.model,messages:[{role:"system",content:n.systemInstruction||"You are a helpful expert."},{role:"user",content:a}],temperature:.3})})).json()).choices)==null?void 0:u[0])==null?void 0:d.message)==null?void 0:p.content)||"No output generated.":(await Nn(s).models.generateContent({model:n.model,contents:a,config:{systemInstruction:n.systemInstruction,temperature:.3}})).text||"No output generated."},MR=async(e,t,n,r,i)=>{const o=gn(r,me.GEMINI);if(!o.length)return{approved:!0,feedback:"Auto-approved (No Critic Keys)"};const l=Nn(o[0]);let s=`
    ROLE: Harsh Quality Assurance Critic.
    OVERALL GOAL: "${e}"
    CURRENT STEP: "${t.title}" - "${t.description}"
    
    WORKER OUTPUT:
    ${n}

    TASK: Evaluate if the Worker Output satisfies the Current Step requirements effectively.
    `;i&&i.length>0&&(s+=`
        
 USER INTERVENTIONS CHECKLIST:
        The user explicitly requested these constraints. If the output violates ANY of them, you MUST REJECT it.
        ${i.map(a=>`- ${a}`).join(`
`)}
        `),s+=`
    CRITERIA:
    1. Is it accurate?
    2. Did it follow instructions?
    3. Is it complete?
    4. Did it follow the User Interventions?
    
    Output RAW JSON:
    {
      "approved": boolean,
      "feedback": "If rejected, specific instructions on what to fix. If approved, brief constructive comment."
    }
    `;try{const a=await l.models.generateContent({model:"gemini-2.5-flash",contents:s,config:{responseMimeType:"application/json"}}),u=ff(a.text||"{}");return{approved:(u==null?void 0:u.approved)??!0,feedback:(u==null?void 0:u.feedback)||"Approved."}}catch(a){return console.error("Critic Failed",a),{approved:!0,feedback:"Critic unavailable, passed."}}},NR=async(e,t,n)=>{const r=gn(n,me.GEMINI);if(!r.length)throw new Error("No keys for formatting");const i=Nn(r[0]),o=`
    ROLE: Data Presentation Expert.
    GOAL: "${e}"
    RAW DATA FROM WORKER STEPS:
    ${t.join(`

=== NEXT SECTION ===

`)}

    INSTRUCTIONS:
    1. Determine the best format for this data (Markdown Report, Code Block, Table, or HTML Card).
    2. Synthesize all step outputs into one cohesive final artifact.
    3. Return RAW JSON.

    JSON SCHEMA:
    {
      "type": "MARKDOWN" | "TABLE" | "CODE" | "HTML",
      "title": "A professional title for this report/artifact",
      "content": "The full string content. If HTML, just inner body tags. If Markdown, full markdown."
    }
    `,l=await i.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json"}}),s=ff(l.text||"{}");return{type:(s==null?void 0:s.type)||"MARKDOWN",title:(s==null?void 0:s.title)||"Final Report",content:(s==null?void 0:s.content)||t.join(`

`)}},_R=()=>{var S,T;const[e,t]=ae.useState(()=>{const C=localStorage.getItem("onyx_app_state");if(C)try{const I=JSON.parse(C);(!I.personas||I.personas.length===0)&&(I.personas=oi),I.defaultPersonaId||(I.defaultPersonaId=I.personas[0].id);let b=I.apiKeys||[];b=b.map(z=>({...z,usageCount:z.usageCount||0,provider:z.provider||me.GEMINI}));let R=I.workspace||{files:[],activeFileId:null,currentTask:null,history:[]};return R.history&&R.history.length>0&&typeof R.history[0]=="string"&&(R.history=[]),{currentSessionId:I.currentSessionId||null,sessions:I.sessions||[],personas:I.personas.map(z=>({...z,provider:z.provider||me.GEMINI})),defaultPersonaId:I.defaultPersonaId,globalMemory:I.globalMemory||"",useMemoryForNewChats:I.useMemoryForNewChats??!0,autoUpdateMemory:I.autoUpdateMemory??!1,apiKeys:b,userAvatar:I.userAvatar,isSidebarOpen:window.innerWidth>1024,isSettingsOpen:!1,isAgentMode:!1,viewMode:I.viewMode||Rt.CHAT,workspace:R}}catch(I){console.error("State parse error",I)}return{currentSessionId:null,sessions:[],personas:oi,defaultPersonaId:oi[0].id,globalMemory:"",useMemoryForNewChats:!0,autoUpdateMemory:!1,apiKeys:[],userAvatar:void 0,isSidebarOpen:window.innerWidth>1024,isSettingsOpen:!1,isAgentMode:!1,viewMode:Rt.CHAT,workspace:{files:[],activeFileId:null,currentTask:null,history:[]}}}),[n,r]=ae.useState(!1),[i,o]=ae.useState(!1),l=ae.useRef(null),s=ae.useRef(null),a=ae.useRef(e.sessions);ae.useEffect(()=>{a.current=e.sessions},[e.sessions]),ae.useEffect(()=>{const C=()=>{s.current&&(s.current.style.height=`${window.innerHeight}px`)};return window.addEventListener("resize",C),C(),()=>window.removeEventListener("resize",C)},[]),ae.useEffect(()=>{e.apiKeys.length===0&&t(C=>({...C,isSettingsOpen:!0}))},[]),ae.useEffect(()=>{try{localStorage.setItem("onyx_app_state",JSON.stringify({...e,isSidebarOpen:e.isSidebarOpen,isSettingsOpen:!1}))}catch{console.warn("Storage full")}},[e]);const u=ae.useCallback(()=>e.sessions.find(C=>C.id===e.currentSessionId),[e.sessions,e.currentSessionId]),d=ae.useCallback(()=>{const C=u(),I=e.personas.find(b=>b.id===e.defaultPersonaId)||e.personas[0];return C&&e.personas.find(b=>b.id===C.personaId)||I},[u,e.personas,e.defaultPersonaId]),p=C=>t(I=>({...I,apiKeys:I.apiKeys.map(b=>b.key===C?{...b,isExhausted:!0}:b)})),h=C=>t(I=>({...I,apiKeys:I.apiKeys.map(b=>b.key===C?{...b,usageCount:(b.usageCount||0)+1,lastUsedTimestamp:Date.now()}:b)})),m=(C,I)=>{t(b=>({...b,sessions:b.sessions.map(R=>R.id===C?I(R):R)}))},w=async(C,I)=>{var b;r(!0);try{m(C,B=>({...B,activeWorkflow:{id:En(),goal:I,status:rt.PLANNING,plan:[],currentStepIndex:0,logs:["Initializing Agent..."],userNotes:[]}}));const R=await AR(I,e.apiKeys);m(C,B=>({...B,activeWorkflow:{...B.activeWorkflow,plan:R,status:rt.RUNNING,logs:[...B.activeWorkflow.logs,"Plan generated.","Starting Step 1..."]}}));const z=d(),P=[];let _=0;for(;_<R.length;){const B=R[_];let G=0,j=!1,re="";for(;!j&&G<3;){const ie=a.current.find(N=>N.id===C),ce=((b=ie==null?void 0:ie.activeWorkflow)==null?void 0:b.userNotes)||[];m(C,N=>({...N,activeWorkflow:{...N.activeWorkflow,currentStepIndex:_,status:G>0?rt.RETRYING:rt.RUNNING,logs:[...N.activeWorkflow.logs,`Executing "${B.title}" (Attempt ${G+1})...`]}}));const V=await IR(B,P,z,e.apiKeys,ce,re);m(C,N=>({...N,activeWorkflow:{...N.activeWorkflow,status:rt.REVIEWING,logs:[...N.activeWorkflow.logs,"Critic is reviewing output..."]}}));const ee=await MR(I,B,V,e.apiKeys,ce);if(ee.approved)j=!0,P.push(V),m(C,N=>({...N,activeWorkflow:{...N.activeWorkflow,logs:[...N.activeWorkflow.logs,`Step ${_+1} Approved.`]}}));else{G++,re=ee.feedback;const N=[...R];N[_]={...B,criticFeedback:ee.feedback,retryCount:G},m(C,pe=>({...pe,activeWorkflow:{...pe.activeWorkflow,plan:N,logs:[...pe.activeWorkflow.logs,`Critic Rejected: ${ee.feedback}`]}}))}}j||(P.push("Step failed after 3 attempts."),m(C,ie=>({...ie,activeWorkflow:{...ie.activeWorkflow,logs:[...ie.activeWorkflow.logs,`Step ${_+1} Failed max retries. Moving on...`]}}))),_++}m(C,B=>({...B,activeWorkflow:{...B.activeWorkflow,status:rt.COMPLETED,logs:[...B.activeWorkflow.logs,"Compiling Final Artifact..."]}}));const q=await NR(I,P,e.apiKeys);m(C,B=>({...B,activeWorkflow:{...B.activeWorkflow,finalArtifact:q,logs:[...B.activeWorkflow.logs,"Mission Accomplished."]}}))}catch(R){console.error("Agent Error",R),m(C,z=>z.activeWorkflow?{...z,activeWorkflow:{...z.activeWorkflow,status:rt.FAILED,logs:[...z.activeWorkflow.logs,`CRITICAL ERROR: ${R.message}`]}}:z)}finally{r(!1)}},k=C=>{e.currentSessionId&&m(e.currentSessionId,I=>I.activeWorkflow?{...I,activeWorkflow:{...I.activeWorkflow,userNotes:[...I.activeWorkflow.userNotes||[],C],logs:[...I.activeWorkflow.logs,`USER NOTE ADDED: "${C}"`]}}:I)},M=async(C,I,b,R,z)=>{var _,q,B;const P={id:En(),role:sn.USER,text:I,timestamp:Date.now(),images:b,isSystem:!1};m(C,G=>({...G,messages:[...G.messages,P],lastModified:Date.now()})),r(!0),l.current=new AbortController;try{const G=e.sessions.find(ie=>ie.id===C),j=e.personas.find(ie=>ie.id===(G==null?void 0:G.personaId))||d(),re=En();m(C,ie=>({...ie,messages:[...ie.messages,{id:re,role:sn.MODEL,text:"",timestamp:Date.now(),isLoading:!0}]})),await gR(z,I,j,G==null?void 0:G.memoryContext,G==null?void 0:G.summary,b,R,e.apiKeys,ie=>{m(C,ce=>({...ce,messages:ce.messages.map(V=>V.id===re?{...V,text:ie,isLoading:!0}:V)}))},p,h,l.current.signal),m(C,ie=>({...ie,messages:ie.messages.map(ce=>ce.id===re?{...ce,isLoading:!1}:ce)}))}catch(G){if(G.name==="AbortError")return;let j="Error generating response.";(_=G.message)!=null&&_.includes("STRICT_NO_KEYS_GEMINI")&&(j="CRITICAL ERROR: No Gemini API Key found."),(q=G.message)!=null&&q.includes("STRICT_NO_KEYS_DEEPSEEK")&&(j="CRITICAL ERROR: No DeepSeek API Key found."),(B=G.message)!=null&&B.includes("Insufficient Balance")&&(j="DEEPSEEK API ERROR: Insufficient Balance."),m(C,re=>({...re,messages:[...re.messages,{id:En(),role:sn.MODEL,text:j,timestamp:Date.now(),error:!0}]}))}finally{r(!1),l.current=null}},v=(C,I,b,R)=>{let z=e.currentSessionId,P=[];if(z){const _=e.sessions.find(q=>q.id===z);_&&(P=_.messages)}else{const _={id:En(),title:C.slice(0,30)+(C.length>30?"...":""),personaId:d().id,lastModified:Date.now(),messages:[],memoryContext:e.useMemoryForNewChats?e.globalMemory:void 0};z=_.id,t(q=>({...q,sessions:[_,...q.sessions],currentSessionId:z}))}setTimeout(()=>{z&&(R?w(z,C):M(z,C,I,b,P))},0)};return x.jsxs("div",{ref:s,className:"flex bg-black text-white overflow-hidden",children:[x.jsx(rx,{isOpen:e.isSidebarOpen,onClose:()=>t(C=>({...C,isSidebarOpen:!1})),sessions:e.sessions,currentSessionId:e.currentSessionId,onSelectSession:C=>t(I=>({...I,currentSessionId:C,viewMode:Rt.CHAT})),onNewSession:()=>{const C={id:En(),title:"New Chat",personaId:e.defaultPersonaId,lastModified:Date.now(),messages:[],memoryContext:e.useMemoryForNewChats?e.globalMemory:void 0};t(I=>({...I,sessions:[C,...I.sessions],currentSessionId:C.id,isSidebarOpen:window.innerWidth>=1024,isAgentMode:!1,viewMode:Rt.CHAT}))},onDeleteSession:(C,I)=>{I.stopPropagation(),t(b=>({...b,sessions:b.sessions.filter(R=>R.id!==C),currentSessionId:b.currentSessionId===C?null:b.currentSessionId}))},onOpenSettings:()=>t(C=>({...C,isSettingsOpen:!0})),personas:e.personas,useMemoryForNewChats:e.useMemoryForNewChats,onToggleMemoryUsage:()=>t(C=>({...C,useMemoryForNewChats:!C.useMemoryForNewChats}))}),x.jsx("div",{className:`
         fixed bottom-6 left-6 z-[60] flex flex-col gap-2 
         ${e.isSidebarOpen?"translate-x-[260px]":"translate-x-0"} 
         transition-transform duration-300 lg:translate-x-0 lg:static lg:hidden
      `}),x.jsxs("div",{className:"flex-1 flex flex-col relative w-full h-full min-w-0",children:[x.jsxs("div",{className:"lg:hidden absolute top-0 left-0 right-0 h-16 border-b border-onyx-border flex items-center px-4 justify-between bg-onyx-surface/90 backdrop-blur-md z-30",children:[x.jsx("div",{className:"flex items-center gap-2",children:x.jsx("button",{onClick:()=>t(C=>({...C,isSidebarOpen:!C.isSidebarOpen})),className:"p-2 -ml-2 text-onyx-textMuted hover:text-white transition-colors",children:x.jsx(X,{name:e.isSidebarOpen?"X":"Menu",size:22})})}),x.jsxs("div",{className:"flex bg-onyx-black rounded-lg p-1 border border-onyx-border",children:[x.jsx("button",{onClick:()=>t(C=>({...C,viewMode:Rt.CHAT})),className:`p-1.5 rounded-md ${e.viewMode===Rt.CHAT?"bg-onyx-surfaceLight text-white shadow-sm":"text-onyx-textMuted"}`,children:x.jsx(X,{name:"MessageSquare",size:16})}),x.jsx("button",{onClick:()=>t(C=>({...C,viewMode:Rt.WORKSPACE})),className:`p-1.5 rounded-md ${e.viewMode===Rt.WORKSPACE?"bg-purple-500/20 text-purple-400 shadow-sm":"text-onyx-textMuted"}`,children:x.jsx(X,{name:"Briefcase",size:16})})]}),x.jsx("div",{className:"flex items-center",children:x.jsx(U1,{currentPersona:d(),personas:e.personas,onSelect:C=>{e.currentSessionId?m(e.currentSessionId,I=>({...I,personaId:C.id})):t(I=>({...I,defaultPersonaId:C.id}))}})})]}),x.jsx("div",{className:"hidden lg:flex absolute top-4 left-6 z-10 items-center gap-4",children:x.jsxs("div",{className:"flex bg-onyx-black/50 backdrop-blur rounded-xl p-1 border border-onyx-border shadow-lg",children:[x.jsxs("button",{onClick:()=>t(C=>({...C,viewMode:Rt.CHAT})),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${e.viewMode===Rt.CHAT?"bg-onyx-accent text-white shadow-md":"text-onyx-textMuted hover:text-white"}`,children:[x.jsx(X,{name:"MessageSquare",size:14}),"Chat"]}),x.jsxs("button",{onClick:()=>t(C=>({...C,viewMode:Rt.WORKSPACE})),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${e.viewMode===Rt.WORKSPACE?"bg-purple-600 text-white shadow-md":"text-onyx-textMuted hover:text-white"}`,children:[x.jsx(X,{name:"Briefcase",size:14}),"Workspace"]})]})}),x.jsx("div",{className:"hidden lg:flex absolute top-4 right-8 z-10 items-center gap-3",children:x.jsx(U1,{currentPersona:d(),personas:e.personas,onSelect:C=>{e.currentSessionId?m(e.currentSessionId,I=>({...I,personaId:C.id})):t(I=>({...I,defaultPersonaId:C.id}))}})}),e.viewMode===Rt.CHAT?x.jsxs(x.Fragment,{children:[x.jsx(zC,{messages:((S=u())==null?void 0:S.messages)||[],activeWorkflow:(T=u())==null?void 0:T.activeWorkflow,userAvatar:e.userAvatar,persona:d(),isStreaming:n,onDeleteMessage:C=>m(e.currentSessionId,I=>({...I,messages:I.messages.filter(b=>b.id!==C)})),onRetryMessage:C=>{},onAddWorkflowNote:k}),x.jsx(UC,{onSend:v,onStop:()=>{l.current&&(l.current.abort(),r(!1))},isLoading:n,hasApiKeys:e.apiKeys.some(C=>C.provider===d().provider&&!C.isExhausted),currentPersona:d(),isAgentMode:e.isAgentMode,onToggleAgentMode:()=>t(C=>({...C,isAgentMode:!C.isAgentMode}))})]}):x.jsx(bR,{workspace:e.workspace,currentPersona:d(),apiKeys:e.apiKeys,onUpdateWorkspace:C=>t(I=>({...I,workspace:C(I.workspace)}))})]}),x.jsx(SR,{isOpen:e.isSettingsOpen,onClose:()=>t(C=>({...C,isSettingsOpen:!1})),personas:e.personas,activePersonaId:d().id,defaultPersonaId:e.defaultPersonaId,onSelectPersona:C=>t(I=>({...I,defaultPersonaId:C.id})),onSetDefaultPersona:C=>t(I=>({...I,defaultPersonaId:C})),onSavePersona:C=>t(I=>({...I,personas:I.personas.some(b=>b.id===C.id)?I.personas.map(b=>b.id===C.id?C:b):[...I.personas,C]})),onDeletePersona:C=>{e.personas.length<=1||t(I=>({...I,personas:I.personas.filter(b=>b.id!==C),defaultPersonaId:I.defaultPersonaId===C?I.personas.filter(b=>b.id!==C)[0].id:I.defaultPersonaId}))},globalMemory:e.globalMemory,onUpdateGlobalMemory:async()=>{o(!0);const C=await xR(e.sessions,e.globalMemory,e.apiKeys,p,h);t(I=>({...I,globalMemory:C})),o(!1)},isUpdatingMemory:i,onSaveManualMemory:C=>t(I=>({...I,globalMemory:C})),autoUpdateMemory:e.autoUpdateMemory,onToggleAutoUpdateMemory:()=>t(C=>({...C,autoUpdateMemory:!C.autoUpdateMemory})),apiKeys:e.apiKeys,onAddApiKey:(C,I,b)=>t(R=>({...R,apiKeys:[...R.apiKeys,{key:C,label:I,provider:b,isExhausted:!1,usageCount:0}]})),onRemoveApiKey:C=>t(I=>({...I,apiKeys:I.apiKeys.filter(b=>b.key!==C)})),onResetKeyStatus:C=>t(I=>({...I,apiKeys:I.apiKeys.map(b=>b.key===C?{...b,isExhausted:!1}:b)})),userAvatar:e.userAvatar,onUpdateUserAvatar:C=>t(I=>({...I,userAvatar:C})),onExportData:()=>{},onImportData:()=>{}})]})},Fv=document.getElementById("root");if(!Fv)throw new Error("Could not find root element to mount to");const RR=Yu.createRoot(Fv);RR.render(x.jsx(Cc.StrictMode,{children:x.jsx(_R,{})}));
