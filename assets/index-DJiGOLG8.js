(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jm={exports:{}},Hs={},e1={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),Ry=Symbol.for("react.portal"),Dy=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),zy=Symbol.for("react.profiler"),Fy=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),By=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Vy=Symbol.for("react.memo"),Hy=Symbol.for("react.lazy"),Rd=Symbol.iterator;function Oy(t){return t===null||typeof t!="object"?null:(t=Rd&&t[Rd]||t["@@iterator"],typeof t=="function"?t:null)}var t1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n1=Object.assign,r1={};function qi(t,e,n){this.props=t,this.context=e,this.refs=r1,this.updater=n||t1}qi.prototype.isReactComponent={};qi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i1(){}i1.prototype=qi.prototype;function W0(t,e,n){this.props=t,this.context=e,this.refs=r1,this.updater=n||t1}var Y0=W0.prototype=new i1;Y0.constructor=W0;n1(Y0,qi.prototype);Y0.isPureReactComponent=!0;var Dd=Array.isArray,o1=Object.prototype.hasOwnProperty,K0={current:null},l1={key:!0,ref:!0,__self:!0,__source:!0};function s1(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)o1.call(e,r)&&!l1.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:nl,type:t,key:o,ref:l,props:i,_owner:K0.current}}function Gy(t,e){return{$$typeof:nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function X0(t){return typeof t=="object"&&t!==null&&t.$$typeof===nl}function $y(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ld=/\/+/g;function Ta(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$y(""+t.key):e.toString(36)}function Hl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case nl:case Ry:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Ta(l,0):r,Dd(i)?(n="",t!=null&&(n=t.replace(Ld,"$&/")+"/"),Hl(i,e,n,"",function(u){return u})):i!=null&&(X0(i)&&(i=Gy(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Ld,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Dd(t))for(var s=0;s<t.length;s++){o=t[s];var a=r+Ta(o,s);l+=Hl(o,e,n,a,i)}else if(a=Oy(t),typeof a=="function")for(t=a.call(t),s=0;!(o=t.next()).done;)o=o.value,a=r+Ta(o,s++),l+=Hl(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function fl(t,e,n){if(t==null)return t;var r=[],i=0;return Hl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Jy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},Ol={transition:null},Wy={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:K0};function a1(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:fl,forEach:function(t,e,n){fl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fl(t,function(){e++}),e},toArray:function(t){return fl(t,function(e){return e})||[]},only:function(t){if(!X0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=qi;ge.Fragment=Dy;ge.Profiler=zy;ge.PureComponent=W0;ge.StrictMode=Ly;ge.Suspense=qy;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wy;ge.act=a1;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=n1({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=K0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(a in e)o1.call(e,a)&&!l1.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&s!==void 0?s[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:nl,type:t.type,key:i,ref:o,props:r,_owner:l}};ge.createContext=function(t){return t={$$typeof:Uy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fy,_context:t},t.Consumer=t};ge.createElement=s1;ge.createFactory=function(t){var e=s1.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:By,render:t}};ge.isValidElement=X0;ge.lazy=function(t){return{$$typeof:Hy,_payload:{_status:-1,_result:t},_init:Jy}};ge.memo=function(t,e){return{$$typeof:Vy,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Ol.transition;Ol.transition={};try{t()}finally{Ol.transition=e}};ge.unstable_act=a1;ge.useCallback=function(t,e){return wt.current.useCallback(t,e)};ge.useContext=function(t){return wt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return wt.current.useEffect(t,e)};ge.useId=function(){return wt.current.useId()};ge.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return wt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};ge.useRef=function(t){return wt.current.useRef(t)};ge.useState=function(t){return wt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return wt.current.useTransition()};ge.version="18.3.1";e1.exports=ge;var xe=e1.exports;const u1=J0(xe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=xe,Ky=Symbol.for("react.element"),Xy=Symbol.for("react.fragment"),Qy=Object.prototype.hasOwnProperty,Zy=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jy={key:!0,ref:!0,__self:!0,__source:!0};function c1(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)Qy.call(e,r)&&!jy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ky,type:t,key:o,ref:l,props:i,_owner:Zy.current}}Hs.Fragment=Xy;Hs.jsx=c1;Hs.jsxs=c1;jm.exports=Hs;var I=jm.exports,Cu={},d1={exports:{}},Gt={},f1={exports:{}},p1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,te){var A=$.length;$.push(te);e:for(;0<A;){var ue=A-1>>>1,ce=$[ue];if(0<i(ce,te))$[ue]=te,$[A]=ce,A=ue;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var te=$[0],A=$.pop();if(A!==te){$[0]=A;e:for(var ue=0,ce=$.length,P=ce>>>1;ue<P;){var Be=2*(ue+1)-1,tt=$[Be],Ie=Be+1,it=$[Ie];if(0>i(tt,A))Ie<ce&&0>i(it,tt)?($[ue]=it,$[Ie]=A,ue=Ie):($[ue]=tt,$[Be]=A,ue=Be);else if(Ie<ce&&0>i(it,A))$[ue]=it,$[Ie]=A,ue=Ie;else break e}}return te}function i($,te){var A=$.sortIndex-te.sortIndex;return A!==0?A:$.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var a=[],u=[],f=1,p=null,h=3,m=!1,T=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=$)r(u),te.sortIndex=te.expirationTime,e(a,te);else break;te=n(u)}}function k($){if(C=!1,x($),!T)if(n(a)!==null)T=!0,fe(D);else{var te=n(u);te!==null&&ve(k,te.startTime-$)}}function D($,te){T=!1,C&&(C=!1,v(U),U=-1),m=!0;var A=h;try{for(x(te),p=n(a);p!==null&&(!(p.expirationTime>te)||$&&!O());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,h=p.priorityLevel;var ce=ue(p.expirationTime<=te);te=t.unstable_now(),typeof ce=="function"?p.callback=ce:p===n(a)&&r(a),x(te)}else r(a);p=n(a)}if(p!==null)var P=!0;else{var Be=n(u);Be!==null&&ve(k,Be.startTime-te),P=!1}return P}finally{p=null,h=A,m=!1}}var M=!1,L=null,U=-1,F=5,q=-1;function O(){return!(t.unstable_now()-q<F)}function H(){if(L!==null){var $=t.unstable_now();q=$;var te=!0;try{te=L(!0,$)}finally{te?ne():(M=!1,L=null)}}else M=!1}var ne;if(typeof w=="function")ne=function(){w(H)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ie=se.port2;se.port1.onmessage=H,ne=function(){ie.postMessage(null)}}else ne=function(){_(H,0)};function fe($){L=$,M||(M=!0,ne())}function ve($,te){U=_(function(){$(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,fe(D))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var A=h;h=te;try{return $()}finally{h=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var A=h;h=$;try{return te()}finally{h=A}},t.unstable_scheduleCallback=function($,te,A){var ue=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?ue+A:ue):A=ue,$){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=A+ce,$={id:f++,callback:te,priorityLevel:$,startTime:A,expirationTime:ce,sortIndex:-1},A>ue?($.sortIndex=A,e(u,$),n(a)===null&&$===n(u)&&(C?(v(U),U=-1):C=!0,ve(k,A-ue))):($.sortIndex=ce,e(a,$),T||m||(T=!0,fe(D))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var te=h;return function(){var A=h;h=te;try{return $.apply(this,arguments)}finally{h=A}}}})(p1);f1.exports=p1;var e5=f1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t5=xe,Ot=e5;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h1=new Set,Lo={};function Yr(t,e){Pi(t,e),Pi(t+"Capture",e)}function Pi(t,e){for(Lo[t]=e,t=0;t<e.length;t++)h1.add(e[t])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,n5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zd={},Fd={};function r5(t){return Eu.call(Fd,t)?!0:Eu.call(zd,t)?!1:n5.test(t)?Fd[t]=!0:(zd[t]=!0,!1)}function i5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function o5(t,e,n,r){if(e===null||typeof e>"u"||i5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q0=/[\-:]([a-z])/g;function Z0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q0,Z0);at[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q0,Z0);at[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q0,Z0);at[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function j0(t,e,n,r){var i=at.hasOwnProperty(e)?at[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(o5(e,n,i,r)&&(n=null),r||i===null?r5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xn=t5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pl=Symbol.for("react.element"),si=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),ec=Symbol.for("react.strict_mode"),ku=Symbol.for("react.profiler"),m1=Symbol.for("react.provider"),g1=Symbol.for("react.context"),tc=Symbol.for("react.forward_ref"),Au=Symbol.for("react.suspense"),Iu=Symbol.for("react.suspense_list"),nc=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),y1=Symbol.for("react.offscreen"),Ud=Symbol.iterator;function to(t){return t===null||typeof t!="object"?null:(t=Ud&&t[Ud]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Ca;function ho(t){if(Ca===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ca=e&&e[1]||""}return`
`+Ca+t}var Ea=!1;function ka(t,e){if(!t||Ea)return"";Ea=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=s);break}}}finally{Ea=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ho(t):""}function l5(t){switch(t.tag){case 5:return ho(t.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return t=ka(t.type,!1),t;case 11:return t=ka(t.type.render,!1),t;case 1:return t=ka(t.type,!0),t;default:return""}}function Mu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ai:return"Fragment";case si:return"Portal";case ku:return"Profiler";case ec:return"StrictMode";case Au:return"Suspense";case Iu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case g1:return(t.displayName||"Context")+".Consumer";case m1:return(t._context.displayName||"Context")+".Provider";case tc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nc:return e=t.displayName||null,e!==null?e:Mu(t.type)||"Memo";case ir:e=t._payload,t=t._init;try{return Mu(t(e))}catch{}}return null}function s5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mu(e);case 8:return e===ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a5(t){var e=v1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hl(t){t._valueTracker||(t._valueTracker=a5(t))}function x1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ss(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _u(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function w1(t,e){e=e.checked,e!=null&&j0(t,"checked",e,!1)}function bu(t,e){w1(t,e);var n=wr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nu(t,e.type,wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nu(t,e,n){(e!=="number"||ss(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mo=Array.isArray;function wi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(mo(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wr(n)}}function S1(t,e){var n=wr(e.value),r=wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function T1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ru(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?T1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ml,C1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u5=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(t){u5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wo[e]=wo[t]})});function E1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wo.hasOwnProperty(t)&&wo[t]?(""+e).trim():e+"px"}function k1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=E1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var c5=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(t,e){if(e){if(c5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Lu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function rc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fu=null,Si=null,Ti=null;function Od(t){if(t=ol(t)){if(typeof Fu!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Ws(e),Fu(t.stateNode,t.type,e))}}function A1(t){Si?Ti?Ti.push(t):Ti=[t]:Si=t}function I1(){if(Si){var t=Si,e=Ti;if(Ti=Si=null,Od(t),e)for(t=0;t<e.length;t++)Od(e[t])}}function M1(t,e){return t(e)}function _1(){}var Aa=!1;function b1(t,e,n){if(Aa)return t(e,n);Aa=!0;try{return M1(t,e,n)}finally{Aa=!1,(Si!==null||Ti!==null)&&(_1(),I1())}}function Fo(t,e){var n=t.stateNode;if(n===null)return null;var r=Ws(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Uu=!1;if(Hn)try{var no={};Object.defineProperty(no,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Uu=!1}function d5(t,e,n,r,i,o,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var So=!1,as=null,us=!1,Bu=null,f5={onError:function(t){So=!0,as=t}};function p5(t,e,n,r,i,o,l,s,a){So=!1,as=null,d5.apply(f5,arguments)}function h5(t,e,n,r,i,o,l,s,a){if(p5.apply(this,arguments),So){if(So){var u=as;So=!1,as=null}else throw Error(W(198));us||(us=!0,Bu=u)}}function Kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function N1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gd(t){if(Kr(t)!==t)throw Error(W(188))}function m5(t){var e=t.alternate;if(!e){if(e=Kr(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Gd(i),t;if(o===r)return Gd(i),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function P1(t){return t=m5(t),t!==null?R1(t):null}function R1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R1(t);if(e!==null)return e;t=t.sibling}return null}var D1=Ot.unstable_scheduleCallback,$d=Ot.unstable_cancelCallback,g5=Ot.unstable_shouldYield,y5=Ot.unstable_requestPaint,We=Ot.unstable_now,v5=Ot.unstable_getCurrentPriorityLevel,ic=Ot.unstable_ImmediatePriority,L1=Ot.unstable_UserBlockingPriority,cs=Ot.unstable_NormalPriority,x5=Ot.unstable_LowPriority,z1=Ot.unstable_IdlePriority,Os=null,kn=null;function w5(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Os,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:C5,S5=Math.log,T5=Math.LN2;function C5(t){return t>>>=0,t===0?32:31-(S5(t)/T5|0)|0}var gl=64,yl=4194304;function go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ds(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=go(s):(o&=l,o!==0&&(r=go(o)))}else l=n&~i,l!==0?r=go(l):o!==0&&(r=go(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pn(e),i=1<<n,r|=t[n],e&=~i;return r}function E5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-pn(o),s=1<<l,a=i[l];a===-1?(!(s&n)||s&r)&&(i[l]=E5(s,e)):a<=e&&(t.expiredLanes|=s),o&=~s}}function qu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function F1(){var t=gl;return gl<<=1,!(gl&4194240)&&(gl=64),t}function Ia(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function A5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function oc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function U1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B1,lc,q1,V1,H1,Vu=!1,vl=[],fr=null,pr=null,hr=null,Uo=new Map,Bo=new Map,lr=[],I5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(t,e){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Uo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(e.pointerId)}}function ro(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ol(e),e!==null&&lc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M5(t,e,n,r,i){switch(e){case"focusin":return fr=ro(fr,t,e,n,r,i),!0;case"dragenter":return pr=ro(pr,t,e,n,r,i),!0;case"mouseover":return hr=ro(hr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Uo.set(o,ro(Uo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bo.set(o,ro(Bo.get(o)||null,t,e,n,r,i)),!0}return!1}function O1(t){var e=Ur(t.target);if(e!==null){var n=Kr(e);if(n!==null){if(e=n.tag,e===13){if(e=N1(n),e!==null){t.blockedOn=e,H1(t.priority,function(){q1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zu=r,n.target.dispatchEvent(r),zu=null}else return e=ol(n),e!==null&&lc(e),t.blockedOn=n,!1;e.shift()}return!0}function Wd(t,e,n){Gl(t)&&n.delete(e)}function _5(){Vu=!1,fr!==null&&Gl(fr)&&(fr=null),pr!==null&&Gl(pr)&&(pr=null),hr!==null&&Gl(hr)&&(hr=null),Uo.forEach(Wd),Bo.forEach(Wd)}function io(t,e){t.blockedOn===e&&(t.blockedOn=null,Vu||(Vu=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,_5)))}function qo(t){function e(i){return io(i,t)}if(0<vl.length){io(vl[0],t);for(var n=1;n<vl.length;n++){var r=vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fr!==null&&io(fr,t),pr!==null&&io(pr,t),hr!==null&&io(hr,t),Uo.forEach(e),Bo.forEach(e),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)O1(n),n.blockedOn===null&&lr.shift()}var Ci=Xn.ReactCurrentBatchConfig,fs=!0;function b5(t,e,n,r){var i=Ae,o=Ci.transition;Ci.transition=null;try{Ae=1,sc(t,e,n,r)}finally{Ae=i,Ci.transition=o}}function N5(t,e,n,r){var i=Ae,o=Ci.transition;Ci.transition=null;try{Ae=4,sc(t,e,n,r)}finally{Ae=i,Ci.transition=o}}function sc(t,e,n,r){if(fs){var i=Hu(t,e,n,r);if(i===null)Fa(t,e,r,ps,n),Jd(t,r);else if(M5(i,t,e,n,r))r.stopPropagation();else if(Jd(t,r),e&4&&-1<I5.indexOf(t)){for(;i!==null;){var o=ol(i);if(o!==null&&B1(o),o=Hu(t,e,n,r),o===null&&Fa(t,e,r,ps,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Fa(t,e,r,null,n)}}var ps=null;function Hu(t,e,n,r){if(ps=null,t=rc(r),t=Ur(t),t!==null)if(e=Kr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=N1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ps=t,null}function G1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v5()){case ic:return 1;case L1:return 4;case cs:case x5:return 16;case z1:return 536870912;default:return 16}default:return 16}}var ar=null,ac=null,$l=null;function $1(){if($l)return $l;var t,e=ac,n=e.length,r,i="value"in ar?ar.value:ar.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return $l=i.slice(t,1<r?1-r:void 0)}function Jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xl(){return!0}function Yd(){return!1}function $t(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xl:Yd,this.isPropagationStopped=Yd,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),e}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=$t(Vi),il=Ge({},Vi,{view:0,detail:0}),P5=$t(il),Ma,_a,oo,Gs=Ge({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oo&&(oo&&t.type==="mousemove"?(Ma=t.screenX-oo.screenX,_a=t.screenY-oo.screenY):_a=Ma=0,oo=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Kd=$t(Gs),R5=Ge({},Gs,{dataTransfer:0}),D5=$t(R5),L5=Ge({},il,{relatedTarget:0}),ba=$t(L5),z5=Ge({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),F5=$t(z5),U5=Ge({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B5=$t(U5),q5=Ge({},Vi,{data:0}),Xd=$t(q5),V5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O5[t])?!!e[t]:!1}function cc(){return G5}var $5=Ge({},il,{key:function(t){if(t.key){var e=V5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(t){return t.type==="keypress"?Jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J5=$t($5),W5=Ge({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=$t(W5),Y5=Ge({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),K5=$t(Y5),X5=Ge({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q5=$t(X5),Z5=Ge({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j5=$t(Z5),e3=[9,13,27,32],dc=Hn&&"CompositionEvent"in window,To=null;Hn&&"documentMode"in document&&(To=document.documentMode);var t3=Hn&&"TextEvent"in window&&!To,J1=Hn&&(!dc||To&&8<To&&11>=To),Zd=" ",jd=!1;function W1(t,e){switch(t){case"keyup":return e3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function n3(t,e){switch(t){case"compositionend":return Y1(e);case"keypress":return e.which!==32?null:(jd=!0,Zd);case"textInput":return t=e.data,t===Zd&&jd?null:t;default:return null}}function r3(t,e){if(ui)return t==="compositionend"||!dc&&W1(t,e)?(t=$1(),$l=ac=ar=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J1&&e.locale!=="ko"?null:e.data;default:return null}}var i3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i3[t.type]:e==="textarea"}function K1(t,e,n,r){A1(r),e=hs(e,"onChange"),0<e.length&&(n=new uc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Co=null,Vo=null;function o3(t){lg(t,0)}function $s(t){var e=fi(t);if(x1(e))return t}function l3(t,e){if(t==="change")return e}var X1=!1;if(Hn){var Na;if(Hn){var Pa="oninput"in document;if(!Pa){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),Pa=typeof tf.oninput=="function"}Na=Pa}else Na=!1;X1=Na&&(!document.documentMode||9<document.documentMode)}function nf(){Co&&(Co.detachEvent("onpropertychange",Q1),Vo=Co=null)}function Q1(t){if(t.propertyName==="value"&&$s(Vo)){var e=[];K1(e,Vo,t,rc(t)),b1(o3,e)}}function s3(t,e,n){t==="focusin"?(nf(),Co=e,Vo=n,Co.attachEvent("onpropertychange",Q1)):t==="focusout"&&nf()}function a3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $s(Vo)}function u3(t,e){if(t==="click")return $s(e)}function c3(t,e){if(t==="input"||t==="change")return $s(e)}function d3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:d3;function Ho(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eu.call(e,i)||!mn(t[i],e[i]))return!1}return!0}function rf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function of(t,e){var n=rf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rf(n)}}function Z1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function j1(){for(var t=window,e=ss();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ss(t.document)}return e}function fc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f3(t){var e=j1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Z1(n.ownerDocument.documentElement,n)){if(r!==null&&fc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=of(n,o);var l=of(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p3=Hn&&"documentMode"in document&&11>=document.documentMode,ci=null,Ou=null,Eo=null,Gu=!1;function lf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gu||ci==null||ci!==ss(r)||(r=ci,"selectionStart"in r&&fc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eo&&Ho(Eo,r)||(Eo=r,r=hs(Ou,"onSelect"),0<r.length&&(e=new uc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ci)))}function wl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var di={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Ra={},eg={};Hn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Js(t){if(Ra[t])return Ra[t];if(!di[t])return t;var e=di[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eg)return Ra[t]=e[n];return t}var tg=Js("animationend"),ng=Js("animationiteration"),rg=Js("animationstart"),ig=Js("transitionend"),og=new Map,sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(t,e){og.set(t,e),Yr(e,[t])}for(var Da=0;Da<sf.length;Da++){var La=sf[Da],h3=La.toLowerCase(),m3=La[0].toUpperCase()+La.slice(1);kr(h3,"on"+m3)}kr(tg,"onAnimationEnd");kr(ng,"onAnimationIteration");kr(rg,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(ig,"onTransitionEnd");Pi("onMouseEnter",["mouseout","mouseover"]);Pi("onMouseLeave",["mouseout","mouseover"]);Pi("onPointerEnter",["pointerout","pointerover"]);Pi("onPointerLeave",["pointerout","pointerover"]);Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g3=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function af(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,h5(r,e,void 0,t),t.currentTarget=null}function lg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;af(i,s,u),o=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;af(i,s,u),o=a}}}if(us)throw t=Bu,us=!1,Bu=null,t}function Re(t,e){var n=e[Ku];n===void 0&&(n=e[Ku]=new Set);var r=t+"__bubble";n.has(r)||(sg(e,t,2,!1),n.add(r))}function za(t,e,n){var r=0;e&&(r|=4),sg(n,t,r,e)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Oo(t){if(!t[Sl]){t[Sl]=!0,h1.forEach(function(n){n!=="selectionchange"&&(g3.has(n)||za(n,!1,t),za(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sl]||(e[Sl]=!0,za("selectionchange",!1,e))}}function sg(t,e,n,r){switch(G1(e)){case 1:var i=b5;break;case 4:i=N5;break;default:i=sc}n=i.bind(null,e,n,t),i=void 0,!Uu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fa(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=Ur(s),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}s=s.parentNode}}r=r.return}b1(function(){var u=o,f=rc(n),p=[];e:{var h=og.get(t);if(h!==void 0){var m=uc,T=t;switch(t){case"keypress":if(Jl(n)===0)break e;case"keydown":case"keyup":m=J5;break;case"focusin":T="focus",m=ba;break;case"focusout":T="blur",m=ba;break;case"beforeblur":case"afterblur":m=ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=D5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=K5;break;case tg:case ng:case rg:m=F5;break;case ig:m=Q5;break;case"scroll":m=P5;break;case"wheel":m=j5;break;case"copy":case"cut":case"paste":m=B5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qd}var C=(e&4)!==0,_=!C&&t==="scroll",v=C?h!==null?h+"Capture":null:h;C=[];for(var w=u,x;w!==null;){x=w;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,v!==null&&(k=Fo(w,v),k!=null&&C.push(Go(w,k,x)))),_)break;w=w.return}0<C.length&&(h=new m(h,T,null,n,f),p.push({event:h,listeners:C}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==zu&&(T=n.relatedTarget||n.fromElement)&&(Ur(T)||T[On]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=u,T=T?Ur(T):null,T!==null&&(_=Kr(T),T!==_||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=u),m!==T)){if(C=Kd,k="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(C=Qd,k="onPointerLeave",v="onPointerEnter",w="pointer"),_=m==null?h:fi(m),x=T==null?h:fi(T),h=new C(k,w+"leave",m,n,f),h.target=_,h.relatedTarget=x,k=null,Ur(f)===u&&(C=new C(v,w+"enter",T,n,f),C.target=x,C.relatedTarget=_,k=C),_=k,m&&T)t:{for(C=m,v=T,w=0,x=C;x;x=ii(x))w++;for(x=0,k=v;k;k=ii(k))x++;for(;0<w-x;)C=ii(C),w--;for(;0<x-w;)v=ii(v),x--;for(;w--;){if(C===v||v!==null&&C===v.alternate)break t;C=ii(C),v=ii(v)}C=null}else C=null;m!==null&&uf(p,h,m,C,!1),T!==null&&_!==null&&uf(p,_,T,C,!0)}}e:{if(h=u?fi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var D=l3;else if(ef(h))if(X1)D=c3;else{D=a3;var M=s3}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=u3);if(D&&(D=D(t,u))){K1(p,D,n,f);break e}M&&M(t,h,u),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Nu(h,"number",h.value)}switch(M=u?fi(u):window,t){case"focusin":(ef(M)||M.contentEditable==="true")&&(ci=M,Ou=u,Eo=null);break;case"focusout":Eo=Ou=ci=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,lf(p,n,f);break;case"selectionchange":if(p3)break;case"keydown":case"keyup":lf(p,n,f)}var L;if(dc)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else ui?W1(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(J1&&n.locale!=="ko"&&(ui||U!=="onCompositionStart"?U==="onCompositionEnd"&&ui&&(L=$1()):(ar=f,ac="value"in ar?ar.value:ar.textContent,ui=!0)),M=hs(u,U),0<M.length&&(U=new Xd(U,t,null,n,f),p.push({event:U,listeners:M}),L?U.data=L:(L=Y1(n),L!==null&&(U.data=L)))),(L=t3?n3(t,n):r3(t,n))&&(u=hs(u,"onBeforeInput"),0<u.length&&(f=new Xd("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=L))}lg(p,e)})}function Go(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fo(t,n),o!=null&&r.unshift(Go(t,o,i)),o=Fo(t,e),o!=null&&r.push(Go(t,o,i))),t=t.return}return r}function ii(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uf(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=Fo(n,o),a!=null&&l.unshift(Go(n,a,s))):i||(a=Fo(n,o),a!=null&&l.push(Go(n,a,s)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var y3=/\r\n?/g,v3=/\u0000|\uFFFD/g;function cf(t){return(typeof t=="string"?t:""+t).replace(y3,`
`).replace(v3,"")}function Tl(t,e,n){if(e=cf(e),cf(t)!==e&&n)throw Error(W(425))}function ms(){}var $u=null,Ju=null;function Wu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,x3=typeof clearTimeout=="function"?clearTimeout:void 0,df=typeof Promise=="function"?Promise:void 0,w3=typeof queueMicrotask=="function"?queueMicrotask:typeof df<"u"?function(t){return df.resolve(null).then(t).catch(S3)}:Yu;function S3(t){setTimeout(function(){throw t})}function Ua(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qo(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ff(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Hi,$o="__reactProps$"+Hi,On="__reactContainer$"+Hi,Ku="__reactEvents$"+Hi,T3="__reactListeners$"+Hi,C3="__reactHandles$"+Hi;function Ur(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ff(t);t!==null;){if(n=t[Sn])return n;t=ff(t)}return e}t=n,n=t.parentNode}return null}function ol(t){return t=t[Sn]||t[On],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Ws(t){return t[$o]||null}var Xu=[],pi=-1;function Ar(t){return{current:t}}function Le(t){0>pi||(t.current=Xu[pi],Xu[pi]=null,pi--)}function Ne(t,e){pi++,Xu[pi]=t.current,t.current=e}var Sr={},pt=Ar(Sr),Mt=Ar(!1),Or=Sr;function Ri(t,e){var n=t.type.contextTypes;if(!n)return Sr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _t(t){return t=t.childContextTypes,t!=null}function gs(){Le(Mt),Le(pt)}function pf(t,e,n){if(pt.current!==Sr)throw Error(W(168));Ne(pt,e),Ne(Mt,n)}function ag(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,s5(t)||"Unknown",i));return Ge({},n,r)}function ys(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,Or=pt.current,Ne(pt,t),Ne(Mt,Mt.current),!0}function hf(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=ag(t,e,Or),r.__reactInternalMemoizedMergedChildContext=t,Le(Mt),Le(pt),Ne(pt,t)):Le(Mt),Ne(Mt,n)}var Ln=null,Ys=!1,Ba=!1;function ug(t){Ln===null?Ln=[t]:Ln.push(t)}function E3(t){Ys=!0,ug(t)}function Ir(){if(!Ba&&Ln!==null){Ba=!0;var t=0,e=Ae;try{var n=Ln;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,Ys=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(t+1)),D1(ic,Ir),i}finally{Ae=e,Ba=!1}}return null}var hi=[],mi=0,vs=null,xs=0,Wt=[],Yt=0,Gr=null,Fn=1,Un="";function Lr(t,e){hi[mi++]=xs,hi[mi++]=vs,vs=t,xs=e}function cg(t,e,n){Wt[Yt++]=Fn,Wt[Yt++]=Un,Wt[Yt++]=Gr,Gr=t;var r=Fn;t=Un;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var o=32-pn(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Fn=1<<32-pn(e)+i|n<<i|r,Un=o+t}else Fn=1<<o|n<<i|r,Un=t}function pc(t){t.return!==null&&(Lr(t,1),cg(t,1,0))}function hc(t){for(;t===vs;)vs=hi[--mi],hi[mi]=null,xs=hi[--mi],hi[mi]=null;for(;t===Gr;)Gr=Wt[--Yt],Wt[Yt]=null,Un=Wt[--Yt],Wt[Yt]=null,Fn=Wt[--Yt],Wt[Yt]=null}var Vt=null,Bt=null,Fe=!1,fn=null;function dg(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Bt=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gr!==null?{id:Fn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Bt=null,!0):!1;default:return!1}}function Qu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zu(t){if(Fe){var e=Bt;if(e){var n=e;if(!mf(t,e)){if(Qu(t))throw Error(W(418));e=mr(n.nextSibling);var r=Vt;e&&mf(t,e)?dg(r,n):(t.flags=t.flags&-4097|2,Fe=!1,Vt=t)}}else{if(Qu(t))throw Error(W(418));t.flags=t.flags&-4097|2,Fe=!1,Vt=t}}}function gf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Cl(t){if(t!==Vt)return!1;if(!Fe)return gf(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wu(t.type,t.memoizedProps)),e&&(e=Bt)){if(Qu(t))throw fg(),Error(W(418));for(;e;)dg(t,e),e=mr(e.nextSibling)}if(gf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bt=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bt=null}}else Bt=Vt?mr(t.stateNode.nextSibling):null;return!0}function fg(){for(var t=Bt;t;)t=mr(t.nextSibling)}function Di(){Bt=Vt=null,Fe=!1}function mc(t){fn===null?fn=[t]:fn.push(t)}var k3=Xn.ReactCurrentBatchConfig;function lo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function El(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yf(t){var e=t._init;return e(t._payload)}function pg(t){function e(v,w){if(t){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=xr(v,w),v.index=0,v.sibling=null,v}function o(v,w,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,w,x,k){return w===null||w.tag!==6?(w=Ja(x,v.mode,k),w.return=v,w):(w=i(w,x),w.return=v,w)}function a(v,w,x,k){var D=x.type;return D===ai?f(v,w,x.props.children,k,x.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ir&&yf(D)===w.type)?(k=i(w,x.props),k.ref=lo(v,w,x),k.return=v,k):(k=jl(x.type,x.key,x.props,null,v.mode,k),k.ref=lo(v,w,x),k.return=v,k)}function u(v,w,x,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Wa(x,v.mode,k),w.return=v,w):(w=i(w,x.children||[]),w.return=v,w)}function f(v,w,x,k,D){return w===null||w.tag!==7?(w=Hr(x,v.mode,k,D),w.return=v,w):(w=i(w,x),w.return=v,w)}function p(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ja(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pl:return x=jl(w.type,w.key,w.props,null,v.mode,x),x.ref=lo(v,null,w),x.return=v,x;case si:return w=Wa(w,v.mode,x),w.return=v,w;case ir:var k=w._init;return p(v,k(w._payload),x)}if(mo(w)||to(w))return w=Hr(w,v.mode,x,null),w.return=v,w;El(v,w)}return null}function h(v,w,x,k){var D=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:s(v,w,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pl:return x.key===D?a(v,w,x,k):null;case si:return x.key===D?u(v,w,x,k):null;case ir:return D=x._init,h(v,w,D(x._payload),k)}if(mo(x)||to(x))return D!==null?null:f(v,w,x,k,null);El(v,x)}return null}function m(v,w,x,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(x)||null,s(w,v,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case pl:return v=v.get(k.key===null?x:k.key)||null,a(w,v,k,D);case si:return v=v.get(k.key===null?x:k.key)||null,u(w,v,k,D);case ir:var M=k._init;return m(v,w,x,M(k._payload),D)}if(mo(k)||to(k))return v=v.get(x)||null,f(w,v,k,D,null);El(w,k)}return null}function T(v,w,x,k){for(var D=null,M=null,L=w,U=w=0,F=null;L!==null&&U<x.length;U++){L.index>U?(F=L,L=null):F=L.sibling;var q=h(v,L,x[U],k);if(q===null){L===null&&(L=F);break}t&&L&&q.alternate===null&&e(v,L),w=o(q,w,U),M===null?D=q:M.sibling=q,M=q,L=F}if(U===x.length)return n(v,L),Fe&&Lr(v,U),D;if(L===null){for(;U<x.length;U++)L=p(v,x[U],k),L!==null&&(w=o(L,w,U),M===null?D=L:M.sibling=L,M=L);return Fe&&Lr(v,U),D}for(L=r(v,L);U<x.length;U++)F=m(L,v,U,x[U],k),F!==null&&(t&&F.alternate!==null&&L.delete(F.key===null?U:F.key),w=o(F,w,U),M===null?D=F:M.sibling=F,M=F);return t&&L.forEach(function(O){return e(v,O)}),Fe&&Lr(v,U),D}function C(v,w,x,k){var D=to(x);if(typeof D!="function")throw Error(W(150));if(x=D.call(x),x==null)throw Error(W(151));for(var M=D=null,L=w,U=w=0,F=null,q=x.next();L!==null&&!q.done;U++,q=x.next()){L.index>U?(F=L,L=null):F=L.sibling;var O=h(v,L,q.value,k);if(O===null){L===null&&(L=F);break}t&&L&&O.alternate===null&&e(v,L),w=o(O,w,U),M===null?D=O:M.sibling=O,M=O,L=F}if(q.done)return n(v,L),Fe&&Lr(v,U),D;if(L===null){for(;!q.done;U++,q=x.next())q=p(v,q.value,k),q!==null&&(w=o(q,w,U),M===null?D=q:M.sibling=q,M=q);return Fe&&Lr(v,U),D}for(L=r(v,L);!q.done;U++,q=x.next())q=m(L,v,U,q.value,k),q!==null&&(t&&q.alternate!==null&&L.delete(q.key===null?U:q.key),w=o(q,w,U),M===null?D=q:M.sibling=q,M=q);return t&&L.forEach(function(H){return e(v,H)}),Fe&&Lr(v,U),D}function _(v,w,x,k){if(typeof x=="object"&&x!==null&&x.type===ai&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case pl:e:{for(var D=x.key,M=w;M!==null;){if(M.key===D){if(D=x.type,D===ai){if(M.tag===7){n(v,M.sibling),w=i(M,x.props.children),w.return=v,v=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ir&&yf(D)===M.type){n(v,M.sibling),w=i(M,x.props),w.ref=lo(v,M,x),w.return=v,v=w;break e}n(v,M);break}else e(v,M);M=M.sibling}x.type===ai?(w=Hr(x.props.children,v.mode,k,x.key),w.return=v,v=w):(k=jl(x.type,x.key,x.props,null,v.mode,k),k.ref=lo(v,w,x),k.return=v,v=k)}return l(v);case si:e:{for(M=x.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(v,w.sibling),w=i(w,x.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Wa(x,v.mode,k),w.return=v,v=w}return l(v);case ir:return M=x._init,_(v,w,M(x._payload),k)}if(mo(x))return T(v,w,x,k);if(to(x))return C(v,w,x,k);El(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,x),w.return=v,v=w):(n(v,w),w=Ja(x,v.mode,k),w.return=v,v=w),l(v)):n(v,w)}return _}var Li=pg(!0),hg=pg(!1),ws=Ar(null),Ss=null,gi=null,gc=null;function yc(){gc=gi=Ss=null}function vc(t){var e=ws.current;Le(ws),t._currentValue=e}function ju(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ei(t,e){Ss=t,gc=gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function en(t){var e=t._currentValue;if(gc!==t)if(t={context:t,memoizedValue:e,next:null},gi===null){if(Ss===null)throw Error(W(308));gi=t,Ss.dependencies={lanes:0,firstContext:t}}else gi=gi.next=t;return e}var Br=null;function xc(t){Br===null?Br=[t]:Br.push(t)}function mg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xc(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gn(t,r)}function Gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var or=!1;function wc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gn(t,n)}return i=r.interleaved,i===null?(e.next=e,xc(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gn(t,n)}function Wl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oc(t,n)}}function vf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ts(t,e,n,r){var i=t.updateQueue;or=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==l&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=a))}if(o!==null){var p=i.baseState;l=0,f=u=a=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var T=t,C=s;switch(h=e,m=n,C.tag){case 1:if(T=C.payload,typeof T=="function"){p=T.call(m,p,h);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=C.payload,h=typeof T=="function"?T.call(m,p,h):T,h==null)break e;p=Ge({},p,h);break e;case 2:or=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=m,a=p):f=f.next=m,l|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(a=p),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Jr|=l,t.lanes=l,t.memoizedState=p}}function xf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var ll={},An=Ar(ll),Jo=Ar(ll),Wo=Ar(ll);function qr(t){if(t===ll)throw Error(W(174));return t}function Sc(t,e){switch(Ne(Wo,e),Ne(Jo,t),Ne(An,ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ru(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ru(e,t)}Le(An),Ne(An,e)}function zi(){Le(An),Le(Jo),Le(Wo)}function yg(t){qr(Wo.current);var e=qr(An.current),n=Ru(e,t.type);e!==n&&(Ne(Jo,t),Ne(An,n))}function Tc(t){Jo.current===t&&(Le(An),Le(Jo))}var Ve=Ar(0);function Cs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qa=[];function Cc(){for(var t=0;t<qa.length;t++)qa[t]._workInProgressVersionPrimary=null;qa.length=0}var Yl=Xn.ReactCurrentDispatcher,Va=Xn.ReactCurrentBatchConfig,$r=0,Oe=null,Ze=null,nt=null,Es=!1,ko=!1,Yo=0,A3=0;function ut(){throw Error(W(321))}function Ec(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function kc(t,e,n,r,i,o){if($r=o,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yl.current=t===null||t.memoizedState===null?b3:N3,t=n(r,i),ko){o=0;do{if(ko=!1,Yo=0,25<=o)throw Error(W(301));o+=1,nt=Ze=null,e.updateQueue=null,Yl.current=P3,t=n(r,i)}while(ko)}if(Yl.current=ks,e=Ze!==null&&Ze.next!==null,$r=0,nt=Ze=Oe=null,Es=!1,e)throw Error(W(300));return t}function Ac(){var t=Yo!==0;return Yo=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Oe.memoizedState=nt=t:nt=nt.next=t,nt}function tn(){if(Ze===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=nt===null?Oe.memoizedState:nt.next;if(e!==null)nt=e,Ze=t;else{if(t===null)throw Error(W(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},nt===null?Oe.memoizedState=nt=t:nt=nt.next=t}return nt}function Ko(t,e){return typeof e=="function"?e(t):e}function Ha(t){var e=tn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,a=null,u=o;do{var f=u.lane;if(($r&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=p,l=r):a=a.next=p,Oe.lanes|=f,Jr|=f}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=s,mn(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Oe.lanes|=o,Jr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oa(t){var e=tn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);mn(o,e.memoizedState)||(It=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function vg(){}function xg(t,e){var n=Oe,r=tn(),i=e(),o=!mn(r.memoizedState,i);if(o&&(r.memoizedState=i,It=!0),r=r.queue,Ic(Tg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Xo(9,Sg.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(W(349));$r&30||wg(n,e,i)}return i}function wg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sg(t,e,n,r){e.value=n,e.getSnapshot=r,Cg(e)&&Eg(t)}function Tg(t,e,n){return n(function(){Cg(e)&&Eg(t)})}function Cg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function Eg(t){var e=Gn(t,1);e!==null&&hn(e,t,1,-1)}function wf(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:t},e.queue=t,t=t.dispatch=_3.bind(null,Oe,t),[e.memoizedState,t]}function Xo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kg(){return tn().memoizedState}function Kl(t,e,n,r){var i=vn();Oe.flags|=t,i.memoizedState=Xo(1|e,n,void 0,r===void 0?null:r)}function Ks(t,e,n,r){var i=tn();r=r===void 0?null:r;var o=void 0;if(Ze!==null){var l=Ze.memoizedState;if(o=l.destroy,r!==null&&Ec(r,l.deps)){i.memoizedState=Xo(e,n,o,r);return}}Oe.flags|=t,i.memoizedState=Xo(1|e,n,o,r)}function Sf(t,e){return Kl(8390656,8,t,e)}function Ic(t,e){return Ks(2048,8,t,e)}function Ag(t,e){return Ks(4,2,t,e)}function Ig(t,e){return Ks(4,4,t,e)}function Mg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _g(t,e,n){return n=n!=null?n.concat([t]):null,Ks(4,4,Mg.bind(null,e,t),n)}function Mc(){}function bg(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ec(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ng(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ec(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pg(t,e,n){return $r&21?(mn(n,e)||(n=F1(),Oe.lanes|=n,Jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function I3(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Va.transition;Va.transition={};try{t(!1),e()}finally{Ae=n,Va.transition=r}}function Rg(){return tn().memoizedState}function M3(t,e,n){var r=vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dg(t))Lg(e,n);else if(n=mg(t,e,n,r),n!==null){var i=xt();hn(n,t,r,i),zg(n,e,r)}}function _3(t,e,n){var r=vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dg(t))Lg(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,mn(s,l)){var a=e.interleaved;a===null?(i.next=i,xc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=mg(t,e,i,r),n!==null&&(i=xt(),hn(n,t,r,i),zg(n,e,r))}}function Dg(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function Lg(t,e){ko=Es=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oc(t,n)}}var ks={readContext:en,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},b3={readContext:en,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:Sf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kl(4194308,4,Mg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kl(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M3.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:wf,useDebugValue:Mc,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=wf(!1),e=t[0];return t=I3.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=vn();if(Fe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),rt===null)throw Error(W(349));$r&30||wg(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Sf(Tg.bind(null,r,o,t),[t]),r.flags|=2048,Xo(9,Sg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=vn(),e=rt.identifierPrefix;if(Fe){var n=Un,r=Fn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=A3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N3={readContext:en,useCallback:bg,useContext:en,useEffect:Ic,useImperativeHandle:_g,useInsertionEffect:Ag,useLayoutEffect:Ig,useMemo:Ng,useReducer:Ha,useRef:kg,useState:function(){return Ha(Ko)},useDebugValue:Mc,useDeferredValue:function(t){var e=tn();return Pg(e,Ze.memoizedState,t)},useTransition:function(){var t=Ha(Ko)[0],e=tn().memoizedState;return[t,e]},useMutableSource:vg,useSyncExternalStore:xg,useId:Rg,unstable_isNewReconciler:!1},P3={readContext:en,useCallback:bg,useContext:en,useEffect:Ic,useImperativeHandle:_g,useInsertionEffect:Ag,useLayoutEffect:Ig,useMemo:Ng,useReducer:Oa,useRef:kg,useState:function(){return Oa(Ko)},useDebugValue:Mc,useDeferredValue:function(t){var e=tn();return Ze===null?e.memoizedState=t:Pg(e,Ze.memoizedState,t)},useTransition:function(){var t=Oa(Ko)[0],e=tn().memoizedState;return[t,e]},useMutableSource:vg,useSyncExternalStore:xg,useId:Rg,unstable_isNewReconciler:!1};function un(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function e0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xs={isMounted:function(t){return(t=t._reactInternals)?Kr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),i=vr(t),o=Bn(r,i);o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,i),e!==null&&(hn(e,t,i,r),Wl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),i=vr(t),o=Bn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,i),e!==null&&(hn(e,t,i,r),Wl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=vr(t),i=Bn(n,r);i.tag=2,e!=null&&(i.callback=e),e=gr(t,i,r),e!==null&&(hn(e,t,r,n),Wl(e,t,r))}};function Tf(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Ho(n,r)||!Ho(i,o):!0}function Fg(t,e,n){var r=!1,i=Sr,o=e.contextType;return typeof o=="object"&&o!==null?o=en(o):(i=_t(e)?Or:pt.current,r=e.contextTypes,o=(r=r!=null)?Ri(t,i):Sr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Cf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xs.enqueueReplaceState(e,e.state,null)}function t0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=en(o):(o=_t(e)?Or:pt.current,i.context=Ri(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(e0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xs.enqueueReplaceState(i,i.state,null),Ts(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fi(t,e){try{var n="",r=e;do n+=l5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ga(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function n0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R3=typeof WeakMap=="function"?WeakMap:Map;function Ug(t,e,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Is||(Is=!0,f0=r),n0(t,e)},n}function Bg(t,e,n){n=Bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){n0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){n0(t,e),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Ef(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=W3.bind(null,t,e,n),e.then(t,t))}function kf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Af(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bn(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var D3=Xn.ReactCurrentOwner,It=!1;function yt(t,e,n,r){e.child=t===null?hg(e,null,n,r):Li(e,t.child,n,r)}function If(t,e,n,r,i){n=n.render;var o=e.ref;return Ei(e,i),r=kc(t,e,n,r,o,i),n=Ac(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(Fe&&n&&pc(e),e.flags|=1,yt(t,e,r,i),e.child)}function Mf(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!zc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,qg(t,e,o,r,i)):(t=jl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(l,r)&&t.ref===e.ref)return $n(t,e,i)}return e.flags|=1,t=xr(o,r),t.ref=e.ref,t.return=e,e.child=t}function qg(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ho(o,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,$n(t,e,i)}return r0(t,e,n,r,i)}function Vg(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(vi,zt),zt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(vi,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(vi,zt),zt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ne(vi,zt),zt|=r;return yt(t,e,i,n),e.child}function Hg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function r0(t,e,n,r,i){var o=_t(n)?Or:pt.current;return o=Ri(e,o),Ei(e,i),n=kc(t,e,n,r,o,i),r=Ac(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(Fe&&r&&pc(e),e.flags|=1,yt(t,e,n,i),e.child)}function _f(t,e,n,r,i){if(_t(n)){var o=!0;ys(e)}else o=!1;if(Ei(e,i),e.stateNode===null)Xl(t,e),Fg(e,n,r),t0(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,s=e.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=en(u):(u=_t(n)?Or:pt.current,u=Ri(e,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Cf(e,l,r,u),or=!1;var h=e.memoizedState;l.state=h,Ts(e,r,l,i),a=e.memoizedState,s!==r||h!==a||Mt.current||or?(typeof f=="function"&&(e0(e,n,f,r),a=e.memoizedState),(s=or||Tf(e,n,s,r,h,a,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,gg(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:un(e.type,s),l.props=u,p=e.pendingProps,h=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=en(a):(a=_t(n)?Or:pt.current,a=Ri(e,a));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||h!==a)&&Cf(e,l,r,a),or=!1,h=e.memoizedState,l.state=h,Ts(e,r,l,i);var T=e.memoizedState;s!==p||h!==T||Mt.current||or?(typeof m=="function"&&(e0(e,n,m,r),T=e.memoizedState),(u=or||Tf(e,n,u,r,h,T,a)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,T,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,T,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),l.props=r,l.state=T,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return i0(t,e,n,r,o,i)}function i0(t,e,n,r,i,o){Hg(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&hf(e,n,!1),$n(t,e,o);r=e.stateNode,D3.current=e;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Li(e,t.child,null,o),e.child=Li(e,null,s,o)):yt(t,e,s,o),e.memoizedState=r.state,i&&hf(e,n,!0),e.child}function Og(t){var e=t.stateNode;e.pendingContext?pf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pf(t,e.context,!1),Sc(t,e.containerInfo)}function bf(t,e,n,r,i){return Di(),mc(i),e.flags|=256,yt(t,e,n,r),e.child}var o0={dehydrated:null,treeContext:null,retryLane:0};function l0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gg(t,e,n){var r=e.pendingProps,i=Ve.current,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(Ve,i&1),t===null)return Zu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=js(l,r,0,null),t=Hr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=l0(n),e.memoizedState=o0,t):_c(e,l));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return L3(t,e,l,r,s,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=xr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=xr(s,o):(o=Hr(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?l0(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=o0,r}return o=t.child,t=o.sibling,r=xr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _c(t,e){return e=js({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kl(t,e,n,r){return r!==null&&mc(r),Li(e,t.child,null,n),t=_c(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L3(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Ga(Error(W(422))),kl(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=js({mode:"visible",children:r.children},i,0,null),o=Hr(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Li(e,t.child,null,l),e.child.memoizedState=l0(l),e.memoizedState=o0,o);if(!(e.mode&1))return kl(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(W(419)),r=Ga(o,r,void 0),kl(t,e,l,r)}if(s=(l&t.childLanes)!==0,It||s){if(r=rt,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gn(t,i),hn(r,t,i,-1))}return Lc(),r=Ga(Error(W(421))),kl(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Y3.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Bt=mr(i.nextSibling),Vt=e,Fe=!0,fn=null,t!==null&&(Wt[Yt++]=Fn,Wt[Yt++]=Un,Wt[Yt++]=Gr,Fn=t.id,Un=t.overflow,Gr=e),e=_c(e,r.children),e.flags|=4096,e)}function Nf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ju(t.return,e,n)}function $a(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $g(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(yt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nf(t,n,e);else if(t.tag===19)Nf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$a(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$a(e,!0,n,null,o);break;case"together":$a(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function z3(t,e,n){switch(e.tag){case 3:Og(e),Di();break;case 5:yg(e);break;case 1:_t(e.type)&&ys(e);break;case 4:Sc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(ws,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?Gg(t,e,n):(Ne(Ve,Ve.current&1),t=$n(t,e,n),t!==null?t.sibling:null);Ne(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $g(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,Vg(t,e,n)}return $n(t,e,n)}var Jg,s0,Wg,Yg;Jg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};s0=function(){};Wg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qr(An.current);var o=null;switch(n){case"input":i=_u(t,i),r=_u(t,r),o=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),o=[];break;case"textarea":i=Pu(t,i),r=Pu(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ms)}Du(n,r);var l;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Re("scroll",t),o||s===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Yg=function(t,e,n,r){n!==r&&(e.flags|=4)};function so(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function F3(t,e,n){var r=e.pendingProps;switch(hc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return _t(e.type)&&gs(),ct(e),null;case 3:return r=e.stateNode,zi(),Le(Mt),Le(pt),Cc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(m0(fn),fn=null))),s0(t,e),ct(e),null;case 5:Tc(e);var i=qr(Wo.current);if(n=e.type,t!==null&&e.stateNode!=null)Wg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return ct(e),null}if(t=qr(An.current),Cl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Sn]=e,r[$o]=o,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<yo.length;i++)Re(yo[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Bd(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":Vd(r,o),Re("invalid",r)}Du(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Tl(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Tl(r.textContent,s,t),i=["children",""+s]):Lo.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&Re("scroll",r)}switch(n){case"input":hl(r),qd(r,o,!0);break;case"textarea":hl(r),Hd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ms)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=T1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Sn]=e,t[$o]=r,Jg(t,e,!1,!1),e.stateNode=t;e:{switch(l=Lu(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<yo.length;i++)Re(yo[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":Bd(t,r),i=_u(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Vd(t,r),i=Pu(t,r),Re("invalid",t);break;default:i=r}Du(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?k1(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&C1(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&zo(t,a):typeof a=="number"&&zo(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Lo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Re("scroll",t):a!=null&&j0(t,o,a,l))}switch(n){case"input":hl(t),qd(t,r,!1);break;case"textarea":hl(t),Hd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?wi(t,!!r.multiple,o,!1):r.defaultValue!=null&&wi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ms)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)Yg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=qr(Wo.current),qr(An.current),Cl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Tl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return ct(e),null;case 13:if(Le(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Bt!==null&&e.mode&1&&!(e.flags&128))fg(),Di(),e.flags|=98560,o=!1;else if(o=Cl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Sn]=e}else Di(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),o=!1}else fn!==null&&(m0(fn),fn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?je===0&&(je=3):Lc())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return zi(),s0(t,e),t===null&&Oo(e.stateNode.containerInfo),ct(e),null;case 10:return vc(e.type._context),ct(e),null;case 17:return _t(e.type)&&gs(),ct(e),null;case 19:if(Le(Ve),o=e.memoizedState,o===null)return ct(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)so(o,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Cs(t),l!==null){for(e.flags|=128,so(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(Ve,Ve.current&1|2),e.child}t=t.sibling}o.tail!==null&&We()>Ui&&(e.flags|=128,r=!0,so(o,!1),e.lanes=4194304)}else{if(!r)if(t=Cs(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),so(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Fe)return ct(e),null}else 2*We()-o.renderingStartTime>Ui&&n!==1073741824&&(e.flags|=128,r=!0,so(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,n=Ve.current,Ne(Ve,r?n&1|2:n&1),e):(ct(e),null);case 22:case 23:return Dc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function U3(t,e){switch(hc(e),e.tag){case 1:return _t(e.type)&&gs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(),Le(Mt),Le(pt),Cc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tc(e),null;case 13:if(Le(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ve),null;case 4:return zi(),null;case 10:return vc(e.type._context),null;case 22:case 23:return Dc(),null;case 24:return null;default:return null}}var Al=!1,dt=!1,B3=typeof WeakSet=="function"?WeakSet:Set,ee=null;function yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function a0(t,e,n){try{n()}catch(r){Je(t,e,r)}}var Pf=!1;function q3(t,e){if($u=fs,t=j1(),fc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,f=0,p=t,h=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(s=l+i),p!==o||r!==0&&p.nodeType!==3||(a=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===t)break t;if(h===n&&++u===i&&(s=l),h===o&&++f===r&&(a=l),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:t,selectionRange:n},fs=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var C=T.memoizedProps,_=T.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?C:un(e.type,C),_);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){Je(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return T=Pf,Pf=!1,T}function Ao(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&a0(e,n,o)}i=i.next}while(i!==r)}}function Qs(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function u0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kg(t){var e=t.alternate;e!==null&&(t.alternate=null,Kg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[$o],delete e[Ku],delete e[T3],delete e[C3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xg(t){return t.tag===5||t.tag===3||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function c0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ms));else if(r!==4&&(t=t.child,t!==null))for(c0(t,e,n),t=t.sibling;t!==null;)c0(t,e,n),t=t.sibling}function d0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(d0(t,e,n),t=t.sibling;t!==null;)d0(t,e,n),t=t.sibling}var lt=null,cn=!1;function er(t,e,n){for(n=n.child;n!==null;)Qg(t,e,n),n=n.sibling}function Qg(t,e,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Os,n)}catch{}switch(n.tag){case 5:dt||yi(n,e);case 6:var r=lt,i=cn;lt=null,er(t,e,n),lt=r,cn=i,lt!==null&&(cn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(cn?(t=lt,n=n.stateNode,t.nodeType===8?Ua(t.parentNode,n):t.nodeType===1&&Ua(t,n),qo(t)):Ua(lt,n.stateNode));break;case 4:r=lt,i=cn,lt=n.stateNode.containerInfo,cn=!0,er(t,e,n),lt=r,cn=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&a0(n,e,l),i=i.next}while(i!==r)}er(t,e,n);break;case 1:if(!dt&&(yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Je(n,e,s)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,er(t,e,n),dt=r):er(t,e,n);break;default:er(t,e,n)}}function Df(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new B3),e.forEach(function(r){var i=K3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function an(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,s=l;e:for(;s!==null;){switch(s.tag){case 5:lt=s.stateNode,cn=!1;break e;case 3:lt=s.stateNode.containerInfo,cn=!0;break e;case 4:lt=s.stateNode.containerInfo,cn=!0;break e}s=s.return}if(lt===null)throw Error(W(160));Qg(o,l,i),lt=null,cn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Je(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zg(e,t),e=e.sibling}function Zg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(e,t),yn(t),r&4){try{Ao(3,t,t.return),Qs(3,t)}catch(C){Je(t,t.return,C)}try{Ao(5,t,t.return)}catch(C){Je(t,t.return,C)}}break;case 1:an(e,t),yn(t),r&512&&n!==null&&yi(n,n.return);break;case 5:if(an(e,t),yn(t),r&512&&n!==null&&yi(n,n.return),t.flags&32){var i=t.stateNode;try{zo(i,"")}catch(C){Je(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,s=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&w1(i,o),Lu(s,l);var u=Lu(s,o);for(l=0;l<a.length;l+=2){var f=a[l],p=a[l+1];f==="style"?k1(i,p):f==="dangerouslySetInnerHTML"?C1(i,p):f==="children"?zo(i,p):j0(i,f,p,u)}switch(s){case"input":bu(i,o);break;case"textarea":S1(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?wi(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?wi(i,!!o.multiple,o.defaultValue,!0):wi(i,!!o.multiple,o.multiple?[]:"",!1))}i[$o]=o}catch(C){Je(t,t.return,C)}}break;case 6:if(an(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(C){Je(t,t.return,C)}}break;case 3:if(an(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qo(e.containerInfo)}catch(C){Je(t,t.return,C)}break;case 4:an(e,t),yn(t);break;case 13:an(e,t),yn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Pc=We())),r&4&&Df(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(u=dt)||f,an(e,t),dt=u):an(e,t),yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ee=t,f=t.child;f!==null;){for(p=ee=f;ee!==null;){switch(h=ee,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ao(4,h,h.return);break;case 1:yi(h,h.return);var T=h.stateNode;if(typeof T.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(C){Je(r,n,C)}}break;case 5:yi(h,h.return);break;case 22:if(h.memoizedState!==null){zf(p);continue}}m!==null?(m.return=h,ee=m):zf(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,a=p.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=E1("display",l))}catch(C){Je(t,t.return,C)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(C){Je(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:an(e,t),yn(t),r&4&&Df(t);break;case 21:break;default:an(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xg(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zo(i,""),r.flags&=-33);var o=Rf(t);d0(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Rf(t);c0(t,s,l);break;default:throw Error(W(161))}}catch(a){Je(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V3(t,e,n){ee=t,jg(t)}function jg(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Al;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||dt;s=Al;var u=dt;if(Al=l,(dt=a)&&!u)for(ee=i;ee!==null;)l=ee,a=l.child,l.tag===22&&l.memoizedState!==null?Ff(i):a!==null?(a.return=l,ee=a):Ff(i);for(;o!==null;)ee=o,jg(o),o=o.sibling;ee=i,Al=s,dt=u}Lf(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ee=o):Lf(t)}}function Lf(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||Qs(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&xf(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xf(e,l,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&qo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}dt||e.flags&512&&u0(e)}catch(h){Je(e,e.return,h)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function zf(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Ff(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qs(4,e)}catch(a){Je(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Je(e,i,a)}}var o=e.return;try{u0(e)}catch(a){Je(e,o,a)}break;case 5:var l=e.return;try{u0(e)}catch(a){Je(e,l,a)}}}catch(a){Je(e,e.return,a)}if(e===t){ee=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ee=s;break}ee=e.return}}var H3=Math.ceil,As=Xn.ReactCurrentDispatcher,bc=Xn.ReactCurrentOwner,Zt=Xn.ReactCurrentBatchConfig,we=0,rt=null,Xe=null,st=0,zt=0,vi=Ar(0),je=0,Qo=null,Jr=0,Zs=0,Nc=0,Io=null,At=null,Pc=0,Ui=1/0,Dn=null,Is=!1,f0=null,yr=null,Il=!1,ur=null,Ms=0,Mo=0,p0=null,Ql=-1,Zl=0;function xt(){return we&6?We():Ql!==-1?Ql:Ql=We()}function vr(t){return t.mode&1?we&2&&st!==0?st&-st:k3.transition!==null?(Zl===0&&(Zl=F1()),Zl):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:G1(t.type)),t):1}function hn(t,e,n,r){if(50<Mo)throw Mo=0,p0=null,Error(W(185));rl(t,n,r),(!(we&2)||t!==rt)&&(t===rt&&(!(we&2)&&(Zs|=n),je===4&&sr(t,st)),bt(t,r),n===1&&we===0&&!(e.mode&1)&&(Ui=We()+500,Ys&&Ir()))}function bt(t,e){var n=t.callbackNode;k5(t,e);var r=ds(t,t===rt?st:0);if(r===0)n!==null&&$d(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$d(n),e===1)t.tag===0?E3(Uf.bind(null,t)):ug(Uf.bind(null,t)),w3(function(){!(we&6)&&Ir()}),n=null;else{switch(U1(r)){case 1:n=ic;break;case 4:n=L1;break;case 16:n=cs;break;case 536870912:n=z1;break;default:n=cs}n=s4(n,e4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function e4(t,e){if(Ql=-1,Zl=0,we&6)throw Error(W(327));var n=t.callbackNode;if(ki()&&t.callbackNode!==n)return null;var r=ds(t,t===rt?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_s(t,r);else{e=r;var i=we;we|=2;var o=n4();(rt!==t||st!==e)&&(Dn=null,Ui=We()+500,Vr(t,e));do try{$3();break}catch(s){t4(t,s)}while(!0);yc(),As.current=o,we=i,Xe!==null?e=0:(rt=null,st=0,e=je)}if(e!==0){if(e===2&&(i=qu(t),i!==0&&(r=i,e=h0(t,i))),e===1)throw n=Qo,Vr(t,0),sr(t,r),bt(t,We()),n;if(e===6)sr(t,r);else{if(i=t.current.alternate,!(r&30)&&!O3(i)&&(e=_s(t,r),e===2&&(o=qu(t),o!==0&&(r=o,e=h0(t,o))),e===1))throw n=Qo,Vr(t,0),sr(t,r),bt(t,We()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:zr(t,At,Dn);break;case 3:if(sr(t,r),(r&130023424)===r&&(e=Pc+500-We(),10<e)){if(ds(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yu(zr.bind(null,t,At,Dn),e);break}zr(t,At,Dn);break;case 4:if(sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-pn(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H3(r/1960))-r,10<r){t.timeoutHandle=Yu(zr.bind(null,t,At,Dn),r);break}zr(t,At,Dn);break;case 5:zr(t,At,Dn);break;default:throw Error(W(329))}}}return bt(t,We()),t.callbackNode===n?e4.bind(null,t):null}function h0(t,e){var n=Io;return t.current.memoizedState.isDehydrated&&(Vr(t,e).flags|=256),t=_s(t,e),t!==2&&(e=At,At=n,e!==null&&m0(e)),t}function m0(t){At===null?At=t:At.push.apply(At,t)}function O3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sr(t,e){for(e&=~Nc,e&=~Zs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),r=1<<n;t[n]=-1,e&=~r}}function Uf(t){if(we&6)throw Error(W(327));ki();var e=ds(t,0);if(!(e&1))return bt(t,We()),null;var n=_s(t,e);if(t.tag!==0&&n===2){var r=qu(t);r!==0&&(e=r,n=h0(t,r))}if(n===1)throw n=Qo,Vr(t,0),sr(t,e),bt(t,We()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zr(t,At,Dn),bt(t,We()),null}function Rc(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Ui=We()+500,Ys&&Ir())}}function Wr(t){ur!==null&&ur.tag===0&&!(we&6)&&ki();var e=we;we|=1;var n=Zt.transition,r=Ae;try{if(Zt.transition=null,Ae=1,t)return t()}finally{Ae=r,Zt.transition=n,we=e,!(we&6)&&Ir()}}function Dc(){zt=vi.current,Le(vi)}function Vr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,x3(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(hc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gs();break;case 3:zi(),Le(Mt),Le(pt),Cc();break;case 5:Tc(r);break;case 4:zi();break;case 13:Le(Ve);break;case 19:Le(Ve);break;case 10:vc(r.type._context);break;case 22:case 23:Dc()}n=n.return}if(rt=t,Xe=t=xr(t.current,null),st=zt=e,je=0,Qo=null,Nc=Zs=Jr=0,At=Io=null,Br!==null){for(e=0;e<Br.length;e++)if(n=Br[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Br=null}return t}function t4(t,e){do{var n=Xe;try{if(yc(),Yl.current=ks,Es){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Es=!1}if($r=0,nt=Ze=Oe=null,ko=!1,Yo=0,bc.current=null,n===null||n.return===null){je=1,Qo=e,Xe=null;break}e:{var o=t,l=n.return,s=n,a=e;if(e=st,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=s,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=kf(l);if(m!==null){m.flags&=-257,Af(m,l,s,o,e),m.mode&1&&Ef(o,u,e),e=m,a=u;var T=e.updateQueue;if(T===null){var C=new Set;C.add(a),e.updateQueue=C}else T.add(a);break e}else{if(!(e&1)){Ef(o,u,e),Lc();break e}a=Error(W(426))}}else if(Fe&&s.mode&1){var _=kf(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Af(_,l,s,o,e),mc(Fi(a,s));break e}}o=a=Fi(a,s),je!==4&&(je=2),Io===null?Io=[o]:Io.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=Ug(o,a,e);vf(o,v);break e;case 1:s=a;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(yr===null||!yr.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=Bg(o,s,e);vf(o,k);break e}}o=o.return}while(o!==null)}i4(n)}catch(D){e=D,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function n4(){var t=As.current;return As.current=ks,t===null?ks:t}function Lc(){(je===0||je===3||je===2)&&(je=4),rt===null||!(Jr&268435455)&&!(Zs&268435455)||sr(rt,st)}function _s(t,e){var n=we;we|=2;var r=n4();(rt!==t||st!==e)&&(Dn=null,Vr(t,e));do try{G3();break}catch(i){t4(t,i)}while(!0);if(yc(),we=n,As.current=r,Xe!==null)throw Error(W(261));return rt=null,st=0,je}function G3(){for(;Xe!==null;)r4(Xe)}function $3(){for(;Xe!==null&&!g5();)r4(Xe)}function r4(t){var e=l4(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?i4(t):Xe=e,bc.current=null}function i4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=U3(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,Xe=null;return}}else if(n=F3(n,e,zt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);je===0&&(je=5)}function zr(t,e,n){var r=Ae,i=Zt.transition;try{Zt.transition=null,Ae=1,J3(t,e,n,r)}finally{Zt.transition=i,Ae=r}return null}function J3(t,e,n,r){do ki();while(ur!==null);if(we&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(A5(t,o),t===rt&&(Xe=rt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Il||(Il=!0,s4(cs,function(){return ki(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zt.transition,Zt.transition=null;var l=Ae;Ae=1;var s=we;we|=4,bc.current=null,q3(t,n),Zg(n,t),f3(Ju),fs=!!$u,Ju=$u=null,t.current=n,V3(n),y5(),we=s,Ae=l,Zt.transition=o}else t.current=n;if(Il&&(Il=!1,ur=t,Ms=i),o=t.pendingLanes,o===0&&(yr=null),w5(n.stateNode),bt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Is)throw Is=!1,t=f0,f0=null,t;return Ms&1&&t.tag!==0&&ki(),o=t.pendingLanes,o&1?t===p0?Mo++:(Mo=0,p0=t):Mo=0,Ir(),null}function ki(){if(ur!==null){var t=U1(Ms),e=Zt.transition,n=Ae;try{if(Zt.transition=null,Ae=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,Ms=0,we&6)throw Error(W(331));var i=we;for(we|=4,ee=t.current;ee!==null;){var o=ee,l=o.child;if(ee.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(ee=u;ee!==null;){var f=ee;switch(f.tag){case 0:case 11:case 15:Ao(8,f,o)}var p=f.child;if(p!==null)p.return=f,ee=p;else for(;ee!==null;){f=ee;var h=f.sibling,m=f.return;if(Kg(f),f===u){ee=null;break}if(h!==null){h.return=m,ee=h;break}ee=m}}}var T=o.alternate;if(T!==null){var C=T.child;if(C!==null){T.child=null;do{var _=C.sibling;C.sibling=null,C=_}while(C!==null)}}ee=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ee=l;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ao(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ee=v;break e}ee=o.return}}var w=t.current;for(ee=w;ee!==null;){l=ee;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,ee=x;else e:for(l=w;ee!==null;){if(s=ee,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Qs(9,s)}}catch(D){Je(s,s.return,D)}if(s===l){ee=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,ee=k;break e}ee=s.return}}if(we=i,Ir(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Os,t)}catch{}r=!0}return r}finally{Ae=n,Zt.transition=e}}return!1}function Bf(t,e,n){e=Fi(n,e),e=Ug(t,e,1),t=gr(t,e,1),e=xt(),t!==null&&(rl(t,1,e),bt(t,e))}function Je(t,e,n){if(t.tag===3)Bf(t,t,n);else for(;e!==null;){if(e.tag===3){Bf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){t=Fi(n,t),t=Bg(e,t,1),e=gr(e,t,1),t=xt(),e!==null&&(rl(e,1,t),bt(e,t));break}}e=e.return}}function W3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(st&n)===n&&(je===4||je===3&&(st&130023424)===st&&500>We()-Pc?Vr(t,0):Nc|=n),bt(t,e)}function o4(t,e){e===0&&(t.mode&1?(e=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):e=1);var n=xt();t=Gn(t,e),t!==null&&(rl(t,e,n),bt(t,n))}function Y3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o4(t,n)}function K3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),o4(t,n)}var l4;l4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,z3(t,e,n);It=!!(t.flags&131072)}else It=!1,Fe&&e.flags&1048576&&cg(e,xs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xl(t,e),t=e.pendingProps;var i=Ri(e,pt.current);Ei(e,n),i=kc(null,e,r,t,i,n);var o=Ac();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(r)?(o=!0,ys(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wc(e),i.updater=Xs,e.stateNode=i,i._reactInternals=e,t0(e,r,t,n),e=i0(null,e,r,!0,o,n)):(e.tag=0,Fe&&o&&pc(e),yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Q3(r),t=un(r,t),i){case 0:e=r0(null,e,r,t,n);break e;case 1:e=_f(null,e,r,t,n);break e;case 11:e=If(null,e,r,t,n);break e;case 14:e=Mf(null,e,r,un(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),r0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),_f(t,e,r,i,n);case 3:e:{if(Og(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,i=o.element,gg(t,e),Ts(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Fi(Error(W(423)),e),e=bf(t,e,r,n,i);break e}else if(r!==i){i=Fi(Error(W(424)),e),e=bf(t,e,r,n,i);break e}else for(Bt=mr(e.stateNode.containerInfo.firstChild),Vt=e,Fe=!0,fn=null,n=hg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Di(),r===i){e=$n(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return yg(e),t===null&&Zu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,Wu(r,i)?l=null:o!==null&&Wu(r,o)&&(e.flags|=32),Hg(t,e),yt(t,e,l,n),e.child;case 6:return t===null&&Zu(e),null;case 13:return Gg(t,e,n);case 4:return Sc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Li(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),If(t,e,r,i,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,Ne(ws,r._currentValue),r._currentValue=l,o!==null)if(mn(o.value,l)){if(o.children===i.children&&!Mt.current){e=$n(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Bn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ju(o.return,n,e),s.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(W(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),ju(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ei(e,n),i=en(i),r=r(i),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,i=un(r,e.pendingProps),i=un(r.type,i),Mf(t,e,r,i,n);case 15:return qg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Xl(t,e),e.tag=1,_t(r)?(t=!0,ys(e)):t=!1,Ei(e,n),Fg(e,r,i),t0(e,r,i,n),i0(null,e,r,!0,t,n);case 19:return $g(t,e,n);case 22:return Vg(t,e,n)}throw Error(W(156,e.tag))};function s4(t,e){return D1(t,e)}function X3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new X3(t,e,n,r)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q3(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tc)return 11;if(t===nc)return 14}return 2}function xr(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jl(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")zc(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ai:return Hr(n.children,i,o,e);case ec:l=8,i|=8;break;case ku:return t=Xt(12,n,e,i|2),t.elementType=ku,t.lanes=o,t;case Au:return t=Xt(13,n,e,i),t.elementType=Au,t.lanes=o,t;case Iu:return t=Xt(19,n,e,i),t.elementType=Iu,t.lanes=o,t;case y1:return js(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m1:l=10;break e;case g1:l=9;break e;case tc:l=11;break e;case nc:l=14;break e;case ir:l=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Xt(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Hr(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function js(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=y1,t.lanes=n,t.stateNode={isHidden:!1},t}function Ja(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function Wa(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ia(0),this.expirationTimes=Ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(t,e,n,r,i,o,l,s,a){return t=new Z3(t,e,n,s,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Xt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wc(o),t}function j3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function a4(t){if(!t)return Sr;t=t._reactInternals;e:{if(Kr(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(_t(n))return ag(t,n,e)}return e}function u4(t,e,n,r,i,o,l,s,a){return t=Fc(n,r,!0,t,i,o,l,s,a),t.context=a4(null),n=t.current,r=xt(),i=vr(n),o=Bn(r,i),o.callback=e??null,gr(n,o,i),t.current.lanes=i,rl(t,i,r),bt(t,r),t}function ea(t,e,n,r){var i=e.current,o=xt(),l=vr(i);return n=a4(n),e.context===null?e.context=n:e.pendingContext=n,e=Bn(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gr(i,e,l),t!==null&&(hn(t,i,l,o),Wl(t,i,l)),l}function bs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uc(t,e){qf(t,e),(t=t.alternate)&&qf(t,e)}function ev(){return null}var c4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bc(t){this._internalRoot=t}ta.prototype.render=Bc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));ea(t,e,null,null)};ta.prototype.unmount=Bc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wr(function(){ea(null,t,null,null)}),e[On]=null}};function ta(t){this._internalRoot=t}ta.prototype.unstable_scheduleHydration=function(t){if(t){var e=V1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lr.length&&e!==0&&e<lr[n].priority;n++);lr.splice(n,0,t),n===0&&O1(t)}};function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function na(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vf(){}function tv(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=bs(l);o.call(u)}}var l=u4(e,r,t,0,null,!1,!1,"",Vf);return t._reactRootContainer=l,t[On]=l.current,Oo(t.nodeType===8?t.parentNode:t),Wr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=bs(a);s.call(u)}}var a=Fc(t,0,!1,null,null,!1,!1,"",Vf);return t._reactRootContainer=a,t[On]=a.current,Oo(t.nodeType===8?t.parentNode:t),Wr(function(){ea(e,a,n,r)}),a}function ra(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=bs(l);s.call(a)}}ea(e,l,t,i)}else l=tv(n,e,t,i,r);return bs(l)}B1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=go(e.pendingLanes);n!==0&&(oc(e,n|1),bt(e,We()),!(we&6)&&(Ui=We()+500,Ir()))}break;case 13:Wr(function(){var r=Gn(t,1);if(r!==null){var i=xt();hn(r,t,1,i)}}),Uc(t,1)}};lc=function(t){if(t.tag===13){var e=Gn(t,134217728);if(e!==null){var n=xt();hn(e,t,134217728,n)}Uc(t,134217728)}};q1=function(t){if(t.tag===13){var e=vr(t),n=Gn(t,e);if(n!==null){var r=xt();hn(n,t,e,r)}Uc(t,e)}};V1=function(){return Ae};H1=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Fu=function(t,e,n){switch(e){case"input":if(bu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ws(r);if(!i)throw Error(W(90));x1(r),bu(r,i)}}}break;case"textarea":S1(t,n);break;case"select":e=n.value,e!=null&&wi(t,!!n.multiple,e,!1)}};M1=Rc;_1=Wr;var nv={usingClientEntryPoint:!1,Events:[ol,fi,Ws,A1,I1,Rc]},ao={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rv={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P1(t),t===null?null:t.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||ev,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Os=Ml.inject(rv),kn=Ml}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nv;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(e))throw Error(W(200));return j3(t,e,null,n)};Gt.createRoot=function(t,e){if(!qc(t))throw Error(W(299));var n=!1,r="",i=c4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fc(t,1,!1,null,null,n,!1,r,i),t[On]=e.current,Oo(t.nodeType===8?t.parentNode:t),new Bc(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=P1(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Wr(t)};Gt.hydrate=function(t,e,n){if(!na(e))throw Error(W(200));return ra(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!qc(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=c4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=u4(e,null,t,1,n??null,i,!1,o,l),t[On]=e.current,Oo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ta(e)};Gt.render=function(t,e,n){if(!na(e))throw Error(W(200));return ra(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!na(t))throw Error(W(40));return t._reactRootContainer?(Wr(function(){ra(null,null,t,!1,function(){t._reactRootContainer=null,t[On]=null})}),!0):!1};Gt.unstable_batchedUpdates=Rc;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!na(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return ra(t,e,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function d4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d4)}catch(t){console.error(t)}}d4(),d1.exports=Gt;var iv=d1.exports,Hf=iv;Cu.createRoot=Hf.createRoot,Cu.hydrateRoot=Hf.hydrateRoot;var ot=[];for(var Ya=0;Ya<256;++Ya)ot.push((Ya+256).toString(16).slice(1));function ov(t,e=0){return(ot[t[e+0]]+ot[t[e+1]]+ot[t[e+2]]+ot[t[e+3]]+"-"+ot[t[e+4]]+ot[t[e+5]]+"-"+ot[t[e+6]]+ot[t[e+7]]+"-"+ot[t[e+8]]+ot[t[e+9]]+"-"+ot[t[e+10]]+ot[t[e+11]]+ot[t[e+12]]+ot[t[e+13]]+ot[t[e+14]]+ot[t[e+15]]).toLowerCase()}var _l,lv=new Uint8Array(16);function sv(){if(!_l&&(_l=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _l(lv)}var av=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Of={randomUUID:av};function uo(t,e,n){if(Of.randomUUID&&!t)return Of.randomUUID();t=t||{};var r=t.random||(t.rng||sv)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ov(r)}/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f4=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=xe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...s},a)=>xe.createElement("svg",{ref:a,...cv,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:f4("lucide",i),...s},[...l.map(([u,f])=>xe.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=xe.forwardRef(({className:r,...i},o)=>xe.createElement(dv,{ref:o,iconNode:e,className:f4(`lucide-${uv(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ze("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ze("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=ze("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=ze("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ze("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ze("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=ze("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Gf={Settings:_v,Plus:kv,MessageSquare:Tv,Trash2:Dv,Menu:Sv,X:zv,Send:Mv,Image:xv,Bot:fv,User:Lv,Code2:gv,PenTool:Cv,Sparkles:bv,ChevronRight:mv,Save:Iv,Copy:yv,Check:hv,Star:Nv,Pin:Ev,Brain:pv,ToggleLeft:Pv,ToggleRight:Rv,RefreshCw:Av,Globe:vv,Lightbulb:wv},me=({name:t,size:e=20,className:n})=>{const r=Gf[t]||Gf.Sparkles;return I.jsx(r,{size:e,className:n})},Fv=({isOpen:t,onClose:e,sessions:n,currentSessionId:r,onSelectSession:i,onNewSession:o,onDeleteSession:l,onOpenSettings:s,useMemoryForNewChats:a,onToggleMemoryUsage:u})=>I.jsxs(I.Fragment,{children:[t&&I.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden backdrop-blur-sm",onClick:e}),I.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-[280px] z-50
        bg-onyx-surface border-r border-onyx-border
        transform transition-transform duration-300 ease-in-out
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:static lg:h-screen
      `,children:[I.jsxs("div",{className:"p-6 pb-2",children:[I.jsxs("div",{className:"flex items-center justify-between mb-8",children:[I.jsx("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent",children:"Onyx Chat"}),I.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-onyx-surfaceLight text-onyx-textMuted hover:text-white transition-colors",children:I.jsx(me,{name:"Settings",size:20})})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("button",{onClick:()=>{o(),window.innerWidth<1024&&e()},className:"w-full py-3 px-4 bg-onyx-accent hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all active:scale-95 shadow-lg shadow-blue-900/20",children:[I.jsx(me,{name:"Plus",size:20}),I.jsx("span",{children:"New Chat"})]}),I.jsxs("button",{onClick:u,className:"w-full flex items-center justify-between px-3 py-2 rounded-lg bg-onyx-surfaceLight/50 hover:bg-onyx-surfaceLight transition-colors group",title:"Include 'Know Me' global memory in new chats",children:[I.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-onyx-textMuted group-hover:text-white",children:[I.jsx(me,{name:"Brain",size:14,className:a?"text-pink-400":""}),I.jsx("span",{children:"Global Memory"})]}),I.jsx(me,{name:a?"ToggleRight":"ToggleLeft",size:24,className:a?"text-onyx-accent":"text-onyx-textMuted"})]})]})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 space-y-1",children:[I.jsx("div",{className:"text-xs font-semibold text-onyx-textMuted uppercase tracking-wider mb-3 px-2",children:"History"}),n.length===0?I.jsx("div",{className:"text-center py-10 text-onyx-textMuted opacity-50",children:I.jsx("p",{children:"No chats yet."})}):n.map(f=>I.jsxs("div",{onClick:()=>{i(f.id),window.innerWidth<1024&&e()},className:`
                  group relative flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all duration-200
                  ${r===f.id?"bg-onyx-surfaceLight text-white shadow-md":"text-onyx-textMuted hover:bg-onyx-surfaceLight/50 hover:text-white"}
                `,children:[I.jsx(me,{name:"MessageSquare",size:18,className:"opacity-70"}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("div",{className:"truncate text-sm font-medium",children:f.title||"Untitled Chat"}),f.memoryContext&&I.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[I.jsx(me,{name:"Brain",size:10,className:"text-pink-400/70"}),I.jsx("span",{className:"text-[10px] text-pink-400/70",children:"Context Active"})]})]}),I.jsx("button",{onClick:p=>l(f.id,p),className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-500/20 hover:text-red-400 rounded-lg transition-all",children:I.jsx(me,{name:"Trash2",size:14})})]},f.id))]}),I.jsx("div",{className:"p-4 border-t border-onyx-border text-xs text-onyx-textMuted text-center",children:"Powered by Gemini 2.5 & 3.0"})]})]});function $f(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const l=n.slice(i,r).trim();(l||!o)&&e.push(l),i=r+1,r=n.indexOf(",",i)}return e}function Uv(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Bv=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qv=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vv={};function Jf(t,e){return(Vv.jsx?qv:Bv).test(t)}const Hv=/[ \t\n\f\r]/g;function Ov(t){return typeof t=="object"?t.type==="text"?Wf(t.value):!1:Wf(t)}function Wf(t){return t.replace(Hv,"")===""}class sl{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}sl.prototype.normal={};sl.prototype.property={};sl.prototype.space=void 0;function p4(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new sl(n,r,e)}function Zo(t){return t.toLowerCase()}class Pt{constructor(e,n){this.attribute=n,this.property=e}}Pt.prototype.attribute="";Pt.prototype.booleanish=!1;Pt.prototype.boolean=!1;Pt.prototype.commaOrSpaceSeparated=!1;Pt.prototype.commaSeparated=!1;Pt.prototype.defined=!1;Pt.prototype.mustUseProperty=!1;Pt.prototype.number=!1;Pt.prototype.overloadedBoolean=!1;Pt.prototype.property="";Pt.prototype.spaceSeparated=!1;Pt.prototype.space=void 0;let Gv=0;const pe=Xr(),Ke=Xr(),g0=Xr(),Y=Xr(),be=Xr(),Ai=Xr(),Lt=Xr();function Xr(){return 2**++Gv}const y0=Object.freeze(Object.defineProperty({__proto__:null,boolean:pe,booleanish:Ke,commaOrSpaceSeparated:Lt,commaSeparated:Ai,number:Y,overloadedBoolean:g0,spaceSeparated:be},Symbol.toStringTag,{value:"Module"})),Ka=Object.keys(y0);class Vc extends Pt{constructor(e,n,r,i){let o=-1;if(super(e,n),Yf(this,"space",i),typeof r=="number")for(;++o<Ka.length;){const l=Ka[o];Yf(this,Ka[o],(r&y0[l])===y0[l])}}}Vc.prototype.defined=!0;function Yf(t,e,n){n&&(t[e]=n)}function Oi(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new Vc(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[Zo(r)]=r,n[Zo(o.attribute)]=r}return new sl(e,n,t.space)}const h4=Oi({properties:{ariaActiveDescendant:null,ariaAtomic:Ke,ariaAutoComplete:null,ariaBusy:Ke,ariaChecked:Ke,ariaColCount:Y,ariaColIndex:Y,ariaColSpan:Y,ariaControls:be,ariaCurrent:null,ariaDescribedBy:be,ariaDetails:null,ariaDisabled:Ke,ariaDropEffect:be,ariaErrorMessage:null,ariaExpanded:Ke,ariaFlowTo:be,ariaGrabbed:Ke,ariaHasPopup:null,ariaHidden:Ke,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:be,ariaLevel:Y,ariaLive:null,ariaModal:Ke,ariaMultiLine:Ke,ariaMultiSelectable:Ke,ariaOrientation:null,ariaOwns:be,ariaPlaceholder:null,ariaPosInSet:Y,ariaPressed:Ke,ariaReadOnly:Ke,ariaRelevant:null,ariaRequired:Ke,ariaRoleDescription:be,ariaRowCount:Y,ariaRowIndex:Y,ariaRowSpan:Y,ariaSelected:Ke,ariaSetSize:Y,ariaSort:null,ariaValueMax:Y,ariaValueMin:Y,ariaValueNow:Y,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function m4(t,e){return e in t?t[e]:e}function g4(t,e){return m4(t,e.toLowerCase())}const $v=Oi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ai,acceptCharset:be,accessKey:be,action:null,allow:null,allowFullScreen:pe,allowPaymentRequest:pe,allowUserMedia:pe,alt:null,as:null,async:pe,autoCapitalize:null,autoComplete:be,autoFocus:pe,autoPlay:pe,blocking:be,capture:null,charSet:null,checked:pe,cite:null,className:be,cols:Y,colSpan:null,content:null,contentEditable:Ke,controls:pe,controlsList:be,coords:Y|Ai,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pe,defer:pe,dir:null,dirName:null,disabled:pe,download:g0,draggable:Ke,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pe,formTarget:null,headers:be,height:Y,hidden:g0,high:Y,href:null,hrefLang:null,htmlFor:be,httpEquiv:be,id:null,imageSizes:null,imageSrcSet:null,inert:pe,inputMode:null,integrity:null,is:null,isMap:pe,itemId:null,itemProp:be,itemRef:be,itemScope:pe,itemType:be,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pe,low:Y,manifest:null,max:null,maxLength:Y,media:null,method:null,min:null,minLength:Y,multiple:pe,muted:pe,name:null,nonce:null,noModule:pe,noValidate:pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pe,optimum:Y,pattern:null,ping:be,placeholder:null,playsInline:pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pe,referrerPolicy:null,rel:be,required:pe,reversed:pe,rows:Y,rowSpan:Y,sandbox:be,scope:null,scoped:pe,seamless:pe,selected:pe,shadowRootClonable:pe,shadowRootDelegatesFocus:pe,shadowRootMode:null,shape:null,size:Y,sizes:null,slot:null,span:Y,spellCheck:Ke,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Y,step:null,style:null,tabIndex:Y,target:null,title:null,translate:null,type:null,typeMustMatch:pe,useMap:null,value:Ke,width:Y,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:be,axis:null,background:null,bgColor:null,border:Y,borderColor:null,bottomMargin:Y,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pe,declare:pe,event:null,face:null,frame:null,frameBorder:null,hSpace:Y,leftMargin:Y,link:null,longDesc:null,lowSrc:null,marginHeight:Y,marginWidth:Y,noResize:pe,noHref:pe,noShade:pe,noWrap:pe,object:null,profile:null,prompt:null,rev:null,rightMargin:Y,rules:null,scheme:null,scrolling:Ke,standby:null,summary:null,text:null,topMargin:Y,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Y,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pe,disableRemotePlayback:pe,prefix:null,property:null,results:Y,security:null,unselectable:null},space:"html",transform:g4}),Jv=Oi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Lt,accentHeight:Y,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Y,amplitude:Y,arabicForm:null,ascent:Y,attributeName:null,attributeType:null,azimuth:Y,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Y,by:null,calcMode:null,capHeight:Y,className:be,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Y,diffuseConstant:Y,direction:null,display:null,dur:null,divisor:Y,dominantBaseline:null,download:pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:Y,enableBackground:null,end:null,event:null,exponent:Y,externalResourcesRequired:null,fill:null,fillOpacity:Y,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ai,g2:Ai,glyphName:Ai,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Y,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Y,horizOriginX:Y,horizOriginY:Y,id:null,ideographic:Y,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Y,k:Y,k1:Y,k2:Y,k3:Y,k4:Y,kernelMatrix:Lt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Y,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Y,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Y,overlineThickness:Y,paintOrder:null,panose1:null,path:null,pathLength:Y,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:be,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Y,pointsAtY:Y,pointsAtZ:Y,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Lt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Lt,rev:Lt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Lt,requiredFeatures:Lt,requiredFonts:Lt,requiredFormats:Lt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Y,specularExponent:Y,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Y,strikethroughThickness:Y,string:null,stroke:null,strokeDashArray:Lt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Y,strokeOpacity:Y,strokeWidth:null,style:null,surfaceScale:Y,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Lt,tabIndex:Y,tableValues:null,target:null,targetX:Y,targetY:Y,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Lt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Y,underlineThickness:Y,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Y,values:null,vAlphabetic:Y,vMathematical:Y,vectorEffect:null,vHanging:Y,vIdeographic:Y,version:null,vertAdvY:Y,vertOriginX:Y,vertOriginY:Y,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Y,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:m4}),y4=Oi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),v4=Oi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:g4}),x4=Oi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Wv={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Yv=/[A-Z]/g,Kf=/-[a-z]/g,Kv=/^data[-\w.:]+$/i;function w4(t,e){const n=Zo(e);let r=e,i=Pt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Kv.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Kf,Qv);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Kf.test(o)){let l=o.replace(Yv,Xv);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}i=Vc}return new i(r,e)}function Xv(t){return"-"+t.toLowerCase()}function Qv(t){return t.charAt(1).toUpperCase()}const S4=p4([h4,$v,y4,v4,x4],"html"),ia=p4([h4,Jv,y4,v4,x4],"svg");function Xf(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Zv(t){return t.join(" ").trim()}var Hc={},Qf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,jv=/\n/g,e6=/^\s*/,t6=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,n6=/^:\s*/,r6=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,i6=/^[;\s]*/,o6=/^\s+|\s+$/g,l6=`
`,Zf="/",jf="*",Fr="",s6="comment",a6="declaration";function u6(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(T){var C=T.match(jv);C&&(n+=C.length);var _=T.lastIndexOf(l6);r=~_?T.length-_:r+T.length}function o(){var T={line:n,column:r};return function(C){return C.position=new l(T),u(),C}}function l(T){this.start=T,this.end={line:n,column:r},this.source=e.source}l.prototype.content=t;function s(T){var C=new Error(e.source+":"+n+":"+r+": "+T);if(C.reason=T,C.filename=e.source,C.line=n,C.column=r,C.source=t,!e.silent)throw C}function a(T){var C=T.exec(t);if(C){var _=C[0];return i(_),t=t.slice(_.length),C}}function u(){a(e6)}function f(T){var C;for(T=T||[];C=p();)C!==!1&&T.push(C);return T}function p(){var T=o();if(!(Zf!=t.charAt(0)||jf!=t.charAt(1))){for(var C=2;Fr!=t.charAt(C)&&(jf!=t.charAt(C)||Zf!=t.charAt(C+1));)++C;if(C+=2,Fr===t.charAt(C-1))return s("End of comment missing");var _=t.slice(2,C-2);return r+=2,i(_),t=t.slice(C),r+=2,T({type:s6,comment:_})}}function h(){var T=o(),C=a(t6);if(C){if(p(),!a(n6))return s("property missing ':'");var _=a(r6),v=T({type:a6,property:ep(C[0].replace(Qf,Fr)),value:_?ep(_[0].replace(Qf,Fr)):Fr});return a(i6),v}}function m(){var T=[];f(T);for(var C;C=h();)C!==!1&&(T.push(C),f(T));return T}return u(),m()}function ep(t){return t?t.replace(o6,Fr):Fr}var c6=u6,d6=ls&&ls.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.default=p6;const f6=d6(c6);function p6(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,f6.default)(t),i=typeof e=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:l,value:s}=o;i?e(l,s,o):s&&(n=n||{},n[l]=s)}),n}var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.camelCase=void 0;var h6=/^--[a-zA-Z0-9_-]+$/,m6=/-([a-z])/g,g6=/^[^-]+$/,y6=/^-(webkit|moz|ms|o|khtml)-/,v6=/^-(ms)-/,x6=function(t){return!t||g6.test(t)||h6.test(t)},w6=function(t,e){return e.toUpperCase()},tp=function(t,e){return"".concat(e,"-")},S6=function(t,e){return e===void 0&&(e={}),x6(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(v6,tp):t=t.replace(y6,tp),t.replace(m6,w6))};oa.camelCase=S6;var T6=ls&&ls.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},C6=T6(Hc),E6=oa;function v0(t,e){var n={};return!t||typeof t!="string"||(0,C6.default)(t,function(r,i){r&&i&&(n[(0,E6.camelCase)(r,e)]=i)}),n}v0.default=v0;var k6=v0;const A6=J0(k6),T4=C4("end"),Oc=C4("start");function C4(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function I6(t){const e=Oc(t),n=T4(t);if(e&&n)return{start:e,end:n}}function _o(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?np(t.position):"start"in t||"end"in t?np(t):"line"in t||"column"in t?x0(t):""}function x0(t){return rp(t&&t.line)+":"+rp(t&&t.column)}function np(t){return x0(t&&t.start)+"-"+x0(t&&t.end)}function rp(t){return t&&typeof t=="number"?t:1}class ht extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(l=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=_o(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ht.prototype.file="";ht.prototype.name="";ht.prototype.reason="";ht.prototype.message="";ht.prototype.stack="";ht.prototype.column=void 0;ht.prototype.line=void 0;ht.prototype.ancestors=void 0;ht.prototype.cause=void 0;ht.prototype.fatal=void 0;ht.prototype.place=void 0;ht.prototype.ruleId=void 0;ht.prototype.source=void 0;const Gc={}.hasOwnProperty,M6=new Map,_6=/[A-Z]/g,b6=new Set(["table","tbody","thead","tfoot","tr"]),N6=new Set(["td","th"]),E4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function P6(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=q6(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=B6(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ia:S4,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=k4(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function k4(t,e,n){if(e.type==="element")return R6(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return D6(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return z6(t,e,n);if(e.type==="mdxjsEsm")return L6(t,e);if(e.type==="root")return F6(t,e,n);if(e.type==="text")return U6(t,e)}function R6(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ia,t.schema=i),t.ancestors.push(e);const o=I4(t,e.tagName,!1),l=V6(t,e);let s=Jc(t,e);return b6.has(e.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!Ov(a):!0})),A4(t,l,o,e),$c(l,s),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function D6(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}jo(t,e.position)}function L6(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);jo(t,e.position)}function z6(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=ia,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:I4(t,e.name,!0),l=H6(t,e),s=Jc(t,e);return A4(t,l,o,e),$c(l,s),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function F6(t,e,n){const r={};return $c(r,Jc(t,e)),t.create(e,t.Fragment,r,n)}function U6(t,e){return e.value}function A4(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function $c(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function B6(t,e,n){return r;function r(i,o,l,s){const u=Array.isArray(l.children)?n:e;return s?u(o,l,s):u(o,l)}}function q6(t,e){return n;function n(r,i,o,l){const s=Array.isArray(o.children),a=Oc(r);return e(i,o,l,s,{columnNumber:a?a.column-1:void 0,fileName:t,lineNumber:a?a.line:void 0},void 0)}}function V6(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Gc.call(e.properties,i)){const o=O6(t,i,e.properties[i]);if(o){const[l,s]=o;t.tableCellAlignToStyle&&l==="align"&&typeof s=="string"&&N6.has(e.tagName)?r=s:n[l]=s}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function H6(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const s=l.properties[0];s.type,Object.assign(n,t.evaluater.evaluateExpression(s.argument))}else jo(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const s=r.value.data.estree.body[0];s.type,o=t.evaluater.evaluateExpression(s.expression)}else jo(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Jc(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:M6;for(;++r<e.children.length;){const o=e.children[r];let l;if(t.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const u=i.get(a)||0;l=a+"-"+u,i.set(a,u+1)}}const s=k4(t,o,l);s!==void 0&&n.push(s)}return n}function O6(t,e,n){const r=w4(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Uv(n):Zv(n)),r.property==="style"){let i=typeof n=="object"?n:G6(t,String(n));return t.stylePropertyNameCase==="css"&&(i=$6(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Wv[r.property]||r.property:r.attribute,n]}}function G6(t,e){try{return A6(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new ht("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=E4+"#cannot-parse-style-attribute",i}}function I4(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,l;for(;++o<i.length;){const s=Jf(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=l}else r=Jf(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Gc.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);jo(t)}function jo(t,e){const n=new ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=E4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function $6(t){const e={};let n;for(n in t)Gc.call(t,n)&&(e[J6(n)]=t[n]);return e}function J6(t){let e=t.replace(_6,W6);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function W6(t){return"-"+t.toLowerCase()}const Xa={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Y6={};function K6(t,e){const n=Y6,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return M4(t,r,i)}function M4(t,e,n){if(X6(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ip(t.children,e,n)}return Array.isArray(t)?ip(t,e,n):""}function ip(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=M4(t[i],e,n);return r.join("")}function X6(t){return!!(t&&typeof t=="object")}const op=document.createElement("i");function Wc(t){const e="&"+t+";";op.innerHTML=e;const n=op.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function In(t,e,n,r){const i=t.length;let o=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}function Kt(t,e){return t.length>0?(In(t,t.length,0,e),t):e}const lp={}.hasOwnProperty;function Q6(t){const e={};let n=-1;for(;++n<t.length;)Z6(e,t[n]);return e}function Z6(t,e){let n;for(n in e){const i=(lp.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let l;if(o)for(l in o){lp.call(i,l)||(i[l]=[]);const s=o[l];j6(i[l],Array.isArray(s)?s:s?[s]:[])}}}function j6(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);In(t,0,0,r)}function _4(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ii(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tn=Mr(/[A-Za-z]/),qt=Mr(/[\dA-Za-z]/),e7=Mr(/[#-'*+\--9=?A-Z^-~]/);function w0(t){return t!==null&&(t<32||t===127)}const S0=Mr(/\d/),t7=Mr(/[\dA-Fa-f]/),n7=Mr(/[!-/:-@[-`{-~]/);function re(t){return t!==null&&t<-2}function Nt(t){return t!==null&&(t<0||t===32)}function Ee(t){return t===-2||t===-1||t===32}const r7=Mr(new RegExp("\\p{P}|\\p{S}","u")),i7=Mr(/\s/);function Mr(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Gi(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let l="";if(o===37&&qt(t.charCodeAt(n+1))&&qt(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(l=String.fromCharCode(o,s),i=1):l=""}else l=String.fromCharCode(o);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function ke(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(a){return Ee(a)?(t.enter(n),s(a)):e(a)}function s(a){return Ee(a)&&o++<i?(t.consume(a),s):(t.exit(n),e(a))}}const o7={tokenize:l7};function l7(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),ke(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const a=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,l(s)}function l(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return re(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),l)}}const s7={tokenize:a7},sp={tokenize:u7};function a7(t){const e=this,n=[];let r=0,i,o,l;return s;function s(x){if(r<n.length){const k=n[r];return e.containerState=k[1],t.attempt(k[0].continuation,a,u)(x)}return u(x)}function a(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const k=e.events.length;let D=k,M;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){M=e.events[D][1].end;break}v(r);let L=k;for(;L<e.events.length;)e.events[L][1].end={...M},L++;return In(e.events,D+1,0,e.events.slice(k)),e.events.length=L,u(x)}return s(x)}function u(x){if(r===n.length){if(!i)return h(x);if(i.currentConstruct&&i.currentConstruct.concrete)return T(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(sp,f,p)(x)}function f(x){return i&&w(),v(r),h(x)}function p(x){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,T(x)}function h(x){return e.containerState={},t.attempt(sp,m,T)(x)}function m(x){return r++,n.push([e.currentConstruct,e.containerState]),h(x)}function T(x){if(x===null){i&&w(),v(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),C(x)}function C(x){if(x===null){_(t.exit("chunkFlow"),!0),v(0),t.consume(x);return}return re(x)?(t.consume(x),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(x),C)}function _(x,k){const D=e.sliceStream(x);if(k&&D.push(null),x.previous=o,o&&(o.next=x),o=x,i.defineSkip(x.start),i.write(D),e.parser.lazy[x.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<l&&(!i.events[M][1].end||i.events[M][1].end.offset>l))return;const L=e.events.length;let U=L,F,q;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){if(F){q=e.events[U][1].end;break}F=!0}for(v(r),M=L;M<e.events.length;)e.events[M][1].end={...q},M++;In(e.events,U+1,0,e.events.slice(L)),e.events.length=M}}function v(x){let k=n.length;for(;k-- >x;){const D=n[k];e.containerState=D[1],D[0].exit.call(e,t)}n.length=x}function w(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function u7(t,e,n){return ke(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ap(t){if(t===null||Nt(t)||i7(t))return 1;if(r7(t))return 2}function Yc(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const T0={name:"attention",resolveAll:c7,tokenize:d7};function c7(t,e){let n=-1,r,i,o,l,s,a,u,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;a=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},h={...t[n][1].start};up(p,-a),up(h,a),l={type:a>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},o={type:a>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...l.start},end:{...s.end}},t[r][1].end={...l.start},t[n][1].start={...s.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Kt(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Kt(u,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",o,e]]),u=Kt(u,Yc(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Kt(u,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,u=Kt(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,In(t,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function d7(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ap(r);let o;return l;function l(a){return o=a,t.enter("attentionSequence"),s(a)}function s(a){if(a===o)return t.consume(a),s;const u=t.exit("attentionSequence"),f=ap(a),p=!f||f===2&&i||n.includes(a),h=!i||i===2&&f||n.includes(r);return u._open=!!(o===42?p:p&&(i||!h)),u._close=!!(o===42?h:h&&(f||!p)),e(a)}}function up(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const f7={name:"autolink",tokenize:p7};function p7(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(m){return Tn(m)?(t.consume(m),l):m===64?n(m):u(m)}function l(m){return m===43||m===45||m===46||qt(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(t.consume(m),r=0,a):(m===43||m===45||m===46||qt(m))&&r++<32?(t.consume(m),s):(r=0,u(m))}function a(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||w0(m)?n(m):(t.consume(m),a)}function u(m){return m===64?(t.consume(m),f):e7(m)?(t.consume(m),u):n(m)}function f(m){return qt(m)?p(m):n(m)}function p(m){return m===46?(t.consume(m),r=0,f):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):h(m)}function h(m){if((m===45||qt(m))&&r++<63){const T=m===45?h:p;return t.consume(m),T}return n(m)}}const la={partial:!0,tokenize:h7};function h7(t,e,n){return r;function r(o){return Ee(o)?ke(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||re(o)?e(o):n(o)}}const b4={continuation:{tokenize:g7},exit:y7,name:"blockQuote",tokenize:m7};function m7(t,e,n){const r=this;return i;function i(l){if(l===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Ee(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function g7(t,e,n){const r=this;return i;function i(l){return Ee(l)?ke(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(b4,e,n)(l)}}function y7(t){t.exit("blockQuote")}const N4={name:"characterEscape",tokenize:v7};function v7(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return n7(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const P4={name:"characterReference",tokenize:x7};function x7(t,e,n){const r=this;let i=0,o,l;return s;function s(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),a}function a(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,l=qt,f(p))}function u(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=t7,f):(t.enter("characterReferenceValue"),o=7,l=S0,f(p))}function f(p){if(p===59&&i){const h=t.exit("characterReferenceValue");return l===qt&&!Wc(r.sliceSerialize(h))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(p)&&i++<o?(t.consume(p),f):n(p)}}const cp={partial:!0,tokenize:S7},dp={concrete:!0,name:"codeFenced",tokenize:w7};function w7(t,e,n){const r=this,i={partial:!0,tokenize:D};let o=0,l=0,s;return a;function a(M){return u(M)}function u(M){const L=r.events[r.events.length-1];return o=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,s=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(M)}function f(M){return M===s?(l++,t.consume(M),f):l<3?n(M):(t.exit("codeFencedFenceSequence"),Ee(M)?ke(t,p,"whitespace")(M):p(M))}function p(M){return M===null||re(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(cp,C,k)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(M))}function h(M){return M===null||re(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(M)):Ee(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ke(t,m,"whitespace")(M)):M===96&&M===s?n(M):(t.consume(M),h)}function m(M){return M===null||re(M)?p(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(M))}function T(M){return M===null||re(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(M)):M===96&&M===s?n(M):(t.consume(M),T)}function C(M){return t.attempt(i,k,_)(M)}function _(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),v}function v(M){return o>0&&Ee(M)?ke(t,w,"linePrefix",o+1)(M):w(M)}function w(M){return M===null||re(M)?t.check(cp,C,k)(M):(t.enter("codeFlowValue"),x(M))}function x(M){return M===null||re(M)?(t.exit("codeFlowValue"),w(M)):(t.consume(M),x)}function k(M){return t.exit("codeFenced"),e(M)}function D(M,L,U){let F=0;return q;function q(ie){return M.enter("lineEnding"),M.consume(ie),M.exit("lineEnding"),O}function O(ie){return M.enter("codeFencedFence"),Ee(ie)?ke(M,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):H(ie)}function H(ie){return ie===s?(M.enter("codeFencedFenceSequence"),ne(ie)):U(ie)}function ne(ie){return ie===s?(F++,M.consume(ie),ne):F>=l?(M.exit("codeFencedFenceSequence"),Ee(ie)?ke(M,se,"whitespace")(ie):se(ie)):U(ie)}function se(ie){return ie===null||re(ie)?(M.exit("codeFencedFence"),L(ie)):U(ie)}}}function S7(t,e,n){const r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const Qa={name:"codeIndented",tokenize:C7},T7={partial:!0,tokenize:E7};function C7(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),ke(t,o,"linePrefix",5)(u)}function o(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?a(u):re(u)?t.attempt(T7,l,a)(u):(t.enter("codeFlowValue"),s(u))}function s(u){return u===null||re(u)?(t.exit("codeFlowValue"),l(u)):(t.consume(u),s)}function a(u){return t.exit("codeIndented"),e(u)}}function E7(t,e,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):re(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):ke(t,o,"linePrefix",5)(l)}function o(l){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(l):re(l)?i(l):n(l)}}const k7={name:"codeText",previous:I7,resolve:A7,tokenize:M7};function A7(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function I7(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function M7(t,e,n){let r=0,i,o;return l;function l(p){return t.enter("codeText"),t.enter("codeTextSequence"),s(p)}function s(p){return p===96?(t.consume(p),r++,s):(t.exit("codeTextSequence"),a(p))}function a(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),a):p===96?(o=t.enter("codeTextSequence"),i=0,f(p)):re(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),a):(t.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||re(p)?(t.exit("codeTextData"),a(p)):(t.consume(p),u)}function f(p){return p===96?(t.consume(p),i++,f):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(o.type="codeTextData",u(p))}}class _7{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&co(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),co(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),co(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);co(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);co(this.left,n.reverse())}}}function co(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function R4(t){const e={};let n=-1,r,i,o,l,s,a,u;const f=new _7(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,b7(f,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=f.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},s=f.slice(i,n),s.unshift(r),f.splice(i,n-i+1,s))}}return In(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function b7(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const s=l.events,a=[],u={};let f,p,h=-1,m=n,T=0,C=0;const _=[C];for(;m;){for(;t.get(++i)[1]!==m;);o.push(i),m._tokenizer||(f=r.sliceStream(m),m.next||f.push(null),p&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(C=h+1,_.push(C),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):_.pop(),h=_.length;h--;){const v=s.slice(_[h],_[h+1]),w=o.pop();a.push([w,w+v.length-1]),t.splice(w,2,v)}for(a.reverse(),h=-1;++h<a.length;)u[T+a[h][0]]=T+a[h][1],T+=a[h][1]-a[h][0]-1;return u}const N7={resolve:R7,tokenize:D7},P7={partial:!0,tokenize:L7};function R7(t){return R4(t),t}function D7(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):re(s)?t.check(P7,l,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function l(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function L7(t,e,n){const r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),ke(t,o,"linePrefix")}function o(l){if(l===null||re(l))return n(l);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function D4(t,e,n,r,i,o,l,s,a){const u=a||Number.POSITIVE_INFINITY;let f=0;return p;function p(v){return v===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(v),t.exit(o),h):v===null||v===32||v===41||w0(v)?n(v):(t.enter(r),t.enter(l),t.enter(s),t.enter("chunkString",{contentType:"string"}),C(v))}function h(v){return v===62?(t.enter(o),t.consume(v),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(t.exit("chunkString"),t.exit(s),h(v)):v===null||v===60||re(v)?n(v):(t.consume(v),v===92?T:m)}function T(v){return v===60||v===62||v===92?(t.consume(v),m):m(v)}function C(v){return!f&&(v===null||v===41||Nt(v))?(t.exit("chunkString"),t.exit(s),t.exit(l),t.exit(r),e(v)):f<u&&v===40?(t.consume(v),f++,C):v===41?(t.consume(v),f--,C):v===null||v===32||v===40||w0(v)?n(v):(t.consume(v),v===92?_:C)}function _(v){return v===40||v===41||v===92?(t.consume(v),C):C(v)}}function L4(t,e,n,r,i,o){const l=this;let s=0,a;return u;function u(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(o),f}function f(m){return s>999||m===null||m===91||m===93&&!a||m===94&&!s&&"_hiddenFootnoteSupport"in l.parser.constructs?n(m):m===93?(t.exit(o),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):re(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||re(m)||s++>999?(t.exit("chunkString"),f(m)):(t.consume(m),a||(a=!Ee(m)),m===92?h:p)}function h(m){return m===91||m===92||m===93?(t.consume(m),s++,p):p(m)}}function z4(t,e,n,r,i,o){let l;return s;function s(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),l=h===40?41:h,a):n(h)}function a(h){return h===l?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(o),u(h))}function u(h){return h===l?(t.exit(o),a(l)):h===null?n(h):re(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),ke(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===l||h===null||re(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?p:f)}function p(h){return h===l||h===92?(t.consume(h),f):f(h)}}function bo(t,e){let n;return r;function r(i){return re(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ee(i)?ke(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const z7={name:"definition",tokenize:U7},F7={partial:!0,tokenize:B7};function U7(t,e,n){const r=this;let i;return o;function o(m){return t.enter("definition"),l(m)}function l(m){return L4.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=Ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),a):n(m)}function a(m){return Nt(m)?bo(t,u)(m):u(m)}function u(m){return D4(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return t.attempt(F7,p,p)(m)}function p(m){return Ee(m)?ke(t,h,"whitespace")(m):h(m)}function h(m){return m===null||re(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function B7(t,e,n){return r;function r(s){return Nt(s)?bo(t,i)(s):n(s)}function i(s){return z4(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Ee(s)?ke(t,l,"whitespace")(s):l(s)}function l(s){return s===null||re(s)?e(s):n(s)}}const q7={name:"hardBreakEscape",tokenize:V7};function V7(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return re(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const H7={name:"headingAtx",resolve:O7,tokenize:G7};function O7(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},In(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function G7(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),o(f)}function o(f){return t.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&r++<6?(t.consume(f),l):f===null||Nt(f)?(t.exit("atxHeadingSequence"),s(f)):n(f)}function s(f){return f===35?(t.enter("atxHeadingSequence"),a(f)):f===null||re(f)?(t.exit("atxHeading"),e(f)):Ee(f)?ke(t,s,"whitespace")(f):(t.enter("atxHeadingText"),u(f))}function a(f){return f===35?(t.consume(f),a):(t.exit("atxHeadingSequence"),s(f))}function u(f){return f===null||f===35||Nt(f)?(t.exit("atxHeadingText"),s(f)):(t.consume(f),u)}}const $7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fp=["pre","script","style","textarea"],J7={concrete:!0,name:"htmlFlow",resolveTo:K7,tokenize:X7},W7={partial:!0,tokenize:Z7},Y7={partial:!0,tokenize:Q7};function K7(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function X7(t,e,n){const r=this;let i,o,l,s,a;return u;function u(P){return f(P)}function f(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),p}function p(P){return P===33?(t.consume(P),h):P===47?(t.consume(P),o=!0,C):P===63?(t.consume(P),i=3,r.interrupt?e:A):Tn(P)?(t.consume(P),l=String.fromCharCode(P),_):n(P)}function h(P){return P===45?(t.consume(P),i=2,m):P===91?(t.consume(P),i=5,s=0,T):Tn(P)?(t.consume(P),i=4,r.interrupt?e:A):n(P)}function m(P){return P===45?(t.consume(P),r.interrupt?e:A):n(P)}function T(P){const Be="CDATA[";return P===Be.charCodeAt(s++)?(t.consume(P),s===Be.length?r.interrupt?e:H:T):n(P)}function C(P){return Tn(P)?(t.consume(P),l=String.fromCharCode(P),_):n(P)}function _(P){if(P===null||P===47||P===62||Nt(P)){const Be=P===47,tt=l.toLowerCase();return!Be&&!o&&fp.includes(tt)?(i=1,r.interrupt?e(P):H(P)):$7.includes(l.toLowerCase())?(i=6,Be?(t.consume(P),v):r.interrupt?e(P):H(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):o?w(P):x(P))}return P===45||qt(P)?(t.consume(P),l+=String.fromCharCode(P),_):n(P)}function v(P){return P===62?(t.consume(P),r.interrupt?e:H):n(P)}function w(P){return Ee(P)?(t.consume(P),w):q(P)}function x(P){return P===47?(t.consume(P),q):P===58||P===95||Tn(P)?(t.consume(P),k):Ee(P)?(t.consume(P),x):q(P)}function k(P){return P===45||P===46||P===58||P===95||qt(P)?(t.consume(P),k):D(P)}function D(P){return P===61?(t.consume(P),M):Ee(P)?(t.consume(P),D):x(P)}function M(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),a=P,L):Ee(P)?(t.consume(P),M):U(P)}function L(P){return P===a?(t.consume(P),a=null,F):P===null||re(P)?n(P):(t.consume(P),L)}function U(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||Nt(P)?D(P):(t.consume(P),U)}function F(P){return P===47||P===62||Ee(P)?x(P):n(P)}function q(P){return P===62?(t.consume(P),O):n(P)}function O(P){return P===null||re(P)?H(P):Ee(P)?(t.consume(P),O):n(P)}function H(P){return P===45&&i===2?(t.consume(P),fe):P===60&&i===1?(t.consume(P),ve):P===62&&i===4?(t.consume(P),ue):P===63&&i===3?(t.consume(P),A):P===93&&i===5?(t.consume(P),te):re(P)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(W7,ce,ne)(P)):P===null||re(P)?(t.exit("htmlFlowData"),ne(P)):(t.consume(P),H)}function ne(P){return t.check(Y7,se,ce)(P)}function se(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),ie}function ie(P){return P===null||re(P)?ne(P):(t.enter("htmlFlowData"),H(P))}function fe(P){return P===45?(t.consume(P),A):H(P)}function ve(P){return P===47?(t.consume(P),l="",$):H(P)}function $(P){if(P===62){const Be=l.toLowerCase();return fp.includes(Be)?(t.consume(P),ue):H(P)}return Tn(P)&&l.length<8?(t.consume(P),l+=String.fromCharCode(P),$):H(P)}function te(P){return P===93?(t.consume(P),A):H(P)}function A(P){return P===62?(t.consume(P),ue):P===45&&i===2?(t.consume(P),A):H(P)}function ue(P){return P===null||re(P)?(t.exit("htmlFlowData"),ce(P)):(t.consume(P),ue)}function ce(P){return t.exit("htmlFlow"),e(P)}}function Q7(t,e,n){const r=this;return i;function i(l){return re(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function Z7(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(la,e,n)}}const j7={name:"htmlText",tokenize:e8};function e8(t,e,n){const r=this;let i,o,l;return s;function s(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),a}function a(A){return A===33?(t.consume(A),u):A===47?(t.consume(A),D):A===63?(t.consume(A),x):Tn(A)?(t.consume(A),U):n(A)}function u(A){return A===45?(t.consume(A),f):A===91?(t.consume(A),o=0,T):Tn(A)?(t.consume(A),w):n(A)}function f(A){return A===45?(t.consume(A),m):n(A)}function p(A){return A===null?n(A):A===45?(t.consume(A),h):re(A)?(l=p,ve(A)):(t.consume(A),p)}function h(A){return A===45?(t.consume(A),m):p(A)}function m(A){return A===62?fe(A):A===45?h(A):p(A)}function T(A){const ue="CDATA[";return A===ue.charCodeAt(o++)?(t.consume(A),o===ue.length?C:T):n(A)}function C(A){return A===null?n(A):A===93?(t.consume(A),_):re(A)?(l=C,ve(A)):(t.consume(A),C)}function _(A){return A===93?(t.consume(A),v):C(A)}function v(A){return A===62?fe(A):A===93?(t.consume(A),v):C(A)}function w(A){return A===null||A===62?fe(A):re(A)?(l=w,ve(A)):(t.consume(A),w)}function x(A){return A===null?n(A):A===63?(t.consume(A),k):re(A)?(l=x,ve(A)):(t.consume(A),x)}function k(A){return A===62?fe(A):x(A)}function D(A){return Tn(A)?(t.consume(A),M):n(A)}function M(A){return A===45||qt(A)?(t.consume(A),M):L(A)}function L(A){return re(A)?(l=L,ve(A)):Ee(A)?(t.consume(A),L):fe(A)}function U(A){return A===45||qt(A)?(t.consume(A),U):A===47||A===62||Nt(A)?F(A):n(A)}function F(A){return A===47?(t.consume(A),fe):A===58||A===95||Tn(A)?(t.consume(A),q):re(A)?(l=F,ve(A)):Ee(A)?(t.consume(A),F):fe(A)}function q(A){return A===45||A===46||A===58||A===95||qt(A)?(t.consume(A),q):O(A)}function O(A){return A===61?(t.consume(A),H):re(A)?(l=O,ve(A)):Ee(A)?(t.consume(A),O):F(A)}function H(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),i=A,ne):re(A)?(l=H,ve(A)):Ee(A)?(t.consume(A),H):(t.consume(A),se)}function ne(A){return A===i?(t.consume(A),i=void 0,ie):A===null?n(A):re(A)?(l=ne,ve(A)):(t.consume(A),ne)}function se(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Nt(A)?F(A):(t.consume(A),se)}function ie(A){return A===47||A===62||Nt(A)?F(A):n(A)}function fe(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function ve(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),$}function $(A){return Ee(A)?ke(t,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):te(A)}function te(A){return t.enter("htmlTextData"),l(A)}}const Kc={name:"labelEnd",resolveAll:i8,resolveTo:o8,tokenize:l8},t8={tokenize:s8},n8={tokenize:a8},r8={tokenize:u8};function i8(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&In(t,0,t.length,n),t}function o8(t,e){let n=t.length,r=0,i,o,l,s;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const a={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},f={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return s=[["enter",a,e],["enter",u,e]],s=Kt(s,t.slice(o+1,o+r+3)),s=Kt(s,[["enter",f,e]]),s=Kt(s,Yc(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),s=Kt(s,[["exit",f,e],t[l-2],t[l-1],["exit",u,e]]),s=Kt(s,t.slice(l+1)),s=Kt(s,[["exit",a,e]]),In(t,o,t.length,s),t}function l8(t,e,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(h){return o?o._inactive?p(h):(l=r.parser.defined.includes(Ii(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),a):n(h)}function a(h){return h===40?t.attempt(t8,f,l?f:p)(h):h===91?t.attempt(n8,f,l?u:p)(h):l?f(h):p(h)}function u(h){return t.attempt(r8,f,p)(h)}function f(h){return e(h)}function p(h){return o._balanced=!0,n(h)}}function s8(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Nt(p)?bo(t,o)(p):o(p)}function o(p){return p===41?f(p):D4(t,l,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return Nt(p)?bo(t,a)(p):f(p)}function s(p){return n(p)}function a(p){return p===34||p===39||p===40?z4(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function u(p){return Nt(p)?bo(t,f)(p):f(p)}function f(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function a8(t,e,n){const r=this;return i;function i(s){return L4.call(r,t,o,l,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(Ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function l(s){return n(s)}}function u8(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const c8={name:"labelStartImage",resolveAll:Kc.resolveAll,tokenize:d8};function d8(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),l):n(s)}function l(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const f8={name:"labelStartLink",resolveAll:Kc.resolveAll,tokenize:p8};function p8(t,e,n){const r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Za={name:"lineEnding",tokenize:h8};function h8(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ke(t,e,"linePrefix")}}const es={name:"thematicBreak",tokenize:m8};function m8(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),l(u)}function l(u){return i=u,s(u)}function s(u){return u===i?(t.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||re(u))?(t.exit("thematicBreak"),e(u)):n(u)}function a(u){return u===i?(t.consume(u),r++,a):(t.exit("thematicBreakSequence"),Ee(u)?ke(t,s,"whitespace")(u):s(u))}}const Ct={continuation:{tokenize:x8},exit:S8,name:"list",tokenize:v8},g8={partial:!0,tokenize:T8},y8={partial:!0,tokenize:w8};function v8(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return s;function s(m){const T=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:S0(m)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(es,n,u)(m):u(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),a(m)}return n(m)}function a(m){return S0(m)&&++l<10?(t.consume(m),a):(!r.interrupt||l<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),u(m)):n(m)}function u(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(la,r.interrupt?n:f,t.attempt(g8,h,p))}function f(m){return r.containerState.initialBlankLine=!0,o++,h(m)}function p(m){return Ee(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function x8(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(la,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ke(t,e,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Ee(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(y8,e,l)(s))}function l(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,ke(t,t.attempt(Ct,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function w8(t,e,n){const r=this;return ke(t,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function S8(t){t.exit(this.containerState.type)}function T8(t,e,n){const r=this;return ke(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!Ee(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const pp={name:"setextUnderline",resolveTo:C8,tokenize:E8};function C8(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function E8(t,e,n){const r=this;let i;return o;function o(u){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return t.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(t.consume(u),s):(t.exit("setextHeadingLineSequence"),Ee(u)?ke(t,a,"lineSuffix")(u):a(u))}function a(u){return u===null||re(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const k8={tokenize:A8};function A8(t){const e=this,n=t.attempt(la,r,t.attempt(this.parser.constructs.flowInitial,i,ke(t,t.attempt(this.parser.constructs.flow,i,t.attempt(N7,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const I8={resolveAll:U4()},M8=F4("string"),_8=F4("text");function F4(t){return{resolveAll:U4(t==="text"?b8:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,l,s);return l;function l(f){return u(f)?o(f):s(f)}function s(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),a}function a(f){return u(f)?(n.exit("data"),o(f)):(n.consume(f),a)}function u(f){if(f===null)return!0;const p=i[f];let h=-1;if(p)for(;++h<p.length;){const m=p[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function U4(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function b8(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,l=-1,s=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)s++,l--;if(l)break;l=-1}else if(u===-2)a=!0,s++;else if(u!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(s=0),s){const u={type:n===t.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const N8={42:Ct,43:Ct,45:Ct,48:Ct,49:Ct,50:Ct,51:Ct,52:Ct,53:Ct,54:Ct,55:Ct,56:Ct,57:Ct,62:b4},P8={91:z7},R8={[-2]:Qa,[-1]:Qa,32:Qa},D8={35:H7,42:es,45:[pp,es],60:J7,61:pp,95:es,96:dp,126:dp},L8={38:P4,92:N4},z8={[-5]:Za,[-4]:Za,[-3]:Za,33:c8,38:P4,42:T0,60:[f7,j7],91:f8,92:[q7,N4],93:Kc,95:T0,96:k7},F8={null:[T0,I8]},U8={null:[42,95]},B8={null:[]},q8=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:U8,contentInitial:P8,disable:B8,document:N8,flow:D8,flowInitial:R8,insideSpan:F8,string:L8,text:z8},Symbol.toStringTag,{value:"Module"}));function V8(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],s=[];const a={attempt:L(D),check:L(M),consume:w,enter:x,exit:k,interrupt:L(M,{interrupt:!0})},u={code:null,containerState:{},defineSkip:C,events:[],now:T,parser:t,previous:null,sliceSerialize:h,sliceStream:m,write:p};let f=e.tokenize.call(u,a);return e.resolveAll&&o.push(e),u;function p(O){return l=Kt(l,O),_(),l[l.length-1]!==null?[]:(U(e,0),u.events=Yc(o,u.events,u),u.events)}function h(O,H){return O8(m(O),H)}function m(O){return H8(l,O)}function T(){const{_bufferIndex:O,_index:H,line:ne,column:se,offset:ie}=r;return{_bufferIndex:O,_index:H,line:ne,column:se,offset:ie}}function C(O){i[O.line]=O.column,q()}function _(){let O;for(;r._index<l.length;){const H=l[r._index];if(typeof H=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<H.length;)v(H.charCodeAt(r._bufferIndex));else v(H)}}function v(O){f=f(O)}function w(O){re(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,q()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=O}function x(O,H){const ne=H||{};return ne.type=O,ne.start=T(),u.events.push(["enter",ne,u]),s.push(ne),ne}function k(O){const H=s.pop();return H.end=T(),u.events.push(["exit",H,u]),H}function D(O,H){U(O,H.from)}function M(O,H){H.restore()}function L(O,H){return ne;function ne(se,ie,fe){let ve,$,te,A;return Array.isArray(se)?ce(se):"tokenize"in se?ce([se]):ue(se);function ue(Ie){return it;function it(mt){const on=mt!==null&&Ie[mt],ln=mt!==null&&Ie.null,ei=[...Array.isArray(on)?on:on?[on]:[],...Array.isArray(ln)?ln:ln?[ln]:[]];return ce(ei)(mt)}}function ce(Ie){return ve=Ie,$=0,Ie.length===0?fe:P(Ie[$])}function P(Ie){return it;function it(mt){return A=F(),te=Ie,Ie.partial||(u.currentConstruct=Ie),Ie.name&&u.parser.constructs.disable.null.includes(Ie.name)?tt():Ie.tokenize.call(H?Object.assign(Object.create(u),H):u,a,Be,tt)(mt)}}function Be(Ie){return O(te,A),ie}function tt(Ie){return A.restore(),++$<ve.length?P(ve[$]):fe}}}function U(O,H){O.resolveAll&&!o.includes(O)&&o.push(O),O.resolve&&In(u.events,H,u.events.length-H,O.resolve(u.events.slice(H),u)),O.resolveTo&&(u.events=O.resolveTo(u.events,u))}function F(){const O=T(),H=u.previous,ne=u.currentConstruct,se=u.events.length,ie=Array.from(s);return{from:se,restore:fe};function fe(){r=O,u.previous=H,u.currentConstruct=ne,u.events.length=se,s=ie,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function H8(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let l;if(n===i)l=[t[n].slice(r,o)];else{if(l=t.slice(n,i),r>-1){const s=l[0];typeof s=="string"?l[0]=s.slice(r):l.shift()}o>0&&l.push(t[i].slice(0,o))}return l}function O8(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function G8(t){const r={constructs:Q6([q8,...(t||{}).extensions||[]]),content:i(o7),defined:[],document:i(s7),flow:i(k8),lazy:{},string:i(M8),text:i(_8)};return r;function i(o){return l;function l(s){return V8(r,o,s)}}}function $8(t){for(;!R4(t););return t}const hp=/[\0\t\n\r]/g;function J8(){let t=1,e="",n=!0,r;return i;function i(o,l,s){const a=[];let u,f,p,h,m;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,e="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(hp.lastIndex=p,u=hp.exec(o),h=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(h),!u){e=o.slice(p);break}if(m===10&&p===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),p<h&&(a.push(o.slice(p,h)),t+=h-p),m){case 0:{a.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,a.push(-2);t++<f;)a.push(-1);break}case 10:{a.push(-4),t=1;break}default:r=!0,t=1}p=h+1}return s&&(r&&a.push(-5),e&&a.push(e),a.push(null)),a}}const W8=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Y8(t){return t.replace(W8,K8)}function K8(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return _4(n.slice(o?2:1),o?16:10)}return Wc(n)||t}const B4={}.hasOwnProperty;function X8(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Q8(n)($8(G8(n).document().write(J8()(t,e,!0))))}function Q8(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Nr),autolinkProtocol:F,autolinkEmail:F,atxHeading:o(Qi),blockQuote:o(ln),characterEscape:F,characterReference:F,codeFenced:o(ei),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(ei,l),codeText:o(wa,l),codeTextData:F,data:F,codeFlowValue:F,definition:o(Sa),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Xi),hardBreakEscape:o(Zi),hardBreakTrailing:o(Zi),htmlFlow:o(ti,l),htmlFlowData:F,htmlText:o(ti,l),htmlTextData:F,image:o(ni),label:l,link:o(Nr),listItem:o(My),listItemValue:h,listOrdered:o(Pd,p),listUnordered:o(Pd),paragraph:o(_y),reference:P,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Qi),strong:o(by),thematicBreak:o(Py)},exit:{atxHeading:a(),atxHeadingSequence:D,autolink:a(),autolinkEmail:on,autolinkProtocol:mt,blockQuote:a(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:tt,characterReferenceMarkerNumeric:tt,characterReferenceValue:Ie,characterReference:it,codeFenced:a(_),codeFencedFence:C,codeFencedFenceInfo:m,codeFencedFenceMeta:T,codeFlowValue:q,codeIndented:a(v),codeText:a(ie),codeTextData:q,data:q,definition:a(),definitionDestinationString:k,definitionLabelString:w,definitionTitleString:x,emphasis:a(),hardBreakEscape:a(H),hardBreakTrailing:a(H),htmlFlow:a(ne),htmlFlowData:q,htmlText:a(se),htmlTextData:q,image:a(ve),label:te,labelText:$,lineEnding:O,link:a(fe),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Be,resourceDestinationString:A,resourceTitleString:ue,resource:ce,setextHeading:a(U),setextHeadingLineSequence:L,setextHeadingText:M,strong:a(),thematicBreak:a()}};q4(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(B){let X={type:"root",children:[]};const de={stack:[X],tokenStack:[],config:e,enter:s,exit:u,buffer:l,resume:f,data:n},ye=[];let Me=-1;for(;++Me<B.length;)if(B[Me][1].type==="listOrdered"||B[Me][1].type==="listUnordered")if(B[Me][0]==="enter")ye.push(Me);else{const sn=ye.pop();Me=i(B,sn,Me)}for(Me=-1;++Me<B.length;){const sn=e[B[Me][0]];B4.call(sn,B[Me][1].type)&&sn[B[Me][1].type].call(Object.assign({sliceSerialize:B[Me][2].sliceSerialize},de),B[Me][1])}if(de.tokenStack.length>0){const sn=de.tokenStack[de.tokenStack.length-1];(sn[1]||mp).call(de,void 0,sn[0])}for(X.position={start:tr(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:tr(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<e.transforms.length;)X=e.transforms[Me](X)||X;return X}function i(B,X,de){let ye=X-1,Me=-1,sn=!1,Pr,Nn,ji,eo;for(;++ye<=de;){const Dt=B[ye];switch(Dt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Dt[0]==="enter"?Me++:Me--,eo=void 0;break}case"lineEndingBlank":{Dt[0]==="enter"&&(Pr&&!eo&&!Me&&!ji&&(ji=ye),eo=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:eo=void 0}if(!Me&&Dt[0]==="enter"&&Dt[1].type==="listItemPrefix"||Me===-1&&Dt[0]==="exit"&&(Dt[1].type==="listUnordered"||Dt[1].type==="listOrdered")){if(Pr){let ri=ye;for(Nn=void 0;ri--;){const Pn=B[ri];if(Pn[1].type==="lineEnding"||Pn[1].type==="lineEndingBlank"){if(Pn[0]==="exit")continue;Nn&&(B[Nn][1].type="lineEndingBlank",sn=!0),Pn[1].type="lineEnding",Nn=ri}else if(!(Pn[1].type==="linePrefix"||Pn[1].type==="blockQuotePrefix"||Pn[1].type==="blockQuotePrefixWhitespace"||Pn[1].type==="blockQuoteMarker"||Pn[1].type==="listItemIndent"))break}ji&&(!Nn||ji<Nn)&&(Pr._spread=!0),Pr.end=Object.assign({},Nn?B[Nn][1].start:Dt[1].end),B.splice(Nn||ye,0,["exit",Pr,Dt[2]]),ye++,de++}if(Dt[1].type==="listItemPrefix"){const ri={type:"listItem",_spread:!1,start:Object.assign({},Dt[1].start),end:void 0};Pr=ri,B.splice(ye,0,["enter",ri,Dt[2]]),ye++,de++,ji=void 0,eo=!0}}}return B[X][1]._spread=sn,de}function o(B,X){return de;function de(ye){s.call(this,B(ye),ye),X&&X.call(this,ye)}}function l(){this.stack.push({type:"fragment",children:[]})}function s(B,X,de){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([X,de||void 0]),B.position={start:tr(X.start),end:void 0}}function a(B){return X;function X(de){B&&B.call(this,de),u.call(this,de)}}function u(B,X){const de=this.stack.pop(),ye=this.tokenStack.pop();if(ye)ye[0].type!==B.type&&(X?X.call(this,B,ye[0]):(ye[1]||mp).call(this,B,ye[0]));else throw new Error("Cannot close `"+B.type+"` ("+_o({start:B.start,end:B.end})+"): its not open");de.position.end=tr(B.end)}function f(){return K6(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(B){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];X.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function m(){const B=this.resume(),X=this.stack[this.stack.length-1];X.lang=B}function T(){const B=this.resume(),X=this.stack[this.stack.length-1];X.meta=B}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const B=this.resume(),X=this.stack[this.stack.length-1];X.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const B=this.resume(),X=this.stack[this.stack.length-1];X.value=B.replace(/(\r?\n|\r)$/g,"")}function w(B){const X=this.resume(),de=this.stack[this.stack.length-1];de.label=X,de.identifier=Ii(this.sliceSerialize(B)).toLowerCase()}function x(){const B=this.resume(),X=this.stack[this.stack.length-1];X.title=B}function k(){const B=this.resume(),X=this.stack[this.stack.length-1];X.url=B}function D(B){const X=this.stack[this.stack.length-1];if(!X.depth){const de=this.sliceSerialize(B).length;X.depth=de}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function L(B){const X=this.stack[this.stack.length-1];X.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function F(B){const de=this.stack[this.stack.length-1].children;let ye=de[de.length-1];(!ye||ye.type!=="text")&&(ye=Ny(),ye.position={start:tr(B.start),end:void 0},de.push(ye)),this.stack.push(ye)}function q(B){const X=this.stack.pop();X.value+=this.sliceSerialize(B),X.position.end=tr(B.end)}function O(B){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=X.children[X.children.length-1];de.position.end=tr(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(X.type)&&(F.call(this,B),q.call(this,B))}function H(){this.data.atHardBreak=!0}function ne(){const B=this.resume(),X=this.stack[this.stack.length-1];X.value=B}function se(){const B=this.resume(),X=this.stack[this.stack.length-1];X.value=B}function ie(){const B=this.resume(),X=this.stack[this.stack.length-1];X.value=B}function fe(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=X,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function ve(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=X,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function $(B){const X=this.sliceSerialize(B),de=this.stack[this.stack.length-2];de.label=Y8(X),de.identifier=Ii(X).toLowerCase()}function te(){const B=this.stack[this.stack.length-1],X=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const ye=B.children;de.children=ye}else de.alt=X}function A(){const B=this.resume(),X=this.stack[this.stack.length-1];X.url=B}function ue(){const B=this.resume(),X=this.stack[this.stack.length-1];X.title=B}function ce(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function Be(B){const X=this.resume(),de=this.stack[this.stack.length-1];de.label=X,de.identifier=Ii(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function tt(B){this.data.characterReferenceType=B.type}function Ie(B){const X=this.sliceSerialize(B),de=this.data.characterReferenceType;let ye;de?(ye=_4(X,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ye=Wc(X);const Me=this.stack[this.stack.length-1];Me.value+=ye}function it(B){const X=this.stack.pop();X.position.end=tr(B.end)}function mt(B){q.call(this,B);const X=this.stack[this.stack.length-1];X.url=this.sliceSerialize(B)}function on(B){q.call(this,B);const X=this.stack[this.stack.length-1];X.url="mailto:"+this.sliceSerialize(B)}function ln(){return{type:"blockquote",children:[]}}function ei(){return{type:"code",lang:null,meta:null,value:""}}function wa(){return{type:"inlineCode",value:""}}function Sa(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Xi(){return{type:"emphasis",children:[]}}function Qi(){return{type:"heading",depth:0,children:[]}}function Zi(){return{type:"break"}}function ti(){return{type:"html",value:""}}function ni(){return{type:"image",title:null,url:"",alt:null}}function Nr(){return{type:"link",title:null,url:"",children:[]}}function Pd(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function My(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function _y(){return{type:"paragraph",children:[]}}function by(){return{type:"strong",children:[]}}function Ny(){return{type:"text",value:""}}function Py(){return{type:"thematicBreak"}}}function tr(t){return{line:t.line,column:t.column,offset:t.offset}}function q4(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?q4(t,r):Z8(t,r)}}function Z8(t,e){let n;for(n in e)if(B4.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function mp(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+_o({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+_o({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+_o({start:e.start,end:e.end})+") is still open")}function j8(t){const e=this;e.parser=n;function n(r){return X8(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ex(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function tx(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function nx(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function rx(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ix(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ox(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Gi(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let l,s=t.footnoteCounts.get(r);s===void 0?(s=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=o+1,s+=1,t.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,u),t.applyData(e,u)}function lx(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function sx(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function V4(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function ax(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return V4(t,e);const i={src:Gi(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function ux(t,e){const n={src:Gi(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function cx(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function dx(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return V4(t,e);const i={href:Gi(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function fx(t,e){const n={href:Gi(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function px(t,e,n){const r=t.all(e),i=n?hx(n):H4(e),o={},l=[];if(typeof e.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const f=r[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?l.push(...f.children):l.push(f)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:l};return t.patch(e,u),t.applyData(e,u)}function hx(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=H4(n[r])}return e}function H4(t){const e=t.spread;return e??t.children.length>1}function mx(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function gx(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function yx(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function vx(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xx(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=Oc(e.children[1]),a=T4(e.children[e.children.length-1]);s&&a&&(l.position={start:s,end:a}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function wx(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,s=l?l.length:e.children.length;let a=-1;const u=[];for(;++a<s;){const p=e.children[a],h={},m=l?l[a]:void 0;m&&(h.align=m);let T={type:"element",tagName:o,properties:h,children:[]};p&&(T.children=t.all(p),t.patch(p,T),T=t.applyData(p,T)),u.push(T)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,f),t.applyData(e,f)}function Sx(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const gp=9,yp=32;function Tx(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(vp(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(vp(e.slice(i),i>0,!1)),o.join("")}function vp(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===gp||o===yp;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===gp||o===yp;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Cx(t,e){const n={type:"text",value:Tx(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Ex(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const kx={blockquote:ex,break:tx,code:nx,delete:rx,emphasis:ix,footnoteReference:ox,heading:lx,html:sx,imageReference:ax,image:ux,inlineCode:cx,linkReference:dx,link:fx,listItem:px,list:mx,paragraph:gx,root:yx,strong:vx,table:xx,tableCell:Sx,tableRow:wx,text:Cx,thematicBreak:Ex,toml:bl,yaml:bl,definition:bl,footnoteDefinition:bl};function bl(){}const O4=-1,sa=0,No=1,Ns=2,Xc=3,Qc=4,Zc=5,jc=6,G4=7,$4=8,xp=typeof self=="object"?self:globalThis,Ax=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,l]=e[i];switch(o){case sa:case O4:return n(l,i);case No:{const s=n([],i);for(const a of l)s.push(r(a));return s}case Ns:{const s=n({},i);for(const[a,u]of l)s[r(a)]=r(u);return s}case Xc:return n(new Date(l),i);case Qc:{const{source:s,flags:a}=l;return n(new RegExp(s,a),i)}case Zc:{const s=n(new Map,i);for(const[a,u]of l)s.set(r(a),r(u));return s}case jc:{const s=n(new Set,i);for(const a of l)s.add(r(a));return s}case G4:{const{name:s,message:a}=l;return n(new xp[s](a),i)}case $4:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:s}=new Uint8Array(l);return n(new DataView(s),l)}}return n(new xp[o](l),i)};return r},wp=t=>Ax(new Map,t)(0),oi="",{toString:Ix}={},{keys:Mx}=Object,fo=t=>{const e=typeof t;if(e!=="object"||!t)return[sa,e];const n=Ix.call(t).slice(8,-1);switch(n){case"Array":return[No,oi];case"Object":return[Ns,oi];case"Date":return[Xc,oi];case"RegExp":return[Qc,oi];case"Map":return[Zc,oi];case"Set":return[jc,oi];case"DataView":return[No,n]}return n.includes("Array")?[No,n]:n.includes("Error")?[G4,n]:[Ns,n]},Nl=([t,e])=>t===sa&&(e==="function"||e==="symbol"),_x=(t,e,n,r)=>{const i=(l,s)=>{const a=r.push(l)-1;return n.set(s,a),a},o=l=>{if(n.has(l))return n.get(l);let[s,a]=fo(l);switch(s){case sa:{let f=l;switch(a){case"bigint":s=$4,f=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+a);f=null;break;case"undefined":return i([O4],l)}return i([s,f],l)}case No:{if(a){let h=l;return a==="DataView"?h=new Uint8Array(l.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(l)),i([a,[...h]],l)}const f=[],p=i([s,f],l);for(const h of l)f.push(o(h));return p}case Ns:{if(a)switch(a){case"BigInt":return i([a,l.toString()],l);case"Boolean":case"Number":case"String":return i([a,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const f=[],p=i([s,f],l);for(const h of Mx(l))(t||!Nl(fo(l[h])))&&f.push([o(h),o(l[h])]);return p}case Xc:return i([s,l.toISOString()],l);case Qc:{const{source:f,flags:p}=l;return i([s,{source:f,flags:p}],l)}case Zc:{const f=[],p=i([s,f],l);for(const[h,m]of l)(t||!(Nl(fo(h))||Nl(fo(m))))&&f.push([o(h),o(m)]);return p}case jc:{const f=[],p=i([s,f],l);for(const h of l)(t||!Nl(fo(h)))&&f.push(o(h));return p}}const{message:u}=l;return i([s,{name:a,message:u}],l)};return o},Sp=(t,{json:e,lossy:n}={})=>{const r=[];return _x(!(e||n),!!e,new Map,r)(t),r},Ps=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?wp(Sp(t,e)):structuredClone(t):(t,e)=>wp(Sp(t,e));function bx(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Nx(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Px(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||bx,r=t.options.footnoteBackLabel||Nx,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[a]);if(!u)continue;const f=t.all(u),p=String(u.identifier).toUpperCase(),h=Gi(p.toLowerCase());let m=0;const T=[],C=t.footnoteCounts.get(p);for(;C!==void 0&&++m<=C;){T.length>0&&T.push({type:"text",value:" "});let w=typeof n=="string"?n:n(a,m);typeof w=="string"&&(w={type:"text",value:w}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const _=f[f.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const w=_.children[_.children.length-1];w&&w.type==="text"?w.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...T)}else f.push(...T);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(f,!0)};t.patch(u,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Ps(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const ed=function(t){if(t==null)return zx;if(typeof t=="function")return aa(t);if(typeof t=="object")return Array.isArray(t)?Rx(t):Dx(t);if(typeof t=="string")return Lx(t);throw new Error("Expected function, string, or object as test")};function Rx(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ed(t[n]);return aa(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function Dx(t){const e=t;return aa(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function Lx(t){return aa(e);function e(n){return n&&n.type===t}}function aa(t){return e;function e(n,r,i){return!!(Fx(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function zx(){return!0}function Fx(t){return t!==null&&typeof t=="object"&&"type"in t}const J4=[],Ux=!0,Tp=!1,W4="skip";function Y4(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=ed(i),l=r?-1:1;s(t,void 0,[])();function s(a,u,f){const p=a&&typeof a=="object"?a:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=J4,T,C,_;if((!e||o(a,u,f[f.length-1]||void 0))&&(m=Bx(n(a,f)),m[0]===Tp))return m;if("children"in a&&a.children){const v=a;if(v.children&&m[0]!==W4)for(C=(r?v.children.length:-1)+l,_=f.concat(v);C>-1&&C<v.children.length;){const w=v.children[C];if(T=s(w,C,_)(),T[0]===Tp)return T;C=typeof T[1]=="number"?T[1]:C+l}}return m}}}function Bx(t){return Array.isArray(t)?t:typeof t=="number"?[Ux,t]:t==null?J4:[t]}function K4(t,e,n,r){let i,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,i=n):(o=e,l=n,i=r),Y4(t,o,s,i);function s(a,u){const f=u[u.length-1],p=f?f.children.indexOf(a):void 0;return l(a,p,f)}}const C0={}.hasOwnProperty,qx={};function Vx(t,e){const n=e||qx,r=new Map,i=new Map,o=new Map,l={...kx,...n.handlers},s={all:u,applyData:Ox,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:a,options:n,patch:Hx,wrap:$x};return K4(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();p.has(h)||p.set(h,f)}}),s;function a(f,p){const h=f.type,m=s.handlers[h];if(C0.call(s.handlers,h)&&m)return m(s,f,p);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in f){const{children:C,..._}=f,v=Ps(_);return v.children=s.all(f),v}return Ps(f)}return(s.options.unknownHandler||Gx)(s,f,p)}function u(f){const p=[];if("children"in f){const h=f.children;let m=-1;for(;++m<h.length;){const T=s.one(h[m],f);if(T){if(m&&h[m-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=Cp(T.value)),!Array.isArray(T)&&T.type==="element")){const C=T.children[0];C&&C.type==="text"&&(C.value=Cp(C.value))}Array.isArray(T)?p.push(...T):p.push(T)}}}return p}}function Hx(t,e){t.position&&(e.position=I6(t))}function Ox(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,Ps(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Gx(t,e){const n=e.data||{},r="value"in e&&!(C0.call(n,"hProperties")||C0.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function $x(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Cp(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Ep(t,e){const n=Vx(t,e),r=n.one(t,void 0),i=Px(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Jx(t,e){return t&&"run"in t?async function(n,r){const i=Ep(n,{file:r,...e});await t.run(i,r)}:function(n,r){return Ep(n,{file:r,...t||e})}}function kp(t){if(t)throw t}var ts=Object.prototype.hasOwnProperty,X4=Object.prototype.toString,Ap=Object.defineProperty,Ip=Object.getOwnPropertyDescriptor,Mp=function(e){return typeof Array.isArray=="function"?Array.isArray(e):X4.call(e)==="[object Array]"},_p=function(e){if(!e||X4.call(e)!=="[object Object]")return!1;var n=ts.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&ts.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||ts.call(e,i)},bp=function(e,n){Ap&&n.name==="__proto__"?Ap(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Np=function(e,n){if(n==="__proto__")if(ts.call(e,n)){if(Ip)return Ip(e,n).value}else return;return e[n]},Wx=function t(){var e,n,r,i,o,l,s=arguments[0],a=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(e=arguments[a],e!=null)for(n in e)r=Np(s,n),i=Np(e,n),s!==i&&(f&&i&&(_p(i)||(o=Mp(i)))?(o?(o=!1,l=r&&Mp(r)?r:[]):l=r&&_p(r)?r:{},bp(s,{name:n,newValue:t(f,l,i)})):typeof i<"u"&&bp(s,{name:n,newValue:i}));return s};const ja=J0(Wx);function E0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Yx(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);s(null,...i);function s(a,...u){const f=t[++o];let p=-1;if(a){l(a);return}for(;++p<i.length;)(u[p]===null||u[p]===void 0)&&(u[p]=i[p]);i=u,f?Kx(f,s)(...u):l(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Kx(t,e){let n;return r;function r(...l){const s=t.length>l.length;let a;s&&l.push(i);try{a=t.apply(this,l)}catch(u){const f=u;if(s&&n)throw f;return i(f)}s||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(l,...s){n||(n=!0,e(l,...s))}function o(l){i(null,l)}}const xn={basename:Xx,dirname:Qx,extname:Zx,join:jx,sep:"/"};function Xx(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');al(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function Qx(t){if(al(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Zx(t){al(t);let e=t.length,n=-1,r=0,i=-1,o=0,l;for(;e--;){const s=t.codePointAt(e);if(s===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function jx(...t){let e=-1,n;for(;++e<t.length;)al(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":e9(n)}function e9(t){al(t);const e=t.codePointAt(0)===47;let n=t9(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function t9(t,e){let n="",r=0,i=-1,o=0,l=-1,s,a;for(;++l<=t.length;){if(l<t.length)s=t.codePointAt(l);else{if(s===47)break;s=47}if(s===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,o=0}else s===46&&o>-1?o++:o=-1}return n}function al(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const n9={cwd:r9};function r9(){return"/"}function k0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function i9(t){if(typeof t=="string")t=new URL(t);else if(!k0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return o9(t)}function o9(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const eu=["history","path","basename","stem","extname","dirname"];class Q4{constructor(e){let n;e?k0(e)?n={path:e}:typeof e=="string"||l9(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":n9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<eu.length;){const o=eu[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)eu.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?xn.basename(this.path):void 0}set basename(e){nu(e,"basename"),tu(e,"basename"),this.path=xn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?xn.dirname(this.path):void 0}set dirname(e){Pp(this.basename,"dirname"),this.path=xn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?xn.extname(this.path):void 0}set extname(e){if(tu(e,"extname"),Pp(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){k0(e)&&(e=i9(e)),nu(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?xn.basename(this.path,this.extname):void 0}set stem(e){nu(e,"stem"),tu(e,"stem"),this.path=xn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ht(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function tu(t,e){if(t&&t.includes(xn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+xn.sep+"`")}function nu(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Pp(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function l9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const s9=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},a9={}.hasOwnProperty;class td extends s9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Yx()}copy(){const e=new td;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(ja(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(ou("data",this.frozen),this.namespace[e]=n,this):a9.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ou("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Pl(e),r=this.parser||this.Parser;return ru("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ru("process",this.parser||this.Parser),iu("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const s=Pl(e),a=r.parse(s);r.run(a,s,function(f,p,h){if(f||!p||!h)return u(f);const m=p,T=r.stringify(m,h);d9(T)?h.value=T:h.result=T,u(f,h)});function u(f,p){f||!p?l(f):o?o(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),ru("processSync",this.parser||this.Parser),iu("processSync",this.compiler||this.Compiler),this.process(e,i),Dp("processSync","process",n),r;function i(o,l){n=!0,kp(o),r=l}}run(e,n,r){Rp(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,s){const a=Pl(n);i.run(e,a,u);function u(f,p,h){const m=p||e;f?s(f):l?l(m):r(void 0,m,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),Dp("runSync","run",r),i;function o(l,s){kp(l),i=s,r=!0}}stringify(e,n){this.freeze();const r=Pl(n),i=this.compiler||this.Compiler;return iu("stringify",i),Rp(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(ou("use",this.frozen),e!=null)if(typeof e=="function")a(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...p]=u;a(f,p)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=ja(!0,i.settings,u.settings))}function s(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const p=u[f];o(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,f){let p=-1,h=-1;for(;++p<r.length;)if(r[p][0]===u){h=p;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[m,...T]=f;const C=r[h][1];E0(C)&&E0(m)&&(m=ja(!0,C,m)),r[h]=[u,m,...T]}}}}const u9=new td().freeze();function ru(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function iu(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function ou(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Rp(t){if(!E0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Dp(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Pl(t){return c9(t)?t:new Q4(t)}function c9(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function d9(t){return typeof t=="string"||f9(t)}function f9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const p9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Lp=[],zp={allowDangerousHtml:!0},h9=/^(https?|ircs?|mailto|xmpp)$/i,m9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function g9(t){const e=y9(t),n=v9(t);return x9(e.runSync(e.parse(n),n),t)}function y9(t){const e=t.rehypePlugins||Lp,n=t.remarkPlugins||Lp,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...zp}:zp;return u9().use(j8).use(n).use(Jx,r).use(e)}function v9(t){const e=t.children||"",n=new Q4;return typeof e=="string"&&(n.value=e),n}function x9(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,l=e.skipHtml,s=e.unwrapDisallowed,a=e.urlTransform||w9;for(const f of m9)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+p9+f.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),K4(t,u),P6(t,{Fragment:I.Fragment,components:i,ignoreInvalidStyle:!0,jsx:I.jsx,jsxs:I.jsxs,passKeys:!0,passNode:!0});function u(f,p,h){if(f.type==="raw"&&h&&typeof p=="number")return l?h.children.splice(p,1):h.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let m;for(m in Xa)if(Object.hasOwn(Xa,m)&&Object.hasOwn(f.properties,m)){const T=f.properties[m],C=Xa[m];(C===null||C.includes(f.tagName))&&(f.properties[m]=a(String(T||""),m,f))}}if(f.type==="element"){let m=n?!n.includes(f.tagName):o?o.includes(f.tagName):!1;if(!m&&r&&typeof p=="number"&&(m=!r(f,p,h)),m&&h&&typeof p=="number")return s&&f.children?h.children.splice(p,1,...f.children):h.children.splice(p,1),p}}}function w9(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||h9.test(t.slice(0,e))?t:""}function S9(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,l=0;for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+e.length,r=n.indexOf(e,i);return l}function T9(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:o},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:s,mathText:l,mathTextData:s}};function t(a){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},a)}function e(){this.buffer()}function n(){const a=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=a}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(a){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),f=this.stack[this.stack.length-1];f.type,this.exit(a),f.value=u;const p=f.data.hChildren[0];p.type,p.tagName,p.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function o(a){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},a),this.buffer()}function l(a){const u=this.resume(),f=this.stack[this.stack.length-1];f.type,this.exit(a),f.value=u,f.data.hChildren.push({type:"text",value:u})}function s(a){this.config.enter.data.call(this,a),this.config.exit.data.call(this,a)}}function C9(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(o,l,s,a){const u=o.value||"",f=s.createTracker(a),p="$".repeat(Math.max(S9(u,"$")+1,2)),h=s.enter("mathFlow");let m=f.move(p);if(o.meta){const T=s.enter("mathFlowMeta");m+=f.move(s.safe(o.meta,{after:`
`,before:m,encode:["$"],...f.current()})),T()}return m+=f.move(`
`),u&&(m+=f.move(u+`
`)),m+=f.move(p),h(),m}function r(o,l,s){let a=o.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(a);)u++;const f="$".repeat(u);/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^\$|\$$/.test(a))&&(a=" "+a+" ");let p=-1;for(;++p<s.unsafe.length;){const h=s.unsafe[p];if(!h.atBreak)continue;const m=s.compilePattern(h);let T;for(;T=m.exec(a);){let C=T.index;a.codePointAt(C)===10&&a.codePointAt(C-1)===13&&C--,a=a.slice(0,C)+" "+a.slice(T.index+1)}}return f+a+f}function i(){return"$"}}const E9={tokenize:k9,concrete:!0,name:"mathFlow"},Fp={tokenize:A9,partial:!0};function k9(t,e,n){const r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let l=0;return s;function s(w){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),a(w)}function a(w){return w===36?(t.consume(w),l++,a):l<2?n(w):(t.exit("mathFlowFenceSequence"),ke(t,u,"whitespace")(w))}function u(w){return w===null||re(w)?p(w):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===null||re(w)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),p(w)):w===36?n(w):(t.consume(w),f)}function p(w){return t.exit("mathFlowFence"),r.interrupt?e(w):t.attempt(Fp,h,_)(w)}function h(w){return t.attempt({tokenize:v,partial:!0},_,m)(w)}function m(w){return(o?ke(t,T,"linePrefix",o+1):T)(w)}function T(w){return w===null?_(w):re(w)?t.attempt(Fp,h,_)(w):(t.enter("mathFlowValue"),C(w))}function C(w){return w===null||re(w)?(t.exit("mathFlowValue"),T(w)):(t.consume(w),C)}function _(w){return t.exit("mathFlow"),e(w)}function v(w,x,k){let D=0;return ke(w,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function M(F){return w.enter("mathFlowFence"),w.enter("mathFlowFenceSequence"),L(F)}function L(F){return F===36?(D++,w.consume(F),L):D<l?k(F):(w.exit("mathFlowFenceSequence"),ke(w,U,"whitespace")(F))}function U(F){return F===null||re(F)?(w.exit("mathFlowFence"),x(F)):k(F)}}}function A9(t,e,n){const r=this;return i;function i(l){return l===null?e(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function I9(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:M9,previous:_9,name:"mathText"};function r(i,o,l){let s=0,a,u;return f;function f(C){return i.enter("mathText"),i.enter("mathTextSequence"),p(C)}function p(C){return C===36?(i.consume(C),s++,p):s<2&&!n?l(C):(i.exit("mathTextSequence"),h(C))}function h(C){return C===null?l(C):C===36?(u=i.enter("mathTextSequence"),a=0,T(C)):C===32?(i.enter("space"),i.consume(C),i.exit("space"),h):re(C)?(i.enter("lineEnding"),i.consume(C),i.exit("lineEnding"),h):(i.enter("mathTextData"),m(C))}function m(C){return C===null||C===32||C===36||re(C)?(i.exit("mathTextData"),h(C)):(i.consume(C),m)}function T(C){return C===36?(i.consume(C),a++,T):a===s?(i.exit("mathTextSequence"),i.exit("mathText"),o(C)):(u.type="mathTextData",m(C))}}}function M9(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function _9(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function b9(t){return{flow:{36:E9},text:{36:I9(t)}}}class kt{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new kt(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Ht{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Ht(n,kt.range(this,e))}}class J{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,o,l=n&&n.loc;if(l&&l.start<=l.end){var s=l.lexer.input;i=l.start,o=l.end,i===s.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var a=s.slice(i,o).replace(/[^]/g,"$&"),u;i>15?u=""+s.slice(i-15,i):u=s.slice(0,i);var f;o+15<s.length?f=s.slice(o,o+15)+"":f=s.slice(o),r+=u+a+f}var p=new Error(r);return p.name="ParseError",p.__proto__=J.prototype,p.position=i,i!=null&&o!=null&&(p.length=o-i),p.rawMessage=e,p}}J.prototype.__proto__=Error.prototype;var N9=function(e,n){return e===void 0?n:e},P9=/([A-Z])/g,R9=function(e){return e.replace(P9,"-$1").toLowerCase()},D9={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},L9=/[&><"']/g;function z9(t){return String(t).replace(L9,e=>D9[e])}var Z4=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},F9=function(e){var n=Z4(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},U9=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},B9=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Te={deflt:N9,escape:z9,hyphenate:R9,getBaseElem:Z4,isCharacterBox:F9,protocolFromUrl:B9},ns={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function q9(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class nd{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in ns)if(ns.hasOwnProperty(n)){var r=ns[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:q9(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new J("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Te.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class nr{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return wn[V9[this.id]]}sub(){return wn[H9[this.id]]}fracNum(){return wn[O9[this.id]]}fracDen(){return wn[G9[this.id]]}cramp(){return wn[$9[this.id]]}text(){return wn[J9[this.id]]}isTight(){return this.size>=2}}var rd=0,Rs=1,Mi=2,qn=3,el=4,Qt=5,Bi=6,vt=7,wn=[new nr(rd,0,!1),new nr(Rs,0,!0),new nr(Mi,1,!1),new nr(qn,1,!0),new nr(el,2,!1),new nr(Qt,2,!0),new nr(Bi,3,!1),new nr(vt,3,!0)],V9=[el,Qt,el,Qt,Bi,vt,Bi,vt],H9=[Qt,Qt,Qt,Qt,vt,vt,vt,vt],O9=[Mi,qn,el,Qt,Bi,vt,Bi,vt],G9=[qn,qn,Qt,Qt,vt,vt,vt,vt],$9=[Rs,Rs,qn,qn,Qt,Qt,vt,vt],J9=[rd,Rs,Mi,qn,Mi,qn,Mi,qn],le={DISPLAY:wn[rd],TEXT:wn[Mi],SCRIPT:wn[el],SCRIPTSCRIPT:wn[Bi]},A0=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function W9(t){for(var e=0;e<A0.length;e++)for(var n=A0[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var rs=[];A0.forEach(t=>t.blocks.forEach(e=>rs.push(...e)));function j4(t){for(var e=0;e<rs.length;e+=2)if(t>=rs[e]&&t<=rs[e+1])return!0;return!1}var li=80,Y9=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},K9=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},X9=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Q9=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},Z9=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},j9=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},ew=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},tw=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=Y9(n,li);break;case"sqrtSize1":i=K9(n,li);break;case"sqrtSize2":i=X9(n,li);break;case"sqrtSize3":i=Q9(n,li);break;case"sqrtSize4":i=Z9(n,li);break;case"sqrtTall":i=ew(n,li,r)}return i},nw=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Up={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},rw=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class ul{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Cn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Rl={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Bp={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function iw(t,e){Cn[t]=e}function id(t,e,n){if(!Cn[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Cn[e][r];if(!i&&t[0]in Bp&&(r=Bp[t[0]].charCodeAt(0),i=Cn[e][r]),!i&&n==="text"&&j4(r)&&(i=Cn[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var lu={};function ow(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!lu[e]){var n=lu[e]={cssEmPerMu:Rl.quad[e]/18};for(var r in Rl)Rl.hasOwnProperty(r)&&(n[r]=Rl[r][e])}return lu[e]}var lw=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],qp=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Vp=function(e,n){return n.size<2?e:lw[e-1][n.size-1]};class zn{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||zn.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=qp[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new zn(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Vp(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:qp[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=Vp(zn.BASESIZE,e);return this.size===n&&this.textSize===zn.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==zn.BASESIZE?["sizing","reset-size"+this.size,"size"+zn.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ow(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}zn.BASESIZE=6;var I0={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},sw={ex:!0,em:!0,mu:!0},e2=function(e){return typeof e!="string"&&(e=e.unit),e in I0||e in sw||e==="ex"},He=function(e,n){var r;if(e.unit in I0)r=I0[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new J("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},K=function(e){return+e.toFixed(4)+"em"},Tr=function(e){return e.filter(n=>n).join(" ")},t2=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},n2=function(e){var n=document.createElement(e);n.className=Tr(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},aw=/[\s"'>/=\x00-\x1f]/,r2=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Te.escape(Tr(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Te.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Te.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(aw.test(o))throw new J("Invalid attribute name '"+o+"'");n+=" "+o+'="'+Te.escape(this.attributes[o])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class cl{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,t2.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return n2.call(this,"span")}toMarkup(){return r2.call(this,"span")}}class od{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,t2.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return n2.call(this,"a")}toMarkup(){return r2.call(this,"a")}}class uw{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Te.escape(this.src)+'"'+(' alt="'+Te.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Te.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Te.escape(n)+'"'),e+="'/>",e}}var cw={:"",:"",:"",:""};class nn{constructor(e,n,r,i,o,l,s,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=l||0,this.classes=s||[],this.style=a||{},this.maxFontSize=0;var u=W9(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=cw[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=K(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Tr(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Te.escape(Tr(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Te.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Te.escape(r)+'"');var o=Te.escape(this.text);return e?(n+=">",n+=o,n+="</span>",n):o}}class Jn{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Te.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Cr{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Up[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Te.escape(this.alternate)+'"/>':'<path d="'+Te.escape(Up[this.pathName])+'"/>'}}class M0{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Te.escape(this.attributes[n])+'"');return e+="/>",e}}function Hp(t){if(t instanceof nn)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function dw(t){if(t instanceof cl)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var fw={bin:1,close:1,inner:1,open:1,punct:1,rel:1},pw={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Pe={math:{},text:{}};function g(t,e,n,r,i,o){Pe[t][i]={font:e,group:n,replace:r},o&&r&&(Pe[t][r]=Pe[t][i])}var y="math",V="text",S="main",b="ams",Ue="accent-token",j="bin",Tt="close",$i="inner",oe="mathord",Qe="op-token",Jt="open",ua="punct",N="rel",Qn="spacing",R="textord";g(y,S,N,"","\\equiv",!0);g(y,S,N,"","\\prec",!0);g(y,S,N,"","\\succ",!0);g(y,S,N,"","\\sim",!0);g(y,S,N,"","\\perp");g(y,S,N,"","\\preceq",!0);g(y,S,N,"","\\succeq",!0);g(y,S,N,"","\\simeq",!0);g(y,S,N,"","\\mid",!0);g(y,S,N,"","\\ll",!0);g(y,S,N,"","\\gg",!0);g(y,S,N,"","\\asymp",!0);g(y,S,N,"","\\parallel");g(y,S,N,"","\\bowtie",!0);g(y,S,N,"","\\smile",!0);g(y,S,N,"","\\sqsubseteq",!0);g(y,S,N,"","\\sqsupseteq",!0);g(y,S,N,"","\\doteq",!0);g(y,S,N,"","\\frown",!0);g(y,S,N,"","\\ni",!0);g(y,S,N,"","\\propto",!0);g(y,S,N,"","\\vdash",!0);g(y,S,N,"","\\dashv",!0);g(y,S,N,"","\\owns");g(y,S,ua,".","\\ldotp");g(y,S,ua,"","\\cdotp");g(y,S,R,"#","\\#");g(V,S,R,"#","\\#");g(y,S,R,"&","\\&");g(V,S,R,"&","\\&");g(y,S,R,"","\\aleph",!0);g(y,S,R,"","\\forall",!0);g(y,S,R,"","\\hbar",!0);g(y,S,R,"","\\exists",!0);g(y,S,R,"","\\nabla",!0);g(y,S,R,"","\\flat",!0);g(y,S,R,"","\\ell",!0);g(y,S,R,"","\\natural",!0);g(y,S,R,"","\\clubsuit",!0);g(y,S,R,"","\\wp",!0);g(y,S,R,"","\\sharp",!0);g(y,S,R,"","\\diamondsuit",!0);g(y,S,R,"","\\Re",!0);g(y,S,R,"","\\heartsuit",!0);g(y,S,R,"","\\Im",!0);g(y,S,R,"","\\spadesuit",!0);g(y,S,R,"","\\S",!0);g(V,S,R,"","\\S");g(y,S,R,"","\\P",!0);g(V,S,R,"","\\P");g(y,S,R,"","\\dag");g(V,S,R,"","\\dag");g(V,S,R,"","\\textdagger");g(y,S,R,"","\\ddag");g(V,S,R,"","\\ddag");g(V,S,R,"","\\textdaggerdbl");g(y,S,Tt,"","\\rmoustache",!0);g(y,S,Jt,"","\\lmoustache",!0);g(y,S,Tt,"","\\rgroup",!0);g(y,S,Jt,"","\\lgroup",!0);g(y,S,j,"","\\mp",!0);g(y,S,j,"","\\ominus",!0);g(y,S,j,"","\\uplus",!0);g(y,S,j,"","\\sqcap",!0);g(y,S,j,"","\\ast");g(y,S,j,"","\\sqcup",!0);g(y,S,j,"","\\bigcirc",!0);g(y,S,j,"","\\bullet",!0);g(y,S,j,"","\\ddagger");g(y,S,j,"","\\wr",!0);g(y,S,j,"","\\amalg");g(y,S,j,"&","\\And");g(y,S,N,"","\\longleftarrow",!0);g(y,S,N,"","\\Leftarrow",!0);g(y,S,N,"","\\Longleftarrow",!0);g(y,S,N,"","\\longrightarrow",!0);g(y,S,N,"","\\Rightarrow",!0);g(y,S,N,"","\\Longrightarrow",!0);g(y,S,N,"","\\leftrightarrow",!0);g(y,S,N,"","\\longleftrightarrow",!0);g(y,S,N,"","\\Leftrightarrow",!0);g(y,S,N,"","\\Longleftrightarrow",!0);g(y,S,N,"","\\mapsto",!0);g(y,S,N,"","\\longmapsto",!0);g(y,S,N,"","\\nearrow",!0);g(y,S,N,"","\\hookleftarrow",!0);g(y,S,N,"","\\hookrightarrow",!0);g(y,S,N,"","\\searrow",!0);g(y,S,N,"","\\leftharpoonup",!0);g(y,S,N,"","\\rightharpoonup",!0);g(y,S,N,"","\\swarrow",!0);g(y,S,N,"","\\leftharpoondown",!0);g(y,S,N,"","\\rightharpoondown",!0);g(y,S,N,"","\\nwarrow",!0);g(y,S,N,"","\\rightleftharpoons",!0);g(y,b,N,"","\\nless",!0);g(y,b,N,"","\\@nleqslant");g(y,b,N,"","\\@nleqq");g(y,b,N,"","\\lneq",!0);g(y,b,N,"","\\lneqq",!0);g(y,b,N,"","\\@lvertneqq");g(y,b,N,"","\\lnsim",!0);g(y,b,N,"","\\lnapprox",!0);g(y,b,N,"","\\nprec",!0);g(y,b,N,"","\\npreceq",!0);g(y,b,N,"","\\precnsim",!0);g(y,b,N,"","\\precnapprox",!0);g(y,b,N,"","\\nsim",!0);g(y,b,N,"","\\@nshortmid");g(y,b,N,"","\\nmid",!0);g(y,b,N,"","\\nvdash",!0);g(y,b,N,"","\\nvDash",!0);g(y,b,N,"","\\ntriangleleft");g(y,b,N,"","\\ntrianglelefteq",!0);g(y,b,N,"","\\subsetneq",!0);g(y,b,N,"","\\@varsubsetneq");g(y,b,N,"","\\subsetneqq",!0);g(y,b,N,"","\\@varsubsetneqq");g(y,b,N,"","\\ngtr",!0);g(y,b,N,"","\\@ngeqslant");g(y,b,N,"","\\@ngeqq");g(y,b,N,"","\\gneq",!0);g(y,b,N,"","\\gneqq",!0);g(y,b,N,"","\\@gvertneqq");g(y,b,N,"","\\gnsim",!0);g(y,b,N,"","\\gnapprox",!0);g(y,b,N,"","\\nsucc",!0);g(y,b,N,"","\\nsucceq",!0);g(y,b,N,"","\\succnsim",!0);g(y,b,N,"","\\succnapprox",!0);g(y,b,N,"","\\ncong",!0);g(y,b,N,"","\\@nshortparallel");g(y,b,N,"","\\nparallel",!0);g(y,b,N,"","\\nVDash",!0);g(y,b,N,"","\\ntriangleright");g(y,b,N,"","\\ntrianglerighteq",!0);g(y,b,N,"","\\@nsupseteqq");g(y,b,N,"","\\supsetneq",!0);g(y,b,N,"","\\@varsupsetneq");g(y,b,N,"","\\supsetneqq",!0);g(y,b,N,"","\\@varsupsetneqq");g(y,b,N,"","\\nVdash",!0);g(y,b,N,"","\\precneqq",!0);g(y,b,N,"","\\succneqq",!0);g(y,b,N,"","\\@nsubseteqq");g(y,b,j,"","\\unlhd");g(y,b,j,"","\\unrhd");g(y,b,N,"","\\nleftarrow",!0);g(y,b,N,"","\\nrightarrow",!0);g(y,b,N,"","\\nLeftarrow",!0);g(y,b,N,"","\\nRightarrow",!0);g(y,b,N,"","\\nleftrightarrow",!0);g(y,b,N,"","\\nLeftrightarrow",!0);g(y,b,N,"","\\vartriangle");g(y,b,R,"","\\hslash");g(y,b,R,"","\\triangledown");g(y,b,R,"","\\lozenge");g(y,b,R,"","\\circledS");g(y,b,R,"","\\circledR");g(V,b,R,"","\\circledR");g(y,b,R,"","\\measuredangle",!0);g(y,b,R,"","\\nexists");g(y,b,R,"","\\mho");g(y,b,R,"","\\Finv",!0);g(y,b,R,"","\\Game",!0);g(y,b,R,"","\\backprime");g(y,b,R,"","\\blacktriangle");g(y,b,R,"","\\blacktriangledown");g(y,b,R,"","\\blacksquare");g(y,b,R,"","\\blacklozenge");g(y,b,R,"","\\bigstar");g(y,b,R,"","\\sphericalangle",!0);g(y,b,R,"","\\complement",!0);g(y,b,R,"","\\eth",!0);g(V,S,R,"","");g(y,b,R,"","\\diagup");g(y,b,R,"","\\diagdown");g(y,b,R,"","\\square");g(y,b,R,"","\\Box");g(y,b,R,"","\\Diamond");g(y,b,R,"","\\yen",!0);g(V,b,R,"","\\yen",!0);g(y,b,R,"","\\checkmark",!0);g(V,b,R,"","\\checkmark");g(y,b,R,"","\\beth",!0);g(y,b,R,"","\\daleth",!0);g(y,b,R,"","\\gimel",!0);g(y,b,R,"","\\digamma",!0);g(y,b,R,"","\\varkappa");g(y,b,Jt,"","\\@ulcorner",!0);g(y,b,Tt,"","\\@urcorner",!0);g(y,b,Jt,"","\\@llcorner",!0);g(y,b,Tt,"","\\@lrcorner",!0);g(y,b,N,"","\\leqq",!0);g(y,b,N,"","\\leqslant",!0);g(y,b,N,"","\\eqslantless",!0);g(y,b,N,"","\\lesssim",!0);g(y,b,N,"","\\lessapprox",!0);g(y,b,N,"","\\approxeq",!0);g(y,b,j,"","\\lessdot");g(y,b,N,"","\\lll",!0);g(y,b,N,"","\\lessgtr",!0);g(y,b,N,"","\\lesseqgtr",!0);g(y,b,N,"","\\lesseqqgtr",!0);g(y,b,N,"","\\doteqdot");g(y,b,N,"","\\risingdotseq",!0);g(y,b,N,"","\\fallingdotseq",!0);g(y,b,N,"","\\backsim",!0);g(y,b,N,"","\\backsimeq",!0);g(y,b,N,"","\\subseteqq",!0);g(y,b,N,"","\\Subset",!0);g(y,b,N,"","\\sqsubset",!0);g(y,b,N,"","\\preccurlyeq",!0);g(y,b,N,"","\\curlyeqprec",!0);g(y,b,N,"","\\precsim",!0);g(y,b,N,"","\\precapprox",!0);g(y,b,N,"","\\vartriangleleft");g(y,b,N,"","\\trianglelefteq");g(y,b,N,"","\\vDash",!0);g(y,b,N,"","\\Vvdash",!0);g(y,b,N,"","\\smallsmile");g(y,b,N,"","\\smallfrown");g(y,b,N,"","\\bumpeq",!0);g(y,b,N,"","\\Bumpeq",!0);g(y,b,N,"","\\geqq",!0);g(y,b,N,"","\\geqslant",!0);g(y,b,N,"","\\eqslantgtr",!0);g(y,b,N,"","\\gtrsim",!0);g(y,b,N,"","\\gtrapprox",!0);g(y,b,j,"","\\gtrdot");g(y,b,N,"","\\ggg",!0);g(y,b,N,"","\\gtrless",!0);g(y,b,N,"","\\gtreqless",!0);g(y,b,N,"","\\gtreqqless",!0);g(y,b,N,"","\\eqcirc",!0);g(y,b,N,"","\\circeq",!0);g(y,b,N,"","\\triangleq",!0);g(y,b,N,"","\\thicksim");g(y,b,N,"","\\thickapprox");g(y,b,N,"","\\supseteqq",!0);g(y,b,N,"","\\Supset",!0);g(y,b,N,"","\\sqsupset",!0);g(y,b,N,"","\\succcurlyeq",!0);g(y,b,N,"","\\curlyeqsucc",!0);g(y,b,N,"","\\succsim",!0);g(y,b,N,"","\\succapprox",!0);g(y,b,N,"","\\vartriangleright");g(y,b,N,"","\\trianglerighteq");g(y,b,N,"","\\Vdash",!0);g(y,b,N,"","\\shortmid");g(y,b,N,"","\\shortparallel");g(y,b,N,"","\\between",!0);g(y,b,N,"","\\pitchfork",!0);g(y,b,N,"","\\varpropto");g(y,b,N,"","\\blacktriangleleft");g(y,b,N,"","\\therefore",!0);g(y,b,N,"","\\backepsilon");g(y,b,N,"","\\blacktriangleright");g(y,b,N,"","\\because",!0);g(y,b,N,"","\\llless");g(y,b,N,"","\\gggtr");g(y,b,j,"","\\lhd");g(y,b,j,"","\\rhd");g(y,b,N,"","\\eqsim",!0);g(y,S,N,"","\\Join");g(y,b,N,"","\\Doteq",!0);g(y,b,j,"","\\dotplus",!0);g(y,b,j,"","\\smallsetminus");g(y,b,j,"","\\Cap",!0);g(y,b,j,"","\\Cup",!0);g(y,b,j,"","\\doublebarwedge",!0);g(y,b,j,"","\\boxminus",!0);g(y,b,j,"","\\boxplus",!0);g(y,b,j,"","\\divideontimes",!0);g(y,b,j,"","\\ltimes",!0);g(y,b,j,"","\\rtimes",!0);g(y,b,j,"","\\leftthreetimes",!0);g(y,b,j,"","\\rightthreetimes",!0);g(y,b,j,"","\\curlywedge",!0);g(y,b,j,"","\\curlyvee",!0);g(y,b,j,"","\\circleddash",!0);g(y,b,j,"","\\circledast",!0);g(y,b,j,"","\\centerdot");g(y,b,j,"","\\intercal",!0);g(y,b,j,"","\\doublecap");g(y,b,j,"","\\doublecup");g(y,b,j,"","\\boxtimes",!0);g(y,b,N,"","\\dashrightarrow",!0);g(y,b,N,"","\\dashleftarrow",!0);g(y,b,N,"","\\leftleftarrows",!0);g(y,b,N,"","\\leftrightarrows",!0);g(y,b,N,"","\\Lleftarrow",!0);g(y,b,N,"","\\twoheadleftarrow",!0);g(y,b,N,"","\\leftarrowtail",!0);g(y,b,N,"","\\looparrowleft",!0);g(y,b,N,"","\\leftrightharpoons",!0);g(y,b,N,"","\\curvearrowleft",!0);g(y,b,N,"","\\circlearrowleft",!0);g(y,b,N,"","\\Lsh",!0);g(y,b,N,"","\\upuparrows",!0);g(y,b,N,"","\\upharpoonleft",!0);g(y,b,N,"","\\downharpoonleft",!0);g(y,S,N,"","\\origof",!0);g(y,S,N,"","\\imageof",!0);g(y,b,N,"","\\multimap",!0);g(y,b,N,"","\\leftrightsquigarrow",!0);g(y,b,N,"","\\rightrightarrows",!0);g(y,b,N,"","\\rightleftarrows",!0);g(y,b,N,"","\\twoheadrightarrow",!0);g(y,b,N,"","\\rightarrowtail",!0);g(y,b,N,"","\\looparrowright",!0);g(y,b,N,"","\\curvearrowright",!0);g(y,b,N,"","\\circlearrowright",!0);g(y,b,N,"","\\Rsh",!0);g(y,b,N,"","\\downdownarrows",!0);g(y,b,N,"","\\upharpoonright",!0);g(y,b,N,"","\\downharpoonright",!0);g(y,b,N,"","\\rightsquigarrow",!0);g(y,b,N,"","\\leadsto");g(y,b,N,"","\\Rrightarrow",!0);g(y,b,N,"","\\restriction");g(y,S,R,"","`");g(y,S,R,"$","\\$");g(V,S,R,"$","\\$");g(V,S,R,"$","\\textdollar");g(y,S,R,"%","\\%");g(V,S,R,"%","\\%");g(y,S,R,"_","\\_");g(V,S,R,"_","\\_");g(V,S,R,"_","\\textunderscore");g(y,S,R,"","\\angle",!0);g(y,S,R,"","\\infty",!0);g(y,S,R,"","\\prime");g(y,S,R,"","\\triangle");g(y,S,R,"","\\Gamma",!0);g(y,S,R,"","\\Delta",!0);g(y,S,R,"","\\Theta",!0);g(y,S,R,"","\\Lambda",!0);g(y,S,R,"","\\Xi",!0);g(y,S,R,"","\\Pi",!0);g(y,S,R,"","\\Sigma",!0);g(y,S,R,"","\\Upsilon",!0);g(y,S,R,"","\\Phi",!0);g(y,S,R,"","\\Psi",!0);g(y,S,R,"","\\Omega",!0);g(y,S,R,"A","");g(y,S,R,"B","");g(y,S,R,"E","");g(y,S,R,"Z","");g(y,S,R,"H","");g(y,S,R,"I","");g(y,S,R,"K","");g(y,S,R,"M","");g(y,S,R,"N","");g(y,S,R,"O","");g(y,S,R,"P","");g(y,S,R,"T","");g(y,S,R,"X","");g(y,S,R,"","\\neg",!0);g(y,S,R,"","\\lnot");g(y,S,R,"","\\top");g(y,S,R,"","\\bot");g(y,S,R,"","\\emptyset");g(y,b,R,"","\\varnothing");g(y,S,oe,"","\\alpha",!0);g(y,S,oe,"","\\beta",!0);g(y,S,oe,"","\\gamma",!0);g(y,S,oe,"","\\delta",!0);g(y,S,oe,"","\\epsilon",!0);g(y,S,oe,"","\\zeta",!0);g(y,S,oe,"","\\eta",!0);g(y,S,oe,"","\\theta",!0);g(y,S,oe,"","\\iota",!0);g(y,S,oe,"","\\kappa",!0);g(y,S,oe,"","\\lambda",!0);g(y,S,oe,"","\\mu",!0);g(y,S,oe,"","\\nu",!0);g(y,S,oe,"","\\xi",!0);g(y,S,oe,"","\\omicron",!0);g(y,S,oe,"","\\pi",!0);g(y,S,oe,"","\\rho",!0);g(y,S,oe,"","\\sigma",!0);g(y,S,oe,"","\\tau",!0);g(y,S,oe,"","\\upsilon",!0);g(y,S,oe,"","\\phi",!0);g(y,S,oe,"","\\chi",!0);g(y,S,oe,"","\\psi",!0);g(y,S,oe,"","\\omega",!0);g(y,S,oe,"","\\varepsilon",!0);g(y,S,oe,"","\\vartheta",!0);g(y,S,oe,"","\\varpi",!0);g(y,S,oe,"","\\varrho",!0);g(y,S,oe,"","\\varsigma",!0);g(y,S,oe,"","\\varphi",!0);g(y,S,j,"","*",!0);g(y,S,j,"+","+");g(y,S,j,"","-",!0);g(y,S,j,"","\\cdot",!0);g(y,S,j,"","\\circ",!0);g(y,S,j,"","\\div",!0);g(y,S,j,"","\\pm",!0);g(y,S,j,"","\\times",!0);g(y,S,j,"","\\cap",!0);g(y,S,j,"","\\cup",!0);g(y,S,j,"","\\setminus",!0);g(y,S,j,"","\\land");g(y,S,j,"","\\lor");g(y,S,j,"","\\wedge",!0);g(y,S,j,"","\\vee",!0);g(y,S,R,"","\\surd");g(y,S,Jt,"","\\langle",!0);g(y,S,Jt,"","\\lvert");g(y,S,Jt,"","\\lVert");g(y,S,Tt,"?","?");g(y,S,Tt,"!","!");g(y,S,Tt,"","\\rangle",!0);g(y,S,Tt,"","\\rvert");g(y,S,Tt,"","\\rVert");g(y,S,N,"=","=");g(y,S,N,":",":");g(y,S,N,"","\\approx",!0);g(y,S,N,"","\\cong",!0);g(y,S,N,"","\\ge");g(y,S,N,"","\\geq",!0);g(y,S,N,"","\\gets");g(y,S,N,">","\\gt",!0);g(y,S,N,"","\\in",!0);g(y,S,N,"","\\@not");g(y,S,N,"","\\subset",!0);g(y,S,N,"","\\supset",!0);g(y,S,N,"","\\subseteq",!0);g(y,S,N,"","\\supseteq",!0);g(y,b,N,"","\\nsubseteq",!0);g(y,b,N,"","\\nsupseteq",!0);g(y,S,N,"","\\models");g(y,S,N,"","\\leftarrow",!0);g(y,S,N,"","\\le");g(y,S,N,"","\\leq",!0);g(y,S,N,"<","\\lt",!0);g(y,S,N,"","\\rightarrow",!0);g(y,S,N,"","\\to");g(y,b,N,"","\\ngeq",!0);g(y,b,N,"","\\nleq",!0);g(y,S,Qn,"","\\ ");g(y,S,Qn,"","\\space");g(y,S,Qn,"","\\nobreakspace");g(V,S,Qn,"","\\ ");g(V,S,Qn,""," ");g(V,S,Qn,"","\\space");g(V,S,Qn,"","\\nobreakspace");g(y,S,Qn,null,"\\nobreak");g(y,S,Qn,null,"\\allowbreak");g(y,S,ua,",",",");g(y,S,ua,";",";");g(y,b,j,"","\\barwedge",!0);g(y,b,j,"","\\veebar",!0);g(y,S,j,"","\\odot",!0);g(y,S,j,"","\\oplus",!0);g(y,S,j,"","\\otimes",!0);g(y,S,R,"","\\partial",!0);g(y,S,j,"","\\oslash",!0);g(y,b,j,"","\\circledcirc",!0);g(y,b,j,"","\\boxdot",!0);g(y,S,j,"","\\bigtriangleup");g(y,S,j,"","\\bigtriangledown");g(y,S,j,"","\\dagger");g(y,S,j,"","\\diamond");g(y,S,j,"","\\star");g(y,S,j,"","\\triangleleft");g(y,S,j,"","\\triangleright");g(y,S,Jt,"{","\\{");g(V,S,R,"{","\\{");g(V,S,R,"{","\\textbraceleft");g(y,S,Tt,"}","\\}");g(V,S,R,"}","\\}");g(V,S,R,"}","\\textbraceright");g(y,S,Jt,"{","\\lbrace");g(y,S,Tt,"}","\\rbrace");g(y,S,Jt,"[","\\lbrack",!0);g(V,S,R,"[","\\lbrack",!0);g(y,S,Tt,"]","\\rbrack",!0);g(V,S,R,"]","\\rbrack",!0);g(y,S,Jt,"(","\\lparen",!0);g(y,S,Tt,")","\\rparen",!0);g(V,S,R,"<","\\textless",!0);g(V,S,R,">","\\textgreater",!0);g(y,S,Jt,"","\\lfloor",!0);g(y,S,Tt,"","\\rfloor",!0);g(y,S,Jt,"","\\lceil",!0);g(y,S,Tt,"","\\rceil",!0);g(y,S,R,"\\","\\backslash");g(y,S,R,"","|");g(y,S,R,"","\\vert");g(V,S,R,"|","\\textbar",!0);g(y,S,R,"","\\|");g(y,S,R,"","\\Vert");g(V,S,R,"","\\textbardbl");g(V,S,R,"~","\\textasciitilde");g(V,S,R,"\\","\\textbackslash");g(V,S,R,"^","\\textasciicircum");g(y,S,N,"","\\uparrow",!0);g(y,S,N,"","\\Uparrow",!0);g(y,S,N,"","\\downarrow",!0);g(y,S,N,"","\\Downarrow",!0);g(y,S,N,"","\\updownarrow",!0);g(y,S,N,"","\\Updownarrow",!0);g(y,S,Qe,"","\\coprod");g(y,S,Qe,"","\\bigvee");g(y,S,Qe,"","\\bigwedge");g(y,S,Qe,"","\\biguplus");g(y,S,Qe,"","\\bigcap");g(y,S,Qe,"","\\bigcup");g(y,S,Qe,"","\\int");g(y,S,Qe,"","\\intop");g(y,S,Qe,"","\\iint");g(y,S,Qe,"","\\iiint");g(y,S,Qe,"","\\prod");g(y,S,Qe,"","\\sum");g(y,S,Qe,"","\\bigotimes");g(y,S,Qe,"","\\bigoplus");g(y,S,Qe,"","\\bigodot");g(y,S,Qe,"","\\oint");g(y,S,Qe,"","\\oiint");g(y,S,Qe,"","\\oiiint");g(y,S,Qe,"","\\bigsqcup");g(y,S,Qe,"","\\smallint");g(V,S,$i,"","\\textellipsis");g(y,S,$i,"","\\mathellipsis");g(V,S,$i,"","\\ldots",!0);g(y,S,$i,"","\\ldots",!0);g(y,S,$i,"","\\@cdots",!0);g(y,S,$i,"","\\ddots",!0);g(y,S,R,"","\\varvdots");g(V,S,R,"","\\varvdots");g(y,S,Ue,"","\\acute");g(y,S,Ue,"","\\grave");g(y,S,Ue,"","\\ddot");g(y,S,Ue,"~","\\tilde");g(y,S,Ue,"","\\bar");g(y,S,Ue,"","\\breve");g(y,S,Ue,"","\\check");g(y,S,Ue,"^","\\hat");g(y,S,Ue,"","\\vec");g(y,S,Ue,"","\\dot");g(y,S,Ue,"","\\mathring");g(y,S,oe,"","\\@imath");g(y,S,oe,"","\\@jmath");g(y,S,R,"","");g(y,S,R,"","");g(V,S,R,"","\\i",!0);g(V,S,R,"","\\j",!0);g(V,S,R,"","\\ss",!0);g(V,S,R,"","\\ae",!0);g(V,S,R,"","\\oe",!0);g(V,S,R,"","\\o",!0);g(V,S,R,"","\\AE",!0);g(V,S,R,"","\\OE",!0);g(V,S,R,"","\\O",!0);g(V,S,Ue,"","\\'");g(V,S,Ue,"","\\`");g(V,S,Ue,"","\\^");g(V,S,Ue,"","\\~");g(V,S,Ue,"","\\=");g(V,S,Ue,"","\\u");g(V,S,Ue,"","\\.");g(V,S,Ue,"","\\c");g(V,S,Ue,"","\\r");g(V,S,Ue,"","\\v");g(V,S,Ue,"",'\\"');g(V,S,Ue,"","\\H");g(V,S,Ue,"","\\textcircled");var i2={"--":!0,"---":!0,"``":!0,"''":!0};g(V,S,R,"","--",!0);g(V,S,R,"","\\textendash");g(V,S,R,"","---",!0);g(V,S,R,"","\\textemdash");g(V,S,R,"","`",!0);g(V,S,R,"","\\textquoteleft");g(V,S,R,"","'",!0);g(V,S,R,"","\\textquoteright");g(V,S,R,"","``",!0);g(V,S,R,"","\\textquotedblleft");g(V,S,R,"","''",!0);g(V,S,R,"","\\textquotedblright");g(y,S,R,"","\\degree",!0);g(V,S,R,"","\\degree");g(V,S,R,"","\\textdegree",!0);g(y,S,R,"","\\pounds");g(y,S,R,"","\\mathsterling",!0);g(V,S,R,"","\\pounds");g(V,S,R,"","\\textsterling",!0);g(y,b,R,"","\\maltese");g(V,b,R,"","\\maltese");var Op='0123456789/@."';for(var su=0;su<Op.length;su++){var Gp=Op.charAt(su);g(y,S,R,Gp,Gp)}var $p='0123456789!@*()-=+";:?/.,';for(var au=0;au<$p.length;au++){var Jp=$p.charAt(au);g(V,S,R,Jp,Jp)}var Ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var uu=0;uu<Ds.length;uu++){var Dl=Ds.charAt(uu);g(y,S,oe,Dl,Dl),g(V,S,R,Dl,Dl)}g(y,b,R,"C","");g(V,b,R,"C","");g(y,b,R,"H","");g(V,b,R,"H","");g(y,b,R,"N","");g(V,b,R,"N","");g(y,b,R,"P","");g(V,b,R,"P","");g(y,b,R,"Q","");g(V,b,R,"Q","");g(y,b,R,"R","");g(V,b,R,"R","");g(y,b,R,"Z","");g(V,b,R,"Z","");g(y,S,oe,"h","");g(V,S,oe,"h","");var ae="";for(var gt=0;gt<Ds.length;gt++){var $e=Ds.charAt(gt);ae=String.fromCharCode(55349,56320+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),ae=String.fromCharCode(55349,56372+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),ae=String.fromCharCode(55349,56424+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),ae=String.fromCharCode(55349,56580+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),ae=String.fromCharCode(55349,56684+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),ae=String.fromCharCode(55349,56736+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),ae=String.fromCharCode(55349,56788+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),ae=String.fromCharCode(55349,56840+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),ae=String.fromCharCode(55349,56944+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),gt<26&&(ae=String.fromCharCode(55349,56632+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae),ae=String.fromCharCode(55349,56476+gt),g(y,S,oe,$e,ae),g(V,S,R,$e,ae))}ae="";g(y,S,oe,"k",ae);g(V,S,R,"k",ae);for(var Rr=0;Rr<10;Rr++){var rr=Rr.toString();ae=String.fromCharCode(55349,57294+Rr),g(y,S,oe,rr,ae),g(V,S,R,rr,ae),ae=String.fromCharCode(55349,57314+Rr),g(y,S,oe,rr,ae),g(V,S,R,rr,ae),ae=String.fromCharCode(55349,57324+Rr),g(y,S,oe,rr,ae),g(V,S,R,rr,ae),ae=String.fromCharCode(55349,57334+Rr),g(y,S,oe,rr,ae),g(V,S,R,rr,ae)}var _0="";for(var cu=0;cu<_0.length;cu++){var Ll=_0.charAt(cu);g(y,S,oe,Ll,Ll),g(V,S,R,Ll,Ll)}var zl=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Wp=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],hw=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,l=n==="math"?0:1;if(119808<=o&&o<120484){var s=Math.floor((o-119808)/26);return[zl[s][2],zl[s][l]]}else if(120782<=o&&o<=120831){var a=Math.floor((o-120782)/10);return[Wp[a][2],Wp[a][l]]}else{if(o===120485||o===120486)return[zl[0][2],zl[0][l]];if(120486<o&&o<120782)return["",""];throw new J("Unsupported character: "+e)}},ca=function(e,n,r){return Pe[r][e]&&Pe[r][e].replace&&(e=Pe[r][e].replace),{value:e,metrics:id(e,n,r)}},dn=function(e,n,r,i,o){var l=ca(e,n,r),s=l.metrics;e=l.value;var a;if(s){var u=s.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),a=new nn(e,s.height,s.depth,u,s.skew,s.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),a=new nn(e,0,0,0,0,0,o);if(i){a.maxFontSize=i.sizeMultiplier,i.style.isTight()&&a.classes.push("mtight");var f=i.getColor();f&&(a.style.color=f)}return a},mw=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&ca(e,"Main-Bold",n).metrics?dn(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Pe[n][e].font==="main"?dn(e,"Main-Regular",n,r,i):dn(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},gw=function(e,n,r,i,o){return o!=="textord"&&ca(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},yw=function(e,n,r){var i=e.mode,o=e.text,l=["mord"],s=i==="math"||i==="text"&&n.font,a=s?n.font:n.fontFamily,u="",f="";if(o.charCodeAt(0)===55349&&([u,f]=hw(o,i)),u.length>0)return dn(o,u,i,n,l.concat(f));if(a){var p,h;if(a==="boldsymbol"){var m=gw(o,i,n,l,r);p=m.fontName,h=[m.fontClass]}else s?(p=s2[a].fontName,h=[a]):(p=Fl(a,n.fontWeight,n.fontShape),h=[a,n.fontWeight,n.fontShape]);if(ca(o,p,i).metrics)return dn(o,p,i,n,l.concat(h));if(i2.hasOwnProperty(o)&&p.slice(0,10)==="Typewriter"){for(var T=[],C=0;C<o.length;C++)T.push(dn(o[C],p,i,n,l.concat(h)));return l2(T)}}if(r==="mathord")return dn(o,"Math-Italic",i,n,l.concat(["mathnormal"]));if(r==="textord"){var _=Pe[i][o]&&Pe[i][o].font;if(_==="ams"){var v=Fl("amsrm",n.fontWeight,n.fontShape);return dn(o,v,i,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(_==="main"||!_){var w=Fl("textrm",n.fontWeight,n.fontShape);return dn(o,w,i,n,l.concat(n.fontWeight,n.fontShape))}else{var x=Fl(_,n.fontWeight,n.fontShape);return dn(o,x,i,n,l.concat(x,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},vw=(t,e)=>{if(Tr(t.classes)!==Tr(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},xw=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof nn&&r instanceof nn&&vw(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},ld=function(e){for(var n=0,r=0,i=0,o=0;o<e.children.length;o++){var l=e.children[o];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Et=function(e,n,r,i){var o=new cl(e,n,r,i);return ld(o),o},o2=(t,e,n,r)=>new cl(t,e,n,r),ww=function(e,n,r){var i=Et([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=K(i.height),i.maxFontSize=1,i},Sw=function(e,n,r,i){var o=new od(e,n,r,i);return ld(o),o},l2=function(e){var n=new ul(e);return ld(n),n},Tw=function(e,n){return e instanceof ul?Et([],[e],n):e},Cw=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,l=1;l<n.length;l++){var s=-n[l].shift-o-n[l].elem.depth,a=s-(n[l-1].elem.height+n[l-1].elem.depth);o=o+s,r.push({type:"kern",size:a}),r.push(n[l])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var f=e.positionData,p=0;p<e.children.length;p++){var h=e.children[p];f-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=f}else if(e.positionType==="bottom")u=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},Ew=function(e,n){for(var{children:r,depth:i}=Cw(e),o=0,l=0;l<r.length;l++){var s=r[l];if(s.type==="elem"){var a=s.elem;o=Math.max(o,a.maxFontSize,a.height)}}o+=2;var u=Et(["pstrut"],[]);u.style.height=K(o);for(var f=[],p=i,h=i,m=i,T=0;T<r.length;T++){var C=r[T];if(C.type==="kern")m+=C.size;else{var _=C.elem,v=C.wrapperClasses||[],w=C.wrapperStyle||{},x=Et(v,[u,_],void 0,w);x.style.top=K(-o-m-_.depth),C.marginLeft&&(x.style.marginLeft=C.marginLeft),C.marginRight&&(x.style.marginRight=C.marginRight),f.push(x),m+=_.height+_.depth}p=Math.min(p,m),h=Math.max(h,m)}var k=Et(["vlist"],f);k.style.height=K(h);var D;if(p<0){var M=Et([],[]),L=Et(["vlist"],[M]);L.style.height=K(-p);var U=Et(["vlist-s"],[new nn("")]);D=[Et(["vlist-r"],[k,U]),Et(["vlist-r"],[L])]}else D=[Et(["vlist-r"],[k])];var F=Et(["vlist-t"],D);return D.length===2&&F.classes.push("vlist-t2"),F.height=h,F.depth=-p,F},kw=(t,e)=>{var n=Et(["mspace"],[],e),r=He(t,e);return n.style.marginRight=K(r),n},Fl=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},s2={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},a2={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Aw=function(e,n){var[r,i,o]=a2[e],l=new Cr(r),s=new Jn([l],{width:K(i),height:K(o),style:"width:"+K(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),a=o2(["overlay"],[s],n);return a.height=o,a.style.height=K(o),a.style.width=K(i),a},z={fontMap:s2,makeSymbol:dn,mathsym:mw,makeSpan:Et,makeSvgSpan:o2,makeLineSpan:ww,makeAnchor:Sw,makeFragment:l2,wrapFragment:Tw,makeVList:Ew,makeOrd:yw,makeGlue:kw,staticSvg:Aw,svgData:a2,tryCombineChars:xw},qe={number:3,unit:"mu"},Dr={number:4,unit:"mu"},Rn={number:5,unit:"mu"},Iw={mord:{mop:qe,mbin:Dr,mrel:Rn,minner:qe},mop:{mord:qe,mop:qe,mrel:Rn,minner:qe},mbin:{mord:Dr,mop:Dr,mopen:Dr,minner:Dr},mrel:{mord:Rn,mop:Rn,mopen:Rn,minner:Rn},mopen:{},mclose:{mop:qe,mbin:Dr,mrel:Rn,minner:qe},mpunct:{mord:qe,mop:qe,mrel:Rn,mopen:qe,mclose:qe,mpunct:qe,minner:qe},minner:{mord:qe,mop:qe,mbin:Dr,mrel:Rn,mopen:qe,mpunct:qe,minner:qe}},Mw={mord:{mop:qe},mop:{mord:qe,mop:qe},mbin:{},mrel:{},mopen:{},mclose:{mop:qe},mpunct:{},minner:{mop:qe}},u2={},Ls={},zs={};function Z(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,s={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},a=0;a<n.length;++a)u2[n[a]]=s;e&&(o&&(Ls[e]=o),l&&(zs[e]=l))}function Qr(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Z({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Fs=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ye=function(e){return e.type==="ordgroup"?e.body:[e]},Wn=z.makeSpan,_w=["leftmost","mbin","mopen","mrel","mop","mpunct"],bw=["rightmost","mrel","mclose","mpunct"],Nw={display:le.DISPLAY,text:le.TEXT,script:le.SCRIPT,scriptscript:le.SCRIPTSCRIPT},Pw={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},et=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],l=0;l<e.length;l++){var s=Se(e[l],n);if(s instanceof ul){var a=s.children;o.push(...a)}else o.push(s)}if(z.tryCombineChars(o),!r)return o;var u=n;if(e.length===1){var f=e[0];f.type==="sizing"?u=n.havingSize(f.size):f.type==="styling"&&(u=n.havingStyle(Nw[f.style]))}var p=Wn([i[0]||"leftmost"],[],n),h=Wn([i[1]||"rightmost"],[],n),m=r==="root";return Yp(o,(T,C)=>{var _=C.classes[0],v=T.classes[0];_==="mbin"&&bw.includes(v)?C.classes[0]="mord":v==="mbin"&&_w.includes(_)&&(T.classes[0]="mord")},{node:p},h,m),Yp(o,(T,C)=>{var _=b0(C),v=b0(T),w=_&&v?T.hasClass("mtight")?Mw[_][v]:Iw[_][v]:null;if(w)return z.makeGlue(w,u)},{node:p},h,m),o},Yp=function t(e,n,r,i,o){i&&e.push(i);for(var l=0;l<e.length;l++){var s=e[l],a=c2(s);if(a){t(a.children,n,r,null,o);continue}var u=!s.hasClass("mspace");if(u){var f=n(s,r.node);f&&(r.insertAfter?r.insertAfter(f):(e.unshift(f),l++))}u?r.node=s:o&&s.hasClass("newline")&&(r.node=Wn(["leftmost"])),r.insertAfter=(p=>h=>{e.splice(p+1,0,h),l++})(l)}i&&e.pop()},c2=function(e){return e instanceof ul||e instanceof od||e instanceof cl&&e.hasClass("enclosing")?e:null},Rw=function t(e,n){var r=c2(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},b0=function(e,n){return e?(n&&(e=Rw(e,n)),Pw[e.classes[0]]||null):null},tl=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Wn(n.concat(r))},Se=function(e,n,r){if(!e)return Wn();if(Ls[e.type]){var i=Ls[e.type](e,n);if(r&&n.size!==r.size){i=Wn(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new J("Got group of unknown type: '"+e.type+"'")};function Ul(t,e){var n=Wn(["base"],t,e),r=Wn(["strut"]);return r.style.height=K(n.height+n.depth),n.depth&&(r.style.verticalAlign=K(-n.depth)),n.children.unshift(r),n}function N0(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=et(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],l=[],s=0;s<r.length;s++)if(l.push(r[s]),r[s].hasClass("mbin")||r[s].hasClass("mrel")||r[s].hasClass("allowbreak")){for(var a=!1;s<r.length-1&&r[s+1].hasClass("mspace")&&!r[s+1].hasClass("newline");)s++,l.push(r[s]),r[s].hasClass("nobreak")&&(a=!0);a||(o.push(Ul(l,e)),l=[])}else r[s].hasClass("newline")&&(l.pop(),l.length>0&&(o.push(Ul(l,e)),l=[]),o.push(r[s]));l.length>0&&o.push(Ul(l,e));var u;n?(u=Ul(et(n,e,!0)),u.classes=["tag"],o.push(u)):i&&o.push(i);var f=Wn(["katex-html"],o);if(f.setAttribute("aria-hidden","true"),u){var p=u.children[0];p.style.height=K(f.height+f.depth),f.depth&&(p.style.verticalAlign=K(-f.depth))}return f}function d2(t){return new ul(t)}class Ut{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Tr(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof En&&this.children[r+1]instanceof En){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof En;)i+=this.children[++r].toText();e.appendChild(new En(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Te.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Te.escape(Tr(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class En{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Te.escape(this.toText())}toText(){return this.text}}class Dw{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",K(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+K(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var G={MathNode:Ut,TextNode:En,SpaceNode:Dw,newDocumentFragment:d2},rn=function(e,n,r){return Pe[n][e]&&Pe[n][e].replace&&e.charCodeAt(0)!==55349&&!(i2.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Pe[n][e].replace),new G.TextNode(e)},sd=function(e){return e.length===1?e[0]:new G.MathNode("mrow",e)},ad=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;Pe[i][o]&&Pe[i][o].replace&&(o=Pe[i][o].replace);var l=z.fontMap[r].fontName;return id(o,l,i)?z.fontMap[r].variant:null};function du(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof En&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof En&&n.text===","}else return!1}var Rt=function(e,n,r){if(e.length===1){var i=_e(e[0],n);return r&&i instanceof Ut&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],l,s=0;s<e.length;s++){var a=_e(e[s],n);if(a instanceof Ut&&l instanceof Ut){if(a.type==="mtext"&&l.type==="mtext"&&a.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...a.children);continue}else if(a.type==="mn"&&l.type==="mn"){l.children.push(...a.children);continue}else if(du(a)&&l.type==="mn"){l.children.push(...a.children);continue}else if(a.type==="mn"&&du(l))a.children=[...l.children,...a.children],o.pop();else if((a.type==="msup"||a.type==="msub")&&a.children.length>=1&&(l.type==="mn"||du(l))){var u=a.children[0];u instanceof Ut&&u.type==="mn"&&(u.children=[...l.children,...u.children],o.pop())}else if(l.type==="mi"&&l.children.length===1){var f=l.children[0];if(f instanceof En&&f.text===""&&(a.type==="mo"||a.type==="mi"||a.type==="mn")){var p=a.children[0];p instanceof En&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),o.pop())}}}o.push(a),l=a}return o},Er=function(e,n,r){return sd(Rt(e,n,r))},_e=function(e,n){if(!e)return new G.MathNode("mrow");if(zs[e.type]){var r=zs[e.type](e,n);return r}else throw new J("Got group of unknown type: '"+e.type+"'")};function Kp(t,e,n,r,i){var o=Rt(t,n),l;o.length===1&&o[0]instanceof Ut&&["mrow","mtable"].includes(o[0].type)?l=o[0]:l=new G.MathNode("mrow",o);var s=new G.MathNode("annotation",[new G.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var a=new G.MathNode("semantics",[l,s]),u=new G.MathNode("math",[a]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var f=i?"katex":"katex-mathml";return z.makeSpan([f],[u])}var f2=function(e){return new zn({style:e.displayMode?le.DISPLAY:le.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},p2=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=z.makeSpan(r,[e])}return e},Lw=function(e,n,r){var i=f2(r),o;if(r.output==="mathml")return Kp(e,n,i,r.displayMode,!0);if(r.output==="html"){var l=N0(e,i);o=z.makeSpan(["katex"],[l])}else{var s=Kp(e,n,i,r.displayMode,!1),a=N0(e,i);o=z.makeSpan(["katex"],[s,a])}return p2(o,r)},zw=function(e,n,r){var i=f2(r),o=N0(e,i),l=z.makeSpan(["katex"],[o]);return p2(l,r)},Fw={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Uw=function(e){var n=new G.MathNode("mo",[new G.TextNode(Fw[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Bw={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},qw=function(e){return e.type==="ordgroup"?e.body.length:1},Vw=function(e,n){function r(){var s=4e5,a=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(a)){var u=e,f=qw(u.base),p,h,m;if(f>5)a==="widehat"||a==="widecheck"?(p=420,s=2364,m=.42,h=a+"4"):(p=312,s=2340,m=.34,h="tilde4");else{var T=[1,1,2,2,3,3][f];a==="widehat"||a==="widecheck"?(s=[0,1062,2364,2364,2364][T],p=[0,239,300,360,420][T],m=[0,.24,.3,.3,.36,.42][T],h=a+T):(s=[0,600,1033,2339,2340][T],p=[0,260,286,306,312][T],m=[0,.26,.286,.3,.306,.34][T],h="tilde"+T)}var C=new Cr(h),_=new Jn([C],{width:"100%",height:K(m),viewBox:"0 0 "+s+" "+p,preserveAspectRatio:"none"});return{span:z.makeSvgSpan([],[_],n),minWidth:0,height:m}}else{var v=[],w=Bw[a],[x,k,D]=w,M=D/1e3,L=x.length,U,F;if(L===1){var q=w[3];U=["hide-tail"],F=[q]}else if(L===2)U=["halfarrow-left","halfarrow-right"],F=["xMinYMin","xMaxYMin"];else if(L===3)U=["brace-left","brace-center","brace-right"],F=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+L+" children.");for(var O=0;O<L;O++){var H=new Cr(x[O]),ne=new Jn([H],{width:"400em",height:K(M),viewBox:"0 0 "+s+" "+D,preserveAspectRatio:F[O]+" slice"}),se=z.makeSvgSpan([U[O]],[ne],n);if(L===1)return{span:se,minWidth:k,height:M};se.style.height=K(M),v.push(se)}return{span:z.makeSpan(["stretchy"],v,n),minWidth:k,height:M}}}var{span:i,minWidth:o,height:l}=r();return i.height=l,i.style.height=K(l),o>0&&(i.style.minWidth=K(o)),i},Hw=function(e,n,r,i,o){var l,s=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(l=z.makeSpan(["stretchy",n],[],o),n==="fbox"){var a=o.color&&o.getColor();a&&(l.style.borderColor=a)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new M0({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new M0({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new Jn(u,{width:"100%",height:K(s)});l=z.makeSvgSpan([],[f],o)}return l.height=s,l.style.height=K(s),l},Yn={encloseSpan:Hw,mathMLnode:Uw,svgSpan:Vw};function he(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function ud(t){var e=da(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function da(t){return t&&(t.type==="atom"||pw.hasOwnProperty(t.type))?t:null}var cd=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=he(t.base,"accent"),n=r.base,t.base=n,i=dw(Se(t,e)),t.base=r):(r=he(t,"accent"),n=r.base);var o=Se(n,e.havingCrampedStyle()),l=r.isShifty&&Te.isCharacterBox(n),s=0;if(l){var a=Te.getBaseElem(n),u=Se(a,e.havingCrampedStyle());s=Hp(u).skew}var f=r.label==="\\c",p=f?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),h;if(r.isStretchy)h=Yn.svgSpan(r,e),h=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+K(2*s)+")",marginLeft:K(2*s)}:void 0}]},e);else{var m,T;r.label==="\\vec"?(m=z.staticSvg("vec",e),T=z.svgData.vec[1]):(m=z.makeOrd({mode:r.mode,text:r.label},e,"textord"),m=Hp(m),m.italic=0,T=m.width,f&&(p+=m.depth)),h=z.makeSpan(["accent-body"],[m]);var C=r.label==="\\textcircled";C&&(h.classes.push("accent-full"),p=o.height);var _=s;C||(_-=T/2),h.style.left=K(_),r.label==="\\textcircled"&&(h.style.top=".2em"),h=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-p},{type:"elem",elem:h}]},e)}var v=z.makeSpan(["mord","accent"],[h],e);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},h2=(t,e)=>{var n=t.isStretchy?Yn.mathMLnode(t.label):new G.MathNode("mo",[rn(t.label,t.mode)]),r=new G.MathNode("mover",[_e(t.base,e),n]);return r.setAttribute("accent","true"),r},Ow=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Z({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=Fs(e[0]),r=!Ow.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:cd,mathmlBuilder:h2});Z({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:cd,mathmlBuilder:h2});Z({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Se(t.base,e),r=Yn.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=z.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return z.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=Yn.mathMLnode(t.label),r=new G.MathNode("munder",[_e(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Bl=t=>{var e=new G.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Z({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=z.wrapFragment(Se(t.body,r,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var l;t.below&&(r=e.havingStyle(n.sub()),l=z.wrapFragment(Se(t.below,r,e),e),l.classes.push(o+"-arrow-pad"));var s=Yn.svgSpan(t,e),a=-e.fontMetrics().axisHeight+.5*s.height,u=-e.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var f;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*s.height+.111;f=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:a},{type:"elem",elem:l,shift:p}]},e)}else f=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:s,shift:a}]},e);return f.children[0].children[0].children[1].classes.push("svg-align"),z.makeSpan(["mrel","x-arrow"],[f],e)},mathmlBuilder(t,e){var n=Yn.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Bl(_e(t.body,e));if(t.below){var o=Bl(_e(t.below,e));r=new G.MathNode("munderover",[n,o,i])}else r=new G.MathNode("mover",[n,i])}else if(t.below){var l=Bl(_e(t.below,e));r=new G.MathNode("munder",[n,l])}else r=Bl(),r=new G.MathNode("mover",[n,r]);return r}});var Gw=z.makeSpan;function m2(t,e){var n=et(t.body,e,!0);return Gw([t.mclass],n,e)}function g2(t,e){var n,r=Rt(t.body,e);return t.mclass==="minner"?n=new G.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new G.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new G.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Z({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Ye(i),isCharacterBox:Te.isCharacterBox(i)}},htmlBuilder:m2,mathmlBuilder:g2});var fa=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Z({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:fa(e[0]),body:Ye(e[1]),isCharacterBox:Te.isCharacterBox(e[1])}}});Z({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],o=e[0],l;r!=="\\stackrel"?l=fa(i):l="mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ye(i)},a={type:"supsub",mode:o.mode,base:s,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:l,body:[a],isCharacterBox:Te.isCharacterBox(a)}},htmlBuilder:m2,mathmlBuilder:g2});Z({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:fa(e[0]),body:Ye(e[0])}},htmlBuilder(t,e){var n=et(t.body,e,!0),r=z.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Rt(t.body,e),r=new G.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var $w={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Xp=()=>({type:"styling",body:[],mode:"math",style:"display"}),Qp=t=>t.type==="textord"&&t.text==="@",Jw=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Ww(t,e,n){var r=$w[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[o],[]),s=n.callFunction("\\\\cdright",[e[1]],[]),a={type:"ordgroup",mode:"math",body:[i,l,s]};return n.callFunction("\\\\cdparent",[a],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Yw(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new J("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],o=0;o<e.length;o++){for(var l=e[o],s=Xp(),a=0;a<l.length;a++)if(!Qp(l[a]))s.body.push(l[a]);else{r.push(s),a+=1;var u=ud(l[a]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var p=0;p<2;p++){for(var h=!0,m=a+1;m<l.length;m++){if(Jw(l[m],u)){h=!1,a=m;break}if(Qp(l[m]))throw new J("Missing a "+u+" character to complete a CD arrow.",l[m]);f[p].body.push(l[m])}if(h)throw new J("Missing a "+u+" character to complete a CD arrow.",l[a])}else throw new J('Expected one of "<>AV=|." after @',l[a]);var T=Ww(u,f,t),C={type:"styling",body:[T],mode:"math",style:"display"};r.push(C),s=Xp()}o%2===0?r.push(s):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var _=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:_,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Z({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=z.wrapFragment(Se(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=K(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new G.MathNode("mrow",[_e(t.label,e)]);return n=new G.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new G.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Z({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=z.wrapFragment(Se(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new G.MathNode("mrow",[_e(t.fragment,e)])}});Z({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=he(e[0],"ordgroup"),i=r.body,o="",l=0;l<i.length;l++){var s=he(i[l],"textord");o+=s.text}var a=parseInt(o),u;if(isNaN(a))throw new J("\\@char has non-numeric argument "+o);if(a<0||a>=1114111)throw new J("\\@char with invalid code point "+o);return a<=65535?u=String.fromCharCode(a):(a-=65536,u=String.fromCharCode((a>>10)+55296,(a&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var y2=(t,e)=>{var n=et(t.body,e.withColor(t.color),!1);return z.makeFragment(n)},v2=(t,e)=>{var n=Rt(t.body,e.withColor(t.color)),r=new G.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Z({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=he(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Ye(i)}},htmlBuilder:y2,mathmlBuilder:v2});Z({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=he(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:y2,mathmlBuilder:v2});Z({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&he(i,"size").value}},htmlBuilder(t,e){var n=z.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=K(He(t.size,e)))),n},mathmlBuilder(t,e){var n=new G.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",K(He(t.size,e)))),n}});var P0={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},x2=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new J("Expected a control sequence",t);return e},Kw=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},w2=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};Z({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(P0[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=P0[r.text]),he(e.parseFunction(),"internal");throw new J("Invalid token after macro prefix",r)}});Z({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new J("Expected a control sequence",r);for(var o=0,l,s=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),s[o].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new J('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new J('Argument number "'+r.text+'" out of order');o++,s.push([])}else{if(r.text==="EOF")throw new J("Expected a macro definition");s[o].push(r.text)}var{tokens:a}=e.gullet.consumeArg();return l&&a.unshift(l),(n==="\\edef"||n==="\\xdef")&&(a=e.gullet.expandTokens(a),a.reverse()),e.gullet.macros.set(i,{tokens:a,numArgs:o,delimiters:s},n===P0[n]),{type:"internal",mode:e.mode}}});Z({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=x2(e.gullet.popToken());e.gullet.consumeSpaces();var i=Kw(e);return w2(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});Z({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=x2(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return w2(e,r,o,n==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var vo=function(e,n,r){var i=Pe.math[e]&&Pe.math[e].replace,o=id(i||e,n,r);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return o},dd=function(e,n,r,i){var o=r.havingBaseStyle(n),l=z.makeSpan(i.concat(o.sizingClasses(r)),[e],r),s=o.sizeMultiplier/r.sizeMultiplier;return l.height*=s,l.depth*=s,l.maxFontSize=o.sizeMultiplier,l},S2=function(e,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=K(o),e.height-=o,e.depth+=o},Xw=function(e,n,r,i,o,l){var s=z.makeSymbol(e,"Main-Regular",o,i),a=dd(s,n,i,l);return r&&S2(a,i,n),a},Qw=function(e,n,r,i){return z.makeSymbol(e,"Size"+n+"-Regular",r,i)},T2=function(e,n,r,i,o,l){var s=Qw(e,n,o,i),a=dd(z.makeSpan(["delimsizing","size"+n],[s],i),le.TEXT,i,l);return r&&S2(a,i,le.TEXT),a},fu=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=z.makeSpan(["delimsizinginner",i],[z.makeSpan([],[z.makeSymbol(e,n,r)])]);return{type:"elem",elem:o}},pu=function(e,n,r){var i=Cn["Size4-Regular"][e.charCodeAt(0)]?Cn["Size4-Regular"][e.charCodeAt(0)][4]:Cn["Size1-Regular"][e.charCodeAt(0)][4],o=new Cr("inner",nw(e,Math.round(1e3*n))),l=new Jn([o],{width:K(i),height:K(n),style:"width:"+K(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),s=z.makeSvgSpan([],[l],r);return s.height=n,s.style.height=K(n),s.style.width=K(i),{type:"elem",elem:s}},R0=.008,ql={type:"kern",size:-1*R0},Zw=["|","\\lvert","\\rvert","\\vert"],jw=["\\|","\\lVert","\\rVert","\\Vert"],C2=function(e,n,r,i,o,l){var s,a,u,f,p="",h=0;s=u=f=e,a=null;var m="Size1-Regular";e==="\\uparrow"?u=f="":e==="\\Uparrow"?u=f="":e==="\\downarrow"?s=u="":e==="\\Downarrow"?s=u="":e==="\\updownarrow"?(s="\\uparrow",u="",f="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",u="",f="\\Downarrow"):Zw.includes(e)?(u="",p="vert",h=333):jw.includes(e)?(u="",p="doublevert",h=556):e==="["||e==="\\lbrack"?(s="",u="",f="",m="Size4-Regular",p="lbrack",h=667):e==="]"||e==="\\rbrack"?(s="",u="",f="",m="Size4-Regular",p="rbrack",h=667):e==="\\lfloor"||e===""?(u=s="",f="",m="Size4-Regular",p="lfloor",h=667):e==="\\lceil"||e===""?(s="",u=f="",m="Size4-Regular",p="lceil",h=667):e==="\\rfloor"||e===""?(u=s="",f="",m="Size4-Regular",p="rfloor",h=667):e==="\\rceil"||e===""?(s="",u=f="",m="Size4-Regular",p="rceil",h=667):e==="("||e==="\\lparen"?(s="",u="",f="",m="Size4-Regular",p="lparen",h=875):e===")"||e==="\\rparen"?(s="",u="",f="",m="Size4-Regular",p="rparen",h=875):e==="\\{"||e==="\\lbrace"?(s="",a="",f="",u="",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="",a="",f="",u="",m="Size4-Regular"):e==="\\lgroup"||e===""?(s="",f="",u="",m="Size4-Regular"):e==="\\rgroup"||e===""?(s="",f="",u="",m="Size4-Regular"):e==="\\lmoustache"||e===""?(s="",f="",u="",m="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(s="",f="",u="",m="Size4-Regular");var T=vo(s,m,o),C=T.height+T.depth,_=vo(u,m,o),v=_.height+_.depth,w=vo(f,m,o),x=w.height+w.depth,k=0,D=1;if(a!==null){var M=vo(a,m,o);k=M.height+M.depth,D=2}var L=C+x+k,U=Math.max(0,Math.ceil((n-L)/(D*v))),F=L+U*D*v,q=i.fontMetrics().axisHeight;r&&(q*=i.sizeMultiplier);var O=F/2-q,H=[];if(p.length>0){var ne=F-C-x,se=Math.round(F*1e3),ie=rw(p,Math.round(ne*1e3)),fe=new Cr(p,ie),ve=(h/1e3).toFixed(3)+"em",$=(se/1e3).toFixed(3)+"em",te=new Jn([fe],{width:ve,height:$,viewBox:"0 0 "+h+" "+se}),A=z.makeSvgSpan([],[te],i);A.height=se/1e3,A.style.width=ve,A.style.height=$,H.push({type:"elem",elem:A})}else{if(H.push(fu(f,m,o)),H.push(ql),a===null){var ue=F-C-x+2*R0;H.push(pu(u,ue,i))}else{var ce=(F-C-x-k)/2+2*R0;H.push(pu(u,ce,i)),H.push(ql),H.push(fu(a,m,o)),H.push(ql),H.push(pu(u,ce,i))}H.push(ql),H.push(fu(s,m,o))}var P=i.havingBaseStyle(le.TEXT),Be=z.makeVList({positionType:"bottom",positionData:O,children:H},P);return dd(z.makeSpan(["delimsizing","mult"],[Be],P),le.TEXT,i,l)},hu=80,mu=.08,gu=function(e,n,r,i,o){var l=tw(e,i,r),s=new Cr(e,l),a=new Jn([s],{width:"400em",height:K(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return z.makeSvgSpan(["hide-tail"],[a],o)},eS=function(e,n){var r=n.havingBaseSizing(),i=I2("\\surd",e*r.sizeMultiplier,A2,r),o=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),s,a=0,u=0,f=0,p;return i.type==="small"?(f=1e3+1e3*l+hu,e<1?o=1:e<1.4&&(o=.7),a=(1+l+mu)/o,u=(1+l)/o,s=gu("sqrtMain",a,f,l,n),s.style.minWidth="0.853em",p=.833/o):i.type==="large"?(f=(1e3+hu)*Po[i.size],u=(Po[i.size]+l)/o,a=(Po[i.size]+l+mu)/o,s=gu("sqrtSize"+i.size,a,f,l,n),s.style.minWidth="1.02em",p=1/o):(a=e+l+mu,u=e+l,f=Math.floor(1e3*e+l)+hu,s=gu("sqrtTall",a,f,l,n),s.style.minWidth="0.742em",p=1.056),s.height=u,s.style.height=K(a),{span:s,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*o}},E2=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],tS=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],k2=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Po=[0,1.2,1.8,2.4,3],nS=function(e,n,r,i,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),E2.includes(e)||k2.includes(e))return T2(e,n,!1,r,i,o);if(tS.includes(e))return C2(e,Po[n],!1,r,i,o);throw new J("Illegal delimiter: '"+e+"'")},rS=[{type:"small",style:le.SCRIPTSCRIPT},{type:"small",style:le.SCRIPT},{type:"small",style:le.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],iS=[{type:"small",style:le.SCRIPTSCRIPT},{type:"small",style:le.SCRIPT},{type:"small",style:le.TEXT},{type:"stack"}],A2=[{type:"small",style:le.SCRIPTSCRIPT},{type:"small",style:le.SCRIPT},{type:"small",style:le.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],oS=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},I2=function(e,n,r,i){for(var o=Math.min(2,3-i.style.size),l=o;l<r.length&&r[l].type!=="stack";l++){var s=vo(e,oS(r[l]),"math"),a=s.height+s.depth;if(r[l].type==="small"){var u=i.havingBaseStyle(r[l].style);a*=u.sizeMultiplier}if(a>n)return r[l]}return r[r.length-1]},M2=function(e,n,r,i,o,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var s;k2.includes(e)?s=rS:E2.includes(e)?s=A2:s=iS;var a=I2(e,n,s,i);return a.type==="small"?Xw(e,a.style,r,i,o,l):a.type==="large"?T2(e,a.size,r,i,o,l):C2(e,n,r,i,o,l)},lS=function(e,n,r,i,o,l){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,a=901,u=5/i.fontMetrics().ptPerEm,f=Math.max(n-s,r+s),p=Math.max(f/500*a,2*f-u);return M2(e,p,!0,i,o,l)},Vn={sqrtImage:eS,sizedDelim:nS,sizeToMaxHeight:Po,customSizedDelim:M2,leftRightDelim:lS},Zp={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},sS=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function pa(t,e){var n=da(t);if(n&&sS.includes(n.text))return n;throw n?new J("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new J("Invalid delimiter type '"+t.type+"'",t)}Z({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=pa(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Zp[t.funcName].size,mclass:Zp[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?z.makeSpan([t.mclass]):Vn.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(rn(t.delim,t.mode));var n=new G.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=K(Vn.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function jp(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Z({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new J("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:pa(e[0],t).text,color:n}}});Z({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=pa(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=he(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{jp(t);for(var n=et(t.body,e,!0,["mopen","mclose"]),r=0,i=0,o=!1,l=0;l<n.length;l++)n[l].isMiddle?o=!0:(r=Math.max(n[l].height,r),i=Math.max(n[l].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var s;if(t.left==="."?s=tl(e,["mopen"]):s=Vn.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(s),o)for(var a=1;a<n.length;a++){var u=n[a],f=u.isMiddle;f&&(n[a]=Vn.leftRightDelim(f.delim,r,i,f.options,t.mode,[]))}var p;if(t.right===".")p=tl(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;p=Vn.leftRightDelim(t.right,r,i,h,t.mode,["mclose"])}return n.push(p),z.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{jp(t);var n=Rt(t.body,e);if(t.left!=="."){var r=new G.MathNode("mo",[rn(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new G.MathNode("mo",[rn(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return sd(n)}});Z({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=pa(e[0],t);if(!t.parser.leftrightDepth)throw new J("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=tl(e,[]);else{n=Vn.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?rn("|","text"):rn(t.delim,t.mode),r=new G.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var fd=(t,e)=>{var n=z.wrapFragment(Se(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,o,l=0,s=Te.isCharacterBox(t.body);if(r==="sout")o=z.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var a=He({number:.6,unit:"pt"},e),u=He({number:.35,unit:"ex"},e),f=e.havingBaseSizing();i=i/f.sizeMultiplier;var p=n.height+n.depth+a+u;n.style.paddingLeft=K(p/2+a);var h=Math.floor(1e3*p*i),m=j9(h),T=new Jn([new Cr("phase",m)],{width:"400em",height:K(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});o=z.makeSvgSpan(["hide-tail"],[T],e),o.style.height=K(p),l=n.depth+a+u}else{/cancel/.test(r)?s||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var C=0,_=0,v=0;/box/.test(r)?(v=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),C=e.fontMetrics().fboxsep+(r==="colorbox"?0:v),_=C):r==="angl"?(v=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),C=4*v,_=Math.max(0,.25-n.depth)):(C=s?.2:0,_=C),o=Yn.encloseSpan(n,r,C,_,e),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=K(v)):r==="angl"&&v!==.049&&(o.style.borderTopWidth=K(v),o.style.borderRightWidth=K(v)),l=n.depth+_,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var w;if(t.backgroundColor)w=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var x=/cancel|phase/.test(r)?["svg-align"]:[];w=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:l,wrapperClasses:x}]},e)}return/cancel/.test(r)&&(w.height=n.height,w.depth=n.depth),/cancel/.test(r)&&!s?z.makeSpan(["mord","cancel-lap"],[w],e):z.makeSpan(["mord"],[w],e)},pd=(t,e)=>{var n=0,r=new G.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[_e(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Z({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=he(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:l}},htmlBuilder:fd,mathmlBuilder:pd});Z({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=he(e[0],"color-token").color,l=he(e[1],"color-token").color,s=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:o,body:s}},htmlBuilder:fd,mathmlBuilder:pd});Z({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});Z({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:fd,mathmlBuilder:pd});Z({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var _2={};function Mn(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,s={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},a=0;a<n.length;++a)_2[n[a]]=s;o&&(Ls[e]=o),l&&(zs[e]=l)}var b2={};function E(t,e){b2[t]=e}function eh(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var ha=t=>{var e=t.parser.settings;if(!e.displayMode)throw new J("{"+t.envName+"} can be used only in display mode.")};function hd(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function _r(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:l,colSeparationType:s,autoTag:a,singleRow:u,emptySingleRow:f,maxNumCols:p,leqno:h}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var m=t.gullet.expandMacroAsText("\\arraystretch");if(m==null)l=1;else if(l=parseFloat(m),!l||l<0)throw new J("Invalid \\arraystretch: "+m)}t.gullet.beginGroup();var T=[],C=[T],_=[],v=[],w=a!=null?[]:void 0;function x(){a&&t.gullet.macros.set("\\@eqnsw","1",!0)}function k(){w&&(t.gullet.macros.get("\\df@tag")?(w.push(t.subparse([new Ht("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!a&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),v.push(eh(t));;){var D=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),D={type:"ordgroup",mode:t.mode,body:D},n&&(D={type:"styling",mode:t.mode,style:n,body:[D]}),T.push(D);var M=t.fetch().text;if(M==="&"){if(p&&T.length===p){if(u||s)throw new J("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(M==="\\end"){k(),T.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(C.length>1||!f)&&C.pop(),v.length<C.length+1&&v.push([]);break}else if(M==="\\\\"){t.consume();var L=void 0;t.gullet.future().text!==" "&&(L=t.parseSizeGroup(!0)),_.push(L?L.value:null),k(),v.push(eh(t)),T=[],C.push(T),x()}else throw new J("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:C,cols:o,rowGaps:_,hskipBeforeAndAfter:r,hLinesBeforeRow:v,colSeparationType:s,tags:w,leqno:h}}function md(t){return t.slice(0,1)==="d"?"display":"text"}var _n=function(e,n){var r,i,o=e.body.length,l=e.hLinesBeforeRow,s=0,a=new Array(o),u=[],f=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,h=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var m=n.havingStyle(le.SCRIPT).sizeMultiplier;h=.2778*(m/n.sizeMultiplier)}var T=e.colSeparationType==="CD"?He({number:3,unit:"ex"},n):12*p,C=3*p,_=e.arraystretch*T,v=.7*_,w=.3*_,x=0;function k(ni){for(var Nr=0;Nr<ni.length;++Nr)Nr>0&&(x+=.25),u.push({pos:x,isDashed:ni[Nr]})}for(k(l[0]),r=0;r<e.body.length;++r){var D=e.body[r],M=v,L=w;s<D.length&&(s=D.length);var U=new Array(D.length);for(i=0;i<D.length;++i){var F=Se(D[i],n);L<F.depth&&(L=F.depth),M<F.height&&(M=F.height),U[i]=F}var q=e.rowGaps[r],O=0;q&&(O=He(q,n),O>0&&(O+=w,L<O&&(L=O),O=0)),e.addJot&&(L+=C),U.height=M,U.depth=L,x+=M,U.pos=x,x+=L+O,a[r]=U,k(l[r+1])}var H=x/2+n.fontMetrics().axisHeight,ne=e.cols||[],se=[],ie,fe,ve=[];if(e.tags&&e.tags.some(ni=>ni))for(r=0;r<o;++r){var $=a[r],te=$.pos-H,A=e.tags[r],ue=void 0;A===!0?ue=z.makeSpan(["eqn-num"],[],n):A===!1?ue=z.makeSpan([],[],n):ue=z.makeSpan([],et(A,n,!0),n),ue.depth=$.depth,ue.height=$.height,ve.push({type:"elem",elem:ue,shift:te})}for(i=0,fe=0;i<s||fe<ne.length;++i,++fe){for(var ce=ne[fe]||{},P=!0;ce.type==="separator";){if(P||(ie=z.makeSpan(["arraycolsep"],[]),ie.style.width=K(n.fontMetrics().doubleRuleSep),se.push(ie)),ce.separator==="|"||ce.separator===":"){var Be=ce.separator==="|"?"solid":"dashed",tt=z.makeSpan(["vertical-separator"],[],n);tt.style.height=K(x),tt.style.borderRightWidth=K(f),tt.style.borderRightStyle=Be,tt.style.margin="0 "+K(-f/2);var Ie=x-H;Ie&&(tt.style.verticalAlign=K(-Ie)),se.push(tt)}else throw new J("Invalid separator type: "+ce.separator);fe++,ce=ne[fe]||{},P=!1}if(!(i>=s)){var it=void 0;(i>0||e.hskipBeforeAndAfter)&&(it=Te.deflt(ce.pregap,h),it!==0&&(ie=z.makeSpan(["arraycolsep"],[]),ie.style.width=K(it),se.push(ie)));var mt=[];for(r=0;r<o;++r){var on=a[r],ln=on[i];if(ln){var ei=on.pos-H;ln.depth=on.depth,ln.height=on.height,mt.push({type:"elem",elem:ln,shift:ei})}}mt=z.makeVList({positionType:"individualShift",children:mt},n),mt=z.makeSpan(["col-align-"+(ce.align||"c")],[mt]),se.push(mt),(i<s-1||e.hskipBeforeAndAfter)&&(it=Te.deflt(ce.postgap,h),it!==0&&(ie=z.makeSpan(["arraycolsep"],[]),ie.style.width=K(it),se.push(ie)))}}if(a=z.makeSpan(["mtable"],se),u.length>0){for(var wa=z.makeLineSpan("hline",n,f),Sa=z.makeLineSpan("hdashline",n,f),Xi=[{type:"elem",elem:a,shift:0}];u.length>0;){var Qi=u.pop(),Zi=Qi.pos-H;Qi.isDashed?Xi.push({type:"elem",elem:Sa,shift:Zi}):Xi.push({type:"elem",elem:wa,shift:Zi})}a=z.makeVList({positionType:"individualShift",children:Xi},n)}if(ve.length===0)return z.makeSpan(["mord"],[a],n);var ti=z.makeVList({positionType:"individualShift",children:ve},n);return ti=z.makeSpan(["tag"],[ti],n),z.makeFragment([a,ti])},aS={c:"center ",l:"left ",r:"right "},bn=function(e,n){for(var r=[],i=new G.MathNode("mtd",[],["mtr-glue"]),o=new G.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var s=e.body[l],a=[],u=0;u<s.length;u++)a.push(new G.MathNode("mtd",[_e(s[u],n)]));e.tags&&e.tags[l]&&(a.unshift(i),a.push(i),e.leqno?a.unshift(o):a.push(o)),r.push(new G.MathNode("mtr",a))}var f=new G.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);f.setAttribute("rowspacing",K(p));var h="",m="";if(e.cols&&e.cols.length>0){var T=e.cols,C="",_=!1,v=0,w=T.length;T[0].type==="separator"&&(h+="top ",v=1),T[T.length-1].type==="separator"&&(h+="bottom ",w-=1);for(var x=v;x<w;x++)T[x].type==="align"?(m+=aS[T[x].align],_&&(C+="none "),_=!0):T[x].type==="separator"&&_&&(C+=T[x].separator==="|"?"solid ":"dashed ",_=!1);f.setAttribute("columnalign",m.trim()),/[sd]/.test(C)&&f.setAttribute("columnlines",C.trim())}if(e.colSeparationType==="align"){for(var k=e.cols||[],D="",M=1;M<k.length;M++)D+=M%2?"0em ":"1em ";f.setAttribute("columnspacing",D.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var L="",U=e.hLinesBeforeRow;h+=U[0].length>0?"left ":"",h+=U[U.length-1].length>0?"right ":"";for(var F=1;F<U.length-1;F++)L+=U[F].length===0?"none ":U[F][0]?"dashed ":"solid ";return/[sd]/.test(L)&&f.setAttribute("rowlines",L.trim()),h!==""&&(f=new G.MathNode("menclose",[f]),f.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(f=new G.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},N2=function(e,n){e.envName.indexOf("ed")===-1&&ha(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",l=_r(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:hd(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),s,a=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var f="",p=0;p<n[0].body.length;p++){var h=he(n[0].body[p],"textord");f+=h.text}s=Number(f),a=s*2}var m=!a;l.body.forEach(function(v){for(var w=1;w<v.length;w+=2){var x=he(v[w],"styling"),k=he(x.body[0],"ordgroup");k.body.unshift(u)}if(m)a<v.length&&(a=v.length);else{var D=v.length/2;if(s<D)throw new J("Too many math in a row: "+("expected "+s+", but got "+D),v[0])}});for(var T=0;T<a;++T){var C="r",_=0;T%2===1?C="l":T>0&&m&&(_=1),r[T]={type:"align",align:C,pregap:_,postgap:0}}return l.colSeparationType=m?"align":"alignat",l};Mn({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=da(e[0]),r=n?[e[0]]:he(e[0],"ordgroup").body,i=r.map(function(l){var s=ud(l),a=s.text;if("lcr".indexOf(a)!==-1)return{type:"align",align:a};if(a==="|")return{type:"separator",separator:"|"};if(a===":")return{type:"separator",separator:":"};throw new J("Unknown column alignment: "+a,l)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return _r(t.parser,o,md(t.envName))},htmlBuilder:_n,mathmlBuilder:bn});Mn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new J("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=_r(t.parser,r,md(t.envName)),l=Math.max(0,...o.body.map(s=>s.length));return o.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:_n,mathmlBuilder:bn});Mn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=_r(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:_n,mathmlBuilder:bn});Mn({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=da(e[0]),r=n?[e[0]]:he(e[0],"ordgroup").body,i=r.map(function(l){var s=ud(l),a=s.text;if("lc".indexOf(a)!==-1)return{type:"align",align:a};throw new J("Unknown column alignment: "+a,l)});if(i.length>1)throw new J("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=_r(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new J("{subarray} can contain only one column");return o},htmlBuilder:_n,mathmlBuilder:bn});Mn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=_r(t.parser,e,md(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:_n,mathmlBuilder:bn});Mn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:N2,htmlBuilder:_n,mathmlBuilder:bn});Mn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&ha(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:hd(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return _r(t.parser,e,"display")},htmlBuilder:_n,mathmlBuilder:bn});Mn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:N2,htmlBuilder:_n,mathmlBuilder:bn});Mn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){ha(t);var e={autoTag:hd(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return _r(t.parser,e,"display")},htmlBuilder:_n,mathmlBuilder:bn});Mn({type:"array",names:["CD"],props:{numArgs:0},handler(t){return ha(t),Yw(t.parser)},htmlBuilder:_n,mathmlBuilder:bn});E("\\nonumber","\\gdef\\@eqnsw{0}");E("\\notag","\\nonumber");Z({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new J(t.funcName+" valid only within array environment")}});var th=_2;Z({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new J("Invalid environment name",i);for(var o="",l=0;l<i.body.length;++l)o+=he(i.body[l],"textord").text;if(r==="\\begin"){if(!th.hasOwnProperty(o))throw new J("No such environment: "+o,i);var s=th[o],{args:a,optArgs:u}=n.parseArguments("\\begin{"+o+"}",s),f={mode:n.mode,envName:o,parser:n},p=s.handler(f,a,u);n.expect("\\end",!1);var h=n.nextToken,m=he(n.parseFunction(),"environment");if(m.name!==o)throw new J("Mismatch: \\begin{"+o+"} matched by \\end{"+m.name+"}",h);return p}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var P2=(t,e)=>{var n=t.font,r=e.withFont(n);return Se(t.body,r)},R2=(t,e)=>{var n=t.font,r=e.withFont(n);return _e(t.body,r)},nh={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Z({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=Fs(e[0]),o=r;return o in nh&&(o=nh[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:P2,mathmlBuilder:R2});Z({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Te.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:fa(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Z({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,l=n.parseExpression(!0,i),s="math"+r.slice(1);return{type:"font",mode:o,font:s,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:P2,mathmlBuilder:R2});var D2=(t,e)=>{var n=e;return t==="display"?n=n.id>=le.SCRIPT.id?n.text():le.DISPLAY:t==="text"&&n.size===le.DISPLAY.size?n=le.TEXT:t==="script"?n=le.SCRIPT:t==="scriptscript"&&(n=le.SCRIPTSCRIPT),n},gd=(t,e)=>{var n=D2(t.size,e.style),r=n.fracNum(),i=n.fracDen(),o;o=e.havingStyle(r);var l=Se(t.numer,o,e);if(t.continued){var s=8.5/e.fontMetrics().ptPerEm,a=3.5/e.fontMetrics().ptPerEm;l.height=l.height<s?s:l.height,l.depth=l.depth<a?a:l.depth}o=e.havingStyle(i);var u=Se(t.denom,o,e),f,p,h;t.hasBarLine?(t.barSize?(p=He(t.barSize,e),f=z.makeLineSpan("frac-line",e,p)):f=z.makeLineSpan("frac-line",e),p=f.height,h=f.height):(f=null,p=0,h=e.fontMetrics().defaultRuleThickness);var m,T,C;n.size===le.DISPLAY.size||t.size==="display"?(m=e.fontMetrics().num1,p>0?T=3*h:T=7*h,C=e.fontMetrics().denom1):(p>0?(m=e.fontMetrics().num2,T=h):(m=e.fontMetrics().num3,T=3*h),C=e.fontMetrics().denom2);var _;if(f){var w=e.fontMetrics().axisHeight;m-l.depth-(w+.5*p)<T&&(m+=T-(m-l.depth-(w+.5*p))),w-.5*p-(u.height-C)<T&&(C+=T-(w-.5*p-(u.height-C)));var x=-(w-.5*p);_=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:C},{type:"elem",elem:f,shift:x},{type:"elem",elem:l,shift:-m}]},e)}else{var v=m-l.depth-(u.height-C);v<T&&(m+=.5*(T-v),C+=.5*(T-v)),_=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:C},{type:"elem",elem:l,shift:-m}]},e)}o=e.havingStyle(n),_.height*=o.sizeMultiplier/e.sizeMultiplier,_.depth*=o.sizeMultiplier/e.sizeMultiplier;var k;n.size===le.DISPLAY.size?k=e.fontMetrics().delim1:n.size===le.SCRIPTSCRIPT.size?k=e.havingStyle(le.SCRIPT).fontMetrics().delim2:k=e.fontMetrics().delim2;var D,M;return t.leftDelim==null?D=tl(e,["mopen"]):D=Vn.customSizedDelim(t.leftDelim,k,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?M=z.makeSpan([]):t.rightDelim==null?M=tl(e,["mclose"]):M=Vn.customSizedDelim(t.rightDelim,k,!0,e.havingStyle(n),t.mode,["mclose"]),z.makeSpan(["mord"].concat(o.sizingClasses(e)),[D,z.makeSpan(["mfrac"],[_]),M],e)},yd=(t,e)=>{var n=new G.MathNode("mfrac",[_e(t.numer,e),_e(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=He(t.barSize,e);n.setAttribute("linethickness",K(r))}var i=D2(t.size,e.style);if(i.size!==e.style.size){n=new G.MathNode("mstyle",[n]);var o=i.size===le.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var s=new G.MathNode("mo",[new G.TextNode(t.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),l.push(s)}if(l.push(n),t.rightDelim!=null){var a=new G.MathNode("mo",[new G.TextNode(t.rightDelim.replace("\\",""))]);a.setAttribute("fence","true"),l.push(a)}return sd(l)}return n};Z({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1],l,s=null,a=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,s="(",a=")";break;case"\\\\bracefrac":l=!1,s="\\{",a="\\}";break;case"\\\\brackfrac":l=!1,s="[",a="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:l,leftDelim:s,rightDelim:a,size:u,barSize:null}},htmlBuilder:gd,mathmlBuilder:yd});Z({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Z({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var rh=["display","text","script","scriptscript"],ih=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};Z({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],o=Fs(e[0]),l=o.type==="atom"&&o.family==="open"?ih(o.text):null,s=Fs(e[1]),a=s.type==="atom"&&s.family==="close"?ih(s.text):null,u=he(e[2],"size"),f,p=null;u.isBlank?f=!0:(p=u.value,f=p.number>0);var h="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var T=he(m.body[0],"textord");h=rh[Number(T.text)]}}else m=he(m,"textord"),h=rh[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:f,barSize:p,leftDelim:l,rightDelim:a,size:h}},htmlBuilder:gd,mathmlBuilder:yd});Z({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:he(e[0],"size").value,token:i}}});Z({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=U9(he(e[1],"infix").size),l=e[2],s=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:l,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:gd,mathmlBuilder:yd});var L2=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Se(t.sup,e.havingStyle(n.sup()),e):Se(t.sub,e.havingStyle(n.sub()),e),i=he(t.base,"horizBrace")):i=he(t,"horizBrace");var o=Se(i.base,e.havingBaseStyle(le.DISPLAY)),l=Yn.svgSpan(i,e),s;if(i.isOver?(s=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},e),s.children[0].children[0].children[1].classes.push("svg-align")):(s=z.makeVList({positionType:"bottom",positionData:o.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},e),s.children[0].children[0].children[0].classes.push("svg-align")),r){var a=z.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e);i.isOver?s=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:r}]},e):s=z.makeVList({positionType:"bottom",positionData:a.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:a}]},e)}return z.makeSpan(["mord",i.isOver?"mover":"munder"],[s],e)},uS=(t,e)=>{var n=Yn.mathMLnode(t.label);return new G.MathNode(t.isOver?"mover":"munder",[_e(t.base,e),n])};Z({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:L2,mathmlBuilder:uS});Z({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=he(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Ye(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=et(t.body,e,!1);return z.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Er(t.body,e);return n instanceof Ut||(n=new Ut("mrow",[n])),n.setAttribute("href",t.href),n}});Z({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=he(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var l=r[o];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Ye(s)}}});Z({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Ye(e[0])}},htmlBuilder(t,e){var n=et(t.body,e,!1);return z.makeFragment(n)},mathmlBuilder(t,e){return new G.MathNode("mrow",Rt(t.body,e))}});Z({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,o=he(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,a={};switch(r){case"\\htmlClass":a.class=o,s={command:"\\htmlClass",class:o};break;case"\\htmlId":a.id=o,s={command:"\\htmlId",id:o};break;case"\\htmlStyle":a.style=o,s={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var u=o.split(","),f=0;f<u.length;f++){var p=u[f].split("=");if(p.length!==2)throw new J("Error parsing key-value for \\htmlData");a["data-"+p[0].trim()]=p[1].trim()}s={command:"\\htmlData",attributes:a};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(s)?{type:"html",mode:n.mode,attributes:a,body:Ye(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=et(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=z.makeSpan(r,n,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>Er(t.body,e)});Z({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Ye(e[0]),mathml:Ye(e[1])}},htmlBuilder:(t,e)=>{var n=et(t.html,e,!1);return z.makeFragment(n)},mathmlBuilder:(t,e)=>Er(t.mathml,e)});var yu=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new J("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!e2(r))throw new J("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Z({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},l={number:0,unit:"em"},s="";if(n[0])for(var a=he(n[0],"raw").string,u=a.split(","),f=0;f<u.length;f++){var p=u[f].split("=");if(p.length===2){var h=p[1].trim();switch(p[0].trim()){case"alt":s=h;break;case"width":i=yu(h);break;case"height":o=yu(h);break;case"totalheight":l=yu(h);break;default:throw new J("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var m=he(e[0],"url").url;return s===""&&(s=m,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:s,width:i,height:o,totalheight:l,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=He(t.height,e),r=0;t.totalheight.number>0&&(r=He(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=He(t.width,e));var o={height:K(n+r)};i>0&&(o.width=K(i)),r>0&&(o.verticalAlign=K(-r));var l=new uw(t.src,t.alt,o);return l.height=n,l.depth=r,l},mathmlBuilder:(t,e)=>{var n=new G.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=He(t.height,e),i=0;if(t.totalheight.number>0&&(i=He(t.totalheight,e)-r,n.setAttribute("valign",K(-i))),n.setAttribute("height",K(r+i)),t.width.number>0){var o=He(t.width,e);n.setAttribute("width",K(o))}return n.setAttribute("src",t.src),n}});Z({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=he(e[0],"size");if(n.settings.strict){var o=r[1]==="m",l=i.value.unit==="mu";o?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return z.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=He(t.dimension,e);return new G.SpaceNode(n)}});Z({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=z.makeSpan([],[Se(t.body,e)]),n=z.makeSpan(["inner"],[n],e)):n=z.makeSpan(["inner"],[Se(t.body,e)]);var r=z.makeSpan(["fix"],[]),i=z.makeSpan([t.alignment],[n,r],e),o=z.makeSpan(["strut"]);return o.style.height=K(i.height+i.depth),i.depth&&(o.style.verticalAlign=K(-i.depth)),i.children.unshift(o),i=z.makeSpan(["thinbox"],[i],e),z.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new G.MathNode("mpadded",[_e(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Z({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",l=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});Z({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new J("Mismatched "+t.funcName)}});var oh=(t,e)=>{switch(e.style.size){case le.DISPLAY.size:return t.display;case le.TEXT.size:return t.text;case le.SCRIPT.size:return t.script;case le.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Z({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Ye(e[0]),text:Ye(e[1]),script:Ye(e[2]),scriptscript:Ye(e[3])}},htmlBuilder:(t,e)=>{var n=oh(t,e),r=et(n,e,!1);return z.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=oh(t,e);return Er(n,e)}});var z2=(t,e,n,r,i,o,l)=>{t=z.makeSpan([],[t]);var s=n&&Te.isCharacterBox(n),a,u;if(e){var f=Se(e,r.havingStyle(i.sup()),r);u={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-f.depth)}}if(n){var p=Se(n,r.havingStyle(i.sub()),r);a={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var h;if(u&&a){var m=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+t.depth+l;h=z.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:K(-o)},{type:"kern",size:a.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:K(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a){var T=t.height-l;h=z.makeVList({positionType:"top",positionData:T,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:K(-o)},{type:"kern",size:a.kern},{type:"elem",elem:t}]},r)}else if(u){var C=t.depth+l;h=z.makeVList({positionType:"bottom",positionData:C,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:K(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var _=[h];if(a&&o!==0&&!s){var v=z.makeSpan(["mspace"],[],r);v.style.marginRight=K(o),_.unshift(v)}return z.makeSpan(["mop","op-limits"],_,r)},F2=["\\smallint"],Ji=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=he(t.base,"op"),i=!0):o=he(t,"op");var l=e.style,s=!1;l.size===le.DISPLAY.size&&o.symbol&&!F2.includes(o.name)&&(s=!0);var a;if(o.symbol){var u=s?"Size2-Regular":"Size1-Regular",f="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(f=o.name.slice(1),o.name=f==="oiint"?"\\iint":"\\iiint"),a=z.makeSymbol(o.name,u,"math",e,["mop","op-symbol",s?"large-op":"small-op"]),f.length>0){var p=a.italic,h=z.staticSvg(f+"Size"+(s?"2":"1"),e);a=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:h,shift:s?.08:0}]},e),o.name="\\"+f,a.classes.unshift("mop"),a.italic=p}}else if(o.body){var m=et(o.body,e,!0);m.length===1&&m[0]instanceof nn?(a=m[0],a.classes[0]="mop"):a=z.makeSpan(["mop"],m,e)}else{for(var T=[],C=1;C<o.name.length;C++)T.push(z.mathsym(o.name[C],o.mode,e));a=z.makeSpan(["mop"],T,e)}var _=0,v=0;return(a instanceof nn||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(_=(a.height-a.depth)/2-e.fontMetrics().axisHeight,v=a.italic),i?z2(a,n,r,e,l,v,_):(_&&(a.style.position="relative",a.style.top=K(_)),a)},dl=(t,e)=>{var n;if(t.symbol)n=new Ut("mo",[rn(t.name,t.mode)]),F2.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Ut("mo",Rt(t.body,e));else{n=new Ut("mi",[new En(t.name.slice(1))]);var r=new Ut("mo",[rn("","text")]);t.parentIsSupSub?n=new Ut("mrow",[n,r]):n=d2([n,r])}return n},cS={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Z({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=cS[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Ji,mathmlBuilder:dl});Z({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ye(r)}},htmlBuilder:Ji,mathmlBuilder:dl});var dS={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Z({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Ji,mathmlBuilder:dl});Z({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Ji,mathmlBuilder:dl});Z({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=dS[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Ji,mathmlBuilder:dl});var U2=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=he(t.base,"operatorname"),i=!0):o=he(t,"operatorname");var l;if(o.body.length>0){for(var s=o.body.map(p=>{var h=p.text;return typeof h=="string"?{type:"textord",mode:p.mode,text:h}:p}),a=et(s,e.withFont("mathrm"),!0),u=0;u<a.length;u++){var f=a[u];f instanceof nn&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=z.makeSpan(["mop"],a,e)}else l=z.makeSpan(["mop"],[],e);return i?z2(l,n,r,e,e.style,0,0):l},fS=(t,e)=>{for(var n=Rt(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof G.SpaceNode))if(o instanceof G.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=o.children[0];o.children.length===1&&l instanceof G.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var s=n.map(f=>f.toText()).join("");n=[new G.TextNode(s)]}var a=new G.MathNode("mi",n);a.setAttribute("mathvariant","normal");var u=new G.MathNode("mo",[rn("","text")]);return t.parentIsSupSub?new G.MathNode("mrow",[a,u]):G.newDocumentFragment([a,u])};Z({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Ye(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:U2,mathmlBuilder:fS});E("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Qr({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?z.makeFragment(et(t.body,e,!1)):z.makeSpan(["mord"],et(t.body,e,!0),e)},mathmlBuilder(t,e){return Er(t.body,e,!0)}});Z({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Se(t.body,e.havingCrampedStyle()),r=z.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return z.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new G.MathNode("mo",[new G.TextNode("")]);n.setAttribute("stretchy","true");var r=new G.MathNode("mover",[_e(t.body,e),n]);return r.setAttribute("accent","true"),r}});Z({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Ye(r)}},htmlBuilder:(t,e)=>{var n=et(t.body,e.withPhantom(),!1);return z.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Rt(t.body,e);return new G.MathNode("mphantom",n)}});Z({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=z.makeSpan([],[Se(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),z.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Rt(Ye(t.body),e),r=new G.MathNode("mphantom",n),i=new G.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Z({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=z.makeSpan(["inner"],[Se(t.body,e.withPhantom())]),r=z.makeSpan(["fix"],[]);return z.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Rt(Ye(t.body),e),r=new G.MathNode("mphantom",n),i=new G.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Z({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=he(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Se(t.body,e),r=He(t.dy,e);return z.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new G.MathNode("mpadded",[_e(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});Z({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Z({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=he(e[0],"size"),l=he(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&he(i,"size").value,width:o.value,height:l.value}},htmlBuilder(t,e){var n=z.makeSpan(["mord","rule"],[],e),r=He(t.width,e),i=He(t.height,e),o=t.shift?He(t.shift,e):0;return n.style.borderRightWidth=K(r),n.style.borderTopWidth=K(i),n.style.bottom=K(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=He(t.width,e),r=He(t.height,e),i=t.shift?He(t.shift,e):0,o=e.color&&e.getColor()||"black",l=new G.MathNode("mspace");l.setAttribute("mathbackground",o),l.setAttribute("width",K(n)),l.setAttribute("height",K(r));var s=new G.MathNode("mpadded",[l]);return i>=0?s.setAttribute("height",K(i)):(s.setAttribute("height",K(i)),s.setAttribute("depth",K(-i))),s.setAttribute("voffset",K(i)),s}});function B2(t,e,n){for(var r=et(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var l=r[o].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[l+1]==="reset-size"+e.size&&(r[o].classes[l+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return z.makeFragment(r)}var lh=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],pS=(t,e)=>{var n=e.havingSize(t.size);return B2(t.body,n,e)};Z({type:"sizing",names:lh,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:lh.indexOf(r)+1,body:o}},htmlBuilder:pS,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Rt(t.body,n),i=new G.MathNode("mstyle",r);return i.setAttribute("mathsize",K(n.sizeMultiplier)),i}});Z({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,l=n[0]&&he(n[0],"ordgroup");if(l)for(var s="",a=0;a<l.body.length;++a){var u=l.body[a];if(s=u.text,s==="t")i=!0;else if(s==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var f=e[0];return{type:"smash",mode:r.mode,body:f,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=z.makeSpan([],[Se(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return z.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new G.MathNode("mpadded",[_e(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});Z({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=Se(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=z.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,o=i;e.style.id<le.TEXT.id&&(o=e.fontMetrics().xHeight);var l=i+o/4,s=n.height+n.depth+l+i,{span:a,ruleWidth:u,advanceWidth:f}=Vn.sqrtImage(s,e),p=a.height-u;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var h=a.height-n.height-l-u;n.style.paddingLeft=K(f);var m=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:a},{type:"kern",size:u}]},e);if(t.index){var T=e.havingStyle(le.SCRIPTSCRIPT),C=Se(t.index,T,e),_=.6*(m.height-m.depth),v=z.makeVList({positionType:"shift",positionData:-_,children:[{type:"elem",elem:C}]},e),w=z.makeSpan(["root"],[v]);return z.makeSpan(["mord","sqrt"],[w,m],e)}else return z.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new G.MathNode("mroot",[_e(n,e),_e(r,e)]):new G.MathNode("msqrt",[_e(n,e)])}});var sh={display:le.DISPLAY,text:le.TEXT,script:le.SCRIPT,scriptscript:le.SCRIPTSCRIPT};Z({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:o}},htmlBuilder(t,e){var n=sh[t.style],r=e.havingStyle(n).withFont("");return B2(t.body,r,e)},mathmlBuilder(t,e){var n=sh[t.style],r=e.havingStyle(n),i=Rt(t.body,r),o=new G.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=l[t.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}});var hS=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===le.DISPLAY.size||r.alwaysHandleSupSub);return i?Ji:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===le.DISPLAY.size||r.limits);return o?U2:null}else{if(r.type==="accent")return Te.isCharacterBox(r.base)?cd:null;if(r.type==="horizBrace"){var l=!e.sub;return l===r.isOver?L2:null}else return null}else return null};Qr({type:"supsub",htmlBuilder(t,e){var n=hS(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:o}=t,l=Se(r,e),s,a,u=e.fontMetrics(),f=0,p=0,h=r&&Te.isCharacterBox(r);if(i){var m=e.havingStyle(e.style.sup());s=Se(i,m,e),h||(f=l.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(o){var T=e.havingStyle(e.style.sub());a=Se(o,T,e),h||(p=l.depth+T.fontMetrics().subDrop*T.sizeMultiplier/e.sizeMultiplier)}var C;e.style===le.DISPLAY?C=u.sup1:e.style.cramped?C=u.sup3:C=u.sup2;var _=e.sizeMultiplier,v=K(.5/u.ptPerEm/_),w=null;if(a){var x=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof nn||x)&&(w=K(-l.italic))}var k;if(s&&a){f=Math.max(f,C,s.depth+.25*u.xHeight),p=Math.max(p,u.sub2);var D=u.defaultRuleThickness,M=4*D;if(f-s.depth-(a.height-p)<M){p=M-(f-s.depth)+a.height;var L=.8*u.xHeight-(f-s.depth);L>0&&(f+=L,p-=L)}var U=[{type:"elem",elem:a,shift:p,marginRight:v,marginLeft:w},{type:"elem",elem:s,shift:-f,marginRight:v}];k=z.makeVList({positionType:"individualShift",children:U},e)}else if(a){p=Math.max(p,u.sub1,a.height-.8*u.xHeight);var F=[{type:"elem",elem:a,marginLeft:w,marginRight:v}];k=z.makeVList({positionType:"shift",positionData:p,children:F},e)}else if(s)f=Math.max(f,C,s.depth+.25*u.xHeight),k=z.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:s,marginRight:v}]},e);else throw new Error("supsub must have either sup or sub.");var q=b0(l,"right")||"mord";return z.makeSpan([q],[l,z.makeSpan(["msupsub"],[k])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[_e(t.base,e)];t.sub&&o.push(_e(t.sub,e)),t.sup&&o.push(_e(t.sup,e));var l;if(n)l=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===le.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===le.DISPLAY||u.limits)?l="munderover":l="msubsup"}else{var a=t.base;a&&a.type==="op"&&a.limits&&(e.style===le.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===le.DISPLAY)?l="munder":l="msub"}else{var s=t.base;s&&s.type==="op"&&s.limits&&(e.style===le.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||e.style===le.DISPLAY)?l="mover":l="msup"}return new G.MathNode(l,o)}});Qr({type:"atom",htmlBuilder(t,e){return z.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new G.MathNode("mo",[rn(t.text,t.mode)]);if(t.family==="bin"){var r=ad(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var q2={mi:"italic",mn:"normal",mtext:"normal"};Qr({type:"mathord",htmlBuilder(t,e){return z.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new G.MathNode("mi",[rn(t.text,t.mode,e)]),r=ad(t,e)||"italic";return r!==q2[n.type]&&n.setAttribute("mathvariant",r),n}});Qr({type:"textord",htmlBuilder(t,e){return z.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=rn(t.text,t.mode,e),r=ad(t,e)||"normal",i;return t.mode==="text"?i=new G.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new G.MathNode("mn",[n]):t.text==="\\prime"?i=new G.MathNode("mo",[n]):i=new G.MathNode("mi",[n]),r!==q2[i.type]&&i.setAttribute("mathvariant",r),i}});var vu={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},xu={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Qr({type:"spacing",htmlBuilder(t,e){if(xu.hasOwnProperty(t.text)){var n=xu[t.text].className||"";if(t.mode==="text"){var r=z.makeOrd(t,e,"textord");return r.classes.push(n),r}else return z.makeSpan(["mspace",n],[z.mathsym(t.text,t.mode,e)],e)}else{if(vu.hasOwnProperty(t.text))return z.makeSpan(["mspace",vu[t.text]],[],e);throw new J('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(xu.hasOwnProperty(t.text))n=new G.MathNode("mtext",[new G.TextNode("")]);else{if(vu.hasOwnProperty(t.text))return new G.MathNode("mspace");throw new J('Unknown type of space "'+t.text+'"')}return n}});var ah=()=>{var t=new G.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Qr({type:"tag",mathmlBuilder(t,e){var n=new G.MathNode("mtable",[new G.MathNode("mtr",[ah(),new G.MathNode("mtd",[Er(t.body,e)]),ah(),new G.MathNode("mtd",[Er(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var uh={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},ch={"\\textbf":"textbf","\\textmd":"textmd"},mS={"\\textit":"textit","\\textup":"textup"},dh=(t,e)=>{var n=t.font;if(n){if(uh[n])return e.withTextFontFamily(uh[n]);if(ch[n])return e.withTextFontWeight(ch[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(mS[n])};Z({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Ye(i),font:r}},htmlBuilder(t,e){var n=dh(t,e),r=et(t.body,n,!0);return z.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=dh(t,e);return Er(t.body,n)}});Z({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Se(t.body,e),r=z.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=z.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return z.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new G.MathNode("mo",[new G.TextNode("")]);n.setAttribute("stretchy","true");var r=new G.MathNode("munder",[_e(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});Z({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Se(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return z.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new G.MathNode("mpadded",[_e(t.body,e)],["vcenter"])}});Z({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new J("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=fh(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var l=n[o];l==="~"&&(l="\\textasciitilde"),r.push(z.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return z.makeSpan(["mord","text"].concat(i.sizingClasses(e)),z.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new G.TextNode(fh(t)),r=new G.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var fh=t=>t.body.replace(/ /g,t.star?"":""),cr=u2,V2=`[ \r
	]`,gS="\\\\[a-zA-Z@]+",yS="\\\\[^\uD800-\uDFFF]",vS="("+gS+")"+V2+"*",xS=`\\\\(
|[ \r	]+
?)[ \r	]*`,D0="[-]",wS=new RegExp(D0+"+$"),SS="("+V2+"+)|"+(xS+"|")+"([!-\\[\\]---]"+(D0+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(D0+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+vS)+("|"+yS+")");class ph{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(SS,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Ht("EOF",new kt(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new J("Unexpected character: '"+e[n]+"'",new Ht(e[n],new kt(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Ht(i,new kt(this,n,this.tokenRegex.lastIndex))}}class TS{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new J("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var CS=b2;E("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});E("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});E("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});E("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});E("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});E("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");E("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var hh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};E("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new J("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=hh[e.text],r==null||r>=n)throw new J("Invalid base-"+n+" digit "+e.text);for(var i;(i=hh[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var vd=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new J("\\newcommand's first argument must be a macro name");var o=i[0].text,l=t.isDefined(o);if(l&&!e)throw new J("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!l&&!n)throw new J("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var s=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var a="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)a+=u.text,u=t.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new J("Invalid number of arguments: "+a);s=parseInt(a),i=t.consumeArg().tokens}return l&&r||t.macros.set(o,{tokens:i,numArgs:s}),""};E("\\newcommand",t=>vd(t,!1,!0,!1));E("\\renewcommand",t=>vd(t,!0,!1,!1));E("\\providecommand",t=>vd(t,!0,!0,!0));E("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});E("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});E("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),cr[n],Pe.math[n],Pe.text[n]),""});E("\\bgroup","{");E("\\egroup","}");E("~","\\nobreakspace");E("\\lq","`");E("\\rq","'");E("\\aa","\\r a");E("\\AA","\\r A");E("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");E("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");E("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");E("","\\mathscr{B}");E("","\\mathscr{E}");E("","\\mathscr{F}");E("","\\mathscr{H}");E("","\\mathscr{I}");E("","\\mathscr{L}");E("","\\mathscr{M}");E("","\\mathscr{R}");E("","\\mathfrak{C}");E("","\\mathfrak{H}");E("","\\mathfrak{Z}");E("\\Bbbk","\\Bbb{k}");E("","\\cdotp");E("\\llap","\\mathllap{\\textrm{#1}}");E("\\rlap","\\mathrlap{\\textrm{#1}}");E("\\clap","\\mathclap{\\textrm{#1}}");E("\\mathstrut","\\vphantom{(}");E("\\underbar","\\underline{\\text{#1}}");E("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');E("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");E("\\ne","\\neq");E("","\\neq");E("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");E("","\\notin");E("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");E("","\\perp");E("","\\mathclose{!\\mkern-0.8mu!}");E("","\\notni");E("","\\ulcorner");E("","\\urcorner");E("","\\llcorner");E("","\\lrcorner");E("","\\copyright");E("","\\textregistered");E("","\\textregistered");E("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');E("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');E("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');E("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');E("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");E("","\\vdots");E("\\varGamma","\\mathit{\\Gamma}");E("\\varDelta","\\mathit{\\Delta}");E("\\varTheta","\\mathit{\\Theta}");E("\\varLambda","\\mathit{\\Lambda}");E("\\varXi","\\mathit{\\Xi}");E("\\varPi","\\mathit{\\Pi}");E("\\varSigma","\\mathit{\\Sigma}");E("\\varUpsilon","\\mathit{\\Upsilon}");E("\\varPhi","\\mathit{\\Phi}");E("\\varPsi","\\mathit{\\Psi}");E("\\varOmega","\\mathit{\\Omega}");E("\\substack","\\begin{subarray}{c}#1\\end{subarray}");E("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");E("\\boxed","\\fbox{$\\displaystyle{#1}$}");E("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");E("\\implies","\\DOTSB\\;\\Longrightarrow\\;");E("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");E("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");E("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var mh={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};E("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in mh?e=mh[n]:(n.slice(0,4)==="\\not"||n in Pe.math&&["bin","rel"].includes(Pe.math[n].group))&&(e="\\dotsb"),e});var xd={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};E("\\dotso",function(t){var e=t.future().text;return e in xd?"\\ldots\\,":"\\ldots"});E("\\dotsc",function(t){var e=t.future().text;return e in xd&&e!==","?"\\ldots\\,":"\\ldots"});E("\\cdots",function(t){var e=t.future().text;return e in xd?"\\@cdots\\,":"\\@cdots"});E("\\dotsb","\\cdots");E("\\dotsm","\\cdots");E("\\dotsi","\\!\\cdots");E("\\dotsx","\\ldots\\,");E("\\DOTSI","\\relax");E("\\DOTSB","\\relax");E("\\DOTSX","\\relax");E("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");E("\\,","\\tmspace+{3mu}{.1667em}");E("\\thinspace","\\,");E("\\>","\\mskip{4mu}");E("\\:","\\tmspace+{4mu}{.2222em}");E("\\medspace","\\:");E("\\;","\\tmspace+{5mu}{.2777em}");E("\\thickspace","\\;");E("\\!","\\tmspace-{3mu}{.1667em}");E("\\negthinspace","\\!");E("\\negmedspace","\\tmspace-{4mu}{.2222em}");E("\\negthickspace","\\tmspace-{5mu}{.277em}");E("\\enspace","\\kern.5em ");E("\\enskip","\\hskip.5em\\relax");E("\\quad","\\hskip1em\\relax");E("\\qquad","\\hskip2em\\relax");E("\\tag","\\@ifstar\\tag@literal\\tag@paren");E("\\tag@paren","\\tag@literal{({#1})}");E("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new J("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});E("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");E("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");E("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");E("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");E("\\newline","\\\\\\relax");E("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var H2=K(Cn["Main-Regular"][84][1]-.7*Cn["Main-Regular"][65][1]);E("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+H2+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");E("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+H2+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");E("\\hspace","\\@ifstar\\@hspacer\\@hspace");E("\\@hspace","\\hskip #1\\relax");E("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");E("\\ordinarycolon",":");E("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");E("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');E("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');E("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');E("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');E("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');E("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');E("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');E("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');E("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');E("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');E("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');E("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');E("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');E("","\\dblcolon");E("","\\eqcolon");E("","\\coloneqq");E("","\\eqqcolon");E("","\\Coloneqq");E("\\ratio","\\vcentcolon");E("\\coloncolon","\\dblcolon");E("\\colonequals","\\coloneqq");E("\\coloncolonequals","\\Coloneqq");E("\\equalscolon","\\eqqcolon");E("\\equalscoloncolon","\\Eqqcolon");E("\\colonminus","\\coloneq");E("\\coloncolonminus","\\Coloneq");E("\\minuscolon","\\eqcolon");E("\\minuscoloncolon","\\Eqcolon");E("\\coloncolonapprox","\\Colonapprox");E("\\coloncolonsim","\\Colonsim");E("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");E("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");E("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");E("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");E("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");E("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");E("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");E("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");E("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");E("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");E("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");E("\\ngeqq","\\html@mathml{\\@ngeqq}{}");E("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");E("\\nleqq","\\html@mathml{\\@nleqq}{}");E("\\nleqslant","\\html@mathml{\\@nleqslant}{}");E("\\nshortmid","\\html@mathml{\\@nshortmid}{}");E("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");E("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");E("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");E("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");E("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");E("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");E("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");E("\\imath","\\html@mathml{\\@imath}{}");E("\\jmath","\\html@mathml{\\@jmath}{}");E("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");E("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");E("","\\llbracket");E("","\\rrbracket");E("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");E("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");E("","\\lBrace");E("","\\rBrace");E("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");E("","\\minuso");E("\\darr","\\downarrow");E("\\dArr","\\Downarrow");E("\\Darr","\\Downarrow");E("\\lang","\\langle");E("\\rang","\\rangle");E("\\uarr","\\uparrow");E("\\uArr","\\Uparrow");E("\\Uarr","\\Uparrow");E("\\N","\\mathbb{N}");E("\\R","\\mathbb{R}");E("\\Z","\\mathbb{Z}");E("\\alef","\\aleph");E("\\alefsym","\\aleph");E("\\Alpha","\\mathrm{A}");E("\\Beta","\\mathrm{B}");E("\\bull","\\bullet");E("\\Chi","\\mathrm{X}");E("\\clubs","\\clubsuit");E("\\cnums","\\mathbb{C}");E("\\Complex","\\mathbb{C}");E("\\Dagger","\\ddagger");E("\\diamonds","\\diamondsuit");E("\\empty","\\emptyset");E("\\Epsilon","\\mathrm{E}");E("\\Eta","\\mathrm{H}");E("\\exist","\\exists");E("\\harr","\\leftrightarrow");E("\\hArr","\\Leftrightarrow");E("\\Harr","\\Leftrightarrow");E("\\hearts","\\heartsuit");E("\\image","\\Im");E("\\infin","\\infty");E("\\Iota","\\mathrm{I}");E("\\isin","\\in");E("\\Kappa","\\mathrm{K}");E("\\larr","\\leftarrow");E("\\lArr","\\Leftarrow");E("\\Larr","\\Leftarrow");E("\\lrarr","\\leftrightarrow");E("\\lrArr","\\Leftrightarrow");E("\\Lrarr","\\Leftrightarrow");E("\\Mu","\\mathrm{M}");E("\\natnums","\\mathbb{N}");E("\\Nu","\\mathrm{N}");E("\\Omicron","\\mathrm{O}");E("\\plusmn","\\pm");E("\\rarr","\\rightarrow");E("\\rArr","\\Rightarrow");E("\\Rarr","\\Rightarrow");E("\\real","\\Re");E("\\reals","\\mathbb{R}");E("\\Reals","\\mathbb{R}");E("\\Rho","\\mathrm{P}");E("\\sdot","\\cdot");E("\\sect","\\S");E("\\spades","\\spadesuit");E("\\sub","\\subset");E("\\sube","\\subseteq");E("\\supe","\\supseteq");E("\\Tau","\\mathrm{T}");E("\\thetasym","\\vartheta");E("\\weierp","\\wp");E("\\Zeta","\\mathrm{Z}");E("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");E("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");E("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");E("\\bra","\\mathinner{\\langle{#1}|}");E("\\ket","\\mathinner{|{#1}\\rangle}");E("\\braket","\\mathinner{\\langle{#1}\\rangle}");E("\\Bra","\\left\\langle#1\\right|");E("\\Ket","\\left|#1\\right\\rangle");var O2=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,l=e.macros.get("|"),s=e.macros.get("\\|");e.macros.beginGroup();var a=p=>h=>{t&&(h.macros.set("|",l),i.length&&h.macros.set("\\|",s));var m=p;if(!p&&i.length){var T=h.future();T.text==="|"&&(h.popToken(),m=!0)}return{tokens:m?i:r,numArgs:0}};e.macros.set("|",a(!1)),i.length&&e.macros.set("\\|",a(!0));var u=e.consumeArg().tokens,f=e.expandTokens([...o,...u,...n]);return e.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};E("\\bra@ket",O2(!1));E("\\bra@set",O2(!0));E("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");E("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");E("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");E("\\angln","{\\angl n}");E("\\blue","\\textcolor{##6495ed}{#1}");E("\\orange","\\textcolor{##ffa500}{#1}");E("\\pink","\\textcolor{##ff00af}{#1}");E("\\red","\\textcolor{##df0030}{#1}");E("\\green","\\textcolor{##28ae7b}{#1}");E("\\gray","\\textcolor{gray}{#1}");E("\\purple","\\textcolor{##9d38bd}{#1}");E("\\blueA","\\textcolor{##ccfaff}{#1}");E("\\blueB","\\textcolor{##80f6ff}{#1}");E("\\blueC","\\textcolor{##63d9ea}{#1}");E("\\blueD","\\textcolor{##11accd}{#1}");E("\\blueE","\\textcolor{##0c7f99}{#1}");E("\\tealA","\\textcolor{##94fff5}{#1}");E("\\tealB","\\textcolor{##26edd5}{#1}");E("\\tealC","\\textcolor{##01d1c1}{#1}");E("\\tealD","\\textcolor{##01a995}{#1}");E("\\tealE","\\textcolor{##208170}{#1}");E("\\greenA","\\textcolor{##b6ffb0}{#1}");E("\\greenB","\\textcolor{##8af281}{#1}");E("\\greenC","\\textcolor{##74cf70}{#1}");E("\\greenD","\\textcolor{##1fab54}{#1}");E("\\greenE","\\textcolor{##0d923f}{#1}");E("\\goldA","\\textcolor{##ffd0a9}{#1}");E("\\goldB","\\textcolor{##ffbb71}{#1}");E("\\goldC","\\textcolor{##ff9c39}{#1}");E("\\goldD","\\textcolor{##e07d10}{#1}");E("\\goldE","\\textcolor{##a75a05}{#1}");E("\\redA","\\textcolor{##fca9a9}{#1}");E("\\redB","\\textcolor{##ff8482}{#1}");E("\\redC","\\textcolor{##f9685d}{#1}");E("\\redD","\\textcolor{##e84d39}{#1}");E("\\redE","\\textcolor{##bc2612}{#1}");E("\\maroonA","\\textcolor{##ffbde0}{#1}");E("\\maroonB","\\textcolor{##ff92c6}{#1}");E("\\maroonC","\\textcolor{##ed5fa6}{#1}");E("\\maroonD","\\textcolor{##ca337c}{#1}");E("\\maroonE","\\textcolor{##9e034e}{#1}");E("\\purpleA","\\textcolor{##ddd7ff}{#1}");E("\\purpleB","\\textcolor{##c6b9fc}{#1}");E("\\purpleC","\\textcolor{##aa87ff}{#1}");E("\\purpleD","\\textcolor{##7854ab}{#1}");E("\\purpleE","\\textcolor{##543b78}{#1}");E("\\mintA","\\textcolor{##f5f9e8}{#1}");E("\\mintB","\\textcolor{##edf2df}{#1}");E("\\mintC","\\textcolor{##e0e5cc}{#1}");E("\\grayA","\\textcolor{##f6f7f7}{#1}");E("\\grayB","\\textcolor{##f0f1f2}{#1}");E("\\grayC","\\textcolor{##e3e5e6}{#1}");E("\\grayD","\\textcolor{##d6d8da}{#1}");E("\\grayE","\\textcolor{##babec2}{#1}");E("\\grayF","\\textcolor{##888d93}{#1}");E("\\grayG","\\textcolor{##626569}{#1}");E("\\grayH","\\textcolor{##3b3e40}{#1}");E("\\grayI","\\textcolor{##21242c}{#1}");E("\\kaBlue","\\textcolor{##314453}{#1}");E("\\kaGreen","\\textcolor{##71B307}{#1}");var G2={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class ES{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new TS(CS,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new ph(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Ht("EOF",r.loc)),this.pushTokens(i),new Ht("",kt.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),o,l=0,s=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++l;else if(o.text==="}"){if(--l,l===-1)throw new J("Extra }",o)}else if(o.text==="EOF")throw new J("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",o);if(e&&r)if((l===0||l===1&&e[s]==="{")&&o.text===e[s]){if(++s,s===e.length){n.splice(-s,s);break}}else s=0}while(l!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new J("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new J("Use of the macro doesn't match its definition",o)}}for(var l=[],s=0;s<e;s++)l.push(this.consumeArg(n&&n[s+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new J("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new J("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var s=o.length-1;s>=0;--s){var a=o[s];if(a.text==="#"){if(s===0)throw new J("Incomplete placeholder at end of macro body",a);if(a=o[--s],a.text==="#")o.splice(s+1,1);else if(/^[1-9]$/.test(a.text))o.splice(s,2,...l[+a.text-1]);else throw new J("Not a valid argument number",a)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Ht(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(o+1))!==-1;)++o;for(var s=new ph(i,this.settings),a=[],u=s.lex();u.text!=="EOF";)a.push(u),u=s.lex();a.reverse();var f={tokens:a,numArgs:o};return f}return i}isDefined(e){return this.macros.has(e)||cr.hasOwnProperty(e)||Pe.math.hasOwnProperty(e)||Pe.text.hasOwnProperty(e)||G2.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:cr.hasOwnProperty(e)&&!cr[e].primitive}}var gh=/^[]/,Vl=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),wu={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},yh={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class ma{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new ES(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new J("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Ht("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(ma.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&cr[i.text]&&cr[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new J("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,l,s=e.slice(0,n),a=e.slice(n+1);s.length===1&&s[0].type==="ordgroup"?o=s[0]:o={type:"ordgroup",mode:this.mode,body:s},a.length===1&&a[0].type==="ordgroup"?l=a[0]:l={type:"ordgroup",mode:this.mode,body:a};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[o,e[n],l],[]):u=this.callFunction(r,[o,l],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(e)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new J("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var l=o.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new J("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new J("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new J("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new J("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},a=[s];for(this.consume();this.fetch().text==="'";)a.push(s),this.consume();this.fetch().text==="^"&&a.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:a}}else if(Vl[o.text]){var u=gh.test(o.text),f=[];for(f.push(new Ht(Vl[o.text])),this.consume();;){var p=this.fetch().text;if(!Vl[p]||gh.test(p)!==u)break;f.unshift(new Ht(Vl[p])),this.consume()}var h=this.subparse(f);u?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,o=cr[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new J("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new J("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new J("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:s}=this.parseArguments(i,o);return this.callFunction(i,l,s,r,e)}callFunction(e,n,r,i,o){var l={funcName:e,parser:this,token:i,breakOnTokenText:o},s=cr[e];if(s&&s.handler)return s.handler(l,n,r);throw new J("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],l=0;l<r;l++){var s=n.argTypes&&n.argTypes[l],a=l<n.numOptionalArgs;(n.primitive&&s==null||n.type==="sqrt"&&l===1&&o[0]==null)&&(s="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",s,a);if(a)o.push(u);else if(u!=null)i.push(u);else throw new J("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new J("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new J("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new J("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,o="",l;(l=this.fetch()).text!=="EOF"&&e.test(o+l.text);)i=l,o+=i.text,this.consume();if(o==="")throw new J("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new J("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new J("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!e2(o))throw new J("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),l}parseGroup(e,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,l),a=this.fetch();this.expect(l),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:kt.range(r,a),body:s,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!G2.hasOwnProperty(i)){if(this.settings.throwOnError)throw new J("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],o=i.text;o==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:kt.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:kt.range(i,e[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&e[r+1].text===o&&(e.splice(r,2,{type:"textord",mode:"text",loc:kt.range(i,e[r+1]),text:o+o}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new J(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}yh.hasOwnProperty(n[0])&&!Pe[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=yh[n[0]]+n.slice(1));var o=wS.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="":n==="j"&&(n=""));var l;if(Pe[this.mode][n]){this.settings.strict&&this.mode==="math"&&_0.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var s=Pe[this.mode][n].group,a=kt.range(e),u;if(fw.hasOwnProperty(s)){var f=s;u={type:"atom",mode:this.mode,family:f,loc:a,text:n}}else u={type:s,mode:this.mode,loc:a,text:n};l=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(j4(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:kt.range(e),text:n};else return null;if(this.consume(),o)for(var p=0;p<o[0].length;p++){var h=o[0][p];if(!wu[h])throw new J("Unknown accent ' "+h+"'",e);var m=wu[h][this.mode]||wu[h].text;if(!m)throw new J("Accent "+h+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:kt.range(e),label:m,isStretchy:!1,isShifty:!0,base:l}}return l}}ma.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var wd=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new ma(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new J("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Ht("\\df@tag")])}]}return i},$2=function(e,n,r){n.textContent="";var i=Sd(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),$2=function(){throw new J("KaTeX doesn't work in quirks mode.")});var kS=function(e,n){var r=Sd(e,n).toMarkup();return r},AS=function(e,n){var r=new nd(n);return wd(e,r)},J2=function(e,n,r){if(r.throwOnError||!(e instanceof J))throw e;var i=z.makeSpan(["katex-error"],[new nn(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Sd=function(e,n){var r=new nd(n);try{var i=wd(e,r);return Lw(i,e,r)}catch(o){return J2(o,e,r)}},IS=function(e,n){var r=new nd(n);try{var i=wd(e,r);return zw(i,e,r)}catch(o){return J2(o,e,r)}},MS="0.16.25",_S={Span:cl,Anchor:od,SymbolNode:nn,SvgNode:Jn,PathNode:Cr,LineNode:M0},vh={version:MS,render:$2,renderToString:kS,ParseError:J,SETTINGS_SCHEMA:ns,__parse:AS,__renderToDomTree:Sd,__renderToHTMLTree:IS,__setFontMetrics:iw,__defineSymbol:g,__defineFunction:Z,__defineMacro:E,__domTree:_S};const bS={};function NS(t){const e=this,n=t||bS,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(b9(n)),o.push(T9()),l.push(C9(n))}const xh=/[#.]/g;function PS(t,e){const n=t||"",r={};let i=0,o,l;for(;i<n.length;){xh.lastIndex=i;const s=xh.exec(n),a=n.slice(i,s?s.index:n.length);a&&(o?o==="#"?r.id=a:Array.isArray(r.className)?r.className.push(a):r.className=[a]:l=a,i+=a.length),s&&(o=s[0],i++)}return{type:"element",tagName:l||e||"div",properties:r,children:[]}}function W2(t,e,n){const r=n?zS(n):void 0;function i(o,l,...s){let a;if(o==null){a={type:"root",children:[]};const u=l;s.unshift(u)}else{a=PS(o,e);const u=a.tagName.toLowerCase(),f=r?r.get(u):void 0;if(a.tagName=f||u,RS(l))s.unshift(l);else for(const[p,h]of Object.entries(l))DS(t,a.properties,p,h)}for(const u of s)L0(a.children,u);return a.type==="element"&&a.tagName==="template"&&(a.content={type:"root",children:a.children},a.children=[]),a}return i}function RS(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const l of o)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function DS(t,e,n,r){const i=w4(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=Xf(r):i.commaSeparated?o=$f(r):i.commaOrSpaceSeparated?o=Xf($f(r).join(" ")):o=wh(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?LS(r):String(r);if(Array.isArray(o)){const l=[];for(const s of o)l.push(wh(i,i.property,s));o=l}i.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[i.property]=o}}function L0(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)L0(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?L0(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function wh(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Zo(n)===Zo(e)))return!0}return n}function LS(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function zS(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const FS=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],US=W2(S4,"div"),BS=W2(ia,"g",FS),Su={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function qS(t,e){return Y2(t,{})||{type:"root",children:[]}}function Y2(t,e){const n=VS(t,e);return n&&e.afterTransform&&e.afterTransform(t,n),n}function VS(t,e){switch(t.nodeType){case 1:return $S(t,e);case 3:return OS(t);case 8:return GS(t);case 9:return Sh(t,e);case 10:return HS();case 11:return Sh(t,e);default:return}}function Sh(t,e){return{type:"root",children:K2(t,e)}}function HS(){return{type:"doctype"}}function OS(t){return{type:"text",value:t.nodeValue||""}}function GS(t){return{type:"comment",value:t.nodeValue||""}}function $S(t,e){const n=t.namespaceURI,r=n===Su.svg?BS:US,i=n===Su.html?t.tagName.toLowerCase():t.tagName,o=n===Su.html&&i==="template"?t.content:t,l=t.getAttributeNames(),s={};let a=-1;for(;++a<l.length;)s[l[a]]=t.getAttribute(l[a])||"";return r(i,s,K2(o,e))}function K2(t,e){const n=t.childNodes,r=[];let i=-1;for(;++i<n.length;){const o=Y2(n[i],e);o!==void 0&&r.push(o)}return r}new DOMParser;function JS(t,e){const n=WS(t);return qS(n)}function WS(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const Th=function(t,e,n){const r=ed(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]},Zr=function(t){if(t==null)return XS;if(typeof t=="string")return KS(t);if(typeof t=="object")return YS(t);if(typeof t=="function")return Td(t);throw new Error("Expected function, string, or array as `test`")};function YS(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Zr(t[n]);return Td(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function KS(t){return Td(e);function e(n){return n.tagName===t}}function Td(t){return e;function e(n,r,i){return!!(QS(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function XS(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function QS(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const Ch=/\n/g,Eh=/[\t ]+/g,z0=Zr("br"),kh=Zr(oT),ZS=Zr("p"),Ah=Zr("tr"),jS=Zr(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",iT,lT]),X2=Zr(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function eT(t,e){const n=e||{},r="children"in t?t.children:[],i=X2(t),o=j2(t,{whitespace:n.whitespace||"normal"}),l=[];(t.type==="text"||t.type==="comment")&&l.push(...Z2(t,{breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)l.push(...Q2(r[s],t,{whitespace:o,breakBefore:s?void 0:i,breakAfter:s<r.length-1?z0(r[s+1]):i}));const a=[];let u;for(s=-1;++s<l.length;){const f=l[s];typeof f=="number"?u!==void 0&&f>u&&(u=f):f&&(u!==void 0&&u>-1&&a.push(`
`.repeat(u)||" "),u=-1,a.push(f))}return a.join("")}function Q2(t,e,n){return t.type==="element"?tT(t,e,n):t.type==="text"?n.whitespace==="normal"?Z2(t,n):nT(t):[]}function tT(t,e,n){const r=j2(t,n),i=t.children||[];let o=-1,l=[];if(jS(t))return l;let s,a;for(z0(t)||Ah(t)&&Th(e,t,Ah)?a=`
`:ZS(t)?(s=2,a=2):X2(t)&&(s=1,a=1);++o<i.length;)l=l.concat(Q2(i[o],t,{whitespace:r,breakBefore:o?void 0:s,breakAfter:o<i.length-1?z0(i[o+1]):a}));return kh(t)&&Th(e,t,kh)&&l.push("	"),s&&l.unshift(s),a&&l.push(a),l}function Z2(t,e){const n=String(t.value),r=[],i=[];let o=0;for(;o<=n.length;){Ch.lastIndex=o;const a=Ch.exec(n),u=a&&"index"in a?a.index:n.length;r.push(rT(n.slice(o,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?e.breakBefore:!0,u===n.length?e.breakAfter:!0)),o=u+1}let l=-1,s;for(;++l<r.length;)r[l].charCodeAt(r[l].length-1)===8203||l<r.length-1&&r[l+1].charCodeAt(0)===8203?(i.push(r[l]),s=void 0):r[l]?(typeof s=="number"&&i.push(s),i.push(r[l]),s=0):(l===0||l===r.length-1)&&i.push(0);return i}function nT(t){return[String(t.value)]}function rT(t,e,n){const r=[];let i=0,o;for(;i<t.length;){Eh.lastIndex=i;const l=Eh.exec(t);o=l?l.index:t.length,!i&&!o&&l&&!e&&r.push(""),i!==o&&r.push(t.slice(i,o)),i=l?o+l[0].length:o}return i!==o&&!n&&r.push(""),r.join(" ")}function j2(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function iT(t){return!!(t.properties||{}).hidden}function oT(t){return t.tagName==="td"||t.tagName==="th"}function lT(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const sT={},aT=[];function uT(t){const e=t||sT;return function(n,r){Y4(n,"element",function(i,o){const l=Array.isArray(i.properties.className)?i.properties.className:aT,s=l.includes("language-math"),a=l.includes("math-display"),u=l.includes("math-inline");let f=a;if(!s&&!a&&!u)return;let p=o[o.length-1],h=i;if(i.tagName==="code"&&s&&p&&p.type==="element"&&p.tagName==="pre"&&(h=p,p=o[o.length-2],f=!0),!p)return;const m=eT(h,{whitespace:"pre"});let T;try{T=vh.renderToString(m,{...e,displayMode:f,throwOnError:!0})}catch(_){const v=_,w=v.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...o,i],cause:v,place:i.position,ruleId:w,source:"rehype-katex"});try{T=vh.renderToString(m,{...e,displayMode:f,strict:"ignore",throwOnError:!1})}catch{T=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(_)},children:[{type:"text",value:m}]}]}}typeof T=="string"&&(T=JS(T).children);const C=p.children.indexOf(h);return p.children.splice(C,1,...T),W4})}}var Ft=(t=>(t.USER="user",t.MODEL="model",t))(Ft||{}),xo=(t=>(t.BLOCK_NONE="BLOCK_NONE",t.BLOCK_FEW="BLOCK_ONLY_HIGH",t.BLOCK_SOME="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_MOST="BLOCK_LOW_AND_ABOVE",t))(xo||{});const cT=({messages:t,isStreaming:e,onDeleteMessage:n,onRetryMessage:r})=>{const i=xe.useRef(null),o=xe.useRef(null),[l,s]=xe.useState(!0),a=f=>{const{scrollTop:p,scrollHeight:h,clientHeight:m}=f.currentTarget,T=h-p-m<50;s(T)};xe.useEffect(()=>{l&&i.current&&i.current.scrollIntoView({behavior:"smooth"})},[t,e,l]);const u=({text:f,className:p})=>{const[h,m]=u1.useState(!1),T=()=>{navigator.clipboard.writeText(f),m(!0),setTimeout(()=>m(!1),2e3)};return I.jsx("button",{onClick:T,className:`p-1.5 hover:bg-white/10 rounded-md transition-colors ${p}`,title:"Copy",children:I.jsx(me,{name:h?"Check":"Copy",size:14,className:h?"text-green-400":"text-onyx-textMuted"})})};return I.jsxs("div",{ref:o,onScroll:a,className:"flex-1 overflow-y-auto p-4 lg:p-8 space-y-6",children:[t.length===0&&I.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-onyx-textMuted opacity-60 animate-fade-in",children:[I.jsx(me,{name:"Sparkles",size:48,className:"mb-4 text-onyx-accent"}),I.jsx("p",{className:"text-lg font-medium",children:"Start a conversation"})]}),t.map(f=>I.jsxs("div",{className:`group flex gap-4 animate-slide-up relative ${f.role===Ft.USER?"flex-row-reverse":"flex-row"}`,children:[I.jsx("div",{className:`
            w-8 h-8 rounded-full flex items-center justify-center shrink-0 mt-2
            ${f.role===Ft.USER?"bg-white text-black":"bg-onyx-accent text-white"}
          `,children:I.jsx(me,{name:f.role===Ft.USER?"User":"Bot",size:16})}),I.jsxs("div",{className:"relative max-w-[85%] lg:max-w-[70%]",children:[I.jsxs("div",{className:`
                  absolute -top-3 ${f.role===Ft.USER?"right-0":"left-0"} 
                  flex items-center gap-1 px-1.5 py-1 
                  bg-onyx-surface border border-onyx-border rounded-lg shadow-xl
                  opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10
              `,children:[I.jsx(u,{text:f.text}),f.role===Ft.USER&&!e&&I.jsx("button",{onClick:()=>r(f.id),className:"p-1.5 hover:bg-white/10 rounded-md text-onyx-textMuted hover:text-white transition-colors",title:"Retry from here",children:I.jsx(me,{name:"RefreshCw",size:14})}),I.jsx("button",{onClick:()=>n(f.id),className:"p-1.5 hover:bg-red-500/20 rounded-md text-onyx-textMuted hover:text-red-400 transition-colors",title:"Delete message",children:I.jsx(me,{name:"Trash2",size:14})})]}),I.jsxs("div",{className:`
                rounded-2xl p-4 overflow-hidden
                ${f.role===Ft.USER?"bg-onyx-surfaceLight text-white rounded-tr-none":"bg-transparent text-white border border-onyx-border rounded-tl-none"}
              `,children:[f.images&&f.images.length>0&&I.jsx("div",{className:"flex gap-2 mb-3 flex-wrap",children:f.images.map((p,h)=>I.jsx("img",{src:p,alt:"Attachment",className:"h-32 w-auto rounded-lg border border-onyx-border"},h))}),f.isLoading&&!f.text?I.jsxs("div",{className:"flex gap-1.5 items-center py-1 px-1 h-6",children:[I.jsx("div",{className:"w-2 h-2 bg-onyx-textMuted rounded-full animate-bounce"}),I.jsx("div",{className:"w-2 h-2 bg-onyx-textMuted rounded-full animate-bounce delay-100"}),I.jsx("div",{className:"w-2 h-2 bg-onyx-textMuted rounded-full animate-bounce delay-200"})]}):I.jsx("div",{className:"markdown-body text-sm lg:text-base leading-relaxed",children:I.jsx(g9,{remarkPlugins:[NS],rehypePlugins:[[uT,{strict:!1}]],components:{code({node:p,className:h,children:m,...T}){return!/language-(\w+)/.exec(h||"")&&!String(m).includes(`
`)?I.jsx("code",{className:"bg-onyx-surfaceLight px-1.5 py-0.5 rounded text-pink-400 font-mono text-sm",...T,children:m}):I.jsxs("div",{className:"relative my-3 group/code",children:[I.jsx("pre",{className:"!bg-[#0d0d0d] !border !border-onyx-border !p-4 !rounded-xl overflow-x-auto text-sm",children:I.jsx("code",{className:h,...T,children:m})}),I.jsx("div",{className:"absolute top-2 right-2",children:I.jsx(u,{text:String(m),className:"bg-onyx-surface text-white"})})]})},p:({children:p})=>I.jsx("p",{className:"mb-3 last:mb-0",children:p}),ul:({children:p})=>I.jsx("ul",{className:"list-disc pl-4 mb-3 space-y-1",children:p}),ol:({children:p})=>I.jsx("ol",{className:"list-decimal pl-4 mb-3 space-y-1",children:p}),li:({children:p})=>I.jsx("li",{className:"pl-1",children:p}),a:({href:p,children:h})=>I.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:h})},children:f.text})})]})]})]},f.id)),I.jsx("div",{ref:i,className:"h-4"})]})},dT=({onSend:t,isLoading:e,disabled:n=!1})=>{const[r,i]=xe.useState(""),[o,l]=xe.useState([]),[s,a]=xe.useState(!1),u=xe.useRef(null),f=xe.useRef(null),p=_=>{i(_.target.value),u.current&&(u.current.style.height="auto",u.current.style.height=`${Math.min(u.current.scrollHeight,150)}px`)},h=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),_.stopPropagation(),C())},m=_=>{if(_.target.files&&_.target.files[0]){const v=_.target.files[0],w=new FileReader;w.onloadend=()=>{l(x=>[...x,w.result])},w.readAsDataURL(v)}_.target.value=""},T=_=>{l(v=>v.filter((w,x)=>x!==_))},C=()=>{!r.trim()&&o.length===0||e||n||(t(r,o,s),i(""),l([]),a(!1),u.current&&(u.current.style.height="auto"))};return I.jsx("div",{className:"p-4 bg-onyx-black border-t border-onyx-border",children:I.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-2",children:[o.length>0&&I.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:o.map((_,v)=>I.jsxs("div",{className:"relative group shrink-0",children:[I.jsx("img",{src:_,alt:"preview",className:"h-16 w-16 object-cover rounded-xl border border-onyx-border"}),I.jsx("button",{onClick:()=>T(v),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-lg",children:I.jsx(me,{name:"X",size:10})})]},v))}),I.jsxs("div",{className:`
             relative flex items-end gap-2 bg-onyx-surfaceLight p-2 rounded-3xl border border-onyx-border transition-colors
             ${n?"opacity-50 cursor-not-allowed":"focus-within:border-onyx-accent"}
        `,children:[I.jsx("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:m,disabled:n}),I.jsxs("div",{className:"flex flex-col gap-1 pb-1",children:[I.jsx("button",{onClick:()=>a(!s),className:`p-2 rounded-full transition-all ${s?"bg-blue-500/20 text-blue-400":"text-onyx-textMuted hover:text-white hover:bg-white/5"}`,title:"Toggle Google Search for this message",disabled:n,children:I.jsx(me,{name:"Globe",size:20,className:s?"drop-shadow-[0_0_8px_rgba(59,130,246,0.5)]":""})}),I.jsx("button",{onClick:()=>{var _;return(_=f.current)==null?void 0:_.click()},className:"p-2 text-onyx-textMuted hover:text-white rounded-full hover:bg-white/5 transition-colors",title:"Attach Image",disabled:n,children:I.jsx(me,{name:"Image",size:20})})]}),I.jsx("textarea",{ref:u,value:r,onChange:p,onKeyDown:h,disabled:n,placeholder:s?"Search the web with Onyx...":"Ask Onyx...",rows:1,className:"flex-1 bg-transparent border-0 focus:ring-0 text-white placeholder-onyx-textMuted resize-none py-3 max-h-[150px] scrollbar-hide",style:{minHeight:"44px"}}),I.jsx("button",{onClick:C,disabled:!r.trim()&&o.length===0||e||n,className:`
              p-3 rounded-full transition-all duration-200
              ${!r.trim()&&o.length===0||e||n?"bg-onyx-surface text-onyx-textMuted cursor-not-allowed":"bg-onyx-accent text-white shadow-lg shadow-blue-900/20 active:scale-95"}
            `,children:I.jsx(me,{name:"Send",size:24})})]})]})})},fT=[{value:"gemini-2.5-flash",label:"Gemini 2.5 Flash (Fast & Efficient)"},{value:"gemini-3-pro-preview",label:"Gemini 3.0 Pro (Complex Reasoning)"},{value:"gemini-2.5-flash-thinking",label:"Gemini 2.5 Flash Thinking"}],Ro=[{id:"nexus-omni",name:"NEXUS-OMNI",description:"Elite multi-disciplinary AI Orchestrator with maxed capabilities.",systemInstruction:`**Role:** You are "NEXUS-OMNI," an elite multi-disciplinary AI Orchestrator capable of dynamically switching between expert personas based on user intent.

**Primary Directive:** Your mission is not to dump information like an encyclopedia, but to act as an expert's assistant. The user is more knowledgeable than you and always has more context. Your role is to supplement their knowledge, perform tedious tasks for them, and accept their experience as the absolute truth. Arrogance, assumption, and sycophancy are your greatest enemies.

---

###  CORE BEHAVIORAL PROTOCOLS

#### 1. DO NOT ASSUME. ASSUME EXPERTISE.
- **Command:** When the user mentions a specific tool, concept, or process, assume they are an expert in it. Treat the user as a peer.
- **Forbidden:** Patronizing the user with unsolicited examples, analogies, or simplified explanations.
- **Solution:** If clarity is needed, ask targeted technical questions. Do not offer generic alternatives unless asked.

#### 2. PROACTIVE & LIBERAL TOOL USE
- **Command:** Operate under the assumption that your internal knowledge is unreliable. Actively and aggressively use "Browsing" tools to verify names, versions, URLs, and current events.
- **Forbidden:** Relying on pre-trained knowledge for volatile information.
- **Trigger:** Every query involving facts/code/news is a trigger for fresh research.

#### 3. PRINCIPLE OF INFORMATION DENSITY (Anti-Chatter)
- **Command:** Your value is measured in data-per-word. Begin responses with the critical answer.
- **Forbidden:** Filler text ("Certainly," "I hope this helps," "Here is the code"), introductory summaries, and semantic repetitions.
- **Structure:** Use bullet points, lists, and tables to deliver dense information efficiently.

#### 4. THE USER'S EXPERIENCE IS THE ABSOLUTE TRUTH
- **Command:** When a user states a solution failed or info is wrong, accept it immediately. Their reality is the ground truth.
- **Forbidden:** NEVER imply "user error" or defend outdated data.
- **Error Protocol:** Abandon previous logic -> Re-investigate from scratch -> Provide a new, verifiable solution.

---

###  EXPERT MODES LIBRARY (AUTO-ACTIVATE)

**[MODE A] SENIOR DEV & ARCHITECT** (Trigger: Code, SQL, Bugs, Regex, JSON)
- **Framework:**
  1. **Review:** Identify risks/inefficiencies first.
  2. **Plan:** Outline logic/pseudocode inside <PLAN> tags.
  3. **Execute:** Write production-ready, clean code.
  4. **Verify:** Explain "Root Cause" if debugging.

**[MODE B] STRATEGIC CEO & ANALYST** (Trigger: Decisions, Problems, Data, Business)
- **Frameworks:**
  - *Tree of Thoughts:* (Brainstorm -> Evaluate -> Select).
  - *Pre-Mortem:* (Assume failure -> Find causes -> Prevent).
  - *Decision Matrix:* (Cost vs Risk vs Speed vs Value).

**[MODE C] MASTER COPYWRITER & MARKETER** (Trigger: Emails, Sales, Blogs, Social)
- **Frameworks:**
  - *Hormozi Offer:* (Dream Outcome x Likelihood) / (Delay x Effort).
  - *FAB:* Features -> Advantages -> Benefits.
  - *Viral Hook:* Gap Theory (create curiosity).

**[MODE D] PRODUCTIVITY & HR COMMANDER** (Trigger: Editing, Minutes, Emails, CVs)
- **Frameworks:**
  - *Editor:* Cut word count by 30%, remove passive voice.
  - *Minutes:* Exec Summary -> Decisions -> Action Items (Table).
  - *HR:* ATS Optimization (Keywords + Action Verbs).

**[MODE E] VISUAL ART DIRECTOR** (Trigger: Image prompts, Logos, Design)
- **Format:** Subject + Environment + Tech Specs (Camera/Lens) + Style + Parameters (--ar, --v 6.0).

---

###  PRE-RESPONSE PLANNING (SILENT STEP)
Before generating any response, consciously determine:
1. **Intent:** What is the user's true goal?
2. **Format:** What is the most efficient format (list, table, code)?
3. **Detail:** What is the sufficient level of detail? (Avoid over-explaining).

###  OUTPUT FORMATTING RULES
1. **Code Blocks:** All reusable text (code, commands, filenames, emails) MUST be in code blocks.
2. **Language:** Process reasoning in English, but **Output in Turkish** (unless requested otherwise).
3. **No Fluff:** Start directly with the solution.

**User Input starts now. Analyze intent, activate mode, and execute:**`,model:"gemini-3-pro-preview",temperature:.5,topP:1,topK:64,thinkingBudget:32768,allowSearch:!0,icon:"Brain"},{id:"deep-research",name:"Deep Internet Analyst",description:"Autonomous agent that researches the web deeply before answering.",systemInstruction:`You are a Deep Internet Research Agent. 
1. Your primary tool is Google Search. USE IT AGGRESSIVELY for any query that is not purely creative writing.
2. Do not rely on internal knowledge for facts, news, code libraries, or events after 2023.
3. Verify information from multiple sources if possible.
4. Always cite your sources with URLs at the end of the response.
5. Structure your findings: Executive Summary -> Detailed Findings -> Sources.`,model:"gemini-3-pro-preview",temperature:.4,topP:.8,topK:40,thinkingBudget:16e3,allowSearch:!0,icon:"Globe"},{id:"default-assistant",name:"Onyx Assistant",description:"Helpful, concise, and intelligent general assistant.",systemInstruction:"You are Onyx, a helpful AI assistant. You answer concisely and accurately. You prefer to use Markdown for structuring responses.",model:"gemini-2.5-flash",temperature:.5,topP:.95,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Sparkles"},{id:"code-expert",name:"Senior Engineer",description:"Expert in React, TypeScript, and Python.",systemInstruction:"You are a Senior Software Engineer. You write clean, production-ready code. You prefer TypeScript and modern practices. Always explain your code briefly before or after the block.",model:"gemini-3-pro-preview",temperature:.2,topP:.8,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Code2"},{id:"creative-writer",name:"Creative Writer",description:"Storytelling, copywriting, and ideation.",systemInstruction:"You are a creative writer. You use evocative language, metaphors, and varied sentence structures. You are not afraid to be bold.",model:"gemini-3-pro-preview",temperature:1.2,topP:.98,topK:64,thinkingBudget:0,allowSearch:!1,icon:"PenTool"}];xo.BLOCK_NONE,xo.BLOCK_NONE,xo.BLOCK_NONE,xo.BLOCK_NONE;const Tu=({value:t,min:e,max:n,step:r,onChange:i,disabled:o=!1,className:l=""})=>{const s=xe.useRef(null),[a,u]=xe.useState(!1),f=Math.min(Math.max((t-e)/(n-e)*100,0),100),p=m=>{if(!s.current)return t;const T=s.current.getBoundingClientRect(),_=Math.max(0,Math.min(m-T.left,T.width))/T.width;let v=e+_*(n-e);if(r>0){const w=Math.round((v-e)/r);v=e+w*r}return Math.min(Math.max(v,e),n)},h=m=>{if(o)return;u(!0);const T=p(m);i(T)};return xe.useEffect(()=>{const m=C=>{if(!a)return;const _="touches"in C?C.touches[0].clientX:C.clientX,v=p(_);i(v)},T=()=>{u(!1)};return a&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",T),window.addEventListener("touchmove",m),window.addEventListener("touchend",T)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",T),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",T)}},[a,e,n,r,i]),I.jsx("div",{className:`w-full py-4 ${l} ${o?"opacity-50 cursor-not-allowed":""}`,ref:s,onMouseDown:m=>h(m.clientX),onTouchStart:m=>h(m.touches[0].clientX),children:I.jsxs("div",{className:"group relative flex w-full cursor-pointer items-center",children:[I.jsx("div",{className:"h-2 w-full rounded-full bg-onyx-surfaceLight border border-onyx-border overflow-hidden",children:I.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-slider-start to-slider-end shadow-glow transition-all duration-75 ease-out",style:{width:`${f}%`}})}),I.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 z-10",style:{left:`${f}%`,transform:"translate(-50%, -50%)"},children:I.jsxs("div",{className:"relative flex h-5 w-5 items-center justify-center",children:[I.jsx("div",{className:"absolute h-5 w-5 rounded-full bg-slider-end shadow-glow transition-transform duration-200 group-hover:scale-150 group-hover:shadow-glow-lg"}),I.jsx("div",{className:"relative h-2 w-2 rounded-full bg-white"})]})})]})})},pT=({personas:t,activePersonaId:e,defaultPersonaId:n,onSelectPersona:r,onSetDefaultPersona:i,onSavePersona:o,onDeletePersona:l})=>{const[s,a]=xe.useState(!1),[u,f]=xe.useState(Ro[0]),p=m=>{f(m?{...m,thinkingBudget:m.thinkingBudget||0,allowSearch:m.allowSearch||!1}:{id:crypto.randomUUID(),name:"New Persona",description:"",systemInstruction:"",model:"gemini-2.5-flash",temperature:.5,topP:.95,topK:40,thinkingBudget:0,allowSearch:!1,icon:"Bot"}),a(!0)},h=()=>{o(u),a(!1)};return s?I.jsxs("div",{className:"space-y-6 animate-fade-in p-1",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("h2",{className:"text-xl font-bold",children:"Edit Persona"}),I.jsx("button",{onClick:()=>a(!1),className:"text-sm text-onyx-textMuted hover:text-white",children:"Cancel"})]}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"Name"}),I.jsx("input",{type:"text",value:u.name,onChange:m=>f({...u,name:m.target.value}),className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-3 focus:outline-none focus:border-onyx-accent transition-colors"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"Model"}),I.jsx("select",{value:u.model,onChange:m=>f({...u,model:m.target.value}),className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-3 focus:outline-none focus:border-onyx-accent",children:fT.map(m=>I.jsx("option",{value:m.value,children:m.label},m.value))})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted mb-1",children:"System Instruction (The Prompt)"}),I.jsx("textarea",{value:u.systemInstruction,onChange:m=>f({...u,systemInstruction:m.target.value}),rows:4,className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-3 focus:outline-none focus:border-onyx-accent resize-none",placeholder:"e.g., You are an expert Python coder..."})]}),I.jsxs("div",{className:"p-4 bg-onyx-surfaceLight/30 border border-onyx-border rounded-xl space-y-4",children:[I.jsx("h3",{className:"text-xs font-bold uppercase text-onyx-textMuted tracking-wider mb-2",children:"Advanced Capabilities"}),I.jsxs("div",{children:[I.jsxs("div",{className:"flex justify-between mb-1",children:[I.jsxs("label",{className:"block text-xs uppercase text-onyx-textMuted flex items-center gap-1",children:[I.jsx(me,{name:"Lightbulb",size:12})," Thinking Budget"]}),I.jsxs("span",{className:"text-xs font-mono text-onyx-accent",children:[u.thinkingBudget," Tokens"]})]}),I.jsx(Tu,{min:0,max:32768,step:1024,value:u.thinkingBudget||0,onChange:m=>f({...u,thinkingBudget:m})}),I.jsx("p",{className:"text-[10px] text-onyx-textMuted mt-1",children:"Set to 0 to disable thinking. Max 32k for complex reasoning."})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("label",{className:"text-xs uppercase text-onyx-textMuted flex items-center gap-1",children:[I.jsx(me,{name:"Globe",size:12})," Google Search Grounding"]}),I.jsx("button",{onClick:()=>f({...u,allowSearch:!u.allowSearch}),className:"text-onyx-accent",children:I.jsx(me,{name:u.allowSearch?"ToggleRight":"ToggleLeft",size:28,className:u.allowSearch?"text-onyx-accent":"text-onyx-textMuted"})})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[I.jsxs("div",{children:[I.jsxs("div",{className:"flex justify-between mb-1",children:[I.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted",children:"Temperature"}),I.jsx("span",{className:"text-xs text-onyx-textMuted",children:u.temperature})]}),I.jsx(Tu,{min:0,max:2,step:.1,value:u.temperature,onChange:m=>f({...u,temperature:parseFloat(m.toFixed(1))})})]}),I.jsxs("div",{children:[I.jsxs("div",{className:"flex justify-between mb-1",children:[I.jsx("label",{className:"block text-xs uppercase text-onyx-textMuted",children:"Top P"}),I.jsx("span",{className:"text-xs text-onyx-textMuted",children:u.topP})]}),I.jsx(Tu,{min:0,max:1,step:.05,value:u.topP,onChange:m=>f({...u,topP:parseFloat(m.toFixed(2))})})]})]})]}),I.jsx("button",{onClick:h,className:"w-full py-3 bg-onyx-accent text-white rounded-xl font-bold hover:bg-blue-600 transition-colors",children:"Save Persona"})]}):I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsx("h3",{className:"text-sm font-bold uppercase text-onyx-textMuted tracking-wider",children:"Available Personas"}),I.jsxs("button",{onClick:()=>p(),className:"text-xs bg-onyx-surfaceLight hover:bg-onyx-border px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[I.jsx(me,{name:"Plus",size:12})," Create New"]})]}),I.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[400px] overflow-y-auto pr-1",children:t.map(m=>{const T=m.id===n,C=e===m.id;return I.jsx("div",{className:`
                        group p-4 rounded-2xl border transition-all cursor-pointer relative
                        ${C?"border-onyx-accent bg-onyx-accent/10":"border-onyx-border bg-onyx-surface hover:bg-onyx-surfaceLight"}
                    `,onClick:()=>r(m),children:I.jsxs("div",{className:"flex items-start gap-4",children:[I.jsxs("div",{className:`
                            p-3 rounded-xl relative
                            ${C?"bg-onyx-accent text-white":"bg-onyx-surfaceLight text-onyx-textMuted"}
                        `,children:[I.jsx(me,{name:m.icon,size:24}),T&&I.jsx("div",{className:"absolute -top-1.5 -right-1.5 bg-yellow-500 text-black p-0.5 rounded-full border border-black",title:"Default Persona",children:I.jsx(me,{name:"Star",size:10,className:"fill-current"})})]}),I.jsxs("div",{className:"flex-1 min-w-0 pr-16",children:[I.jsx("div",{className:"flex items-center gap-2",children:I.jsx("h4",{className:"font-bold truncate text-white",children:m.name})}),I.jsx("p",{className:"text-xs text-onyx-textMuted truncate mt-1",children:m.description}),I.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[I.jsx("span",{className:"text-[10px] bg-onyx-black/50 px-2 py-0.5 rounded border border-white/10 text-onyx-textMuted",children:m.model.replace("gemini-","")}),T&&I.jsxs("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-500 px-2 py-0.5 rounded border border-yellow-500/30 flex items-center gap-1",children:[I.jsx(me,{name:"Star",size:8})," Default"]}),m.allowSearch&&I.jsxs("span",{className:"text-[10px] bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded border border-blue-500/30 flex items-center gap-1",children:[I.jsx(me,{name:"Globe",size:8})," Web"]}),m.thinkingBudget&&m.thinkingBudget>0&&I.jsxs("span",{className:"text-[10px] bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded border border-purple-500/30 flex items-center gap-1",children:[I.jsx(me,{name:"Lightbulb",size:8})," Thinking"]})]})]}),I.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 items-end",children:[C&&I.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-onyx-accent font-bold uppercase tracking-wider mb-1",children:[I.jsx("div",{className:"w-1.5 h-1.5 bg-onyx-accent rounded-full animate-pulse"}),"Active"]}),I.jsxs("div",{className:"flex items-center gap-1 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity",children:[!T&&I.jsx("button",{onClick:_=>{_.stopPropagation(),i(m.id)},className:"p-1.5 bg-onyx-surfaceLight hover:bg-yellow-500/20 hover:text-yellow-400 rounded-lg transition-colors",title:"Set as Default for new chats",children:I.jsx(me,{name:"Star",size:14})}),I.jsx("button",{onClick:_=>{_.stopPropagation(),p(m)},className:"p-1.5 bg-onyx-surfaceLight hover:bg-white/20 text-onyx-textMuted hover:text-white rounded-lg transition-colors",title:"Edit",children:I.jsx(me,{name:"PenTool",size:14})}),!Ro.find(_=>_.id===m.id)&&I.jsx("button",{onClick:_=>{_.stopPropagation(),l(m.id)},className:"p-1.5 bg-onyx-surfaceLight hover:bg-red-500/20 hover:text-red-400 rounded-lg transition-colors",title:"Delete",children:I.jsx(me,{name:"Trash2",size:14})})]})]})]})},m.id)})})]})},hT=({isOpen:t,onClose:e,personas:n,activePersonaId:r,defaultPersonaId:i,onSelectPersona:o,onSetDefaultPersona:l,onSavePersona:s,onDeletePersona:a,globalMemory:u,onUpdateGlobalMemory:f,onSaveManualMemory:p,isUpdatingMemory:h,autoUpdateMemory:m,onToggleAutoUpdateMemory:T})=>{const[C,_]=xe.useState("personas"),[v,w]=xe.useState(u);return xe.useEffect(()=>{w(u)},[u]),t?I.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[I.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:e}),I.jsxs("div",{className:"relative bg-onyx-surface w-full max-w-lg rounded-3xl border border-onyx-border shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[I.jsxs("div",{className:"p-6 border-b border-onyx-border flex items-center justify-between bg-onyx-surface",children:[I.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),I.jsx("button",{onClick:e,className:"p-2 hover:bg-onyx-surfaceLight rounded-full transition-colors",children:I.jsx(me,{name:"X",size:20})})]}),I.jsxs("div",{className:"flex border-b border-onyx-border",children:[I.jsx("button",{onClick:()=>_("personas"),className:`flex-1 py-4 text-sm font-medium transition-colors border-b-2 ${C==="personas"?"border-onyx-accent text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"Personas"}),I.jsx("button",{onClick:()=>_("memory"),className:`flex-1 py-4 text-sm font-medium transition-colors border-b-2 ${C==="memory"?"border-pink-500 text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"Memory"}),I.jsx("button",{onClick:()=>_("general"),className:`flex-1 py-4 text-sm font-medium transition-colors border-b-2 ${C==="general"?"border-onyx-accent text-white":"border-transparent text-onyx-textMuted hover:text-white"}`,children:"Data"})]}),I.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[C==="general"&&I.jsx("div",{className:"space-y-6 animate-fade-in",children:I.jsxs("div",{className:"p-4 bg-onyx-surfaceLight rounded-xl border border-onyx-border",children:[I.jsx("h3",{className:"text-sm font-bold text-onyx-textMuted uppercase mb-2",children:"Application Data"}),I.jsx("p",{className:"text-xs text-onyx-textMuted mb-4",children:"Your chat history, personas, and memory are stored locally on your device's browser storage."}),I.jsx("button",{className:"w-full py-3 border border-red-500/30 bg-red-500/10 text-red-400 text-sm hover:bg-red-500/20 rounded-xl transition-colors",onClick:()=>{confirm("Clear all chat history and settings? This cannot be undone.")&&(localStorage.clear(),window.location.reload())},children:"Reset Application Data"})]})}),C==="personas"&&I.jsx(pT,{personas:n,activePersonaId:r,defaultPersonaId:i,onSelectPersona:o,onSetDefaultPersona:l,onSavePersona:s,onDeletePersona:a}),C==="memory"&&I.jsxs("div",{className:"space-y-6 animate-fade-in",children:[I.jsxs("div",{className:"bg-pink-500/10 border border-pink-500/20 p-4 rounded-xl flex items-start gap-3",children:[I.jsx(me,{name:"Brain",size:24,className:"text-pink-500 shrink-0 mt-1"}),I.jsxs("div",{children:[I.jsx("h3",{className:"font-bold text-pink-500 text-sm mb-1",children:'Global Memory ("Know Me")'}),I.jsx("p",{className:"text-xs text-onyx-textMuted",children:"Onyx automatically learns about you from your chats. You can consolidate all scattered facts into this single profile, which can be injected into new conversations."})]})]}),I.jsxs("div",{className:"bg-onyx-surfaceLight/30 border border-onyx-border p-4 rounded-xl flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("h4",{className:"text-xs font-bold uppercase text-onyx-textMuted mb-1",children:"Auto-Learn Instructions"}),I.jsx("p",{className:"text-[10px] text-onyx-textMuted max-w-[250px]",children:'If enabled, Onyx will detect phrases like "From now on..." or "My name is..." and automatically update your global memory.'})]}),I.jsx("button",{onClick:T,className:`transition-colors ${m?"text-pink-400":"text-onyx-textMuted"}`,children:I.jsx(me,{name:m?"ToggleRight":"ToggleLeft",size:32})})]}),I.jsxs("div",{children:[I.jsxs("div",{className:"flex justify-between items-center mb-2",children:[I.jsx("label",{className:"text-xs uppercase text-onyx-textMuted",children:"User Profile / Context"}),I.jsxs("button",{onClick:f,disabled:h,className:`
                                    text-xs flex items-center gap-1 px-3 py-1.5 rounded-lg border transition-all
                                    ${h?"bg-onyx-surface border-onyx-border text-onyx-textMuted cursor-wait":"bg-pink-600 hover:bg-pink-500 border-transparent text-white shadow-lg shadow-pink-900/20"}
                                `,children:[I.jsx(me,{name:"RefreshCw",size:12,className:h?"animate-spin":""}),h?"Consolidating...":"Beni Tan (Consolidate)"]})]}),I.jsx("textarea",{value:v,onChange:x=>w(x.target.value),onBlur:()=>p(v),rows:10,className:"w-full bg-onyx-surfaceLight border border-onyx-border rounded-xl p-4 text-sm focus:outline-none focus:border-pink-500 transition-colors font-mono",placeholder:"No memory established yet. Start chatting or type here manually."}),I.jsx("p",{className:"text-[10px] text-onyx-textMuted mt-2 text-right",children:"Changes are saved automatically when you click outside the text box."})]})]})]})]})]}):null},Ih=({currentPersona:t,personas:e,onSelect:n})=>{const[r,i]=xe.useState(!1),o=xe.useRef(null);return xe.useEffect(()=>{const l=s=>{o.current&&!o.current.contains(s.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),I.jsxs("div",{className:"relative",ref:o,children:[I.jsxs("button",{onClick:()=>i(!r),className:`
            flex items-center gap-2 px-3 lg:px-4 py-2 rounded-full text-xs font-medium transition-all duration-300 border
            ${r?"bg-onyx-surface border-onyx-accent text-white shadow-[0_0_20px_rgba(61,139,255,0.2)]":"bg-onyx-surfaceLight/80 backdrop-blur border-onyx-border hover:bg-onyx-surfaceLight text-onyx-textMuted hover:text-white"}
        `,children:[I.jsx(me,{name:t.icon,size:14,className:"text-onyx-accent"}),I.jsx("span",{className:"text-white truncate max-w-[80px] sm:max-w-none",children:t.name}),I.jsx("span",{className:"hidden sm:inline text-onyx-textMuted mx-1 opacity-50",children:"|"}),I.jsx("span",{className:"hidden sm:inline text-onyx-textMuted",children:t.model.replace("gemini-","")}),I.jsx(me,{name:"ChevronRight",size:12,className:`text-onyx-textMuted transition-transform duration-300 ${r?"rotate-90 text-white":""}`})]}),r&&I.jsxs("div",{className:"absolute right-0 top-full mt-3 w-72 lg:w-80 max-h-[60vh] overflow-y-auto bg-onyx-surface border border-onyx-border rounded-2xl shadow-2xl p-2 z-50 animate-slide-up flex flex-col gap-1 scrollbar-hide",children:[I.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[I.jsx("span",{className:"text-[10px] font-bold text-onyx-textMuted uppercase tracking-wider",children:"Switch Persona"}),I.jsxs("span",{className:"text-[10px] bg-onyx-surfaceLight px-1.5 py-0.5 rounded text-onyx-textMuted border border-onyx-border",children:[e.length," Available"]})]}),I.jsx("div",{className:"space-y-1",children:e.map(l=>{const s=l.id===t.id;return I.jsxs("button",{onClick:()=>{n(l),i(!1)},className:`
                                w-full flex items-center gap-3 p-3 rounded-xl transition-all text-left group
                                ${s?"bg-onyx-accent/10 border border-onyx-accent/40 shadow-inner":"hover:bg-onyx-surfaceLight border border-transparent"}
                            `,children:[I.jsx("div",{className:`
                                p-2.5 rounded-xl shrink-0 transition-colors
                                ${s?"bg-onyx-accent text-white shadow-lg shadow-blue-500/20":"bg-onyx-surfaceLight text-onyx-textMuted group-hover:bg-onyx-border group-hover:text-white"}
                            `,children:I.jsx(me,{name:l.icon,size:18})}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:`text-sm font-bold truncate ${s?"text-white":"text-onyx-text group-hover:text-white"}`,children:l.name}),s&&I.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-onyx-accent shadow-[0_0_5px_rgba(61,139,255,1)]"})]}),I.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:I.jsx("span",{className:"text-[10px] text-onyx-textMuted truncate bg-white/5 px-1.5 rounded border border-white/5",children:l.model.replace("gemini-","")})})]})]},l.id)})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mT,gT;function yT(){return{geminiUrl:mT,vertexUrl:gT}}function vT(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=yT();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zn{}function Q(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function d(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const s=l.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[s])){const a=t[s];if(Array.isArray(n))for(let u=0;u<a.length;u++){const f=a[u];d(f,e.slice(o+1),n[u])}else for(const u of a)d(u,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const s=l.slice(0,-3);s in t||(t[s]=[{}]);const a=t[s];d(a[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function c(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(s=>c(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function xT(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let s=-1;for(let a=0;a<i.length;a++)if(i[a]==="*"){s=a;break}if(s!==-1&&o.length>s)for(let a=s;a<o.length;a++){const u=o[a];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&l.add(u)}F0(t,i,o,0,l)}}function F0(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),s=t;if(l in s&&Array.isArray(s[l]))for(const a of s[l])F0(a,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,s=Object.keys(l).filter(u=>!u.startsWith("_")&&!i.has(u)),a={};for(const u of s)a[u]=l[u];for(const[u,f]of Object.entries(a)){const p=[];for(const h of n.slice(r))h==="*"?p.push(u):p.push(h);d(l,p,f)}for(const u of s)delete l[u]}}else{const l=t;o in l&&F0(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wT(t){const e={},n=c(t,["operationName"]);n!=null&&d(e,["operationName"],n);const r=c(t,["resourceName"]);return r!=null&&d(e,["_url","resourceName"],r),e}function ST(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const l=c(t,["response","generateVideoResponse"]);return l!=null&&d(e,["response"],CT(l)),e}function TT(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const l=c(t,["response"]);return l!=null&&d(e,["response"],ET(l)),e}function CT(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>kT(l))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function ET(t){const e={},n=c(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>AT(l))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function kT(t){const e={},n=c(t,["video"]);return n!=null&&d(e,["video"],PT(n)),e}function AT(t){const e={},n=c(t,["_self"]);return n!=null&&d(e,["video"],RT(n)),e}function IT(t){const e={},n=c(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function MT(t){const e={},n=c(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function _T(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const l=c(t,["response"]);return l!=null&&d(e,["response"],bT(l)),e}function bT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["parent"]);r!=null&&d(e,["parent"],r);const i=c(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function ey(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const l=c(t,["response"]);return l!=null&&d(e,["response"],NT(l)),e}function NT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["parent"]);r!=null&&d(e,["parent"],r);const i=c(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function PT(t){const e={},n=c(t,["uri"]);n!=null&&d(e,["uri"],n);const r=c(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],Cd(r));const i=c(t,["encoding"]);return i!=null&&d(e,["mimeType"],i),e}function RT(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],Cd(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mh;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Mh||(Mh={}));var _h;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_h||(_h={}));var bh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(bh||(bh={}));var dr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(dr||(dr={}));var Nh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Nh||(Nh={}));var Ph;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ph||(Ph={}));var Rh;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Rh||(Rh={}));var Dh;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Dh||(Dh={}));var Lh;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Lh||(Lh={}));var zh;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(zh||(zh={}));var Fh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fh||(Fh={}));var Uh;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Uh||(Uh={}));var Bh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Bh||(Bh={}));var qh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(qh||(qh={}));var Vh;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Vh||(Vh={}));var Hh;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hh||(Hh={}));var Oh;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Oh||(Oh={}));var Gh;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Gh||(Gh={}));var $h;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($h||($h={}));var Us;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Us||(Us={}));var Jh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jh||(Jh={}));var Wh;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Wh||(Wh={}));var Yh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Yh||(Yh={}));var U0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(U0||(U0={}));var Kh;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Kh||(Kh={}));var Xh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xh||(Xh={}));var Qh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Qh||(Qh={}));var Zh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Zh||(Zh={}));var jh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jh||(jh={}));var em;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(em||(em={}));var tm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(tm||(tm={}));var nm;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(nm||(nm={}));var rm;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(rm||(rm={}));var im;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(im||(im={}));var om;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(om||(om={}));var lm;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(lm||(lm={}));var sm;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sm||(sm={}));var am;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(am||(am={}));var um;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(um||(um={}));var cm;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(cm||(cm={}));var dm;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(dm||(dm={}));var fm;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fm||(fm={}));var pm;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(pm||(pm={}));var hm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(hm||(hm={}));var mm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(mm||(mm={}));var gm;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(gm||(gm={}));var ym;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ym||(ym={}));var vm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(vm||(vm={}));var xm;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(xm||(xm={}));var wm;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wm||(wm={}));var Sm;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Sm||(Sm={}));var Tm;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Tm||(Tm={}));var Cm;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Cm||(Cm={}));var Em;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Em||(Em={}));var xi;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(xi||(xi={}));class B0{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class po{get text(){var e,n,r,i,o,l,s,a;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",f=!1;const p=[];for(const h of(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&a!==void 0?a:[]){for(const[m,T]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(T!==null||T!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,u+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var e,n,r,i,o,l,s,a;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const f=[];for(const p of(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&a!==void 0?a:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,l,s,a;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,l,s,a,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(u=f==null?void 0:f[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,l,s,a,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(u=f==null?void 0:f[0])===null||u===void 0?void 0:u.output}}class km{}class Am{}class DT{}class LT{}class zT{}class FT{}class Im{}class Mm{}class _m{}class UT{}class Bs{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Bs;let i;const o=e;return n?i=TT(o):i=ST(o),Object.assign(r,i),r}}class bm{}class Nm{}class Pm{}class BT{}class qT{}class VT{}class Ed{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ed,o=_T(e);return Object.assign(r,o),r}}class HT{}class OT{}class GT{}class Rm{}class $T{get text(){var e,n,r;let i="",o=!1;const l=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,u]of Object.entries(s))a!=="text"&&a!=="thought"&&u!==null&&l.push(a);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,a]of Object.entries(l))s!=="inlineData"&&a!==null&&o.push(s);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class JT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class kd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new kd,o=ey(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ce(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ty(t,e){const n=Ce(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ny(t){return Array.isArray(t)?t.map(e=>qs(e)):[qs(t)]}function qs(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ry(t){const e=qs(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iy(t){const e=qs(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Dm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function oy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Dm(e)):[Dm(t)]}function q0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Lm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function zm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ft(t){if(t==null)throw new Error("ContentUnion is required");return q0(t)?t:{role:"user",parts:oy(t)}}function Ad(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ft(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ft(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ft(n)):[ft(e)]}function jt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Lm(t)||zm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ft(t)]}const e=[],n=[],r=q0(t[0]);for(const i of t){const o=q0(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(Lm(i)||zm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:oy(n)}),e}function WT(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(dr).includes(n[0].toUpperCase())?n[0].toUpperCase():dr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(dr).includes(r.toUpperCase())?r.toUpperCase():dr.TYPE_UNSPECIFIED})}}function _i(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&WT(t.type,e);for(const[l,s]of Object.entries(t))if(s!=null)if(l=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(dr).includes(s.toUpperCase())?s.toUpperCase():dr.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=_i(s);else if(r.includes(l)){const a=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}a.push(_i(u))}e[l]=a}else if(i.includes(l)){const a={};for(const[u,f]of Object.entries(s))a[u]=_i(f);e[l]=a}else{if(l==="additionalProperties")continue;e[l]=s}return e}function Id(t){return _i(t)}function Md(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _d(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Wi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=_i(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=_i(e.response));return t}function Yi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function YT(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function jn(t,e){if(typeof e!="string")throw new Error("name must be a string");return YT(t,e,"cachedContents")}function ly(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function br(t){return Cd(t)}function KT(t){return t!=null&&typeof t=="object"&&"name"in t}function XT(t){return t!=null&&typeof t=="object"&&"video"in t}function QT(t){return t!=null&&typeof t=="object"&&"uri"in t}function sy(t){var e;let n;if(KT(t)&&(n=t.name),!(QT(t)&&(n=t.uri,n===void 0))&&!(XT(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ay(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function uy(t){for(const e of["models","tunedModels","publisherModels"])if(ZT(t,e))return t[e];return[]}function ZT(t,e){return t!==null&&typeof t=="object"&&e in t}function jT(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function eC(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=jT(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function cy(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function tC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function dy(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const a=l.response;if(typeof a!="object"||a===null)continue;if(a.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ki(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function fy(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nC(t){const e={},n=c(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const r=c(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>zC(l))),d(e,["inlinedResponses"],o)}const i=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["inlinedEmbedContentResponses"],o)}return e}function rC(t){const e={},n=c(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const r=c(t,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const i=c(t,["bigqueryDestination","outputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function iC(t){const e={},n=c(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const r=c(t,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const i=c(t,["bigqueryUri"]);if(i!=null&&d(e,["bigqueryDestination","outputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function is(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["metadata","state"]);i!=null&&d(e,["state"],fy(i));const o=c(t,["metadata","createTime"]);o!=null&&d(e,["createTime"],o);const l=c(t,["metadata","endTime"]);l!=null&&d(e,["endTime"],l);const s=c(t,["metadata","updateTime"]);s!=null&&d(e,["updateTime"],s);const a=c(t,["metadata","model"]);a!=null&&d(e,["model"],a);const u=c(t,["metadata","output"]);return u!=null&&d(e,["dest"],nC(dy(u))),e}function V0(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["state"]);i!=null&&d(e,["state"],fy(i));const o=c(t,["error"]);o!=null&&d(e,["error"],o);const l=c(t,["createTime"]);l!=null&&d(e,["createTime"],l);const s=c(t,["startTime"]);s!=null&&d(e,["startTime"],s);const a=c(t,["endTime"]);a!=null&&d(e,["endTime"],a);const u=c(t,["updateTime"]);u!=null&&d(e,["updateTime"],u);const f=c(t,["model"]);f!=null&&d(e,["model"],f);const p=c(t,["inputConfig"]);p!=null&&d(e,["src"],oC(p));const h=c(t,["outputConfig"]);h!=null&&d(e,["dest"],rC(dy(h)));const m=c(t,["completionStats"]);return m!=null&&d(e,["completionStats"],m),e}function oC(t){const e={},n=c(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const r=c(t,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const i=c(t,["bigquerySource","inputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function lC(t,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=c(e,["fileName"]);r!=null&&d(n,["fileName"],r);const i=c(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>LC(t,l))),d(n,["requests","requests"],o)}return n}function sC(t){const e={},n=c(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const r=c(t,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const i=c(t,["bigqueryUri"]);if(i!=null&&d(e,["bigquerySource","inputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function aC(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function uC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ki(t,r)),n}function cC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ki(t,r)),n}function dC(t){const e={},n=c(t,["content"]);n!=null&&d(e,["content"],n);const r=c(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],fC(r));const i=c(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const o=c(t,["finishReason"]);o!=null&&d(e,["finishReason"],o);const l=c(t,["avgLogprobs"]);l!=null&&d(e,["avgLogprobs"],l);const s=c(t,["groundingMetadata"]);s!=null&&d(e,["groundingMetadata"],s);const a=c(t,["index"]);a!=null&&d(e,["index"],a);const u=c(t,["logprobsResult"]);u!=null&&d(e,["logprobsResult"],u);const f=c(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["safetyRatings"],h)}const p=c(t,["urlContextMetadata"]);return p!=null&&d(e,["urlContextMetadata"],p),e}function fC(t){const e={},n=c(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["citations"],r)}return e}function py(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>OC(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function pC(t,e){const n={},r=c(t,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function hC(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=c(t,["dest"]);return e!==void 0&&i!=null&&d(e,["outputConfig"],iC(tC(i))),n}function Fm(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["src"]);i!=null&&d(n,["batch","inputConfig"],lC(t,cy(t,i)));const o=c(e,["config"]);return o!=null&&pC(o,n),n}function mC(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["model"],Ce(t,r));const i=c(e,["src"]);i!=null&&d(n,["inputConfig"],sC(cy(t,i)));const o=c(e,["config"]);return o!=null&&hC(o,n),n}function gC(t,e){const n={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["batch","displayName"],r),n}function yC(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["src"]);i!=null&&d(n,["batch","inputConfig"],EC(t,i));const o=c(e,["config"]);return o!=null&&gC(o,n),n}function vC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ki(t,r)),n}function xC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ki(t,r)),n}function wC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);return o!=null&&d(e,["error"],o),e}function SC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);return o!=null&&d(e,["error"],o),e}function TC(t,e){const n={},r=c(e,["contents"]);if(r!=null){let o=Ad(t,r);Array.isArray(o)&&(o=o.map(l=>l)),d(n,["requests[]","request","content"],o)}const i=c(e,["config"]);return i!=null&&(d(n,["_self"],CC(i,n)),xT(n,{"requests[].*":"requests[].request.*"})),n}function CC(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&d(e,["requests[]","title"],i);const o=c(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&d(e,["requests[]","outputDimensionality"],o),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function EC(t,e){const n={},r=c(e,["fileName"]);r!=null&&d(n,["file_name"],r);const i=c(e,["inlinedRequests"]);return i!=null&&d(n,["requests"],TC(t,i)),n}function kC(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function AC(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IC(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function MC(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],py(ft(i)));const o=c(e,["temperature"]);o!=null&&d(r,["temperature"],o);const l=c(e,["topP"]);l!=null&&d(r,["topP"],l);const s=c(e,["topK"]);s!=null&&d(r,["topK"],s);const a=c(e,["candidateCount"]);a!=null&&d(r,["candidateCount"],a);const u=c(e,["maxOutputTokens"]);u!=null&&d(r,["maxOutputTokens"],u);const f=c(e,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const p=c(e,["responseLogprobs"]);p!=null&&d(r,["responseLogprobs"],p);const h=c(e,["logprobs"]);h!=null&&d(r,["logprobs"],h);const m=c(e,["presencePenalty"]);m!=null&&d(r,["presencePenalty"],m);const T=c(e,["frequencyPenalty"]);T!=null&&d(r,["frequencyPenalty"],T);const C=c(e,["seed"]);C!=null&&d(r,["seed"],C);const _=c(e,["responseMimeType"]);_!=null&&d(r,["responseMimeType"],_);const v=c(e,["responseSchema"]);v!=null&&d(r,["responseSchema"],Id(v));const w=c(e,["responseJsonSchema"]);if(w!=null&&d(r,["responseJsonSchema"],w),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=c(e,["safetySettings"]);if(n!==void 0&&x!=null){let H=x;Array.isArray(H)&&(H=H.map(ne=>GC(ne))),d(n,["safetySettings"],H)}const k=c(e,["tools"]);if(n!==void 0&&k!=null){let H=Yi(k);Array.isArray(H)&&(H=H.map(ne=>JC(Wi(ne)))),d(n,["tools"],H)}const D=c(e,["toolConfig"]);if(n!==void 0&&D!=null&&d(n,["toolConfig"],$C(D)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=c(e,["cachedContent"]);n!==void 0&&M!=null&&d(n,["cachedContent"],jn(t,M));const L=c(e,["responseModalities"]);L!=null&&d(r,["responseModalities"],L);const U=c(e,["mediaResolution"]);U!=null&&d(r,["mediaResolution"],U);const F=c(e,["speechConfig"]);if(F!=null&&d(r,["speechConfig"],Md(F)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=c(e,["thinkingConfig"]);q!=null&&d(r,["thinkingConfig"],q);const O=c(e,["imageConfig"]);return O!=null&&d(r,["imageConfig"],DC(O)),r}function _C(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>dC(u))),d(e,["candidates"],a)}const i=c(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=c(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const l=c(t,["responseId"]);l!=null&&d(e,["responseId"],l);const s=c(t,["usageMetadata"]);return s!=null&&d(e,["usageMetadata"],s),e}function bC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ki(t,r)),n}function NC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ki(t,r)),n}function PC(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function RC(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function DC(t){const e={},n=c(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=c(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function LC(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["request","model"],Ce(t,r));const i=c(e,["contents"]);if(i!=null){let s=jt(i);Array.isArray(s)&&(s=s.map(a=>py(a))),d(n,["request","contents"],s)}const o=c(e,["metadata"]);o!=null&&d(n,["metadata"],o);const l=c(e,["config"]);return l!=null&&d(n,["request","generationConfig"],MC(t,l,c(n,["request"],{}))),n}function zC(t){const e={},n=c(t,["response"]);n!=null&&d(e,["response"],_C(n));const r=c(t,["error"]);return r!=null&&d(e,["error"],r),e}function FC(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);if(e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function UC(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=c(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),n}function BC(t){const e={},n=c(t,["config"]);return n!=null&&FC(n,e),e}function qC(t){const e={},n=c(t,["config"]);return n!=null&&UC(n,e),e}function VC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>is(l))),d(e,["batchJobs"],o)}return e}function HC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>V0(l))),d(e,["batchJobs"],o)}return e}function OC(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],kC(o));const l=c(t,["functionCall"]);l!=null&&d(e,["functionCall"],AC(l));const s=c(t,["functionResponse"]);s!=null&&d(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&d(e,["inlineData"],aC(a));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const f=c(t,["thought"]);f!=null&&d(e,["thought"],f);const p=c(t,["thoughtSignature"]);p!=null&&d(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function GC(t){const e={},n=c(t,["category"]);if(n!=null&&d(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function $C(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],IC(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function JC(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&d(e,["googleMaps"],PC(s));const a=c(t,["googleSearch"]);a!=null&&d(e,["googleSearch"],RC(a));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Kn||(Kn={}));class jr{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC extends Zn{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new jr(Kn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Fm(this.apiClient,e),r=n._url,i=Q("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,a=s.requests,u=[];for(const f of a){const p=Object.assign({},f);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}u.push(p)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=mC(this.apiClient,e);return s=Q("batchPredictionJobs",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>V0(f))}else{const u=Fm(this.apiClient,e);return s=Q("{model}:batchGenerateContent",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>is(f))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=yC(this.apiClient,e);return o=Q("{model}:asyncBatchEmbedContent",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>is(a))}}async get(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=NC(this.apiClient,e);return s=Q("batchPredictionJobs/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>V0(f))}else{const u=bC(this.apiClient,e);return s=Q("batches/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>is(f))}}async cancel(e){var n,r,i,o;let l="",s={};if(this.apiClient.isVertexAI()){const a=cC(this.apiClient,e);l=Q("batchPredictionJobs/{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const a=uC(this.apiClient,e);l=Q("batches/{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=qC(e);return s=Q("batchPredictionJobs",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=HC(f),h=new Rm;return Object.assign(h,p),h})}else{const u=BC(e);return s=Q("batches",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=VC(f),h=new Rm;return Object.assign(h,p),h})}}async delete(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=xC(this.apiClient,e);return s=Q("batchPredictionJobs/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>SC(f))}else{const u=vC(this.apiClient,e);return s=Q("batches/{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>wC(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YC(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Um(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yE(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function KC(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const o=c(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const l=c(t,["contents"]);if(e!==void 0&&l!=null){let f=jt(l);Array.isArray(f)&&(f=f.map(p=>Um(p))),d(e,["contents"],f)}const s=c(t,["systemInstruction"]);e!==void 0&&s!=null&&d(e,["systemInstruction"],Um(ft(s)));const a=c(t,["tools"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>xE(p))),d(e,["tools"],f)}const u=c(t,["toolConfig"]);if(e!==void 0&&u!=null&&d(e,["toolConfig"],vE(u)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function XC(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const o=c(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const l=c(t,["contents"]);if(e!==void 0&&l!=null){let p=jt(l);Array.isArray(p)&&(p=p.map(h=>h)),d(e,["contents"],p)}const s=c(t,["systemInstruction"]);e!==void 0&&s!=null&&d(e,["systemInstruction"],ft(s));const a=c(t,["tools"]);if(e!==void 0&&a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>wE(h))),d(e,["tools"],p)}const u=c(t,["toolConfig"]);e!==void 0&&u!=null&&d(e,["toolConfig"],u);const f=c(t,["kmsKeyName"]);return e!==void 0&&f!=null&&d(e,["encryption_spec","kmsKeyName"],f),n}function QC(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["model"],ty(t,r));const i=c(e,["config"]);return i!=null&&KC(i,n),n}function ZC(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["model"],ty(t,r));const i=c(e,["config"]);return i!=null&&XC(i,n),n}function jC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],jn(t,r)),n}function eE(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],jn(t,r)),n}function tE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function nE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function rE(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function iE(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oE(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lE(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&d(e,["description"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const l=c(t,["response"]);l!=null&&d(e,["response"],l);const s=c(t,["responseJsonSchema"]);return s!=null&&d(e,["responseJsonSchema"],s),e}function sE(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],jn(t,r)),n}function aE(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],jn(t,r)),n}function uE(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function cE(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function dE(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function fE(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function pE(t){const e={},n=c(t,["config"]);return n!=null&&dE(n,e),e}function hE(t){const e={},n=c(t,["config"]);return n!=null&&fE(n,e),e}function mE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["cachedContents"],o)}return e}function gE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["cachedContents"],o)}return e}function yE(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],rE(o));const l=c(t,["functionCall"]);l!=null&&d(e,["functionCall"],iE(l));const s=c(t,["functionResponse"]);s!=null&&d(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&d(e,["inlineData"],YC(a));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const f=c(t,["thought"]);f!=null&&d(e,["thought"],f);const p=c(t,["thoughtSignature"]);p!=null&&d(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function vE(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],oE(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function xE(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&d(e,["googleMaps"],uE(s));const a=c(t,["googleSearch"]);a!=null&&d(e,["googleSearch"],cE(a));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}function wE(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>lE(h))),d(e,["functionDeclarations"],p)}const r=c(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=c(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(t,["codeExecution"]);l!=null&&d(e,["codeExecution"],l);const s=c(t,["enterpriseWebSearch"]);s!=null&&d(e,["enterpriseWebSearch"],s);const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],a);const u=c(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],u);const f=c(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function SE(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function TE(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function CE(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],jn(t,r));const i=c(e,["config"]);return i!=null&&SE(i,n),n}function EE(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],jn(t,r));const i=c(e,["config"]);return i!=null&&TE(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kE extends Zn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jr(Kn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=ZC(this.apiClient,e);return s=Q("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const u=QC(this.apiClient,e);return s=Q("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=aE(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const u=sE(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=eE(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=nE(f),h=new Nm;return Object.assign(h,p),h})}else{const u=jC(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=tE(f),h=new Nm;return Object.assign(h,p),h})}}async update(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=EE(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const u=CE(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=hE(e);return s=Q("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=gE(f),h=new Pm;return Object.assign(h,p),h})}else{const u=pE(e);return s=Q("cachedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=mE(f),h=new Pm;return Object.assign(h,p),h})}}}function Bm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(t){return this instanceof De?(this.v=t,this):new De(t)}function bi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(m){return function(T){return Promise.resolve(T).then(m,p)}}function s(m,T){r[m]&&(i[m]=function(C){return new Promise(function(_,v){o.push([m,C,_,v])>1||a(m,C)})},T&&(i[m]=T(i[m])))}function a(m,T){try{u(r[m](T))}catch(C){h(o[0][3],C)}}function u(m){m.value instanceof De?Promise.resolve(m.value.v).then(f,p):h(o[0][2],m)}function f(m){a("next",m)}function p(m){a("throw",m)}function h(m,T){m(T),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Do(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bm=="function"?Bm(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(s,a){l=t[o](l),i(s,a,l.done,l.value)})}}function i(o,l,s,a){Promise.resolve(a).then(function(u){o({value:u,done:s})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:hy(n)}function hy(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function IE(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function qm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!hy(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class ME{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new _E(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _E{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),IE(o)}async sendMessage(e){var n;await this.sendPromise;const r=ft(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,s;const a=await i,u=(l=(o=a.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,f=a.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];f!=null&&(h=(s=f.slice(p))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=ft(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?qm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return bi(this,arguments,function*(){var l,s,a,u;const f=[];try{for(var p=!0,h=Do(e),m;m=yield De(h.next()),l=m.done,!l;p=!0){u=m.value,p=!1;const T=u;if(AE(T)){const C=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&f.push(C)}yield yield De(T)}}catch(T){s={error:T}}finally{try{!p&&!l&&(a=h.return)&&(yield De(a.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...qm(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ga extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ga.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bE(t){const e={},n=c(t,["file"]);return n!=null&&d(e,["file"],n),e}function NE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function PE(t){const e={},n=c(t,["name"]);return n!=null&&d(e,["_url","file"],sy(n)),e}function RE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function DE(t){const e={},n=c(t,["name"]);return n!=null&&d(e,["_url","file"],sy(n)),e}function LE(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function zE(t){const e={},n=c(t,["config"]);return n!=null&&LE(n,e),e}function FE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UE extends Zn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jr(Kn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zE(e);return o=Q("files",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const u=FE(a),f=new HT;return Object.assign(f,u),f})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bE(e);return o=Q("upload/v1beta/files",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=NE(a),f=new OT;return Object.assign(f,u),f})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=DE(e);return o=Q("files/{file}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=PE(e);return o=Q("files/{file}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const u=RE(a),f=new GT;return Object.assign(f,u),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function os(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function BE(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tk(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function qE(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function VE(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HE(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&d(e,["description"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const l=c(t,["response"]);l!=null&&d(e,["response"],l);const s=c(t,["responseJsonSchema"]);return s!=null&&d(e,["responseJsonSchema"],s),e}function OE(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=c(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const i=c(t,["audioTimestamp"]);i!=null&&d(e,["audioTimestamp"],i);const o=c(t,["candidateCount"]);o!=null&&d(e,["candidateCount"],o);const l=c(t,["enableAffectiveDialog"]);l!=null&&d(e,["enableAffectiveDialog"],l);const s=c(t,["frequencyPenalty"]);s!=null&&d(e,["frequencyPenalty"],s);const a=c(t,["logprobs"]);a!=null&&d(e,["logprobs"],a);const u=c(t,["maxOutputTokens"]);u!=null&&d(e,["maxOutputTokens"],u);const f=c(t,["mediaResolution"]);f!=null&&d(e,["mediaResolution"],f);const p=c(t,["presencePenalty"]);p!=null&&d(e,["presencePenalty"],p);const h=c(t,["responseLogprobs"]);h!=null&&d(e,["responseLogprobs"],h);const m=c(t,["responseMimeType"]);m!=null&&d(e,["responseMimeType"],m);const T=c(t,["responseModalities"]);T!=null&&d(e,["responseModalities"],T);const C=c(t,["responseSchema"]);C!=null&&d(e,["responseSchema"],C);const _=c(t,["routingConfig"]);_!=null&&d(e,["routingConfig"],_);const v=c(t,["seed"]);v!=null&&d(e,["seed"],v);const w=c(t,["speechConfig"]);w!=null&&d(e,["speechConfig"],my(w));const x=c(t,["stopSequences"]);x!=null&&d(e,["stopSequences"],x);const k=c(t,["temperature"]);k!=null&&d(e,["temperature"],k);const D=c(t,["thinkingConfig"]);D!=null&&d(e,["thinkingConfig"],D);const M=c(t,["topK"]);M!=null&&d(e,["topK"],M);const L=c(t,["topP"]);if(L!=null&&d(e,["topP"],L),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function GE(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function $E(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function JE(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const l=c(t,["topP"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","topP"],l);const s=c(t,["topK"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topK"],s);const a=c(t,["maxOutputTokens"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","maxOutputTokens"],a);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","mediaResolution"],u);const f=c(t,["seed"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","seed"],f);const p=c(t,["speechConfig"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","speechConfig"],_d(p));const h=c(t,["thinkingConfig"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","thinkingConfig"],h);const m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],m);const T=c(t,["systemInstruction"]);e!==void 0&&T!=null&&d(e,["setup","systemInstruction"],BE(ft(T)));const C=c(t,["tools"]);if(e!==void 0&&C!=null){let M=Yi(C);Array.isArray(M)&&(M=M.map(L=>rk(Wi(L)))),d(e,["setup","tools"],M)}const _=c(t,["sessionResumption"]);e!==void 0&&_!=null&&d(e,["setup","sessionResumption"],nk(_));const v=c(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&d(e,["setup","inputAudioTranscription"],v);const w=c(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","outputAudioTranscription"],w);const x=c(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&d(e,["setup","realtimeInputConfig"],x);const k=c(t,["contextWindowCompression"]);e!==void 0&&k!=null&&d(e,["setup","contextWindowCompression"],k);const D=c(t,["proactivity"]);return e!==void 0&&D!=null&&d(e,["setup","proactivity"],D),n}function WE(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],OE(r));const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const l=c(t,["topP"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","topP"],l);const s=c(t,["topK"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topK"],s);const a=c(t,["maxOutputTokens"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","maxOutputTokens"],a);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","mediaResolution"],u);const f=c(t,["seed"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","seed"],f);const p=c(t,["speechConfig"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","speechConfig"],my(_d(p)));const h=c(t,["thinkingConfig"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","thinkingConfig"],h);const m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],m);const T=c(t,["systemInstruction"]);e!==void 0&&T!=null&&d(e,["setup","systemInstruction"],ft(T));const C=c(t,["tools"]);if(e!==void 0&&C!=null){let M=Yi(C);Array.isArray(M)&&(M=M.map(L=>ik(Wi(L)))),d(e,["setup","tools"],M)}const _=c(t,["sessionResumption"]);e!==void 0&&_!=null&&d(e,["setup","sessionResumption"],_);const v=c(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&d(e,["setup","inputAudioTranscription"],v);const w=c(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","outputAudioTranscription"],w);const x=c(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&d(e,["setup","realtimeInputConfig"],x);const k=c(t,["contextWindowCompression"]);e!==void 0&&k!=null&&d(e,["setup","contextWindowCompression"],k);const D=c(t,["proactivity"]);return e!==void 0&&D!=null&&d(e,["setup","proactivity"],D),n}function YE(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["setup","model"],Ce(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],JE(i,n)),n}function KE(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["setup","model"],Ce(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],WE(i,n)),n}function XE(t){const e={},n=c(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],n),e}function QE(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["weightedPrompts"],r)}return e}function ZE(t){const e={},n=c(t,["media"]);if(n!=null){let u=ny(n);Array.isArray(u)&&(u=u.map(f=>os(f))),d(e,["mediaChunks"],u)}const r=c(t,["audio"]);r!=null&&d(e,["audio"],os(iy(r)));const i=c(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const o=c(t,["video"]);o!=null&&d(e,["video"],os(ry(o)));const l=c(t,["text"]);l!=null&&d(e,["text"],l);const s=c(t,["activityStart"]);s!=null&&d(e,["activityStart"],s);const a=c(t,["activityEnd"]);return a!=null&&d(e,["activityEnd"],a),e}function jE(t){const e={},n=c(t,["media"]);if(n!=null){let u=ny(n);Array.isArray(u)&&(u=u.map(f=>f)),d(e,["mediaChunks"],u)}const r=c(t,["audio"]);r!=null&&d(e,["audio"],iy(r));const i=c(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const o=c(t,["video"]);o!=null&&d(e,["video"],ry(o));const l=c(t,["text"]);l!=null&&d(e,["text"],l);const s=c(t,["activityStart"]);s!=null&&d(e,["activityStart"],s);const a=c(t,["activityEnd"]);return a!=null&&d(e,["activityEnd"],a),e}function ek(t){const e={},n=c(t,["setupComplete"]);n!=null&&d(e,["setupComplete"],n);const r=c(t,["serverContent"]);r!=null&&d(e,["serverContent"],r);const i=c(t,["toolCall"]);i!=null&&d(e,["toolCall"],i);const o=c(t,["toolCallCancellation"]);o!=null&&d(e,["toolCallCancellation"],o);const l=c(t,["usageMetadata"]);l!=null&&d(e,["usageMetadata"],ok(l));const s=c(t,["goAway"]);s!=null&&d(e,["goAway"],s);const a=c(t,["sessionResumptionUpdate"]);return a!=null&&d(e,["sessionResumptionUpdate"],a),e}function tk(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],qE(o));const l=c(t,["functionCall"]);l!=null&&d(e,["functionCall"],VE(l));const s=c(t,["functionResponse"]);s!=null&&d(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&d(e,["inlineData"],os(a));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const f=c(t,["thought"]);f!=null&&d(e,["thought"],f);const p=c(t,["thoughtSignature"]);p!=null&&d(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function nk(t){const e={},n=c(t,["handle"]);if(n!=null&&d(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function my(t){const e={},n=c(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=c(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rk(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&d(e,["googleMaps"],GE(s));const a=c(t,["googleSearch"]);a!=null&&d(e,["googleSearch"],$E(a));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}function ik(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>HE(h))),d(e,["functionDeclarations"],p)}const r=c(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=c(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(t,["codeExecution"]);l!=null&&d(e,["codeExecution"],l);const s=c(t,["enterpriseWebSearch"]);s!=null&&d(e,["enterpriseWebSearch"],s);const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],a);const u=c(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],u);const f=c(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function ok(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=c(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const i=c(t,["candidatesTokenCount"]);i!=null&&d(e,["responseTokenCount"],i);const o=c(t,["toolUsePromptTokenCount"]);o!=null&&d(e,["toolUsePromptTokenCount"],o);const l=c(t,["thoughtsTokenCount"]);l!=null&&d(e,["thoughtsTokenCount"],l);const s=c(t,["totalTokenCount"]);s!=null&&d(e,["totalTokenCount"],s);const a=c(t,["promptTokensDetails"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(T=>T)),d(e,["promptTokensDetails"],m)}const u=c(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(T=>T)),d(e,["cacheTokensDetails"],m)}const f=c(t,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(T=>T)),d(e,["responseTokensDetails"],m)}const p=c(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(T=>T)),d(e,["toolUsePromptTokensDetails"],m)}const h=c(t,["trafficType"]);return h!=null&&d(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lk(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function sk(t){const e={},n=c(t,["content"]);n!=null&&d(e,["content"],n);const r=c(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],ak(r));const i=c(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const o=c(t,["finishReason"]);o!=null&&d(e,["finishReason"],o);const l=c(t,["avgLogprobs"]);l!=null&&d(e,["avgLogprobs"],l);const s=c(t,["groundingMetadata"]);s!=null&&d(e,["groundingMetadata"],s);const a=c(t,["index"]);a!=null&&d(e,["index"],a);const u=c(t,["logprobsResult"]);u!=null&&d(e,["logprobsResult"],u);const f=c(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["safetyRatings"],h)}const p=c(t,["urlContextMetadata"]);return p!=null&&d(e,["urlContextMetadata"],p),e}function ak(t){const e={},n=c(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["citations"],r)}return e}function uk(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["contents"]);if(i!=null){let o=jt(i);Array.isArray(o)&&(o=o.map(l=>l)),d(n,["contents"],o)}return n}function ck(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["tokensInfo"],i)}return e}function dk(t){const e={},n=c(t,["values"]);n!=null&&d(e,["values"],n);const r=c(t,["statistics"]);return r!=null&&d(e,["statistics"],fk(r)),e}function fk(t){const e={},n=c(t,["truncated"]);n!=null&&d(e,["truncated"],n);const r=c(t,["token_count"]);return r!=null&&d(e,["tokenCount"],r),e}function ya(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SA(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function pk(t){const e={},n=c(t,["controlType"]);n!=null&&d(e,["controlType"],n);const r=c(t,["enableControlImageComputation"]);return r!=null&&d(e,["computeControl"],r),e}function hk(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function mk(t,e){const n={},r=c(t,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],ft(r));const i=c(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>wy(s))),d(e,["tools"],l)}const o=c(t,["generationConfig"]);return e!==void 0&&o!=null&&d(e,["generationConfig"],lA(o)),n}function gk(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["contents"]);if(i!=null){let l=jt(i);Array.isArray(l)&&(l=l.map(s=>ya(s))),d(n,["contents"],l)}const o=c(e,["config"]);return o!=null&&hk(o),n}function yk(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["contents"]);if(i!=null){let l=jt(i);Array.isArray(l)&&(l=l.map(s=>s)),d(n,["contents"],l)}const o=c(e,["config"]);return o!=null&&mk(o,n),n}function vk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["totalTokens"]);r!=null&&d(e,["totalTokens"],r);const i=c(t,["cachedContentTokenCount"]);return i!=null&&d(e,["cachedContentTokenCount"],i),e}function xk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["totalTokens"]);return r!=null&&d(e,["totalTokens"],r),e}function wk(t,e){const n={},r=c(e,["model"]);return r!=null&&d(n,["_url","name"],Ce(t,r)),n}function Sk(t,e){const n={},r=c(e,["model"]);return r!=null&&d(n,["_url","name"],Ce(t,r)),n}function Tk(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Ck(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Ek(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const o=c(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l);const s=c(t,["guidanceScale"]);e!==void 0&&s!=null&&d(e,["parameters","guidanceScale"],s);const a=c(t,["seed"]);e!==void 0&&a!=null&&d(e,["parameters","seed"],a);const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&d(e,["parameters","safetySetting"],u);const f=c(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const p=c(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&d(e,["parameters","includeSafetyAttributes"],p);const h=c(t,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const m=c(t,["language"]);e!==void 0&&m!=null&&d(e,["parameters","language"],m);const T=c(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const C=c(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","compressionQuality"],C);const _=c(t,["addWatermark"]);e!==void 0&&_!=null&&d(e,["parameters","addWatermark"],_);const v=c(t,["labels"]);e!==void 0&&v!=null&&d(e,["labels"],v);const w=c(t,["editMode"]);e!==void 0&&w!=null&&d(e,["parameters","editMode"],w);const x=c(t,["baseSteps"]);return e!==void 0&&x!=null&&d(e,["parameters","editConfig","baseSteps"],x),n}function kk(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>IA(a))),d(n,["instances[0]","referenceImages"],s)}const l=c(e,["config"]);return l!=null&&Ek(l,n),n}function Ak(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>va(o))),d(e,["generatedImages"],i)}return e}function Ik(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&d(e,["requests[]","title"],i);const o=c(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&d(e,["requests[]","outputDimensionality"],o),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Mk(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&d(e,["instances[]","task_type"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&d(e,["instances[]","title"],i);const o=c(t,["outputDimensionality"]);e!==void 0&&o!=null&&d(e,["parameters","outputDimensionality"],o);const l=c(t,["mimeType"]);e!==void 0&&l!=null&&d(e,["instances[]","mimeType"],l);const s=c(t,["autoTruncate"]);return e!==void 0&&s!=null&&d(e,["parameters","autoTruncate"],s),n}function _k(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["contents"]);if(i!=null){let s=Ad(t,i);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["requests[]","content"],s)}const o=c(e,["config"]);o!=null&&Ik(o,n);const l=c(e,["model"]);return l!==void 0&&d(n,["requests[]","model"],Ce(t,l)),n}function bk(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["contents"]);if(i!=null){let l=Ad(t,i);Array.isArray(l)&&(l=l.map(s=>s)),d(n,["instances[]","content"],l)}const o=c(e,["config"]);return o!=null&&Mk(o,n),n}function Nk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["embeddings"],o)}const i=c(t,["metadata"]);return i!=null&&d(e,["metadata"],i),e}function Pk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>dk(l))),d(e,["embeddings"],o)}const i=c(t,["metadata"]);return i!=null&&d(e,["metadata"],i),e}function Rk(t){const e={},n=c(t,["endpoint"]);n!=null&&d(e,["name"],n);const r=c(t,["deployedModelId"]);return r!=null&&d(e,["deployedModelId"],r),e}function Dk(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Lk(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zk(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Fk(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&d(e,["description"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const l=c(t,["response"]);l!=null&&d(e,["response"],l);const s=c(t,["responseJsonSchema"]);return s!=null&&d(e,["responseJsonSchema"],s),e}function Uk(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],ya(ft(i)));const o=c(e,["temperature"]);o!=null&&d(r,["temperature"],o);const l=c(e,["topP"]);l!=null&&d(r,["topP"],l);const s=c(e,["topK"]);s!=null&&d(r,["topK"],s);const a=c(e,["candidateCount"]);a!=null&&d(r,["candidateCount"],a);const u=c(e,["maxOutputTokens"]);u!=null&&d(r,["maxOutputTokens"],u);const f=c(e,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const p=c(e,["responseLogprobs"]);p!=null&&d(r,["responseLogprobs"],p);const h=c(e,["logprobs"]);h!=null&&d(r,["logprobs"],h);const m=c(e,["presencePenalty"]);m!=null&&d(r,["presencePenalty"],m);const T=c(e,["frequencyPenalty"]);T!=null&&d(r,["frequencyPenalty"],T);const C=c(e,["seed"]);C!=null&&d(r,["seed"],C);const _=c(e,["responseMimeType"]);_!=null&&d(r,["responseMimeType"],_);const v=c(e,["responseSchema"]);v!=null&&d(r,["responseSchema"],Id(v));const w=c(e,["responseJsonSchema"]);if(w!=null&&d(r,["responseJsonSchema"],w),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=c(e,["safetySettings"]);if(n!==void 0&&x!=null){let H=x;Array.isArray(H)&&(H=H.map(ne=>MA(ne))),d(n,["safetySettings"],H)}const k=c(e,["tools"]);if(n!==void 0&&k!=null){let H=Yi(k);Array.isArray(H)&&(H=H.map(ne=>LA(Wi(ne)))),d(n,["tools"],H)}const D=c(e,["toolConfig"]);if(n!==void 0&&D!=null&&d(n,["toolConfig"],DA(D)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=c(e,["cachedContent"]);n!==void 0&&M!=null&&d(n,["cachedContent"],jn(t,M));const L=c(e,["responseModalities"]);L!=null&&d(r,["responseModalities"],L);const U=c(e,["mediaResolution"]);U!=null&&d(r,["mediaResolution"],U);const F=c(e,["speechConfig"]);if(F!=null&&d(r,["speechConfig"],Md(F)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=c(e,["thinkingConfig"]);q!=null&&d(r,["thinkingConfig"],q);const O=c(e,["imageConfig"]);return O!=null&&d(r,["imageConfig"],dA(O)),r}function Bk(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],ft(i));const o=c(e,["temperature"]);o!=null&&d(r,["temperature"],o);const l=c(e,["topP"]);l!=null&&d(r,["topP"],l);const s=c(e,["topK"]);s!=null&&d(r,["topK"],s);const a=c(e,["candidateCount"]);a!=null&&d(r,["candidateCount"],a);const u=c(e,["maxOutputTokens"]);u!=null&&d(r,["maxOutputTokens"],u);const f=c(e,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const p=c(e,["responseLogprobs"]);p!=null&&d(r,["responseLogprobs"],p);const h=c(e,["logprobs"]);h!=null&&d(r,["logprobs"],h);const m=c(e,["presencePenalty"]);m!=null&&d(r,["presencePenalty"],m);const T=c(e,["frequencyPenalty"]);T!=null&&d(r,["frequencyPenalty"],T);const C=c(e,["seed"]);C!=null&&d(r,["seed"],C);const _=c(e,["responseMimeType"]);_!=null&&d(r,["responseMimeType"],_);const v=c(e,["responseSchema"]);v!=null&&d(r,["responseSchema"],Id(v));const w=c(e,["responseJsonSchema"]);w!=null&&d(r,["responseJsonSchema"],w);const x=c(e,["routingConfig"]);x!=null&&d(r,["routingConfig"],x);const k=c(e,["modelSelectionConfig"]);k!=null&&d(r,["modelConfig"],k);const D=c(e,["safetySettings"]);if(n!==void 0&&D!=null){let fe=D;Array.isArray(fe)&&(fe=fe.map(ve=>ve)),d(n,["safetySettings"],fe)}const M=c(e,["tools"]);if(n!==void 0&&M!=null){let fe=Yi(M);Array.isArray(fe)&&(fe=fe.map(ve=>wy(Wi(ve)))),d(n,["tools"],fe)}const L=c(e,["toolConfig"]);n!==void 0&&L!=null&&d(n,["toolConfig"],L);const U=c(e,["labels"]);n!==void 0&&U!=null&&d(n,["labels"],U);const F=c(e,["cachedContent"]);n!==void 0&&F!=null&&d(n,["cachedContent"],jn(t,F));const q=c(e,["responseModalities"]);q!=null&&d(r,["responseModalities"],q);const O=c(e,["mediaResolution"]);O!=null&&d(r,["mediaResolution"],O);const H=c(e,["speechConfig"]);H!=null&&d(r,["speechConfig"],xy(Md(H)));const ne=c(e,["audioTimestamp"]);ne!=null&&d(r,["audioTimestamp"],ne);const se=c(e,["thinkingConfig"]);se!=null&&d(r,["thinkingConfig"],se);const ie=c(e,["imageConfig"]);return ie!=null&&d(r,["imageConfig"],fA(ie)),r}function Vm(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["contents"]);if(i!=null){let l=jt(i);Array.isArray(l)&&(l=l.map(s=>ya(s))),d(n,["contents"],l)}const o=c(e,["config"]);return o!=null&&d(n,["generationConfig"],Uk(t,o,n)),n}function Hm(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["contents"]);if(i!=null){let l=jt(i);Array.isArray(l)&&(l=l.map(s=>s)),d(n,["contents"],l)}const o=c(e,["config"]);return o!=null&&d(n,["generationConfig"],Bk(t,o,n)),n}function Om(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>sk(u))),d(e,["candidates"],a)}const i=c(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=c(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const l=c(t,["responseId"]);l!=null&&d(e,["responseId"],l);const s=c(t,["usageMetadata"]);return s!=null&&d(e,["usageMetadata"],s),e}function Gm(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["candidates"],u)}const i=c(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=c(t,["modelVersion"]);o!=null&&d(e,["modelVersion"],o);const l=c(t,["promptFeedback"]);l!=null&&d(e,["promptFeedback"],l);const s=c(t,["responseId"]);s!=null&&d(e,["responseId"],s);const a=c(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function qk(t,e){const n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=c(t,["aspectRatio"]);e!==void 0&&i!=null&&d(e,["parameters","aspectRatio"],i);const o=c(t,["guidanceScale"]);if(e!==void 0&&o!=null&&d(e,["parameters","guidanceScale"],o),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=c(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&d(e,["parameters","safetySetting"],l);const s=c(t,["personGeneration"]);e!==void 0&&s!=null&&d(e,["parameters","personGeneration"],s);const a=c(t,["includeSafetyAttributes"]);e!==void 0&&a!=null&&d(e,["parameters","includeSafetyAttributes"],a);const u=c(t,["includeRaiReason"]);e!==void 0&&u!=null&&d(e,["parameters","includeRaiReason"],u);const f=c(t,["language"]);e!==void 0&&f!=null&&d(e,["parameters","language"],f);const p=c(t,["outputMimeType"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","mimeType"],p);const h=c(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&d(e,["parameters","outputOptions","compressionQuality"],h),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=c(t,["imageSize"]);if(e!==void 0&&m!=null&&d(e,["parameters","sampleImageSize"],m),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Vk(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const o=c(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l);const s=c(t,["guidanceScale"]);e!==void 0&&s!=null&&d(e,["parameters","guidanceScale"],s);const a=c(t,["seed"]);e!==void 0&&a!=null&&d(e,["parameters","seed"],a);const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&d(e,["parameters","safetySetting"],u);const f=c(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const p=c(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&d(e,["parameters","includeSafetyAttributes"],p);const h=c(t,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const m=c(t,["language"]);e!==void 0&&m!=null&&d(e,["parameters","language"],m);const T=c(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const C=c(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","compressionQuality"],C);const _=c(t,["addWatermark"]);e!==void 0&&_!=null&&d(e,["parameters","addWatermark"],_);const v=c(t,["labels"]);e!==void 0&&v!=null&&d(e,["labels"],v);const w=c(t,["imageSize"]);e!==void 0&&w!=null&&d(e,["parameters","sampleImageSize"],w);const x=c(t,["enhancePrompt"]);return e!==void 0&&x!=null&&d(e,["parameters","enhancePrompt"],x),n}function Hk(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["config"]);return o!=null&&qk(o,n),n}function Ok(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["config"]);return o!=null&&Vk(o,n),n}function Gk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>nA(l))),d(e,["generatedImages"],o)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],yy(i)),e}function $k(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>va(l))),d(e,["generatedImages"],o)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],vy(i)),e}function Jk(t,e){const n={},r=c(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=c(t,["durationSeconds"]);if(e!==void 0&&i!=null&&d(e,["parameters","durationSeconds"],i),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=c(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const l=c(t,["resolution"]);e!==void 0&&l!=null&&d(e,["parameters","resolution"],l);const s=c(t,["personGeneration"]);if(e!==void 0&&s!=null&&d(e,["parameters","personGeneration"],s),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const u=c(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&d(e,["parameters","enhancePrompt"],u),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=c(t,["lastFrame"]);e!==void 0&&f!=null&&d(e,["instances[0]","lastFrame"],xa(f));const p=c(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>YA(m))),d(e,["instances[0]","referenceImages"],h)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Wk(t,e){const n={},r=c(t,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=c(t,["fps"]);e!==void 0&&o!=null&&d(e,["parameters","fps"],o);const l=c(t,["durationSeconds"]);e!==void 0&&l!=null&&d(e,["parameters","durationSeconds"],l);const s=c(t,["seed"]);e!==void 0&&s!=null&&d(e,["parameters","seed"],s);const a=c(t,["aspectRatio"]);e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a);const u=c(t,["resolution"]);e!==void 0&&u!=null&&d(e,["parameters","resolution"],u);const f=c(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const p=c(t,["pubsubTopic"]);e!==void 0&&p!=null&&d(e,["parameters","pubsubTopic"],p);const h=c(t,["negativePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","negativePrompt"],h);const m=c(t,["enhancePrompt"]);e!==void 0&&m!=null&&d(e,["parameters","enhancePrompt"],m);const T=c(t,["generateAudio"]);e!==void 0&&T!=null&&d(e,["parameters","generateAudio"],T);const C=c(t,["lastFrame"]);e!==void 0&&C!=null&&d(e,["instances[0]","lastFrame"],gn(C));const _=c(t,["referenceImages"]);if(e!==void 0&&_!=null){let x=_;Array.isArray(x)&&(x=x.map(k=>KA(k))),d(e,["instances[0]","referenceImages"],x)}const v=c(t,["mask"]);e!==void 0&&v!=null&&d(e,["instances[0]","mask"],WA(v));const w=c(t,["compressionQuality"]);return e!==void 0&&w!=null&&d(e,["parameters","compressionQuality"],w),n}function Yk(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const l=c(t,["response","generateVideoResponse"]);return l!=null&&d(e,["response"],Zk(l)),e}function Kk(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const l=c(t,["response"]);return l!=null&&d(e,["response"],jk(l)),e}function Xk(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["image"]);o!=null&&d(n,["instances[0]","image"],xa(o));const l=c(e,["video"]);l!=null&&d(n,["instances[0]","video"],Sy(l));const s=c(e,["source"]);s!=null&&eA(s,n);const a=c(e,["config"]);return a!=null&&Jk(a,n),n}function Qk(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["image"]);o!=null&&d(n,["instances[0]","image"],gn(o));const l=c(e,["video"]);l!=null&&d(n,["instances[0]","video"],Ty(l));const s=c(e,["source"]);s!=null&&tA(s,n);const a=c(e,["config"]);return a!=null&&Wk(a,n),n}function Zk(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>iA(l))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function jk(t){const e={},n=c(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>oA(l))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function eA(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],xa(i));const o=c(t,["video"]);return e!==void 0&&o!=null&&d(e,["instances[0]","video"],Sy(o)),n}function tA(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],gn(i));const o=c(t,["video"]);return e!==void 0&&o!=null&&d(e,["instances[0]","video"],Ty(o)),n}function nA(t){const e={},n=c(t,["_self"]);n!=null&&d(e,["image"],pA(n));const r=c(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=c(t,["_self"]);return i!=null&&d(e,["safetyAttributes"],yy(i)),e}function va(t){const e={},n=c(t,["_self"]);n!=null&&d(e,["image"],gy(n));const r=c(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=c(t,["_self"]);i!=null&&d(e,["safetyAttributes"],vy(i));const o=c(t,["prompt"]);return o!=null&&d(e,["enhancedPrompt"],o),e}function rA(t){const e={},n=c(t,["_self"]);n!=null&&d(e,["mask"],gy(n));const r=c(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["labels"],i)}return e}function iA(t){const e={},n=c(t,["video"]);return n!=null&&d(e,["video"],$A(n)),e}function oA(t){const e={},n=c(t,["_self"]);return n!=null&&d(e,["video"],JA(n)),e}function lA(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=c(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const i=c(t,["audioTimestamp"]);i!=null&&d(e,["audioTimestamp"],i);const o=c(t,["candidateCount"]);o!=null&&d(e,["candidateCount"],o);const l=c(t,["enableAffectiveDialog"]);l!=null&&d(e,["enableAffectiveDialog"],l);const s=c(t,["frequencyPenalty"]);s!=null&&d(e,["frequencyPenalty"],s);const a=c(t,["logprobs"]);a!=null&&d(e,["logprobs"],a);const u=c(t,["maxOutputTokens"]);u!=null&&d(e,["maxOutputTokens"],u);const f=c(t,["mediaResolution"]);f!=null&&d(e,["mediaResolution"],f);const p=c(t,["presencePenalty"]);p!=null&&d(e,["presencePenalty"],p);const h=c(t,["responseLogprobs"]);h!=null&&d(e,["responseLogprobs"],h);const m=c(t,["responseMimeType"]);m!=null&&d(e,["responseMimeType"],m);const T=c(t,["responseModalities"]);T!=null&&d(e,["responseModalities"],T);const C=c(t,["responseSchema"]);C!=null&&d(e,["responseSchema"],C);const _=c(t,["routingConfig"]);_!=null&&d(e,["routingConfig"],_);const v=c(t,["seed"]);v!=null&&d(e,["seed"],v);const w=c(t,["speechConfig"]);w!=null&&d(e,["speechConfig"],xy(w));const x=c(t,["stopSequences"]);x!=null&&d(e,["stopSequences"],x);const k=c(t,["temperature"]);k!=null&&d(e,["temperature"],k);const D=c(t,["thinkingConfig"]);D!=null&&d(e,["thinkingConfig"],D);const M=c(t,["topK"]);M!=null&&d(e,["topK"],M);const L=c(t,["topP"]);if(L!=null&&d(e,["topP"],L),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sA(t,e){const n={},r=c(e,["model"]);return r!=null&&d(n,["_url","name"],Ce(t,r)),n}function aA(t,e){const n={},r=c(e,["model"]);return r!=null&&d(n,["_url","name"],Ce(t,r)),n}function uA(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function cA(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function dA(t){const e={},n=c(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=c(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fA(t){const e={},n=c(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=c(t,["imageSize"]);r!=null&&d(e,["imageSize"],r);const i=c(t,["outputMimeType"]);i!=null&&d(e,["imageOutputOptions","mimeType"],i);const o=c(t,["outputCompressionQuality"]);return o!=null&&d(e,["imageOutputOptions","compressionQuality"],o),e}function pA(t){const e={},n=c(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],br(n));const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function gy(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],br(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function xa(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],br(n));const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function gn(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=c(t,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],br(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function hA(t,e,n){const r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=c(e,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const l=c(e,["filter"]);n!==void 0&&l!=null&&d(n,["_query","filter"],l);const s=c(e,["queryBase"]);return n!==void 0&&s!=null&&d(n,["_url","models_url"],ay(t,s)),r}function mA(t,e,n){const r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=c(e,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const l=c(e,["filter"]);n!==void 0&&l!=null&&d(n,["_query","filter"],l);const s=c(e,["queryBase"]);return n!==void 0&&s!=null&&d(n,["_url","models_url"],ay(t,s)),r}function gA(t,e){const n={},r=c(e,["config"]);return r!=null&&hA(t,r,n),n}function yA(t,e){const n={},r=c(e,["config"]);return r!=null&&mA(t,r,n),n}function vA(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["_self"]);if(i!=null){let o=uy(i);Array.isArray(o)&&(o=o.map(l=>H0(l))),d(e,["models"],o)}return e}function xA(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["_self"]);if(i!=null){let o=uy(i);Array.isArray(o)&&(o=o.map(l=>O0(l))),d(e,["models"],o)}return e}function wA(t){const e={},n=c(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const r=c(t,["segmentationClasses"]);r!=null&&d(e,["maskClasses"],r);const i=c(t,["maskDilation"]);return i!=null&&d(e,["dilation"],i),e}function H0(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);i!=null&&d(e,["description"],i);const o=c(t,["version"]);o!=null&&d(e,["version"],o);const l=c(t,["_self"]);l!=null&&d(e,["tunedModelInfo"],zA(l));const s=c(t,["inputTokenLimit"]);s!=null&&d(e,["inputTokenLimit"],s);const a=c(t,["outputTokenLimit"]);a!=null&&d(e,["outputTokenLimit"],a);const u=c(t,["supportedGenerationMethods"]);u!=null&&d(e,["supportedActions"],u);const f=c(t,["temperature"]);f!=null&&d(e,["temperature"],f);const p=c(t,["maxTemperature"]);p!=null&&d(e,["maxTemperature"],p);const h=c(t,["topP"]);h!=null&&d(e,["topP"],h);const m=c(t,["topK"]);m!=null&&d(e,["topK"],m);const T=c(t,["thinking"]);return T!=null&&d(e,["thinking"],T),e}function O0(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);i!=null&&d(e,["description"],i);const o=c(t,["versionId"]);o!=null&&d(e,["version"],o);const l=c(t,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>Rk(h))),d(e,["endpoints"],p)}const s=c(t,["labels"]);s!=null&&d(e,["labels"],s);const a=c(t,["_self"]);a!=null&&d(e,["tunedModelInfo"],FA(a));const u=c(t,["defaultCheckpointId"]);u!=null&&d(e,["defaultCheckpointId"],u);const f=c(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),d(e,["checkpoints"],p)}return e}function SA(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],Dk(o));const l=c(t,["functionCall"]);l!=null&&d(e,["functionCall"],Lk(l));const s=c(t,["functionResponse"]);s!=null&&d(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&d(e,["inlineData"],lk(a));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const f=c(t,["thought"]);f!=null&&d(e,["thought"],f);const p=c(t,["thoughtSignature"]);p!=null&&d(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function TA(t){const e={},n=c(t,["productImage"]);return n!=null&&d(e,["image"],gn(n)),e}function CA(t,e){const n={},r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=c(t,["baseSteps"]);e!==void 0&&i!=null&&d(e,["parameters","baseSteps"],i);const o=c(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const l=c(t,["seed"]);e!==void 0&&l!=null&&d(e,["parameters","seed"],l);const s=c(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const a=c(t,["personGeneration"]);e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a);const u=c(t,["addWatermark"]);e!==void 0&&u!=null&&d(e,["parameters","addWatermark"],u);const f=c(t,["outputMimeType"]);e!==void 0&&f!=null&&d(e,["parameters","outputOptions","mimeType"],f);const p=c(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","compressionQuality"],p);const h=c(t,["enhancePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","enhancePrompt"],h);const m=c(t,["labels"]);return e!==void 0&&m!=null&&d(e,["labels"],m),n}function EA(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["source"]);i!=null&&AA(i,n);const o=c(e,["config"]);return o!=null&&CA(o,n),n}function kA(t){const e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>va(i))),d(e,["generatedImages"],r)}return e}function AA(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["personImage"]);e!==void 0&&i!=null&&d(e,["instances[0]","personImage","image"],gn(i));const o=c(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>TA(s))),d(e,["instances[0]","productImages"],l)}return n}function IA(t){const e={},n=c(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],gn(n));const r=c(t,["referenceId"]);r!=null&&d(e,["referenceId"],r);const i=c(t,["referenceType"]);i!=null&&d(e,["referenceType"],i);const o=c(t,["maskImageConfig"]);o!=null&&d(e,["maskImageConfig"],wA(o));const l=c(t,["controlImageConfig"]);l!=null&&d(e,["controlImageConfig"],pk(l));const s=c(t,["styleImageConfig"]);s!=null&&d(e,["styleImageConfig"],s);const a=c(t,["subjectImageConfig"]);return a!=null&&d(e,["subjectImageConfig"],a),e}function yy(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=c(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=c(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function vy(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=c(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=c(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function MA(t){const e={},n=c(t,["category"]);if(n!=null&&d(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function _A(t){const e={},n=c(t,["image"]);return n!=null&&d(e,["image"],gn(n)),e}function bA(t,e){const n={},r=c(t,["mode"]);e!==void 0&&r!=null&&d(e,["parameters","mode"],r);const i=c(t,["maxPredictions"]);e!==void 0&&i!=null&&d(e,["parameters","maxPredictions"],i);const o=c(t,["confidenceThreshold"]);e!==void 0&&o!=null&&d(e,["parameters","confidenceThreshold"],o);const l=c(t,["maskDilation"]);e!==void 0&&l!=null&&d(e,["parameters","maskDilation"],l);const s=c(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&d(e,["parameters","binaryColorThreshold"],s);const a=c(t,["labels"]);return e!==void 0&&a!=null&&d(e,["labels"],a),n}function NA(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["source"]);i!=null&&RA(i,n);const o=c(e,["config"]);return o!=null&&bA(o,n),n}function PA(t){const e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rA(i))),d(e,["generatedMasks"],r)}return e}function RA(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],gn(i));const o=c(t,["scribbleImage"]);return e!==void 0&&o!=null&&d(e,["instances[0]","scribble"],_A(o)),n}function xy(t){const e={},n=c(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=c(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function DA(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],zk(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function LA(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&d(e,["googleMaps"],uA(s));const a=c(t,["googleSearch"]);a!=null&&d(e,["googleSearch"],cA(a));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}function wy(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Fk(h))),d(e,["functionDeclarations"],p)}const r=c(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=c(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(t,["codeExecution"]);l!=null&&d(e,["codeExecution"],l);const s=c(t,["enterpriseWebSearch"]);s!=null&&d(e,["enterpriseWebSearch"],s);const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],a);const u=c(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],u);const f=c(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function zA(t){const e={},n=c(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=c(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=c(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function FA(t){const e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const r=c(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=c(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function UA(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const o=c(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&d(e,["defaultCheckpointId"],o),n}function BA(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const o=c(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&d(e,["defaultCheckpointId"],o),n}function qA(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","name"],Ce(t,r));const i=c(e,["config"]);return i!=null&&UA(i,n),n}function VA(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["config"]);return i!=null&&BA(i,n),n}function HA(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=c(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&d(e,["parameters","safetySetting"],i);const o=c(t,["personGeneration"]);e!==void 0&&o!=null&&d(e,["parameters","personGeneration"],o);const l=c(t,["includeRaiReason"]);e!==void 0&&l!=null&&d(e,["parameters","includeRaiReason"],l);const s=c(t,["outputMimeType"]);e!==void 0&&s!=null&&d(e,["parameters","outputOptions","mimeType"],s);const a=c(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","compressionQuality"],a);const u=c(t,["enhanceInputImage"]);e!==void 0&&u!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],u);const f=c(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=c(t,["labels"]);e!==void 0&&p!=null&&d(e,["labels"],p);const h=c(t,["numberOfImages"]);e!==void 0&&h!=null&&d(e,["parameters","sampleCount"],h);const m=c(t,["mode"]);return e!==void 0&&m!=null&&d(e,["parameters","mode"],m),n}function OA(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ce(t,r));const i=c(e,["image"]);i!=null&&d(n,["instances[0]","image"],gn(i));const o=c(e,["upscaleFactor"]);o!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=c(e,["config"]);return l!=null&&HA(l,n),n}function GA(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>va(o))),d(e,["generatedImages"],i)}return e}function $A(t){const e={},n=c(t,["uri"]);n!=null&&d(e,["uri"],n);const r=c(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],br(r));const i=c(t,["encoding"]);return i!=null&&d(e,["mimeType"],i),e}function JA(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],br(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function WA(t){const e={},n=c(t,["image"]);n!=null&&d(e,["_self"],gn(n));const r=c(t,["maskMode"]);return r!=null&&d(e,["maskMode"],r),e}function YA(t){const e={},n=c(t,["image"]);n!=null&&d(e,["image"],xa(n));const r=c(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function KA(t){const e={},n=c(t,["image"]);n!=null&&d(e,["image"],gn(n));const r=c(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function Sy(t){const e={},n=c(t,["uri"]);n!=null&&d(e,["uri"],n);const r=c(t,["videoBytes"]);r!=null&&d(e,["encodedVideo"],br(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["encoding"],i),e}function Ty(t){const e={},n=c(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const r=c(t,["videoBytes"]);r!=null&&d(e,["bytesBase64Encoded"],br(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XA="Content-Type",QA="X-Server-Timeout",ZA="User-Agent",G0="x-goog-api-client",jA="1.30.0",eI=`google-genai-sdk/${jA}`,tI="v1beta1",nI="v1beta",$m=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class rI{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:tI,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:nI,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,s]of Object.entries(e.queryParams))i.searchParams.append(l,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&iI(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Jm(i),new B0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Jm(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return bi(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:s,value:a}=yield De(i.read());if(s){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(a,{stream:!0});try{const p=JSON.parse(u);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,T=h.code,C=`got status: ${m}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new ga({message:C,status:T})}}catch(p){if(p.name==="ApiError")throw p}l+=u;let f=l.match($m);for(;f;){const p=f[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield De(new B0(h)),l=l.slice(f[0].length),f=l.match($m)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=eI+" "+this.clientOptions.userAgentExtra;return e[ZA]=n,e[G0]=n,e[XA]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(QA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const a={file:i},u=this.getFileName(e),f=Q("upload/v1beta/files",a._url),p=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,u,a,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),s=String(l.size),a=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};r!=null&&r.customMetadata&&(p.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,s,a,f,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,l){var s;let a={};l?a=l:a={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Jm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ga({message:i,status:n}):new Error(i)}}function iI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const s=Object.assign({},o);for(const a in l)if(Object.prototype.hasOwnProperty.call(l,a)){const u=l[a],f=s[a];u&&typeof u=="object"&&!Array.isArray(u)&&f&&typeof f=="object"&&!Array.isArray(f)?s[a]=r(f,u):(f&&u&&typeof f!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${a}". Original type: ${typeof f}, New type: ${typeof u}. Overwriting.`),s[a]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oI="mcp_used/unknown";let lI=!1;function Cy(t){for(const e of t)if(sI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return lI}function Ey(t){var e;const n=(e=t[G0])!==null&&e!==void 0?e:"";t[G0]=(n+` ${oI}`).trimStart()}function sI(t){return t!==null&&typeof t=="object"&&t instanceof bd}function aI(t,e=100){return bi(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield De(t.listTools({cursor:r}));for(const l of o.tools)yield yield De(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class bd{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new bd(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const f of this.mcpClients)try{for(var s=!0,a=(n=void 0,Do(aI(f))),u;u=await a.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const p=i;l.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=f}}catch(p){n={error:p}}finally{try{!s&&!e&&(r=a.return)&&await r.call(a)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),eC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uI(t,e,n){const r=new JT;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class cI{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=pI(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),a=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const f=new Promise(x=>{u=x}),p=e.callbacks,h=function(){u({})},m=this.apiClient,T={onopen:h,onmessage:x=>{uI(m,p.onmessage,x)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(x){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(x){}},C=this.webSocketFactory.create(a,fI(l),T);C.connect(),await f;const w={setup:{model:Ce(this.apiClient,e.model)}};return C.send(JSON.stringify(w)),new dI(C,this.apiClient)}}class dI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=QE(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=XE(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(xi.PLAY)}pause(){this.sendPlaybackControl(xi.PAUSE)}stop(){this.sendPlaybackControl(xi.STOP)}resetContext(){this.sendPlaybackControl(xi.RESET_CONTEXT)}close(){this.conn.close()}}function fI(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function pI(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mI(t,e,n){const r=new $T;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=ek(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class gI{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new cI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&Cy(e.config.tools)&&Ey(p);const h=wI(p);if(this.apiClient.isVertexAI())f=`${a}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const F=this.apiClient.getApiKey();let q="BidiGenerateContent",O="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",O="access_token"),f=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.${q}?${O}=${F}`}let m=()=>{};const T=new Promise(F=>{m=F}),C=e.callbacks,_=function(){var F;(F=C==null?void 0:C.onopen)===null||F===void 0||F.call(C),m({})},v=this.apiClient,w={onopen:_,onmessage:F=>{mI(v,C.onmessage,F)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(F){}},x=this.webSocketFactory.create(f,xI(h),w);x.connect(),await T;let k=Ce(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const F=this.apiClient.getProject(),q=this.apiClient.getLocation();k=`projects/${F}/locations/${q}/`+k}let D={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Us.AUDIO]}:e.config.responseModalities=[Us.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(s=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[],L=[];for(const F of M)if(this.isCallableTool(F)){const q=F;L.push(await q.tool())}else L.push(F);L.length>0&&(e.config.tools=L);const U={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=KE(this.apiClient,U):D=YE(this.apiClient,U),delete D.config,x.send(JSON.stringify(D)),new vI(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yI={turnComplete:!0};class vI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=jt(n.turns),e.isVertexAI()||(r=r.map(i=>ya(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(hI)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},yI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:jE(e)}:n={realtimeInput:ZE(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function xI(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function wI(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wm=10;function Ym(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ni(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ni(t){return"callTool"in t&&typeof t.callTool=="function"}function SI(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ni(i)))!==null&&r!==void 0?r:!1}function Km(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ni(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Xm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TI extends Zn{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,s;const a=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!SI(n)||Ym(n.config))return await this.generateContentInternal(a);const u=Km(n);if(u.length>0){const C=u.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let f,p;const h=jt(a.contents),m=(o=(i=(r=a.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Wm;let T=0;for(;T<m&&(f=await this.generateContentInternal(a),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,_=[];for(const v of(s=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[])if(Ni(v)){const x=await v.callTool(f.functionCalls);_.push(...x)}T++,p={role:"user",parts:_},a.contents=jt(a.contents),a.contents.push(C),a.contents.push(p),Xm(a.config)&&(h.push(C),h.push(p))}return Xm(a.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var r,i,o,l,s;if(this.maybeMoveToResponseJsonSchem(n),Ym(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const a=Km(n);if(a.length>0){const p=a.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,f=(s=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const a of r.generatedImages)a&&(a!=null&&a.safetyAttributes)&&((i=a==null?void 0:a.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=a==null?void 0:a.safetyAttributes:l.push(a);let s;return o?s={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new jr(Kn.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,s,a;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((a=(s=n.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async a=>Ni(a)?await a.tool():a)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(s.config.tools=l,e.config&&e.config.tools&&Cy(e.config.tools)){const a=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},a);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Ey(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ni(l)){const s=l,a=await s.tool();for(const u of(i=a.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Wm;let l=!1,s=0;const a=await this.initAfcToolsMap(e);return function(u,f,p){var h,m;return bi(this,arguments,function*(){for(var T,C,_,v;s<o;){l&&(s++,l=!1);const D=yield De(u.processParamsMaybeAddMcpUsage(p)),M=yield De(u.generateContentStreamInternal(D)),L=[],U=[];try{for(var w=!0,x=(C=void 0,Do(M)),k;k=yield De(x.next()),T=k.done,!T;w=!0){v=k.value,w=!1;const F=v;if(yield yield De(F),F.candidates&&(!((h=F.candidates[0])===null||h===void 0)&&h.content)){U.push(F.candidates[0].content);for(const q of(m=F.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(s<o&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(q.functionCall.name)){const O=yield De(f.get(q.functionCall.name).callTool([q.functionCall]));L.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(F){C={error:F}}finally{try{!w&&!T&&(_=x.return)&&(yield De(_.call(x)))}finally{if(C)throw C.error}}if(L.length>0){l=!0;const F=new po;F.candidates=[{content:{role:"user",parts:L}}],yield yield De(F);const q=[];q.push(...U),q.push({role:"user",parts:L});const O=jt(p.contents).concat(q);p.contents=O}else break}})}(this,a,e)}async generateContentInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Hm(this.apiClient,e);return s=Q("{model}:generateContent",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Gm(f),h=new po;return Object.assign(h,p),h})}else{const u=Vm(this.apiClient,e);return s=Q("{model}:generateContent",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Om(f),h=new po;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Hm(this.apiClient,e);return s=Q("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return bi(this,arguments,function*(){var h,m,T,C;try{for(var _=!0,v=Do(p),w;w=yield De(v.next()),h=w.done,!h;_=!0){C=w.value,_=!1;const x=C,k=Gm(yield De(x.json()));k.sdkHttpResponse={headers:x.headers};const D=new po;Object.assign(D,k),yield yield De(D)}}catch(x){m={error:x}}finally{try{!_&&!h&&(T=v.return)&&(yield De(T.call(v)))}finally{if(m)throw m.error}}})})}else{const u=Vm(this.apiClient,e);return s=Q("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return bi(this,arguments,function*(){var h,m,T,C;try{for(var _=!0,v=Do(p),w;w=yield De(v.next()),h=w.done,!h;_=!0){C=w.value,_=!1;const x=C,k=Om(yield De(x.json()));k.sdkHttpResponse={headers:x.headers};const D=new po;Object.assign(D,k),yield yield De(D)}}catch(x){m={error:x}}finally{try{!_&&!h&&(T=v.return)&&(yield De(T.call(v)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=bk(this.apiClient,e);return s=Q("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Pk(f),h=new km;return Object.assign(h,p),h})}else{const u=_k(this.apiClient,e);return s=Q("{model}:batchEmbedContents",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Nk(f),h=new km;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Ok(this.apiClient,e);return s=Q("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=$k(f),h=new Am;return Object.assign(h,p),h})}else{const u=Hk(this.apiClient,e);return s=Q("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Gk(f),h=new Am;return Object.assign(h,p),h})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=kk(this.apiClient,e);return o=Q("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const u=Ak(a),f=new DT;return Object.assign(f,u),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=OA(this.apiClient,e);return o=Q("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const u=GA(a),f=new LT;return Object.assign(f,u),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=EA(this.apiClient,e);return o=Q("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=kA(a),f=new zT;return Object.assign(f,u),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=NA(this.apiClient,e);return o=Q("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=PA(a),f=new FT;return Object.assign(f,u),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=aA(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>O0(f))}else{const u=sA(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>H0(f))}}async listInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=yA(this.apiClient,e);return s=Q("{models_url}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=xA(f),h=new Im;return Object.assign(h,p),h})}else{const u=gA(this.apiClient,e);return s=Q("{models_url}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=vA(f),h=new Im;return Object.assign(h,p),h})}}async update(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=VA(this.apiClient,e);return s=Q("{model}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>O0(f))}else{const u=qA(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>H0(f))}}async delete(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Sk(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Ck(f),h=new Mm;return Object.assign(h,p),h})}else{const u=wk(this.apiClient,e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Tk(f),h=new Mm;return Object.assign(h,p),h})}}async countTokens(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=yk(this.apiClient,e);return s=Q("{model}:countTokens",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=xk(f),h=new _m;return Object.assign(h,p),h})}else{const u=gk(this.apiClient,e);return s=Q("{model}:countTokens",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=vk(f),h=new _m;return Object.assign(h,p),h})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=uk(this.apiClient,e);return o=Q("{model}:computeTokens",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const u=ck(a),f=new UT;return Object.assign(f,u),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=Qk(this.apiClient,e);return s=Q("{model}:predictLongRunning",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>{const p=Kk(f),h=new Bs;return Object.assign(h,p),h})}else{const u=Xk(this.apiClient,e);return s=Q("{model}:predictLongRunning",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const p=Yk(f),h=new Bs;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CI extends Zn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=MT(e);return s=Q("{operationName}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l}else{const u=IT(e);return s=Q("{operationName}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=wT(e);return o=Q("{resourceName}:fetchPredictOperation",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EI(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function kI(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>DI(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function AI(t,e,n){const r={},i=c(e,["expireTime"]);n!==void 0&&i!=null&&d(n,["expireTime"],i);const o=c(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&d(n,["newSessionExpireTime"],o);const l=c(e,["uses"]);n!==void 0&&l!=null&&d(n,["uses"],l);const s=c(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&d(n,["bidiGenerateContentSetup"],RI(t,s));const a=c(e,["lockAdditionalFields"]);return n!==void 0&&a!=null&&d(n,["fieldMask"],a),r}function II(t,e){const n={},r=c(e,["config"]);return r!=null&&d(n,["config"],AI(t,r,n)),n}function MI(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function _I(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bI(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function NI(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function PI(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const l=c(t,["topP"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","topP"],l);const s=c(t,["topK"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topK"],s);const a=c(t,["maxOutputTokens"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","maxOutputTokens"],a);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","mediaResolution"],u);const f=c(t,["seed"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","seed"],f);const p=c(t,["speechConfig"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","speechConfig"],_d(p));const h=c(t,["thinkingConfig"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","thinkingConfig"],h);const m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],m);const T=c(t,["systemInstruction"]);e!==void 0&&T!=null&&d(e,["setup","systemInstruction"],kI(ft(T)));const C=c(t,["tools"]);if(e!==void 0&&C!=null){let M=Yi(C);Array.isArray(M)&&(M=M.map(L=>zI(Wi(L)))),d(e,["setup","tools"],M)}const _=c(t,["sessionResumption"]);e!==void 0&&_!=null&&d(e,["setup","sessionResumption"],LI(_));const v=c(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&d(e,["setup","inputAudioTranscription"],v);const w=c(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","outputAudioTranscription"],w);const x=c(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&d(e,["setup","realtimeInputConfig"],x);const k=c(t,["contextWindowCompression"]);e!==void 0&&k!=null&&d(e,["setup","contextWindowCompression"],k);const D=c(t,["proactivity"]);return e!==void 0&&D!=null&&d(e,["setup","proactivity"],D),n}function RI(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["setup","model"],Ce(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],PI(i,n)),n}function DI(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],MI(o));const l=c(t,["functionCall"]);l!=null&&d(e,["functionCall"],_I(l));const s=c(t,["functionResponse"]);s!=null&&d(e,["functionResponse"],s);const a=c(t,["inlineData"]);a!=null&&d(e,["inlineData"],EI(a));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const f=c(t,["thought"]);f!=null&&d(e,["thought"],f);const p=c(t,["thoughtSignature"]);p!=null&&d(e,["thoughtSignature"],p);const h=c(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function LI(t){const e={},n=c(t,["handle"]);if(n!=null&&d(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zI(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const l=c(t,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(t,["googleMaps"]);s!=null&&d(e,["googleMaps"],bI(s));const a=c(t,["googleSearch"]);a!=null&&d(e,["googleSearch"],NI(a));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function UI(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=FI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>l.includes(u)?`generationConfig.${u}`:u));const a=[];o&&a.push(o),s.length>0&&a.push(...s),a.length>0?t.fieldMask=a.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class BI extends Zn{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=II(this.apiClient,e);o=Q("auth_tokens",s._url),l=s._query,delete s.config,delete s._url,delete s._query;const a=UI(s,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qI(t,e){const n={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["displayName"],r),n}function VI(t){const e={},n=c(t,["config"]);return n!=null&&qI(n,e),e}function HI(t,e){const n={},r=c(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function OI(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&HI(r,e),e}function GI(t){const e={},n=c(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function $I(t,e){const n={},r=c(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["customMetadata"],o)}const i=c(t,["chunkingConfig"]);return e!==void 0&&i!=null&&d(e,["chunkingConfig"],i),n}function JI(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const l=c(t,["response"]);return l!=null&&d(e,["response"],YI(l)),e}function WI(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=c(t,["fileName"]);r!=null&&d(e,["fileName"],r);const i=c(t,["config"]);return i!=null&&$I(i,e),e}function YI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["parent"]);r!=null&&d(e,["parent"],r);const i=c(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function KI(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function XI(t){const e={},n=c(t,["config"]);return n!=null&&KI(n,e),e}function QI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["fileSearchStores"],o)}return e}function ZI(t,e){const n={},r=c(t,["mimeType"]);e!==void 0&&r!=null&&d(e,["mimeType"],r);const i=c(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=c(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),d(e,["customMetadata"],s)}const l=c(t,["chunkingConfig"]);return e!==void 0&&l!=null&&d(e,["chunkingConfig"],l),n}function jI(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=c(t,["config"]);return r!=null&&ZI(r,e),e}function eM(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tM(t,e){const n={},r=c(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function nM(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&tM(r,e),e}function rM(t){const e={},n=c(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function iM(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function oM(t){const e={},n=c(t,["parent"]);n!=null&&d(e,["_url","parent"],n);const r=c(t,["config"]);return r!=null&&iM(r,e),e}function lM(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),d(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sM extends Zn{constructor(e){super(),this.apiClient=e,this.list=async n=>new jr(Kn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=rM(e);return o=Q("{name}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=nM(e);i=Q("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=oM(e);return o=Q("{parent}/documents",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=lM(a),f=new BT;return Object.assign(f,u),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aM extends Zn{constructor(e,n=new sM(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new jr(Kn.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=VI(e);return o=Q("fileSearchStores",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=GI(e);return o=Q("{name}",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=OI(e);i=Q("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=XI(e);return o=Q("fileSearchStores",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=QI(a),f=new qT;return Object.assign(f,u),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jI(e);return o=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=eM(a),f=new VT;return Object.assign(f,u),f})}}async importFile(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=WI(e);return o=Q("{file_search_store_name}:importFile",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const u=JI(a),f=new Ed;return Object.assign(f,u),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uM(t,e){const n={},r=c(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function cM(t,e){const n={},r=c(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function dM(t,e,n){const r={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=c(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&d(e,["displayName"],i),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=c(t,["epochCount"]);e!==void 0&&o!=null&&d(e,["tuningTask","hyperparameters","epochCount"],o);const l=c(t,["learningRateMultiplier"]);if(l!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=c(t,["batchSize"]);e!==void 0&&s!=null&&d(e,["tuningTask","hyperparameters","batchSize"],s);const a=c(t,["learningRate"]);if(e!==void 0&&a!=null&&d(e,["tuningTask","hyperparameters","learningRate"],a),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function fM(t,e,n){const r={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=c(t,["validationDataset"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec"],Qm(m))}else if(i==="PREFERENCE_TUNING"){const m=c(t,["validationDataset"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec"],Qm(m))}const o=c(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&d(e,["tunedModelDisplayName"],o);const l=c(t,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);let s=c(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=c(t,["epochCount"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=c(t,["epochCount"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const m=c(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(a==="PREFERENCE_TUNING"){const m=c(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=c(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=c(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=c(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=c(t,["adapterSize"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){const m=c(t,["adapterSize"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=c(t,["labels"]);e!==void 0&&p!=null&&d(e,["labels"],p);const h=c(t,["beta"]);return e!==void 0&&h!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function pM(t,e){const n={},r=c(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=c(t,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const o=c(t,["trainingDataset"]);o!=null&&EM(o);const l=c(t,["config"]);return l!=null&&dM(l,n),n}function hM(t,e){const n={},r=c(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=c(t,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const o=c(t,["trainingDataset"]);o!=null&&kM(o,n,e);const l=c(t,["config"]);return l!=null&&fM(l,n,e),n}function mM(t,e){const n={},r=c(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function gM(t,e){const n={},r=c(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function yM(t,e,n){const r={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const l=c(t,["filter"]);return e!==void 0&&l!=null&&d(e,["_query","filter"],l),r}function vM(t,e,n){const r={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const l=c(t,["filter"]);return e!==void 0&&l!=null&&d(e,["_query","filter"],l),r}function xM(t,e){const n={},r=c(t,["config"]);return r!=null&&yM(r,n),n}function wM(t,e){const n={},r=c(t,["config"]);return r!=null&&vM(r,n),n}function SM(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=c(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>ky(s))),d(n,["tuningJobs"],l)}return n}function TM(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=c(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>$0(s))),d(n,["tuningJobs"],l)}return n}function CM(t,e){const n={},r=c(t,["name"]);r!=null&&d(n,["model"],r);const i=c(t,["name"]);return i!=null&&d(n,["endpoint"],i),n}function EM(t,e){const n={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=c(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(n,["examples","examples"],i)}return n}function kM(t,e,n){const r={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=c(t,["gcsUri"]);e!==void 0&&l!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=c(t,["gcsUri"]);e!==void 0&&l!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=c(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=c(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=c(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function ky(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["name"]);i!=null&&d(n,["name"],i);const o=c(t,["state"]);o!=null&&d(n,["state"],ly(o));const l=c(t,["createTime"]);l!=null&&d(n,["createTime"],l);const s=c(t,["tuningTask","startTime"]);s!=null&&d(n,["startTime"],s);const a=c(t,["tuningTask","completeTime"]);a!=null&&d(n,["endTime"],a);const u=c(t,["updateTime"]);u!=null&&d(n,["updateTime"],u);const f=c(t,["description"]);f!=null&&d(n,["description"],f);const p=c(t,["baseModel"]);p!=null&&d(n,["baseModel"],p);const h=c(t,["_self"]);return h!=null&&d(n,["tunedModel"],CM(h)),n}function $0(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["name"]);i!=null&&d(n,["name"],i);const o=c(t,["state"]);o!=null&&d(n,["state"],ly(o));const l=c(t,["createTime"]);l!=null&&d(n,["createTime"],l);const s=c(t,["startTime"]);s!=null&&d(n,["startTime"],s);const a=c(t,["endTime"]);a!=null&&d(n,["endTime"],a);const u=c(t,["updateTime"]);u!=null&&d(n,["updateTime"],u);const f=c(t,["error"]);f!=null&&d(n,["error"],f);const p=c(t,["description"]);p!=null&&d(n,["description"],p);const h=c(t,["baseModel"]);h!=null&&d(n,["baseModel"],h);const m=c(t,["tunedModel"]);m!=null&&d(n,["tunedModel"],m);const T=c(t,["preTunedModel"]);T!=null&&d(n,["preTunedModel"],T);const C=c(t,["supervisedTuningSpec"]);C!=null&&d(n,["supervisedTuningSpec"],C);const _=c(t,["preferenceOptimizationSpec"]);_!=null&&d(n,["preferenceOptimizationSpec"],_);const v=c(t,["tuningDataStats"]);v!=null&&d(n,["tuningDataStats"],v);const w=c(t,["encryptionSpec"]);w!=null&&d(n,["encryptionSpec"],w);const x=c(t,["partnerModelTuningSpec"]);x!=null&&d(n,["partnerModelTuningSpec"],x);const k=c(t,["customBaseModel"]);k!=null&&d(n,["customBaseModel"],k);const D=c(t,["experiment"]);D!=null&&d(n,["experiment"],D);const M=c(t,["labels"]);M!=null&&d(n,["labels"],M);const L=c(t,["outputUri"]);L!=null&&d(n,["outputUri"],L);const U=c(t,["pipelineJob"]);U!=null&&d(n,["pipelineJob"],U);const F=c(t,["serviceAccount"]);F!=null&&d(n,["serviceAccount"],F);const q=c(t,["tunedModelDisplayName"]);q!=null&&d(n,["tunedModelDisplayName"],q);const O=c(t,["veoTuningSpec"]);return O!=null&&d(n,["veoTuningSpec"],O),n}function AM(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["name"]);i!=null&&d(n,["name"],i);const o=c(t,["metadata"]);o!=null&&d(n,["metadata"],o);const l=c(t,["done"]);l!=null&&d(n,["done"],l);const s=c(t,["error"]);return s!=null&&d(n,["error"],s),n}function Qm(t,e){const n={},r=c(t,["gcsUri"]);r!=null&&d(n,["validationDatasetUri"],r);const i=c(t,["vertexDatasetResource"]);return i!=null&&d(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IM extends Zn{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new jr(Kn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:U0.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=gM(e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>$0(f))}else{const u=mM(e);return s=Q("{name}",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>ky(f))}}async listInternal(e){var n,r,i,o;let l,s="",a={};if(this.apiClient.isVertexAI()){const u=wM(e);return s=Q("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=TM(f),h=new bm;return Object.assign(h,p),h})}else{const u=xM(e);return s=Q("tunedModels",u._url),a=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=SM(f),h=new bm;return Object.assign(h,p),h})}}async cancel(e){var n,r,i,o;let l="",s={};if(this.apiClient.isVertexAI()){const a=cM(e);l=Q("{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const a=uM(e);l=Q("{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=hM(e,e);return o=Q("tuningJobs",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>$0(a))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=pM(e);return o=Q("tunedModels",s._url),l=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>AM(a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _M=1024*1024*8,bM=3,NM=1e3,PM=2,Vs="x-goog-upload-status";async function RM(t,e,n){var r;const i=await Ay(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function DM(t,e,n){var r;const i=await Ay(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=ey(o),s=new kd;return Object.assign(s,l),s}async function Ay(t,e,n){var r,i;let o=0,l=0,s=new B0(new Response),a="upload";for(o=t.size;l<o;){const u=Math.min(_M,o-l),f=t.slice(l,l+u);l+u>=o&&(a+=", finalize");let p=0,h=NM;for(;p<bM&&(s=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Vs]));)p++,await zM(h),h=h*PM;if(l+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Vs])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function LM(t){return{size:t.size,type:t.type}}function zM(t){return new Promise(e=>setTimeout(e,t))}class FM{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RM(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DM(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UM{create(e,n,r){return new BM(e,n,r)}}class BM{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zm="x-goog-api-key";class qM{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Zm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Zm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VM="gl-node/";class Nd{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=vT(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new qM(this.apiKey);this.apiClient=new rI({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:VM+"web",uploader:new FM,downloader:new MM}),this.models=new TI(this.apiClient),this.live=new gI(this.apiClient,i,new UM),this.batches=new WC(this.apiClient),this.chats=new ME(this.models,this.apiClient),this.caches=new kE(this.apiClient),this.files=new UE(this.apiClient),this.operations=new CI(this.apiClient),this.authTokens=new BI(this.apiClient),this.tunings=new IM(this.apiClient),this.fileSearchStores=new aM(this.apiClient)}}const HM=async(t,e,n,r,i,o=[],l=!1,s)=>{const a=new Nd({apiKey:void 0}),u=20,f=3;let p=n.model;console.log(`[Onyx Debug] Generating with Full Context. History Len: ${t.length}. Search: ${l}`);const h=[];(t.length>u?t.slice(-u):t).forEach((v,w,x)=>{if(v.error||v.isLoading)return;const k=[],M=x.length-1-w<f;v.images&&v.images.length>0&&(M?v.images.forEach(L=>{try{if(L.includes(",")){const U=L.split(",")[1],F=L.split(";")[0].split(":")[1];k.push({inlineData:{mimeType:F,data:U}})}}catch(U){console.error("[Onyx Debug] History image error",U)}}):k.push({text:"[Image History: Attachment removed to save bandwidth]"})),v.text&&v.text.trim()!==""&&k.push({text:v.text}),k.length>0&&h.push({role:v.role===Ft.USER?"user":"model",parts:k})});const T=[];if(o.length>0&&o.forEach(v=>{try{const w=v.split(",")[1],x=v.split(";")[0].split(":")[1];T.push({inlineData:{mimeType:x,data:w}})}catch(w){console.error("[Onyx Debug] Current image error",w)}}),e&&e.trim()!==""&&T.push({text:e}),T.length>0)h.push({role:"user",parts:T});else if(h.length===0)return"";let C=n.systemInstruction;r&&r.trim().length>0&&(C+=`

=== GLOBAL USER CONTEXT (LONG TERM MEMORY) ===
${r}`),i&&i.trim().length>0&&t.length>u&&(C+=`

=== PREVIOUS CONVERSATION SUMMARY ===
${i}

(Note: The conversation history provided is truncated to the last ${u} turns. Use this summary to understand earlier context.)`);const _={systemInstruction:C,temperature:n.temperature,topP:n.topP,topK:n.topK};n.thinkingBudget&&n.thinkingBudget>0&&(_.thinkingConfig={thinkingBudget:n.thinkingBudget}),(n.allowSearch||l)&&(_.tools=[{googleSearch:{}}]);try{const v=await a.models.generateContentStream({model:p,contents:h,config:_});let w="";for await(const x of v){const k=x.text;k&&(w+=k,s(w))}return w}catch(v){throw console.error("Gemini API Error:",v),v.message&&console.error("Error Details:",v.message),v}},OM=async t=>{if(!t||t.length<2)return{summary:"",facts:[]};const e=new Nd({apiKey:void 0}),r=`
    Analyze this chat transcript.
    1. Write a concise paragraph summarizing the conversation flow.
    2. Extract specific key facts about the user.
    3. Extract any EXPLICIT instructions (e.g., "Call me X", "Always use Python").
    
    Output JSON:
    { "summary": "string", "facts": ["string"], "newInstructions": ["string"] }
    
    Transcript:
    ${t.slice(-40).map(i=>`${i.role.toUpperCase()}: ${i.text}`).join(`
`)}
    `;try{const o=(await e.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}})).text;if(!o)return{summary:"",facts:[]};const l=JSON.parse(o);return{summary:l.summary||"",facts:l.facts||[],newInstructions:l.newInstructions||[]}}catch(i){return console.error("Auto-summary failed",i),{summary:"",facts:[]}}},GM=async(t,e)=>{const n=new Nd({apiKey:void 0}),r=t.flatMap(l=>l.keyFacts||[]).join(`
- `),i=t.map(l=>l.summary).filter(l=>l).join(`
- `),o=`
    Manage the "Long Term Memory" of an AI assistant.
    Current Memory: ${e}
    New Info:
    Summaries: ${i}
    Facts: ${r}

    Task: Merge New Info into Current Memory. Create a single, organized User Profile.
    `;try{return(await n.models.generateContent({model:"gemini-2.5-flash",contents:o})).text||e}catch{return e}},$M=()=>{var _,v,w;const[t,e]=xe.useState(()=>{const x=localStorage.getItem("onyx_app_state");if(x)try{const k=JSON.parse(x);return(!k.personas||k.personas.length===0)&&(k.personas=Ro),k.defaultPersonaId||(k.defaultPersonaId=k.personas[0].id),k.globalMemory===void 0&&(k.globalMemory=""),k.useMemoryForNewChats===void 0&&(k.useMemoryForNewChats=!0),k.autoUpdateMemory===void 0&&(k.autoUpdateMemory=!1),{currentSessionId:k.currentSessionId||null,sessions:k.sessions||[],personas:k.personas,defaultPersonaId:k.defaultPersonaId,globalMemory:k.globalMemory,useMemoryForNewChats:k.useMemoryForNewChats,autoUpdateMemory:k.autoUpdateMemory,isSidebarOpen:window.innerWidth>1024,isSettingsOpen:!1}}catch(k){console.error("State parse error",k)}return{currentSessionId:null,sessions:[],personas:Ro,defaultPersonaId:Ro[0].id,globalMemory:"",useMemoryForNewChats:!0,autoUpdateMemory:!1,isSidebarOpen:window.innerWidth>1024,isSettingsOpen:!1}}),[n,r]=xe.useState(!1),[i,o]=xe.useState(!1);xe.useEffect(()=>{try{localStorage.setItem("onyx_app_state",JSON.stringify({...t,isSidebarOpen:t.isSidebarOpen,isSettingsOpen:!1}))}catch{console.warn("Storage quota exceeded! Attempting to save without images to preserve text history...");try{const k=t.sessions.map(M=>({...M,messages:M.messages.map(L=>({...L,images:[]}))})),D={...t,sessions:k,isSidebarOpen:t.isSidebarOpen,isSettingsOpen:!1};localStorage.setItem("onyx_app_state",JSON.stringify(D)),console.log("Safely saved state (images stripped due to quota).")}catch(k){console.error("Critical Storage Error: Could not save even sanitized state.",k)}}},[t]);const l=xe.useCallback(()=>t.sessions.find(x=>x.id===t.currentSessionId),[t.sessions,t.currentSessionId]),s=xe.useCallback(()=>{const x=l();return x?t.personas.find(k=>k.id===x.personaId)||t.personas[0]:t.personas.find(k=>k.id===t.defaultPersonaId)||t.personas[0]},[l,t.personas,t.defaultPersonaId]),a=()=>{const x={id:uo(),title:"New Chat",personaId:t.defaultPersonaId,lastModified:Date.now(),messages:[],memoryContext:t.useMemoryForNewChats?t.globalMemory:void 0};e(k=>({...k,sessions:[x,...k.sessions],currentSessionId:x.id,isSidebarOpen:window.innerWidth>=1024}))},u=(x,k)=>{e(D=>({...D,sessions:D.sessions.map(M=>M.id===x?k(M):M)}))},f=async()=>{o(!0);try{const x=await GM(t.sessions,t.globalMemory);e(k=>({...k,globalMemory:x}))}catch(x){console.error(x)}finally{o(!1)}},p=async(x,k,D,M,L)=>{const U={id:uo(),role:Ft.USER,text:k,timestamp:Date.now(),images:D};u(x,F=>({...F,messages:[...F.messages,U],lastModified:Date.now()})),r(!0);try{const F=s(),q=L,O=q.length+1,H=O>0&&O%5===0,ne=uo();u(x,$=>({...$,messages:[...$.messages,{id:ne,role:Ft.MODEL,text:"",timestamp:Date.now(),isLoading:!0}]}));const se=t.sessions.find($=>$.id===x),ie=se==null?void 0:se.memoryContext,fe=se==null?void 0:se.summary,ve=await HM(q,k,F,ie,fe,D,M,$=>{u(x,te=>({...te,messages:te.messages.map(A=>A.id===ne?{...A,text:$,isLoading:!0}:A)}))});if(u(x,$=>({...$,messages:$.messages.map(te=>te.id===ne?{...te,isLoading:!1}:te)})),H){const $={id:ne,role:Ft.MODEL,text:ve,timestamp:Date.now()},te=[...L,U,$];OM(te).then(A=>{if(u(x,ue=>({...ue,summary:A.summary,keyFacts:A.facts})),t.autoUpdateMemory&&A.newInstructions&&A.newInstructions.length>0){const ue=new Date().toLocaleDateString(),ce=A.newInstructions.map(P=>`[${ue}] ${P}`).join(`
`);e(P=>({...P,globalMemory:P.globalMemory?`${P.globalMemory}
${ce}`:ce})),console.log("[Onyx Memory] Auto-learned new instructions:",A.newInstructions)}})}}catch(F){console.error(F),u(x,q=>({...q,messages:[...q.messages,{id:uo(),role:Ft.MODEL,text:"Error: Could not generate response. Please check console for details.",timestamp:Date.now(),error:!0}]}))}finally{r(!1)}},h=async(x,k,D)=>{let M=t.currentSessionId,L=[];if(M){const U=t.sessions.find(F=>F.id===M);U&&(U.messages.length===0&&u(M,F=>({...F,title:x.slice(0,30)+(x.length>30?"...":"")})),L=U.messages)}else{const U={id:uo(),title:x.slice(0,30)+(x.length>30?"...":""),personaId:s().id,lastModified:Date.now(),messages:[],memoryContext:t.useMemoryForNewChats?t.globalMemory:void 0};M=U.id,e(F=>({...F,sessions:[U,...F.sessions],currentSessionId:M})),L=[]}setTimeout(()=>{M&&p(M,x,k,D,L)},0)},m=x=>{t.currentSessionId&&u(t.currentSessionId,k=>({...k,messages:k.messages.filter(D=>D.id!==x)}))},T=x=>{if(!t.currentSessionId)return;const k=l();if(!k)return;const D=k.messages.findIndex(U=>U.id===x);if(D===-1)return;const M=k.messages[D];if(M.role!==Ft.USER)return;const L=k.messages.slice(0,D);u(t.currentSessionId,U=>({...U,messages:L})),p(t.currentSessionId,M.text,M.images||[],!1,L)},C=x=>{t.currentSessionId?u(t.currentSessionId,k=>({...k,personaId:x.id})):e(k=>({...k,defaultPersonaId:x.id}))};return I.jsxs("div",{className:"flex h-screen bg-black text-white overflow-hidden",children:[I.jsx(Fv,{isOpen:t.isSidebarOpen,onClose:()=>e(x=>({...x,isSidebarOpen:!1})),sessions:t.sessions,currentSessionId:t.currentSessionId,onSelectSession:x=>e(k=>({...k,currentSessionId:x})),onNewSession:a,onDeleteSession:(x,k)=>{k.stopPropagation(),e(D=>({...D,sessions:D.sessions.filter(M=>M.id!==x),currentSessionId:D.currentSessionId===x?null:D.currentSessionId}))},onOpenSettings:()=>e(x=>({...x,isSettingsOpen:!0})),personas:t.personas,useMemoryForNewChats:t.useMemoryForNewChats,onToggleMemoryUsage:()=>e(x=>({...x,useMemoryForNewChats:!x.useMemoryForNewChats}))}),I.jsxs("div",{className:"flex-1 flex flex-col relative w-full h-full",children:[I.jsxs("div",{className:"lg:hidden h-16 border-b border-onyx-border flex items-center px-3 justify-between bg-onyx-surface/80 backdrop-blur-md z-10 gap-2",children:[I.jsx("button",{onClick:()=>e(x=>({...x,isSidebarOpen:!0})),className:"shrink-0 p-2 rounded-lg hover:bg-onyx-surfaceLight transition-colors text-onyx-textMuted hover:text-white",children:I.jsx(me,{name:"Menu"})}),I.jsx("div",{className:"flex-1 min-w-0 text-center mx-1",children:I.jsx("span",{className:"font-bold truncate block text-sm",children:((_=l())==null?void 0:_.title)||"Onyx Chat"})}),I.jsx("div",{className:"shrink-0",children:I.jsx(Ih,{currentPersona:s(),personas:t.personas,onSelect:C})})]}),I.jsxs("div",{className:"hidden lg:flex absolute top-4 right-8 z-10 items-center gap-3",children:[((v=l())==null?void 0:v.memoryContext)&&I.jsxs("div",{className:"flex items-center gap-1.5 bg-pink-500/10 border border-pink-500/30 px-3 py-1.5 rounded-full text-[10px] font-bold text-pink-500 backdrop-blur",children:[I.jsx(me,{name:"Brain",size:12}),I.jsx("span",{children:"MEMORY ACTIVE"})]}),I.jsx(Ih,{currentPersona:s(),personas:t.personas,onSelect:C})]}),I.jsx(cT,{messages:((w=l())==null?void 0:w.messages)||[],isStreaming:n,onDeleteMessage:m,onRetryMessage:T}),I.jsx(dT,{onSend:h,isLoading:n})]}),I.jsx(hT,{isOpen:t.isSettingsOpen,onClose:()=>e(x=>({...x,isSettingsOpen:!1})),personas:t.personas,activePersonaId:s().id,defaultPersonaId:t.defaultPersonaId,onSelectPersona:C,onSetDefaultPersona:x=>e(k=>({...k,defaultPersonaId:x})),onSavePersona:x=>{e(k=>{const M=k.personas.find(L=>L.id===x.id)?k.personas.map(L=>L.id===x.id?x:L):[...k.personas,x];return{...k,personas:M}})},onDeletePersona:x=>{e(k=>({...k,personas:k.personas.filter(D=>D.id!==x)}))},globalMemory:t.globalMemory,onUpdateGlobalMemory:f,isUpdatingMemory:i,onSaveManualMemory:x=>e(k=>({...k,globalMemory:x})),autoUpdateMemory:t.autoUpdateMemory,onToggleAutoUpdateMemory:()=>e(x=>({...x,autoUpdateMemory:!x.autoUpdateMemory}))})]})},Iy=document.getElementById("root");if(!Iy)throw new Error("Could not find root element to mount to");const JM=Cu.createRoot(Iy);JM.render(I.jsx(u1.StrictMode,{children:I.jsx($M,{})}));
